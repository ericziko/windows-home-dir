(function(Wi,St){typeof exports=="object"&&typeof module=="object"?module.exports=St():typeof define=="function"&&define.amd?define([],St):typeof exports=="object"?exports.agGrid=St():Wi.agGrid=St()})(self,function(){return function(){var _r={5372:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.advancedFilterCSS=void 0,h.advancedFilterCSS='.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}:where(.ag-ltr) .ag-advanced-filter-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:where(:not(:disabled)){cursor:pointer;&:hover{background-color:var(--ag-row-hover-color)}}}:where(.ag-ltr) .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-advanced-filter-builder-apply-button,:where(.ag-ltr) .ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-advanced-filter-builder-apply-button,:where(.ag-rtl) .ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}:where(.ag-ltr) .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}:where(.ag-rtl) .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}:where(.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper) .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}:where(.ag-ltr) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}:where(.ag-rtl) .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative}:where(.ag-advanced-filter-builder-pill){.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-advanced-filter-builder-pill){.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;:where(.ag-advanced-filter-builder-pill-display){display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);:where(.ag-advanced-filter-builder-item-button){opacity:1}}}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}:where(.ag-advanced-filter-builder-validation) .ag-advanced-filter-builder-invalid,:where(.ag-advanced-filter-builder-virtual-list-item-highlight) .ag-advanced-filter-builder-item-button:focus-visible{opacity:1}'},6138:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.hideAdvancedFilterBuilder=h.showAdvancedFilterBuilder=h.setAdvancedFilterModel=h.getAdvancedFilterModel=void 0;function S(f){return f.filterManager?.getAdvFilterModel()??null}h.getAdvancedFilterModel=S;function g(f,c){f.filterManager?.setAdvFilterModel(c)}h.setAdvancedFilterModel=g;function M(f){f.filterManager?.toggleAdvFilterBuilder(!0,"api")}h.showAdvancedFilterBuilder=M;function P(f){f.filterManager?.toggleAdvFilterBuilder(!1,"api")}h.hideAdvancedFilterBuilder=P},2583:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterComp=void 0;let g=S(6624),M=S(2611),P={tag:"div",cls:"ag-advanced-filter",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"ag-autocomplete",ref:"eAutocomplete"},{tag:"button",ref:"eApplyFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-apply-button"},{tag:"button",ref:"eBuilderFilterButton",cls:"ag-button ag-advanced-filter-builder-button",children:[{tag:"span",ref:"eBuilderFilterButtonIcon",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eBuilderFilterButtonLabel",cls:"ag-advanced-filter-builder-button-label"}]}]};class f extends g.Component{wireBeans(r){this.advFilterExpSvc=r.advFilterExpSvc,this.advancedFilter=r.advancedFilter,this.filterManager=r.filterManager,this.registry=r.registry}constructor(){super(P,[M.AgAutocompleteSelector]),this.eAutocomplete=g.RefPlaceholder,this.eApplyFilterButton=g.RefPlaceholder,this.eBuilderFilterButton=g.RefPlaceholder,this.eBuilderFilterButtonIcon=g.RefPlaceholder,this.eBuilderFilterButtonLabel=g.RefPlaceholder,this.expressionParser=null,this.isApplyDisabled=!0,this.builderOpen=!1}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipShowDelayOverride:()=>1e3,getLocation:()=>"advancedFilter"})),this.eAutocomplete.setListGenerator((r,i)=>this.generateAutocompleteListParams(i)).setValidator(()=>this.validateValue()).setForceLastSelection((r,i)=>this.forceLastSelection(r,i)).setInputAriaLabel(this.advFilterExpSvc.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advFilterExpSvc.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListeners(this.eAutocomplete,{eventValueChanged:({value:r})=>this.onValueChanged(r),eventValueConfirmed:({isValid:r})=>this.onValueConfirmed(r),eventOptionSelected:({position:r,updateEntry:i,autocompleteType:o})=>this.onOptionSelected(r,i,o),eventValidChanged:({isValid:r,validationMessage:i})=>this.onValidChanged(r,i)}),this.setupApplyButton(),this.setupBuilderButton()}refresh(){let r=this.advancedFilter.getExpressionDisplayValue();this.eAutocomplete.setValue({value:r??"",position:r?.length,updateListOnlyIfOpen:!0})}setInputDisabled(r){this.eAutocomplete.setInputDisabled(r),(0,g._setDisabled)(this.eApplyFilterButton,r||this.isApplyDisabled)}setupApplyButton(){this.eApplyFilterButton.innerText=this.advFilterExpSvc.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>this.onValueConfirmed(this.eAutocomplete.isValid())}),(0,g._setDisabled)(this.eApplyFilterButton,this.isApplyDisabled)}setupBuilderButton(){this.eBuilderFilterButtonIcon.appendChild((0,g._createIconNoSpan)("advancedFilterBuilder",this.beans)),this.eBuilderFilterButtonLabel.innerText=this.advFilterExpSvc.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedElementListeners(this.eBuilderFilterButton,{click:()=>this.openBuilder()}),this.addManagedListeners(this.advancedFilter.getCtrl(),{advancedFilterBuilderClosed:()=>this.closeBuilder()})}onValueChanged(r){r=(0,g._makeNull)(r),this.advancedFilter.setExpressionDisplayValue(r),this.expressionParser=this.advancedFilter.createExpressionParser(r);let i=this.expressionParser?.parseExpression();i&&i!==r&&this.eAutocomplete.setValue({value:i,silent:!0,restoreFocus:!0})}onValueConfirmed(r){!r||this.isApplyDisabled||((0,g._setDisabled)(this.eApplyFilterButton,!0),this.advancedFilter.applyExpression(),this.filterManager?.onFilterChanged({source:"advancedFilter"}))}onOptionSelected(r,i,o){let{updatedValue:a,updatedPosition:l,hideAutocomplete:d}=this.updateExpression(r,i,o);this.eAutocomplete.setValue({value:a,position:l,updateListOnlyIfOpen:d,restoreFocus:!0})}validateValue(){return this.expressionParser?.isValid()?null:this.expressionParser?.getValidationMessage()??null}onValidChanged(r,i){this.isApplyDisabled=!r||this.advancedFilter.isCurrentExpressionApplied(),(0,g._setDisabled)(this.eApplyFilterButton,this.isApplyDisabled),this.tooltipFeature?.setTooltipAndRefresh(i)}generateAutocompleteListParams(r){return this.expressionParser?this.expressionParser.getAutocompleteListParams(r):this.advFilterExpSvc.getDefaultAutocompleteListParams("")}updateExpression(r,i,o){return this.advFilterExpSvc.updateAutocompleteCache(i,o),this.expressionParser?.updateExpression(r,i,o)??this.advancedFilter.getDefaultExpression(i)}forceLastSelection({key:r,displayValue:i},o){return!!o.toLocaleLowerCase().match(`^${(i??r).toLocaleLowerCase()}\\s*$`)}openBuilder(){this.builderOpen||(this.builderOpen=!0,(0,g._setDisabled)(this.eBuilderFilterButton,!0),this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui",eventSource:this.eBuilderFilterButton}))}closeBuilder(){this.builderOpen&&(this.builderOpen=!1,(0,g._setDisabled)(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())}}h.AdvancedFilterComp=f},5865:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterCtrl=void 0;let g=S(6624),M=S(8775),P=S(2583),f=S(4858),c=S(8986);class r extends g.BeanStub{wireBeans(o){this.ctrlsSvc=o.ctrlsSvc,this.popupSvc=o.popupSvc,this.advFilterExpSvc=o.advFilterExpSvc,this.environment=o.environment}constructor(o){super(),this.enabled=o}postConstruct(){this.hasAdvancedFilterParent=!!this.gos.get("advancedFilterParent"),this.ctrlsSvc.whenReady(this,()=>this.setAdvancedFilterComp()),this.addManagedEventListeners({advancedFilterEnabledChanged:({enabled:o})=>this.onEnabledChanged(o)}),this.addManagedPropertyListener("advancedFilterParent",()=>this.updateComps()),this.addDestroyFunc(()=>{this.destroyAdvancedFilterComp(),this.destroyBean(this.eBuilderComp),this.eBuilderDialog&&this.eBuilderDialog.isAlive()&&this.destroyBean(this.eBuilderDialog)})}setupHeaderComp(o){this.eHeaderComp&&(this.eHeaderComp?.getGui().remove(),this.destroyBean(this.eHeaderComp)),this.eHeaderComp=this.createManagedBean(new f.AdvancedFilterHeaderComp(this.enabled&&!this.hasAdvancedFilterParent)),o.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())}focusHeaderComp(){return this.eHeaderComp?(this.eHeaderComp.getFocusableElement().focus(),!0):!1}refreshComp(){this.eFilterComp?.refresh(),this.eHeaderComp?.refresh()}refreshBuilderComp(){this.eBuilderComp?.refresh()}getHeaderHeight(){return this.eHeaderComp?.getHeight()??0}setInputDisabled(o){this.eFilterComp?.setInputDisabled(o),this.eHeaderComp?.setInputDisabled(o)}toggleFilterBuilder(o){let{source:a,force:l,eventSource:d}=o;if(l&&this.eBuilderDialog||l===!1&&!this.eBuilderDialog)return;if(this.eBuilderDialog){this.builderDestroySource=a,this.destroyBean(this.eBuilderDialog);return}this.setInputDisabled(!0);let{width:p,height:C,minWidth:v}=this.getBuilderDialogSize();this.eBuilderComp=this.createBean(new c.AdvancedFilterBuilderComp),this.eBuilderDialog=this.createBean(new M.AgDialog({title:this.advFilterExpSvc.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:p,height:C,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:v,afterGuiAttached:()=>this.eBuilderComp?.afterGuiAttached(),postProcessPopupParams:{type:"advancedFilterBuilder",eventSource:d}})),this.dispatchFilterBuilderVisibleChangedEvent(a,!0),this.eBuilderDialog.addEventListener("destroyed",()=>{this.destroyBean(this.eBuilderComp),this.eBuilderComp=void 0,this.eBuilderDialog=void 0,this.setInputDisabled(!1),this.dispatchLocalEvent({type:"advancedFilterBuilderClosed"}),this.dispatchFilterBuilderVisibleChangedEvent(this.builderDestroySource??"ui",!1),this.builderDestroySource=void 0})}dispatchFilterBuilderVisibleChangedEvent(o,a){this.eventSvc.dispatchEvent({type:"advancedFilterBuilderVisibleChanged",source:o,visible:a})}getBuilderDialogSize(){let o=this.gos.get("advancedFilterBuilderParams")?.minWidth??500,a=this.popupSvc.getPopupParent(),l=Math.round((0,g._getAbsoluteWidth)(a))-2,d=Math.round((0,g._getAbsoluteHeight)(a)*.75)-2,p=Math.min(Math.max(600,o),l),C=Math.min(600,d);return{width:p,height:C,minWidth:o}}onEnabledChanged(o){this.enabled=o,this.updateComps()}updateComps(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}setAdvancedFilterComp(){if(this.destroyAdvancedFilterComp(),!this.enabled)return;let o=this.gos.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!o,o){let a=this.createBean(new P.AdvancedFilterComp),l=a.getGui();this.environment.applyThemeClasses(l),l.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),o.appendChild(l),this.eFilterComp=a}}setHeaderCompEnabled(){this.eHeaderComp?.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)}destroyAdvancedFilterComp(){this.eFilterComp&&((0,g._removeFromParent)(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))}}h.AdvancedFilterCtrl=r},1723:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterExpressionService=void 0;let g=S(6624),M=S(8397),P=S(9023),f=S(9459);class c extends g.BeanStub{constructor(){super(...arguments),this.beanName="advFilterExpSvc",this.columnNameToIdMap={},this.columnAutocompleteEntries=null,this.expressionEvaluatorParams={}}wireBeans(i){this.valueSvc=i.valueSvc,this.colModel=i.colModel,this.colNames=i.colNames,this.dataTypeSvc=i.dataTypeSvc}postConstruct(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()}parseJoinOperator(i){let{type:o}=i;return this.expressionJoinOperators[o]??o}getColumnDisplayValue(i){let{colId:o}=i,l=this.getColumnAutocompleteEntries().find(({key:p})=>p===o),d;return l?(d=l.displayValue,this.columnNameToIdMap[d.toLocaleUpperCase()]={colId:o,columnName:d}):d=o,d}getOperatorDisplayValue(i){return this.getExpressionOperator(i.filterType,i.type)?.displayValue??i.type}getOperandModelValue(i,o,a){switch(o){case"number":return(0,g._exists)(i)?Number(i):null;case"date":return(0,g._serialiseDate)(this.valueSvc.parseValue(a,null,i,void 0),!1);case"dateString":{let l=this.valueSvc.parseValue(a,null,i,void 0);return this.dataTypeSvc?(0,g._serialiseDate)(this.dataTypeSvc.getDateParserFunction(a)(l)??null,!1):l}}return i}getOperandDisplayValue(i,o){let{colId:a,filter:l}=i,d=this.colModel.getColDefCol(a),p="";if(l!=null){let C;switch(i.filterType){case"number":C=(0,g._toStringOrNull)(l)??"";break;case"date":{let v=(0,g._parseDateTimeFromString)(l);C=d?this.valueSvc.formatValue(d,null,v):null;break}case"dateString":{let v;if(this.dataTypeSvc){let b=(0,g._parseDateTimeFromString)(l);v=d?this.dataTypeSvc?.getDateFormatterFunction(d)(b??void 0):null}else v=l;C=d?this.valueSvc.formatValue(d,null,v):null;break}}i.filterType!=="number"&&(C=C??(0,g._toStringOrNull)(l)??"",o||(C=`"${C}"`)),p=o?C:` ${C}`}return p}parseColumnFilterModel(i){let o=this.getColumnDisplayValue(i)??"",a=this.getOperatorDisplayValue(i)??"",l=this.getOperandDisplayValue(i);return`[${o}] ${a}${l}`}updateAutocompleteCache(i,o){if(o==="column"){let{key:a,displayValue:l}=i;this.columnNameToIdMap[i.displayValue.toLocaleUpperCase()]={colId:a,columnName:l}}}translate(i,o){let a=M.ADVANCED_FILTER_LOCALE_TEXT[i];return typeof a=="function"&&(a=a(o)),this.getLocaleTextFunc()(i,a,o)}generateAutocompleteListParams(i,o,a){return{enabled:!0,type:o,searchString:a,entries:i}}getColumnAutocompleteEntries(){if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;let i=this.colModel.getColDefCols()??[],o=[],a=this.gos.get("includeHiddenColumnsInAdvancedFilter");return i.forEach(l=>{l.getColDef().filter&&(a||l.isVisible()||l.isRowGroupActive())&&o.push({key:l.getColId(),displayValue:this.colNames.getDisplayNameForColumn(l,"advancedFilter")})}),o.sort((l,d)=>{let p=l.displayValue??"",C=d.displayValue??"";return p<C?-1:C>p?1:0}),o}getOperatorAutocompleteEntries(i,o){let a=this.getActiveOperators(i);return this.getDataTypeExpressionOperator(o).getEntries(a)}getJoinOperatorAutocompleteEntries(){return Object.entries(this.expressionJoinOperators).map(([i,o])=>({key:i,displayValue:o}))}getDefaultAutocompleteListParams(i){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",i)}getDataTypeExpressionOperator(i){return this.expressionOperators[i]}getExpressionOperator(i,o){return this.getDataTypeExpressionOperator(i)?.operators?.[o]}getExpressionJoinOperators(){return this.expressionJoinOperators}getColId(i){let o=i.toLocaleUpperCase(),a=this.columnNameToIdMap[o];if(a)return a;let d=this.getColumnAutocompleteEntries().find(({displayValue:p})=>p.toLocaleUpperCase()===o);if(d){let{key:p,displayValue:C}=d,v={colId:p,columnName:C};return this.columnNameToIdMap[o]=v,v}return null}getExpressionEvaluatorParams(i){let o=this.expressionEvaluatorParams[i];if(o)return o;let a=this.colModel.getColDefCol(i);if(!a)return{valueConverter:p=>p};switch(this.dataTypeSvc?.getBaseDataType(a)){case"dateString":o={valueConverter:this.dataTypeSvc?.getDateParserFunction(a)??(p=>p)};break;case"object":a.getColDef().filterValueGetter?o={valueConverter:p=>p}:o={valueConverter:(p,C)=>this.valueSvc.formatValue(a,C,p)??(typeof p.toString=="function"?p.toString():"")};break;case"text":case void 0:o={valueConverter:p=>(0,g._toStringOrNull)(p)};break;default:o={valueConverter:p=>p};break}let{filterParams:d}=a.getColDef();return d&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(p=>{let C=d[p];C&&(o[p]=C)}),this.expressionEvaluatorParams[i]=o,o}getColumnDetails(i){let o=this.colModel.getColDefCol(i)??void 0,a=(o?this.dataTypeSvc?.getBaseDataType(o):void 0)??"text";return{column:o,baseCellDataType:a}}generateExpressionOperators(){let i=(o,a)=>this.translate(o,a);return{text:new f.TextFilterExpressionOperators({translate:i}),boolean:new f.BooleanFilterExpressionOperators({translate:i}),object:new f.TextFilterExpressionOperators({translate:i}),number:new f.ScalarFilterExpressionOperators({translate:i,equals:(o,a)=>o===a}),date:new f.ScalarFilterExpressionOperators({translate:i,equals:(o,a)=>o.getTime()===a.getTime()}),dateString:new f.ScalarFilterExpressionOperators({translate:i,equals:(o,a)=>o.getTime()===a.getTime()})}}getColumnValue({displayValue:i}){return`${P.COL_FILTER_EXPRESSION_START_CHAR}${i}${P.COL_FILTER_EXPRESSION_END_CHAR}`}generateExpressionJoinOperators(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}}getActiveOperators(i){let o=i.getColDef().filterParams?.filterOptions;return o&&o.every(l=>typeof l=="string")?o:void 0}resetColumnCaches(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}}}h.AdvancedFilterExpressionService=c},4858:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterHeaderComp=void 0;let g=S(6624),M=S(2583),P={tag:"div",cls:"ag-advanced-filter-header",role:"row"};class f extends g.Component{wireBeans(r){this.colModel=r.colModel,this.focusSvc=r.focusSvc,this.ctrlsSvc=r.ctrlsSvc}constructor(r){super(P),this.enabled=r}postConstruct(){this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(()=>this.destroyBean(this.eAdvancedFilter));let r=()=>{this.enabled&&this.setEnabledHeight()};this.addManagedEventListeners({gridColumnsChanged:()=>this.onGridColumnsChanged(),columnHeaderHeightChanged:r,gridStylesChanged:r}),this.addManagedPropertyListener("headerHeight",r),this.addManagedPropertyListener("floatingFiltersHeight",r),this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addGuiEventListener("focusout",i=>{this.getFocusableElement().contains(i.relatedTarget)||this.focusSvc.clearAdvancedFilterColumn()})}getFocusableElement(){return this.eAdvancedFilter?.getGui()??this.getGui()}setEnabled(r){r!==this.enabled&&this.setupAdvancedFilter(r)}refresh(){this.eAdvancedFilter?.refresh()}getHeight(){return this.height}setInputDisabled(r){this.eAdvancedFilter?.setInputDisabled(r)}setupAdvancedFilter(r){let i=this.getGui();if(r){this.eAdvancedFilter=this.createBean(new M.AdvancedFilterComp);let o=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.setEnabledHeight(),this.setAriaRowIndex(),(0,g._setAriaRole)(o,"gridcell"),(0,g._setAriaColIndex)(o,1),this.setAriaColumnCount(o),i.appendChild(o)}else(0,g._clearElement)(i),this.destroyBean(this.eAdvancedFilter),this.height=0;(0,g._setDisplayed)(i,r),this.enabled=r}setEnabledHeight(){let r=this.getGui();this.height=(0,g._getFloatingFiltersHeight)(this.beans);let i=`${this.height}px`;r.style.height=i,r.style.minHeight=i}setAriaColumnCount(r){(0,g._setAriaColSpan)(r,this.colModel.getCols().length)}setAriaRowIndex(){(0,g._setAriaRowIndex)(this.getGui(),this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)}onGridColumnsChanged(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())}onKeyDown(r){switch(r.key){case g.KeyCode.ENTER:{this.hasFocus()&&(0,g._focusInto)(this.getFocusableElement())&&r.preventDefault();break}case g.KeyCode.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case g.KeyCode.UP:this.navigateUpDown(!0,r);break;case g.KeyCode.DOWN:this.navigateUpDown(!1,r);break;case g.KeyCode.TAB:if(this.hasFocus())this.navigateLeftRight(r);else{let i=(0,g._findNextFocusableElement)(this.beans,this.getFocusableElement(),null,r.shiftKey);i?(r.preventDefault(),i.focus()):this.navigateLeftRight(r)}break}}navigateUpDown(r,i){this.hasFocus()&&this.focusSvc.focusNextFromAdvancedFilter(r)&&i.preventDefault()}navigateLeftRight(r){(r.shiftKey?this.focusSvc.focusLastHeader():this.focusSvc.focusNextFromAdvancedFilter(!1,!0))&&r.preventDefault()}hasFocus(){return(0,g._getActiveDomElement)(this.beans)===this.getFocusableElement()}}h.AdvancedFilterHeaderComp=f},8397:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ADVANCED_FILTER_LOCALE_TEXT=void 0,h.ADVANCED_FILTER_LOCALE_TEXT={ariaAdvancedFilterBuilderItem:S=>`${S[0]}. Level ${S[1]}. Press ENTER to edit`,ariaAdvancedFilterBuilderItemValidation:S=>`${S[0]}. Level ${S[1]}. ${S[2]} Press ENTER to edit`,ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:S=>`Expression has an error. ${S[0]} - ${S[1]}.`,advancedFilterValidationMessageAtEnd:S=>`Expression has an error. ${S[0]} at end of expression.`,advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."}},7976:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(5372),c=S(6138),r=S(1723),i=S(3065);h.AdvancedFilterModule={moduleName:"AdvancedFilter",version:P.VERSION,beans:[i.AdvancedFilterService,r.AdvancedFilterExpressionService],icons:{advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",advancedFilterBuilderSelectOpen:"small-down",richSelectRemove:"cancel"},apiFunctions:{getAdvancedFilterModel:c.getAdvancedFilterModel,setAdvancedFilterModel:c.setAdvancedFilterModel,showAdvancedFilterBuilder:c.showAdvancedFilterBuilder,hideAdvancedFilterBuilder:c.hideAdvancedFilterBuilder},dependsOn:[M.EnterpriseCoreModule,g._FilterCoreModule,g._SharedDragAndDropModule,g._PopupModule,g._FilterValueModule],css:[f.advancedFilterCSS]}},3065:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterService=void 0;let g=S(6624),M=S(5865),P=S(4899);class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="advancedFilter",this.appliedExpression=null,this.expression=null,this.isValid=!0}wireBeans(r){this.valueSvc=r.valueSvc,this.colModel=r.colModel,this.dataTypeSvc=r.dataTypeSvc,this.advFilterExpSvc=r.advFilterExpSvc,this.filterValueSvc=r.filterValueSvc}postConstruct(){this.setEnabled(this.gos.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new M.AdvancedFilterCtrl(this.enabled)),this.expressionProxy={getValue:(r,i)=>{let o=this.colModel.getColDefCol(r);return o?this.filterValueSvc.getValue(o,i):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",r=>this.setEnabled(!!r.currentValue)),this.addManagedEventListeners({newColumnsLoaded:r=>this.onNewColumnsLoaded(r)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",()=>this.updateValidity())}isEnabled(){return this.enabled}isFilterPresent(){return!!this.expressionFunction}doesFilterPass(r){return this.expressionFunction(this.expressionProxy,r,this.expressionParams)}getModel(){let r=this.createExpressionParser(this.appliedExpression);return r?.parseExpression(),r?.getModel()??null}setModel(r){let i=(a,l)=>{if(a.filterType==="join"){let d=this.advFilterExpSvc.parseJoinOperator(a),p=a.conditions.map(C=>i(C)).filter(C=>(0,g._exists)(C)).join(` ${d} `);return l||a.conditions.length<=1?p:`(${p})`}else return this.advFilterExpSvc.parseColumnFilterModel(a)},o=r?i(r,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()}getExpressionDisplayValue(){return this.expression}setExpressionDisplayValue(r){this.expression=r}isCurrentExpressionApplied(){return this.appliedExpression===this.expression}createExpressionParser(r){return r?new P.FilterExpressionParser({expression:r,colModel:this.colModel,dataTypeSvc:this.dataTypeSvc,valueSvc:this.valueSvc,advFilterExpSvc:this.advFilterExpSvc}):null}getDefaultExpression(r){let i=this.advFilterExpSvc.getColumnValue(r)+" ";return{updatedValue:i,updatedPosition:i.length}}isHeaderActive(){return!this.gos.get("advancedFilterParent")}getCtrl(){return this.ctrl}setEnabled(r,i){let o=this.enabled,a=(0,g._isClientSideRowModel)(this.gos)||(0,g._isServerSideRowModel)(this.gos);r&&!a&&(0,g._warn)(123),this.enabled=r&&a,!i&&this.enabled!==o&&this.eventSvc.dispatchEvent({type:"advancedFilterEnabledChanged",enabled:this.enabled})}applyExpression(){let r=this.createExpressionParser(this.expression);r?.parseExpression(),this.applyExpressionFromParser(r)}applyExpressionFromParser(r){if(this.isValid=!r||r.isValid(),!r||!this.isValid){this.expressionFunction=null,this.expressionParams=null,this.appliedExpression=null;return}let{expressionFunction:i,params:o}=this.getFunction(r);this.expressionFunction=i,this.expressionParams=o,this.appliedExpression=this.expression}getFunction(r){if(this.gos.get("suppressAdvancedFilterEval"))return r.getFunctionParsed();{let{functionString:i,params:o}=r.getFunctionString();return{expressionFunction:new Function("expressionProxy","node","params",i),params:o}}}updateValidity(){this.advFilterExpSvc.resetColumnCaches();let r=this.createExpressionParser(this.expression);r?.parseExpression();let o=(!r||r.isValid())!==this.isValid;return this.applyExpressionFromParser(r),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),o}onNewColumnsLoaded(r){if(r.source!=="gridInitializing"||!this.dataTypeSvc?.isPendingInference)return;this.ctrl.setInputDisabled(!0);let[i]=this.addManagedEventListeners({dataTypesInferred:()=>{i?.(),this.ctrl.setInputDisabled(!1)}})}}h.AdvancedFilterService=f},9546:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agAutocompleteCSS=void 0,h.agAutocompleteCSS=".ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}"},2611:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgAutocompleteSelector=h.AgAutocomplete=void 0;let g=S(6624),M=S(9546),P=S(3359),f={tag:"div",cls:"ag-autocomplete",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eAutocompleteInput"}]};class c extends g.Component{wireBeans(i){this.popupSvc=i.popupSvc}constructor(){super(f,[g.AgInputTextFieldSelector]),this.eAutocompleteInput=g.RefPlaceholder,this.isListOpen=!1,this.lastPosition=0,this.valid=!0,this.registerCSS(M.agAutocompleteCSS)}postConstruct(){this.eAutocompleteInput.onValueChange(i=>this.onValueChanged(i)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(i){let o=(0,g._makeNull)(i);this.updateValue(o),this.updateAutocompleteList(o)}updateValue(i){this.updateLastPosition(),this.dispatchLocalEvent({type:"eventValueChanged",value:i}),this.validate(i)}updateAutocompleteList(i){let o=this.listGenerator?.(i,this.lastPosition)??{enabled:!1};(!o.type||o.type!==this.autocompleteListParams?.type)&&this.isListOpen&&this.closeList();let a=this.isListOpen;if(this.autocompleteListParams=o,o?.enabled){a||this.openList();let{searchString:l}=o;this.autocompleteList.setSearch(l??"")}else a&&this.closeList()}onKeyDown(i){let o=i.key;switch(this.updateLastPosition(),o){case g.KeyCode.ENTER:this.onEnterKeyDown(i);break;case g.KeyCode.TAB:this.onTabKeyDown(i);break;case g.KeyCode.DOWN:case g.KeyCode.UP:this.onUpDownKeyDown(i,o);break;case g.KeyCode.LEFT:case g.KeyCode.RIGHT:case g.KeyCode.PAGE_HOME:case g.KeyCode.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case g.KeyCode.ESCAPE:this.onEscapeKeyDown(i);break;case g.KeyCode.SPACE:i.ctrlKey&&!this.isListOpen&&(i.preventDefault(),this.forceOpenList());break}}confirmSelection(){let i=this.autocompleteList?.getSelectedValue();i&&(this.closeList(),this.dispatchLocalEvent({type:"eventOptionSelected",value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(i){this.isListOpen&&(i.preventDefault(),i.stopPropagation(),this.confirmSelection())}onEnterKeyDown(i){i.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(i,o){i.preventDefault(),this.isListOpen?this.autocompleteList?.onNavigationKeyDown(i,o):this.forceOpenList()}onEscapeKeyDown(i){this.isListOpen&&(i.preventDefault(),i.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){this.updateLastPosition(),this.updateAutocompleteList(this.eAutocompleteInput.getValue()??null)}setCaret(i,o){o&&(0,g._isNothingFocused)(this.beans)&&this.eAutocompleteInput.getFocusableElement().focus();let a=this.eAutocompleteInput.getInputElement();a.setSelectionRange(i,i),i===a.value.length&&(a.scrollLeft=a.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){this.lastPosition=this.eAutocompleteInput.getInputElement().selectionStart??0}validate(i){if(!this.validator)return;let o=this.validationMessage=this.validator(i);this.eAutocompleteInput.getInputElement().setCustomValidity(o??""),this.valid=!o,this.dispatchLocalEvent({type:"eventValidChanged",isValid:this.valid,validationMessage:o})}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new P.AgAutocompleteList({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));let i=this.autocompleteList.getGui(),o={ePopup:i,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},a=this.popupSvc.addPopup({eChild:i,anchorToElement:this.getGui(),positionCallback:()=>this.popupSvc.positionPopupByComponent(o),ariaLabel:this.listAriaLabel});this.hidePopup=a.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchLocalEvent({type:"eventValueConfirmed",value:this.getValue(),isValid:this.isValid()})}getValue(){return(0,g._makeNull)(this.eAutocompleteInput.getValue())}setInputPlaceholder(i){return this.eAutocompleteInput.setInputPlaceholder(i),this}setInputAriaLabel(i){return this.eAutocompleteInput.setInputAriaLabel(i),this}setListAriaLabel(i){return this.listAriaLabel=i,this}setListGenerator(i){return this.listGenerator=i,this}setValidator(i){return this.validator=i,this}isValid(){return this.valid}setValue(i){let{value:o,position:a,silent:l,updateListOnlyIfOpen:d,restoreFocus:p}=i;this.eAutocompleteInput.setValue(o,!0),this.setCaret(a??this.lastPosition,p),l||this.updateValue(o),(!d||this.isListOpen)&&this.updateAutocompleteList(o)}setForceLastSelection(i){return this.forceLastSelection=i,this}setInputDisabled(i){return this.eAutocompleteInput.setDisabled(i),this}}h.AgAutocomplete=c,h.AgAutocompleteSelector={selector:"AG-AUTOCOMPLETE",component:c}},3359:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgAutocompleteList=void 0;let g=S(6624),M=S(7904),P=S(9087),f={tag:"div",cls:"ag-autocomplete-list-popup",children:[{tag:"div",ref:"eList",cls:"ag-autocomplete-list"}]};class c extends g.PopupComponent{constructor(i){super(f),this.params=i,this.eList=g.RefPlaceholder,this.searchString=""}postConstruct(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new M.VirtualList({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:o=>this.autocompleteEntries[o]});let i=this.virtualList.getGui();this.addManagedListeners(i,{click:()=>this.params.onConfirmed(),mousemove:this.onMouseMove.bind(this),mousedown:o=>o.preventDefault()}),this.setSelectedValue(0)}onNavigationKeyDown(i,o){i.preventDefault();let a=this.autocompleteEntries.indexOf(this.selectedValue),l=o===g.KeyCode.UP?a-1:a+1;this.checkSetSelectedValue(l)}setSearch(i){this.searchString=i,(0,g._exists)(i)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(i,o){let a,l=!1,d=i.toLocaleLowerCase(),p=o.filter(C=>{let b=C.toLocaleLowerCase().indexOf(d),R=b===0,x=b>=0;return x&&(!a||!l&&R||l===R&&C.length<a.length)&&(a=C,l=R),x});return!a&&p.length&&(a=p[0]),{topMatch:a,allMatches:p}}runSearch(){let{autocompleteEntries:i,useFuzzySearch:o,forceLastSelection:a}=this.params,l=i.map(b=>b.displayValue??b.key),d,p;if(o)d=(0,g._fuzzySuggestions)({inputValue:this.searchString,allSuggestions:l,hideIrrelevant:!0}).values,p=d.length?d[0]:void 0;else{let b=this.runContainsSearch(this.searchString,l);d=b.allMatches,p=b.topMatch}let C=i.filter(({key:b,displayValue:R})=>d.includes(R??b));if(!C.length&&this.selectedValue&&a?.(this.selectedValue,this.searchString)&&(C=[this.selectedValue]),this.autocompleteEntries=C,this.virtualList.refresh(),!p)return;let v=d.indexOf(p);this.checkSetSelectedValue(v)}updateSearchInList(){this.virtualList.forEachRenderedRow(i=>i.setSearchString(this.searchString))}checkSetSelectedValue(i){i>=0&&i<this.autocompleteEntries.length&&this.setSelectedValue(i)}setSelectedValue(i){let o=this.autocompleteEntries[i];this.selectedValue!==o&&(this.selectedValue=o,this.virtualList.ensureIndexVisible(i),this.virtualList.forEachRenderedRow((a,l)=>{a.updateSelected(i===l)}))}createRowComponent(i){let o=new P.AgAutocompleteRow;return this.createBean(o),o.setState(i.displayValue??i.key,i===this.selectedValue),o}onMouseMove(i){let o=this.virtualList,a=o.getGui().getBoundingClientRect(),l=o.getScrollTop(),d=i.clientY-a.top+l,p=Math.floor(d/o.getRowHeight());this.checkSetSelectedValue(p)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){return this.autocompleteEntries.length?this.selectedValue??null:null}}h.AgAutocompleteList=c},9087:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgAutocompleteRow=void 0;let g=S(6624),M={tag:"div",cls:"ag-autocomplete-row",role:"presentation",children:[{tag:"div",cls:"ag-autocomplete-row-label"}]};class P extends g.Component{constructor(){super(M),this.hasHighlighting=!1}setState(c,r){this.value=c,this.render(),this.updateSelected(r)}updateSelected(c){this.addOrRemoveCssClass("ag-autocomplete-row-selected",c)}setSearchString(c){let r=!1;if((0,g._exists)(c)){let i=this.value?.toLocaleLowerCase().indexOf(c.toLocaleLowerCase());if(i>=0){r=!0,this.hasHighlighting=!0;let o=i+c.length,a=(0,g._escapeString)(this.value.slice(0,i)),l=(0,g._escapeString)(this.value.slice(i,o)),d=(0,g._escapeString)(this.value.slice(o));this.getGui().lastElementChild.innerHTML=`${a}<b>${l}</b>${d}`}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){this.getGui().lastElementChild.innerHTML=(0,g._escapeString)(this.value)??"&nbsp;"}}h.AgAutocompleteRow=P},5219:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AddDropdownComp=void 0;let g=S(6624),M=S(2005),P={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]};class f extends M.AgRichSelect{constructor(r){super({...r,template:P,agComponents:[g.AgInputTextFieldSelector]}),this.params=r}showPicker(){setTimeout(()=>super.showPicker())}hidePicker(){setTimeout(()=>super.hidePicker())}postConstruct(){super.postConstruct();let{wrapperClassName:r,ariaLabel:i}=this.params;(0,g._setDisplayed)(this.eDisplayField,!1),r&&this.eWrapper.classList.add(r),(0,g._setAriaLabelledBy)(this.eWrapper,""),(0,g._setAriaLabel)(this.eWrapper,i)}onEnterKeyDown(r){(0,g._stopPropagationForAgGrid)(r),this.isPickerDisplayed?super.onEnterKeyDown(r):(r.preventDefault(),this.showPicker())}}h.AddDropdownComp=f},8986:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterBuilderComp=void 0;let g=S(6624),M=S(7904),P=S(2865),f=S(2172),c=S(9889),r={tag:"div",cls:"ag-advanced-filter-builder",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eList",cls:"ag-advanced-filter-builder-list",role:"presentation"},{tag:"div",cls:"ag-advanced-filter-builder-button-panel",role:"presentation",children:[{tag:"button",ref:"eApplyFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-builder-apply-button"},{tag:"button",ref:"eCancelFilterButton",cls:"ag-button ag-standard-button ag-advanced-filter-builder-cancel-button"}]}]};class i extends g.Component{wireBeans(a){this.filterManager=a.filterManager,this.advancedFilter=a.advancedFilter,this.advFilterExpSvc=a.advFilterExpSvc,this.registry=a.registry}constructor(){super(r),this.eList=g.RefPlaceholder,this.eApplyFilterButton=g.RefPlaceholder,this.eCancelFilterButton=g.RefPlaceholder,this.validationMessage=null}postConstruct(){let{showMoveButtons:a}=this.gos.get("advancedFilterBuilderParams")??{};this.showMove=!!a,this.addManagedPropertyListener("advancedFilterBuilderParams",({currentValue:l})=>{this.showMove=!!l?.showMoveButtons,this.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new P.AdvancedFilterBuilderDragFeature(this,this.virtualList)),this.setupButtons()}refresh(){let a=this.virtualList,l=a.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),l!=null&&(a.getComponentAt(l)||(l=0),a.focusRow(l))}getNumItems(){return this.items.length}moveItem(a,l){!l||!a||this.moveItemToIndex(a,l.rowIndex,l.position)}afterGuiAttached(){this.virtualList.awaitStable(()=>this.virtualList.focusRow(0))}setupVirtualList(){let a=this.virtualList=this.createManagedBean(new M.VirtualList({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderList"),moveItemCallback:this.virtualListMoveItemCallback.bind(this)}));a.setComponentCreator(this.createItemComponent.bind(this)),a.setComponentUpdater(this.updateItemComponent.bind(this)),a.setRowHeight(40),this.eList.appendChild(a.getGui()),a.setModel({getRowCount:()=>this.items?.length||0,getRow:l=>this.items[l],areRowsEqual:(l,d)=>l===d}),this.buildList(),a.refresh()}setupButtons(){this.eApplyFilterButton.innerText=this.advFilterExpSvc.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedElementListeners(this.eApplyFilterButton,{click:()=>{this.advancedFilter.setModel(this.filterModel),this.filterManager?.onFilterChanged({source:"advancedFilter"}),this.close()}}),this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApplyFilterButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.validationMessage,getTooltipShowDelayOverride:()=>1e3})),this.validate();let a=l=>this.addOrRemoveCssClass("ag-advanced-filter-builder-validation",l);this.addManagedListeners(this.eApplyFilterButton,{mouseenter:()=>a(!0),mouseleave:()=>a(!1)}),this.eCancelFilterButton.innerText=this.advFilterExpSvc.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedElementListeners(this.eCancelFilterButton,{click:()=>this.close()})}removeItemFromParent(a){let l=a.parent.conditions.indexOf(a.filterModel);return a.parent.conditions.splice(l,1),l}moveItemToIndex(a,l,d){let p=this.items[l],C=p.filterModel?.filterType==="join"&&d==="bottom",v=C?p.filterModel:p.parent;if(!v||this.isChildOrSelf(v,a.filterModel)||p===a)return;this.removeItemFromParent(a);let b;C?b=0:(b=v.conditions.indexOf(p.filterModel),b===-1?b=v.conditions.length:d==="bottom"&&(b+=1)),v.conditions.splice(b,0,a.filterModel),this.refreshList(!1)}isChildOrSelf(a,l){return a===l||l.filterType==="join"&&l.conditions.some(d=>this.isChildOrSelf(a,d))}setupFilterModel(){let a=this.formatFilterModel(this.advancedFilter.getModel());return this.stringifiedModel=JSON.stringify(a),a}formatFilterModel(a){return a=a??{filterType:"join",type:"AND",conditions:[]},a.filterType!=="join"&&(a={filterType:"join",type:"AND",conditions:[a]}),a}buildList(){let a=(l,d,p,C)=>{d.push({filterModel:l,level:p,parent:C,valid:!0,showMove:this.showMove}),l.filterType==="join"&&(l.conditions.forEach(v=>a(v,d,p+1,l)),p===0&&d.push({filterModel:null,level:p+1,parent:l,valid:!0}))};this.items=[],a(this.filterModel,this.items,0)}refreshList(a){if(!a){let l=[];this.items.forEach(d=>{d.valid||l.push(d.filterModel)}),this.buildList(),l.length&&this.items.forEach(d=>{d.filterModel&&l.includes(d.filterModel)&&(d.valid=!1)})}this.virtualList.refresh(a),this.validate()}updateItemComponent(a,l){let d=this.items.indexOf(a),p=(R,x)=>{let T=this.items.find(D=>D.filterModel===R)?.parent;if(T){let{conditions:D}=T;p(T,x),x.push(D[D.length-1]===R)}},C=[],{filterModel:v}=a;v&&(p(v,C),C[0]=!1);let b=v?.filterType==="join"&&!!v.conditions.length;l.setState({disableMoveUp:d===1,disableMoveDown:!this.canMoveDown(a,d),treeLines:C,showStartTreeLine:b})}createItemComponent(a,l){let d=this.createBean(a.filterModel?new c.AdvancedFilterBuilderItemComp(a,this.dragFeature,l):new f.AdvancedFilterBuilderItemAddComp(a,l));return d.addManagedListeners(d,{advancedFilterBuilderRemoved:({item:p})=>this.removeItem(p),advancedFilterBuilderValueChanged:()=>this.validate(),advancedFilterBuilderAdded:({item:p,isJoin:C})=>this.addItem(p,C),advancedFilterBuilderMoved:({item:p,backwards:C})=>this.moveItemUpDown(p,C)}),d instanceof c.AdvancedFilterBuilderItemComp&&this.updateItemComponent(a,d),d}addItem(a,l){let{parent:d,level:p,filterModel:C}=a,v=C?.filterType==="join",b=l?{filterType:"join",type:"AND",conditions:[]}:{},R=v?C:d,x=v?0:R.conditions.indexOf(C);x>=0?(v||(x+=1),R.conditions.splice(x,0,b)):R.conditions.push(b);let E=this.items.indexOf(a),T=E>=0;if(T){a.filterModel&&E++;let D=[{filterModel:b,level:v?p+1:p,parent:R,valid:l,showMove:this.showMove}];this.items.splice(E,0,...D)}this.refreshList(T),T&&this.virtualList.getComponentAt(E)?.afterAdd()}removeItem(a){let l=a.parent,{filterModel:d}=a,p=l.conditions.indexOf(d);l.conditions.splice(p,1);let C=a.filterModel?.filterType==="join",v=this.items.indexOf(a),b=!C&&v>=0;b&&this.items.splice(v,1),this.refreshList(b),v>=0&&this.virtualList.focusRow(v)}moveItemUpDown(a,l,d){let p=this.items.indexOf(a),C=l?p-1:p+1;if(C===0||!l&&!this.canMoveDown(a,p))return;let v=this.items[C],b=this.removeItemFromParent(a),{level:R,filterModel:x,parent:E}=a,{level:T,filterModel:D,parent:k}=v;if(l)if(T===R&&D.filterType==="join")D.conditions.push(x);else if(T<=R){let V=k.conditions.indexOf(D);k.conditions.splice(V,0,x)}else E.conditions[b-1].conditions.push(x);else if(T===R)if(D.filterType==="join")D.conditions.splice(0,0,x);else{let V=k.conditions.indexOf(D);k.conditions.splice(V+1,0,x)}else if(b<E.conditions.length)E.conditions.splice(b+1,0,x);else{let V=this.items.find(Q=>Q.filterModel===E),j=V.parent.conditions.indexOf(V.filterModel)+1;V.parent.conditions.splice(j,0,x)}this.refreshList(!1);let O=this.items.findIndex(({filterModel:V})=>V===x);if(O<0)return;let N=this.virtualList.getComponentAt(O);N instanceof c.AdvancedFilterBuilderItemComp&&(d||N.focusMoveButton(l))}virtualListMoveItemCallback(a,l){let d=a.item,p=this.items.indexOf(d);p<=0||p===this.items.length-1||l&&p===1||!l&&!this.canMoveDown(d,p)||(this.moveItemUpDown(d,l,!0),this.virtualList.focusRow(p+(l?-1:1)))}canMoveDown(a,l){return!(a.level===1&&l===this.items.length-2||a.level===1&&a.parent.conditions[a.parent.conditions.length-1]===a.filterModel)}close(){this.advancedFilter.getCtrl().toggleFilterBuilder({source:"ui"})}validate(){let a=!this.items.every(({valid:l})=>l);a?this.validationMessage=this.advFilterExpSvc.translate("advancedFilterBuilderValidationIncomplete"):(a=JSON.stringify(this.filterModel)===this.stringifiedModel,a?this.validationMessage=this.advFilterExpSvc.translate("advancedFilterBuilderValidationAlreadyApplied"):this.validationMessage=null),(0,g._setDisabled)(this.eApplyFilterButton,a),this.validationTooltipFeature?.refreshTooltip()}validateItems(){let a=d=>{d.type=void 0},l=d=>{delete d.filter};this.items.forEach(d=>{if(!d.valid||!d.filterModel||d.filterModel.filterType==="join")return;let{filterModel:p}=d,{colId:C}=p,v=this.advFilterExpSvc.getColumnAutocompleteEntries().find(({key:E})=>E===C),b=this.advFilterExpSvc.getColumnDetails(p.colId);if(!v||!b.column){d.valid=!1,p.colId=void 0,a(p),l(p);return}let x=this.advFilterExpSvc.getDataTypeExpressionOperator(b.baseCellDataType).operators[p.type];if(!x){d.valid=!1,a(p),l(p);return}if(x.numOperands>0&&!(0,g._exists)(p.filter)){d.valid=!1;return}})}}h.AdvancedFilterBuilderComp=i},2865:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterBuilderDragFeature=void 0;let g=S(6624),M=S(5760);class P extends g.BeanStub{constructor(c,r){super(),this.comp=c,this.virtualList=r}postConstruct(){this.createManagedBean(new M.VirtualListDragFeature(this.comp,this.virtualList,{dragSourceType:g.DragSourceType.AdvancedFilterBuilder,listItemDragStartEvent:"advancedFilterBuilderDragStarted",listItemDragEndEvent:"advancedFilterBuilderDragEnded",eventSource:this,getCurrentDragValue:c=>this.getCurrentDragValue(c),isMoveBlocked:()=>!1,getNumRows:c=>c.getNumItems(),moveItem:(c,r)=>this.moveItem(c,r)}))}getCurrentDragValue(c){return c.item}moveItem(c,r){this.comp.moveItem(c,r)}}h.AdvancedFilterBuilderDragFeature=P},2172:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterBuilderItemAddComp=void 0;let g=S(6624),M=S(5219),P=S(1748),f=S(6608),c={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",ref:"eItem",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"},children:[{tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"}]}]}]};class r extends g.Component{wireBeans(o){this.advFilterExpSvc=o.advFilterExpSvc,this.registry=o.registry}constructor(o,a){super(c),this.item=o,this.focusWrapper=a,this.eItem=g.RefPlaceholder}postConstruct(){(0,g._setAriaLevel)(this.focusWrapper,2);let o=(0,f.getAdvancedFilterBuilderAddButtonParams)(l=>this.advFilterExpSvc.translate(l),this.gos.get("advancedFilterBuilderParams")?.addSelectWidth),a=this.createManagedBean(new M.AddDropdownComp(o));this.addManagedListeners(a,{fieldPickerValueSelected:({value:l})=>{this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:l.key==="join"})}}),this.eItem.appendChild(a.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>a.getGui(),getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")})),this.createManagedBean(new P.AdvancedFilterBuilderItemNavigationFeature(this.getGui(),this.focusWrapper,a)),(0,g._setAriaLabel)(this.focusWrapper,this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip"),`${this.item.level+1}`]))}afterAdd(){}}h.AdvancedFilterBuilderItemAddComp=r},9889:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterBuilderItemComp=void 0;let g=S(6624),M=S(5219),P=S(1748),f=S(6608),c=S(6106),r=S(4042),i=S(1395),o=S(3036),a={tag:"div",cls:"ag-advanced-filter-builder-item-wrapper",role:"presentation",children:[{tag:"div",cls:"ag-advanced-filter-builder-item",role:"presentation",children:[{tag:"div",ref:"eTreeLines",cls:"ag-advanced-filter-builder-item-tree-lines",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eValidation",cls:"ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"eButtons",cls:"ag-advanced-filter-builder-item-buttons",children:[{tag:"span",ref:"eMoveUpButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"span",ref:"eMoveDownButton",cls:"ag-advanced-filter-builder-item-button",role:"button"},{tag:"div",ref:"eAddButton",role:"presentation"},{tag:"span",ref:"eRemoveButton",cls:"ag-advanced-filter-builder-item-button",role:"button"}]}]};class l extends g.TabGuardComp{wireBeans(p){this.dragAndDrop=p.dragAndDrop,this.advFilterExpSvc=p.advFilterExpSvc,this.registry=p.registry}constructor(p,C,v){super(a),this.item=p,this.dragFeature=C,this.focusWrapper=v,this.eTreeLines=g.RefPlaceholder,this.eDragHandle=g.RefPlaceholder,this.eButtons=g.RefPlaceholder,this.eValidation=g.RefPlaceholder,this.eMoveUpButton=g.RefPlaceholder,this.eMoveDownButton=g.RefPlaceholder,this.eAddButton=g.RefPlaceholder,this.eRemoveButton=g.RefPlaceholder,this.moveUpDisabled=!1,this.moveDownDisabled=!1}postConstruct(){let{filterModel:p,level:C,showMove:v}=this.item,b=p.filterType==="join";if(this.ePillWrapper=this.createManagedBean(b?new i.JoinPillWrapperComp:new c.ConditionPillWrapperComp),this.ePillWrapper.init({item:this.item,createPill:R=>this.createPill(R)}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),C===0){let R=(0,g._createElement)({tag:"div",cls:"ag-advanced-filter-builder-item-tree-line-vertical-bottom ag-advanced-filter-builder-item-tree-line-root"});this.eTreeLines.appendChild(R),(0,g._setDisplayed)(this.eDragHandle,!1),(0,g._setDisplayed)(this.eButtons,!1),(0,g._setAriaExpanded)(this.focusWrapper,!0)}else this.setupTreeLines(C),this.eDragHandle.appendChild((0,g._createIconNoSpan)("advancedFilterBuilderDrag",this.beans)),this.setupValidation(),this.setupMoveButtons(v),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();(0,g._setAriaLevel)(this.focusWrapper,C+1),this.initialiseTabGuard({}),this.createManagedBean(new P.AdvancedFilterBuilderItemNavigationFeature(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListeners(this.ePillWrapper,{advancedFilterBuilderValueChanged:()=>this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}),advancedFilterBuilderValidChanged:()=>this.updateValidity()})}setState(p){let{level:C}=this.item;if(C===0)return;let{showMove:v}=this.item,{disableMoveUp:b,disableMoveDown:R,treeLines:x,showStartTreeLine:E}=p;this.updateTreeLines(x,E),this.updateAriaExpanded(),v&&(this.moveUpDisabled=!!b,this.moveDownDisabled=!!R,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",b),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",R),(0,g._setAriaDisabled)(this.eMoveUpButton,!!b),(0,g._setAriaDisabled)(this.eMoveDownButton,!!R),this.moveUpTooltipFeature?.refreshTooltip(),this.moveDownTooltipFeature?.refreshTooltip())}focusMoveButton(p){(p?this.eMoveUpButton:this.eMoveDownButton).focus()}afterAdd(){this.ePillWrapper.getFocusableElement().focus()}setupTreeLines(p){for(let C=0;C<p;C++)this.eTreeLines.appendChild((0,g._createElement)({tag:"div"}))}updateTreeLines(p,C){let v=p.length-1,{children:b}=this.eTreeLines;for(let x=0;x<v;x++){let E=b.item(x);E&&E.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!p[x])}let R=b.item(v);if(R){R.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");let x=p[v];R.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",x),R.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!x)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",C)}setupValidation(){this.eValidation.appendChild((0,g._createIconNoSpan)("advancedFilterBuilderInvalid",this.beans)),this.validationTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eValidation,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.ePillWrapper.getValidationMessage(),getTooltipShowDelayOverride:()=>1e3})),this.updateValidity()}setupAddButton(){let p=(0,f.getAdvancedFilterBuilderAddButtonParams)(v=>this.advFilterExpSvc.translate(v),this.gos.get("advancedFilterBuilderParams")?.addSelectWidth),C=this.createManagedBean(new M.AddDropdownComp(p));this.addManagedListeners(C,{fieldPickerValueSelected:({value:v})=>this.dispatchLocalEvent({type:"advancedFilterBuilderAdded",item:this.item,isJoin:v.key==="join"})}),this.eAddButton.appendChild(C.getGui()),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eAddButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderAddButtonTooltip")}))}setupRemoveButton(){this.eRemoveButton.appendChild((0,g._createIconNoSpan)("advancedFilterBuilderRemove",this.beans)),this.addManagedListeners(this.eRemoveButton,{click:()=>this.removeItem(),keydown:p=>{switch(p.key){case g.KeyCode.ENTER:p.preventDefault(),(0,g._stopPropagationForAgGrid)(p),this.removeItem();break}}}),this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eRemoveButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")})),(0,g._setAriaLabel)(this.eRemoveButton,this.advFilterExpSvc.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])}setupMoveButtons(p){p?(this.eMoveUpButton.appendChild((0,g._createIconNoSpan)("advancedFilterBuilderMoveUp",this.beans)),this.addManagedListeners(this.eMoveUpButton,{click:()=>this.moveItem(!0),keydown:C=>{switch(C.key){case g.KeyCode.ENTER:C.preventDefault(),(0,g._stopPropagationForAgGrid)(C),this.moveItem(!0);break}}}),this.moveUpTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveUpButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveUpDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")})),(0,g._setAriaLabel)(this.eMoveUpButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild((0,g._createIconNoSpan)("advancedFilterBuilderMoveDown",this.beans)),this.addManagedListeners(this.eMoveDownButton,{click:()=>this.moveItem(!1),keydown:C=>{switch(C.key){case g.KeyCode.ENTER:C.preventDefault(),(0,g._stopPropagationForAgGrid)(C),this.moveItem(!1);break}}}),this.moveDownTooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eMoveDownButton,getLocation:()=>"advancedFilter",getTooltipValue:()=>this.moveDownDisabled?null:this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")})),(0,g._setAriaLabel)(this.eMoveDownButton,this.advFilterExpSvc.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):((0,g._setDisplayed)(this.eMoveUpButton,!1),(0,g._setDisplayed)(this.eMoveDownButton,!1))}updateValidity(){(0,g._setVisible)(this.eValidation,!this.item.valid),this.validationTooltipFeature?.refreshTooltip(),this.updateAriaLabel()}createPill(p){let{key:C,cssClass:v,update:b,ariaLabel:R}=p,x=E=>{E!=null&&(b(E),this.dispatchLocalEvent({type:"advancedFilterBuilderValueChanged"}))};if(p.isSelect){let{getEditorParams:E,pickerAriaLabelKey:T,pickerAriaLabelValue:D,displayValue:k}=p,O=this.gos.get("advancedFilterBuilderParams"),N=`${O?.pillSelectMinWidth??140}px`,V=`${O?.pillSelectMaxWidth??200}px`,j=this.createBean(new o.SelectPillComp({pickerAriaLabelKey:T,pickerAriaLabelValue:D,pickerType:"ag-list",value:{key:C,displayValue:k},valueFormatter:Q=>Q==null?"":Q.displayValue??Q.key,variableWidth:!0,minPickerWidth:N,maxPickerWidth:V,getEditorParams:E,wrapperClassName:v,ariaLabel:R,pickerIcon:"advancedFilterBuilderSelectOpen"}));return this.addManagedListeners(j,{fieldPickerValueSelected:({value:Q})=>x(Q?.key)}),j}else{let{baseCellDataType:E,valueFormatter:T}=p,D=this.createBean(new r.InputPillComp({value:C,valueFormatter:T,cssClass:v,type:this.getInputType(E),ariaLabel:R}));return this.addManagedListeners(D,{fieldValueChanged:({value:k})=>x(k)}),D}}getInputType(p){switch(p){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}}setupDragging(){let p={type:g.DragSourceType.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:()=>this.ePillWrapper.getDragName(),getDefaultIconName:()=>"notAllowed",getDragItem:()=>({}),onDragStarted:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragStarted",item:this.item}),onDragStopped:()=>this.dragFeature.dispatchLocalEvent({type:"advancedFilterBuilderDragEnded"})};this.dragAndDrop.addDragSource(p,!0),this.addDestroyFunc(()=>this.dragAndDrop.removeDragSource(p))}updateAriaLabel(){let p=this.ePillWrapper.getAriaLabel(),C=`${this.item.level+1}`,v=this.ePillWrapper.getValidationMessage(),b;v?b=this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItemValidation",[p,C,v]):b=this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderItem",[p,C]),(0,g._setAriaLabel)(this.focusWrapper,b)}updateAriaExpanded(){(0,g._removeAriaExpanded)(this.focusWrapper);let{filterModel:p}=this.item;p?.filterType==="join"&&p.conditions.length&&(0,g._setAriaExpanded)(this.focusWrapper,!0)}removeItem(){this.dispatchLocalEvent({type:"advancedFilterBuilderRemoved",item:this.item})}moveItem(p){this.dispatchLocalEvent({type:"advancedFilterBuilderMoved",item:this.item,backwards:p})}}h.AdvancedFilterBuilderItemComp=l},1748:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedFilterBuilderItemNavigationFeature=void 0;let g=S(6624);class M extends g.BeanStub{constructor(f,c,r){super(),this.eGui=f,this.focusWrapper=c,this.eFocusableComp=r}postConstruct(){this.addManagedElementListeners(this.eGui,{keydown:c=>{switch(c.key){case g.KeyCode.TAB:c.defaultPrevented||(0,g._stopPropagationForAgGrid)(c);break;case g.KeyCode.UP:case g.KeyCode.DOWN:(0,g._stopPropagationForAgGrid)(c);break;case g.KeyCode.ESCAPE:if((0,g._isStopPropagationForAgGrid)(c))return;this.eGui.contains((0,g._getActiveDomElement)(this.beans))&&(c.preventDefault(),(0,g._stopPropagationForAgGrid)(c),this.focusWrapper.focus());break}}});let f="ag-advanced-filter-builder-virtual-list-item-highlight";this.addManagedListeners(this.focusWrapper,{keydown:c=>{switch(c.key){case g.KeyCode.ENTER:if((0,g._isStopPropagationForAgGrid)(c))return;(0,g._getActiveDomElement)(this.beans)===this.focusWrapper&&(c.preventDefault(),(0,g._stopPropagationForAgGrid)(c),this.eFocusableComp.getFocusableElement().focus());break}},focusin:()=>{this.focusWrapper.classList.add(f)},focusout:c=>{this.focusWrapper.contains(c.relatedTarget)||this.focusWrapper.classList.remove(f)}})}}h.AdvancedFilterBuilderItemNavigationFeature=M},6608:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getAdvancedFilterBuilderAddButtonParams=void 0;function S(g,M){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:g("advancedFilterBuilderAddCondition")},{key:"join",displayValue:g("advancedFilterBuilderAddJoin")}],valueFormatter:P=>P==null?"":P.displayValue??P.key,pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:`${M??120}px`,wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:g("advancedFilterBuilderAddButtonTooltip")}}h.getAdvancedFilterBuilderAddButtonParams=S},6106:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ConditionPillWrapperComp=void 0;let g=S(6624);class M extends g.Component{wireBeans(f){this.advFilterExpSvc=f.advFilterExpSvc}constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"}),this.validationMessage=null}init(f){let{item:c,createPill:r}=f;this.item=c,this.createPill=r,this.filterModel=c.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(()=>this.destroyBeans([this.eColumnPill,this.eOperatorPill,this.eOperandPill]))}getDragName(){return this.filterModel.colId?this.advFilterExpSvc.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()}getAriaLabel(){return`${this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderFilterItem")} ${this.getDragName()}`}getValidationMessage(){return this.validationMessage}getFocusableElement(){return this.eColumnPill.getFocusableElement()}setupColumnCondition(f){let c=this.advFilterExpSvc.getColumnDetails(f.colId);this.baseCellDataType=c.baseCellDataType,this.column=c.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:this.getColumnDisplayValue()??this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getColumnAutocompleteEntries()}),update:r=>this.setColumnKey(r),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),(0,g._exists)(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())}createOperatorPill(){this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:this.getOperatorDisplayValue()??this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:()=>({values:this.getOperatorAutocompleteEntries()}),update:f=>this.setOperatorKey(f),pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())}createOperandPill(){let{filter:f}=this.filterModel,c=(typeof f=="number"?(0,g._toStringOrNull)(f):f)??"";this.eOperandPill=this.createPill({key:c,valueFormatter:r=>this.advFilterExpSvc.getOperandDisplayValue({...this.filterModel,filter:r},!0),baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:r=>this.setOperand(r),ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())}getColumnKey(){return this.filterModel.colId}getColumnDisplayValue(){return this.advFilterExpSvc.getColumnDisplayValue(this.filterModel)}getOperatorKey(){return this.filterModel.type}getOperatorDisplayValue(){return this.advFilterExpSvc.getOperatorDisplayValue(this.filterModel)}getOperandDisplayValue(){return this.advFilterExpSvc.getOperandDisplayValue(this.filterModel,!0)}hasOperand(){return this.numOperands>0}getOperatorAutocompleteEntries(){return this.column?this.advFilterExpSvc.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]}setColumnKey(f){this.eOperatorPill||this.createOperatorPill();let c=this.advFilterExpSvc.getColumnDetails(f);this.column=c.column;let r=c.baseCellDataType;this.baseCellDataType!==r&&(this.baseCellDataType=r,this.setOperatorKey(void 0),this.eOperatorPill&&((0,g._removeFromParent)(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=f,this.filterModel.filterType=this.baseCellDataType}setOperatorKey(f){let c=this.getNumOperands(f);c!==this.numOperands&&(this.numOperands=c,c===0?this.destroyOperandPill():(this.createOperandPill(),this.baseCellDataType!=="number"&&this.setOperand(""))),this.filterModel.type=f,this.validate()}setOperand(f){let c=f;this.baseCellDataType==="number"&&(c=(0,g._exists)(f)?Number(f):""),this.filterModel.filter=c,this.validate()}getNumOperands(f){return this.advFilterExpSvc.getExpressionOperator(this.baseCellDataType,f)?.numOperands??0}destroyOperandPill(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0}validate(){let f=null;(0,g._exists)(this.getColumnKey())?(0,g._exists)(this.getOperatorKey())?this.numOperands>0&&!(0,g._exists)(this.getOperandDisplayValue())&&(f=this.advFilterExpSvc.translate("advancedFilterBuilderValidationEnterValue")):f=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectOption"):f=this.advFilterExpSvc.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!f,f!==this.validationMessage&&(this.validationMessage=f,this.dispatchLocalEvent({type:"advancedFilterBuilderValidChanged"}))}getDefaultColumnDisplayValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectColumn")}getDefaultOptionSelectValue(){return this.advFilterExpSvc.translate("advancedFilterBuilderSelectOption")}}h.ConditionPillWrapperComp=M},4042:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.InputPillComp=void 0;let g=S(6624),M={tag:"div",cls:"ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"ePill",cls:"ag-advanced-filter-builder-pill",role:"button",children:[{tag:"span",ref:"eLabel",cls:"ag-advanced-filter-builder-pill-display"}]}]};class P extends g.Component{wireBeans(c){this.advFilterExpSvc=c.advFilterExpSvc}constructor(c){super(M),this.params=c,this.ePill=g.RefPlaceholder,this.eLabel=g.RefPlaceholder;let{value:r,valueFormatter:i}=c;this.value=r,this.displayValue=i(r)}postConstruct(){let{cssClass:c,ariaLabel:r}=this.params;this.ePill.classList.add(c),this.activateTabIndex([this.ePill]),this.eLabel.id=`${this.getCompId()}`,(0,g._setAriaDescribedBy)(this.ePill,this.eLabel.id),(0,g._setAriaLabel)(this.ePill,r),this.renderValue(),this.addManagedListeners(this.ePill,{click:i=>{i.preventDefault(),this.showEditor()},keydown:i=>{switch(i.key){case g.KeyCode.ENTER:i.preventDefault(),(0,g._stopPropagationForAgGrid)(i),this.showEditor();break}}}),this.addDestroyFunc(()=>this.destroyBean(this.eEditor))}getFocusableElement(){return this.ePill}showEditor(){if(this.eEditor)return;(0,g._setDisplayed)(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);let c=this.eEditor.getGui();this.eEditor.addManagedElementListeners(c,{keydown:r=>{switch(r.key){case g.KeyCode.ENTER:r.preventDefault(),(0,g._stopPropagationForAgGrid)(r),this.updateValue(!0);break;case g.KeyCode.ESCAPE:r.preventDefault(),(0,g._stopPropagationForAgGrid)(r),this.hideEditor(!0);break}},focusout:()=>this.updateValue(!1)}),this.getGui().appendChild(c),this.eEditor.getFocusableElement().focus()}createEditorComp(c){let r;switch(c){case"text":r=new g.AgInputTextField;break;case"number":r=new g.AgInputNumberField;break;case"date":r=new g.AgInputDateField;break}return this.createBean(r)}hideEditor(c){let{eEditor:r}=this;r&&(this.eEditor=void 0,this.getGui().removeChild(r.getGui()),this.destroyBean(r),(0,g._setDisplayed)(this.ePill,!0),c&&this.ePill.focus())}renderValue(){let c,{displayValue:r,eLabel:i}=this,{classList:o}=i;o.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),(0,g._exists)(r)?this.params.type==="number"?(c=r,o.add("ag-advanced-filter-builder-value-number")):(c=`"${r}"`,o.add("ag-advanced-filter-builder-value-text")):(c=this.advFilterExpSvc.translate("advancedFilterBuilderEnterValue"),o.add("ag-advanced-filter-builder-value-empty")),i.innerText=c}updateValue(c){if(!this.eEditor)return;let r=this.eEditor.getValue()??"";this.dispatchLocalEvent({type:"fieldValueChanged",value:r}),this.value=r,this.displayValue=this.params.valueFormatter(r),this.renderValue(),this.hideEditor(c)}}h.InputPillComp=P},1395:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.JoinPillWrapperComp=void 0;let g=S(6624);class M extends g.Component{wireBeans(f){this.advFilterExpSvc=f.advFilterExpSvc}constructor(){super({tag:"div",cls:"ag-advanced-filter-builder-item-condition",role:"presentation"})}init(f){let{item:c,createPill:r}=f,i=c.filterModel;this.filterModel=i,this.ePill=r({key:i.type,displayValue:this.advFilterExpSvc.parseJoinOperator(i),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:()=>({values:this.advFilterExpSvc.getJoinOperatorAutocompleteEntries()}),update:o=>i.type=o,pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(()=>this.destroyBean(this.ePill))}getDragName(){return this.advFilterExpSvc.parseJoinOperator(this.filterModel)}getAriaLabel(){return`${this.advFilterExpSvc.translate("ariaAdvancedFilterBuilderGroupItem")} ${this.getDragName()}`}getValidationMessage(){return null}getFocusableElement(){return this.ePill.getFocusableElement()}}h.JoinPillWrapperComp=M},3036:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SelectPillComp=void 0;let g=S(6624),M=S(2005),P={tag:"div",cls:"ag-picker-field ag-advanced-filter-builder-pill-wrapper",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display ag-advanced-filter-builder-pill-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]};class f extends M.AgRichSelect{constructor(r){super({...r,template:P,agComponents:[g.AgInputTextFieldSelector]}),this.params=r}getFocusableElement(){return this.eWrapper}showPicker(){setTimeout(()=>super.showPicker())}hidePicker(){setTimeout(()=>super.hidePicker())}postConstruct(){super.postConstruct();let{wrapperClassName:r,ariaLabel:i}=this.params;this.eWrapper.classList.add(r),(0,g._setAriaLabelledBy)(this.eWrapper,""),(0,g._setAriaLabel)(this.eWrapper,i)}createPickerComponent(){if(!this.values){let{values:r}=this.params.getEditorParams();this.values=r;let i=this.value.key,o=r.find(a=>a.key===i)??{key:i,displayValue:this.value.displayValue};this.value=o}return super.createPickerComponent()}onEnterKeyDown(r){(0,g._stopPropagationForAgGrid)(r),this.isPickerDisplayed?super.onEnterKeyDown(r):(r.preventDefault(),this.showPicker())}}h.SelectPillComp=f},9023:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColFilterExpressionParser=h.COL_FILTER_EXPRESSION_END_CHAR=h.COL_FILTER_EXPRESSION_START_CHAR=void 0;let g=S(6487);class M{constructor(i,o){this.params=i,this.startPosition=o,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}parse(i,o){if(i===h.COL_FILTER_EXPRESSION_START_CHAR&&!this.colName)this.hasStartChar=!0;else if(i===h.COL_FILTER_EXPRESSION_END_CHAR&&this.hasStartChar){if(this.parseColumn(!1,o))return this.hasEndChar=!0,!1;this.colName+=i}else this.colName+=i}getDisplayValue(){return(this.hasStartChar?h.COL_FILTER_EXPRESSION_START_CHAR:"")+this.colName+(this.hasEndChar?h.COL_FILTER_EXPRESSION_END_CHAR:"")}getColId(){return this.colId}complete(i){this.parseColumn(!0,i)}getValidationError(){return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}}parseColumn(i,o){this.endPosition=o;let a=this.params.advFilterExpSvc.getColId(this.colName);return a&&this.hasStartChar&&(this.colId=a.colId,(0,g.checkAndUpdateExpression)(this.params,this.colName,a.columnName,o-1),this.colName=a.columnName,this.column=this.params.colModel.getColDefCol(this.colId),this.column)?(this.baseCellDataType=this.params.dataTypeSvc?.getBaseDataType(this.column)??"text",!0):(i&&(this.valid=!1),this.baseCellDataType="text",!1)}}class P{constructor(i,o,a){this.params=i,this.startPosition=o,this.baseCellDataType=a,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}parse(i,o){if(i===" "||i===")"){if(this.parseOperator(!1,o-1))return!0;this.operator+=i}else this.operator+=i}complete(i){this.parseOperator(!0,i)}getValidationError(){return this.valid?null:{message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}}getDisplayValue(){return this.operator}getOperatorKey(){return this.parsedOperator}parseOperator(i,o){let a=this.params.advFilterExpSvc.getDataTypeExpressionOperator(this.baseCellDataType),l=a.findOperator(this.operator);if(this.endPosition=o,l){this.parsedOperator=l;let p=a.operators[l];this.expectedNumOperands=p.numOperands;let C=p.displayValue;return(0,g.checkAndUpdateExpression)(this.params,this.operator,C,o),this.operator=C,!0}return(i||!(l===null))&&(this.valid=!1),!1}}class f{constructor(i,o,a,l){this.params=i,this.startPosition=o,this.baseCellDataType=a,this.column=l,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}parse(i,o){if(i===" ")if(this.quotes)this.operand+=i;else return this.parseOperand(!1,o),!0;else if(i===")"){if(this.baseCellDataType==="number"||!this.quotes)return this.parseOperand(!1,o-1),!0;this.operand+=i}else if(!this.operand&&!this.quotes&&(i==="'"||i==='"'))this.quotes=i;else{if(this.quotes&&i===this.quotes)return this.parseOperand(!1,o),!1;this.operand+=i}}complete(i){this.parseOperand(!0,i)}getValidationError(){return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:this.endPosition??this.params.expression.length-1}:null}getRawValue(){return this.operand}getModelValue(){return this.modelValue}parseOperand(i,o){let{advFilterExpSvc:a}=this.params;if(this.endPosition=o,this.modelValue=this.operand,i&&this.quotes)this.valid=!1,this.validationMessage=a.translate("advancedFilterValidationMissingQuote");else if(this.modelValue==="")this.valid=!1,this.validationMessage=a.translate("advancedFilterValidationMissingValue");else{let l=a.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(l!=null&&(this.modelValue=l),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=a.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":l==null&&(this.valid=!1,this.validationMessage=a.translate("advancedFilterValidationInvalidDate"));break}}}}h.COL_FILTER_EXPRESSION_START_CHAR="[",h.COL_FILTER_EXPRESSION_END_CHAR="]";class c{constructor(i,o){this.params=i,this.startPosition=o,this.isAwaiting=!0}parseExpression(){let i=this.startPosition,{expression:o}=this.params;for(;i<o.length;){let a=o[i];if(!(a===" "&&this.isAwaiting)){if(this.isAwaiting=!1,!this.parser){let d;this.columnParser?this.operatorParser?(this.operandParser=new f(this.params,i,this.columnParser.baseCellDataType,this.columnParser.column),d=this.operandParser):(this.operatorParser=new P(this.params,i,this.columnParser.baseCellDataType),d=this.operatorParser):(this.columnParser=new M(this.params,i),d=this.columnParser),this.parser=d}let l=this.parser.parse(a,i);if(l!=null){if(this.isComplete())return this.returnEndPosition(l?i-1:i,!0);this.parser=void 0,this.isAwaiting=!0}}i++}return this.parser?.complete?.(i-1),this.returnEndPosition(i)}isValid(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)}getValidationError(){let i=this.columnParser?.getValidationError()??this.operatorParser?.getValidationError()??this.operandParser?.getValidationError();if(i)return i;let o=this.params.expression.length,a;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(a="advancedFilterValidationMissingValue"):a="advancedFilterValidationMissingOption":a="advancedFilterValidationMissingColumn",a?{message:this.params.advFilterExpSvc.translate(a),startPosition:o,endPosition:o}:null}getFunctionString(i){return this.getFunctionCommon(i,(o,a,l,d)=>{let p=(0,g.escapeQuotes)(l),C=o==null?"":`, params.operands[${o}]`;return`params.operators[${a}].evaluator(expressionProxy.getValue('${p}', node), node, params.evaluatorParams[${d}]${C})`})}getFunctionParsed(i){return this.getFunctionCommon(i,(o,a,l,d)=>(p,C,v)=>v.operators[a].evaluator(p.getValue(l,C),C,v.evaluatorParams[d],o==null?void 0:v.operands[o]))}getAutocompleteListParams(i){if(this.isColumnPosition(i))return this.getColumnAutocompleteListParams(i);if(this.isOperatorPosition(i))return this.getOperatorAutocompleteListParams(i);if(!this.isBeyondEndPosition(i))return{enabled:!1}}updateExpression(i,o,a){let{expression:l}=this.params;if(this.isColumnPosition(i))return(0,g.updateExpression)(this.params.expression,this.startPosition,this.columnParser?.getColId()?this.columnParser.endPosition:(0,g.findEndPosition)(l,i).endPosition,this.params.advFilterExpSvc.getColumnValue(o),!0);if(this.isOperatorPosition(i)){let d=this.getBaseCellDataTypeFromOperatorAutocompleteType(a),p=this.hasOperand(d,o.key),C=p&&this.doesOperandNeedQuotes(d),v;if(this.operatorParser?.startPosition!=null&&i<this.operatorParser.startPosition)v=(0,g.updateExpression)(l,i,i,o.displayValue??o.key,p,C);else{let b,R=!1;if(this.operatorParser?.getOperatorKey())b=this.operatorParser.endPosition;else{let{endPosition:x,isEmpty:E}=(0,g.findEndPosition)(l,i,!0,!0);b=x,R=E}v=(0,g.updateExpression)(l,(0,g.findStartPosition)(l,this.columnParser.endPosition+1,b),b,o.displayValue??o.key,p,C,R)}return{...v,hideAutocomplete:!p}}return null}getModel(){let i=this.columnParser.getColId(),o={filterType:this.columnParser.baseCellDataType,colId:i,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(o.filter=this.operandParser.getModelValue()),o}getFunctionCommon(i,o){let a=this.columnParser.getColId(),l=this.operatorParser?.getOperatorKey(),{operators:d,evaluatorParams:p,operands:C}=i,v=this.params.advFilterExpSvc.getExpressionOperator(this.columnParser.baseCellDataType,l),b=this.addToListAndGetIndex(d,v),R=this.params.advFilterExpSvc.getExpressionEvaluatorParams(a),x=this.addToListAndGetIndex(p,R),E=this.operatorParser?.expectedNumOperands===0?void 0:this.addToListAndGetIndex(C,this.getOperandValue());return o(E,b,a,x)}getOperandValue(){let i=this.operandParser.getRawValue(),{baseCellDataType:o,column:a}=this.columnParser;switch(o){case"number":i=Number(i);break;case"date":case"dateString":i=this.params.valueSvc.parseValue(a,null,i,void 0);break}if(o==="dateString"){let{dataTypeSvc:l}=this.params;return l?l.getDateParserFunction(a)(i):i}return i}isComplete(){return!!(this.operatorParser&&(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))}isColumnPosition(i){return!this.columnParser||this.columnParser.endPosition==null||i<=this.columnParser.endPosition+1}isOperatorPosition(i){return!this.operatorParser||this.operatorParser.endPosition==null||i<=this.operatorParser.endPosition+1}isBeyondEndPosition(i){return this.isComplete()&&this.endPosition!=null&&i>this.endPosition+1&&this.endPosition+1<this.params.expression.length}returnEndPosition(i,o){return this.endPosition=o?i:i-1,i}getColumnAutocompleteListParams(i){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(i))}getColumnSearchString(i){let o=this.columnParser?.getDisplayValue()??"",a=(0,g.getSearchString)(o,i,this.columnParser?.endPosition==null?this.params.expression.length:this.columnParser.endPosition+1),l=this.columnParser?.hasStartChar&&a.length>0,d=this.columnParser?.hasEndChar&&a.length===o.length+2;return l?a.slice(1,d?-1:void 0):a}getOperatorAutocompleteListParams(i){let o=this.columnParser?.column;if(!o)return{enabled:!1};let a=this.columnParser.baseCellDataType,l=this.operatorParser?.startPosition!=null&&i<this.operatorParser.startPosition?"":(0,g.getSearchString)(this.operatorParser?.getDisplayValue()??"",i,this.operatorParser?.endPosition==null?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getOperatorAutocompleteEntries(o,a),`operator-${a}`,l)}getBaseCellDataTypeFromOperatorAutocompleteType(i){return i?.replace("operator-","")}hasOperand(i,o){return!i||!o||(this.params.advFilterExpSvc.getExpressionOperator(i,o)?.numOperands??0)>0}doesOperandNeedQuotes(i){return i!=="number"}addToListAndGetIndex(i,o){let a=i.length;return i.push(o),a}}h.ColFilterExpressionParser=c},9459:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BooleanFilterExpressionOperators=h.ScalarFilterExpressionOperators=h.TextFilterExpressionOperators=h.findMatch=void 0;function S(c,r,i){let o=!1,a=c.toLocaleLowerCase(),l=a+" ",d=Object.keys(r).find(p=>{let C=r[p],v=i(C).toLocaleLowerCase();return v.startsWith(l)&&(o=!0),v===a});return d||(o?null:void 0)}h.findMatch=S;function g(c,r){return(r??Object.keys(c)).map(o=>({key:o,displayValue:c[o].displayValue}))}class M{constructor(r){this.params=r,this.initOperators()}getEntries(r){return g(this.operators,r)}findOperator(r){return S(r,this.operators,({displayValue:i})=>i)}initOperators(){let{translate:r}=this.params;this.operators={contains:{displayValue:r("advancedFilterContains"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!1,(d,p)=>d.includes(p)),numOperands:1},notContains:{displayValue:r("advancedFilterNotContains"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!0,(d,p)=>!d.includes(p)),numOperands:1},equals:{displayValue:r("advancedFilterTextEquals"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!1,(d,p)=>d===p),numOperands:1},notEqual:{displayValue:r("advancedFilterTextNotEqual"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!0,(d,p)=>d!=p),numOperands:1},startsWith:{displayValue:r("advancedFilterStartsWith"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!1,(d,p)=>d.startsWith(p)),numOperands:1},endsWith:{displayValue:r("advancedFilterEndsWith"),evaluator:(i,o,a,l)=>this.evaluateExpression(i,o,a,l,!1,(d,p)=>d.endsWith(p)),numOperands:1},blank:{displayValue:r("advancedFilterBlank"),evaluator:i=>i==null||typeof i=="string"&&i.trim().length===0,numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:i=>i!=null&&(typeof i!="string"||i.trim().length>0),numOperands:0}}}evaluateExpression(r,i,o,a,l,d){return r==null?l:o.caseSensitive?d(o.valueConverter(r,i),a):d(o.valueConverter(r,i).toLocaleLowerCase(),a.toLocaleLowerCase())}}h.TextFilterExpressionOperators=M;class P{constructor(r){this.params=r,this.initOperators()}getEntries(r){return g(this.operators,r)}findOperator(r){return S(r,this.operators,({displayValue:i})=>i)}initOperators(){let{translate:r,equals:i}=this.params;this.operators={equals:{displayValue:r("advancedFilterEquals"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInEquals,i),numOperands:1},notEqual:{displayValue:r("advancedFilterNotEqual"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInEquals,(p,C)=>!i(p,C)),numOperands:1},greaterThan:{displayValue:r("advancedFilterGreaterThan"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInGreaterThan,(p,C)=>p>C),numOperands:1},greaterThanOrEqual:{displayValue:r("advancedFilterGreaterThanOrEqual"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInGreaterThan,(p,C)=>p>=C),numOperands:1},lessThan:{displayValue:r("advancedFilterLessThan"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInLessThan,(p,C)=>p<C),numOperands:1},lessThanOrEqual:{displayValue:r("advancedFilterLessThanOrEqual"),evaluator:(o,a,l,d)=>this.evaluateSingleOperandExpression(o,a,l,d,!!l.includeBlanksInLessThan,(p,C)=>p<=C),numOperands:1},blank:{displayValue:r("advancedFilterBlank"),evaluator:o=>o==null,numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:o=>o!=null,numOperands:0}}}evaluateSingleOperandExpression(r,i,o,a,l,d){return r==null?l:d(o.valueConverter(r,i),a)}}h.ScalarFilterExpressionOperators=P;class f{constructor(r){this.params=r,this.initOperators()}getEntries(r){return g(this.operators,r)}findOperator(r){return S(r,this.operators,({displayValue:i})=>i)}initOperators(){let{translate:r}=this.params;this.operators={true:{displayValue:r("advancedFilterTrue"),evaluator:i=>!!i,numOperands:0},false:{displayValue:r("advancedFilterFalse"),evaluator:i=>i===!1,numOperands:0},blank:{displayValue:r("advancedFilterBlank"),evaluator:i=>i==null,numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:i=>i!=null,numOperands:0}}}}h.BooleanFilterExpressionOperators=f},4899:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FilterExpressionParser=void 0;let g=S(9471);class M{constructor(f){this.params=f,this.valid=!1}parseExpression(){this.joinExpressionParser=new g.JoinFilterExpressionParser(this.params,0);let f=this.joinExpressionParser.parseExpression();return this.valid=f>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression}isValid(){return this.valid}getValidationMessage(){let f=this.joinExpressionParser.getValidationError();if(!f)return null;let{message:c,startPosition:r,endPosition:i}=f;return r<this.params.expression.length?this.params.advFilterExpSvc.translate("advancedFilterValidationMessage",[c,this.params.expression.slice(r,i+1).trim()]):this.params.advFilterExpSvc.translate("advancedFilterValidationMessageAtEnd",[c])}getFunctionString(){let f=this.createFunctionParams();return{functionString:`return ${this.joinExpressionParser.getFunctionString(f)};`,params:f}}getFunctionParsed(){let f=this.createFunctionParams();return{expressionFunction:this.joinExpressionParser.getFunctionParsed(f),params:f}}getAutocompleteListParams(f){return this.joinExpressionParser.getAutocompleteListParams(f)??{enabled:!1}}updateExpression(f,c,r){return this.joinExpressionParser.updateExpression(f,c,r)}getModel(){return this.isValid()?this.joinExpressionParser.getModel():null}createFunctionParams(){return{operands:[],operators:[],evaluatorParams:[]}}}h.FilterExpressionParser=M},6487:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.escapeQuotes=h.checkAndUpdateExpression=h.findEndPosition=h.findStartPosition=h.updateExpression=h.getSearchString=void 0;function S(r,i,o){if(!r)return"";let a=o-i;return a?r.slice(0,r.length-a):r}h.getSearchString=S;function g(r,i,o,a,l,d,p){let C=o+(!r.length||p?0:1),v=0;return l&&(r[C]===" "?v=1:(a+=" ",d&&(a+='"'))),{updatedValue:r.slice(0,i)+a+r.slice(C),updatedPosition:i+a.length+v}}h.updateExpression=g;function M(r,i,o){let a=i;for(;a<o&&r[a]===" ";)a++;return a}h.findStartPosition=M;function P(r,i,o,a){let l=i,d=!1;for(;l<r.length;){let p=r[l];if(p==="("){a&&r[l-1]===" "?d=!0:l=l-1;break}else if(p===" "||o&&p===")"){l=l-1;break}l++}return{endPosition:l,isEmpty:d}}h.findEndPosition=P;function f(r,i,o,a){o!==i&&(r.expression=g(r.expression,a-i.length+1,a,o).updatedValue)}h.checkAndUpdateExpression=f;function c(r){return r.replace(/(['"])/,"\\$1")}h.escapeQuotes=c},9471:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.JoinFilterExpressionParser=void 0;let g=S(9023),M=S(9459),P=S(6487);class f{constructor(i){this.params=i,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}parseExpression(i){this.operators.push(""),this.operatorStartPositions.push(i),this.operatorEndPositions.push(void 0);let{expression:o}=this.params;for(;i<o.length;){let a=o[i];if(a===" "){if(this.parseOperator(i-1))return this.activeOperator++,i-1;this.operators[this.activeOperator]+=a}else this.operators[this.activeOperator]+=a;i++}return this.parseOperator(i-1),i}isValid(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator)}getValidationError(){return this.validationError}getFunction(){return this.parsedOperator==="OR"?"||":"&&"}getModel(){return this.parsedOperator==="OR"?"OR":"AND"}getAutocompleteListParams(i,o){let a;if(o==null)a="";else{let d=this.operators[o],p=this.operatorEndPositions[o];a=(0,P.getSearchString)(d,i,p==null?this.params.expression.length:p+1)}let l=this.params.advFilterExpSvc.getJoinOperatorAutocompleteEntries();return(o||o==null&&this.activeOperator)&&(l=l.filter(({key:d})=>d===this.parsedOperator)),this.params.advFilterExpSvc.generateAutocompleteListParams(l,"join",a)}updateExpression(i,o,a){let{expression:l}=this.params,d=o.displayValue??o.key;if(a===0)for(let v=this.operatorEndPositions.length-1;v>0;v--){let b=this.operatorEndPositions[v];b!=null&&(l=(0,P.updateExpression)(l,this.operatorStartPositions[v],b,d).updatedValue)}let p=this.operatorStartPositions.length>a?this.operatorStartPositions[a]:i,C=(this.operatorEndPositions.length>a?this.operatorEndPositions[a]:void 0)??(0,P.findEndPosition)(l,i,!0).endPosition;return(0,P.updateExpression)(l,p,C,d,!0)}getNumOperators(){return this.operators.length}getLastOperatorEndPosition(){return this.operatorEndPositions[this.operatorEndPositions.length-1]}parseOperator(i){let o=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",a=this.params.advFilterExpSvc.getExpressionJoinOperators(),l=(0,M.findMatch)(o,a,d=>d);if(l){this.operatorEndPositions[this.activeOperator]=i;let d=a[l];if(this.activeOperator){if(l!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:i-o.length+1,endPosition:i}),!1}else this.parsedOperator=l;return o!==d&&((0,P.checkAndUpdateExpression)(this.params,o,d,i),this.operators[this.activeOperator]=d),!0}else return l===null?!1:(this.validationError||(this.validationError={message:this.params.advFilterExpSvc.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:i-o.length+1,endPosition:i}),!0)}}class c{constructor(i,o){this.params=i,this.startPosition=o,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new f(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}parseExpression(){let i=this.startPosition,{expression:o}=this.params;for(;i<o.length;){let a=o[i];if(a==="("&&!this.expectingOperator){let l=new c(this.params,i+1);i=l.parseExpression(),this.expressionParsers.push(l),this.expectingExpression=!1,this.expectingOperator=!0}else{if(a===")")return this.endPosition=i-1,this.startPosition===0&&(this.extraEndBracket=!0),i;if(a!==" ")if(this.expectingExpression){let l=new g.ColFilterExpressionParser(this.params,i);i=l.parseExpression(),this.expressionParsers.push(l),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(i=this.operatorParser.parseExpression(i),this.expectingOperator=!1,this.expectingExpression=!0)}i++}return this.startPosition>0&&(this.missingEndBracket=!0),i}isValid(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(i=>i.isValid())}getValidationError(){let i=this.operatorParser.getValidationError();for(let a=0;a<this.expressionParsers.length;a++){let l=this.expressionParsers[a].getValidationError();if(l)return i&&i.startPosition<l.startPosition?i:l}if(i)return i;if(this.extraEndBracket)return{message:this.params.advFilterExpSvc.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};let o;return this.expressionParsers.length===this.operatorParser.getNumOperators()?o="advancedFilterValidationMissingCondition":this.missingEndBracket&&(o="advancedFilterValidationMissingEndBracket"),o?{message:this.params.advFilterExpSvc.translate(o),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null}getFunctionString(i){let o=this.expressionParsers.length>1,a=this.expressionParsers.map(l=>l.getFunctionString(i)).join(` ${this.operatorParser.getFunction()} `);return o?`(${a})`:a}getFunctionParsed(i){let o=this.operatorParser.getFunction(),a=this.expressionParsers.map(d=>d.getFunctionParsed(i)),l=o==="&&"?"every":"some";return(d,p,C)=>a[l](v=>v(d,p,C))}getAutocompleteListParams(i){if(this.endPosition!=null&&i>this.endPosition+1)return;if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();let o=this.getExpressionParserIndex(i);if(o==null)return this.params.expression[i]==="("?{enabled:!1}:this.getColumnAutocompleteListParams();let l=this.expressionParsers[o].getAutocompleteListParams(i);if(!l){if(o<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(i,o);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){let d=this.operatorParser.getLastOperatorEndPosition();return d==null||i<=d+1?this.operatorParser.getAutocompleteListParams(i,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return this.params.expression[i-1]===")"?{enabled:!1}:this.operatorParser.getAutocompleteListParams(i)}return l}updateExpression(i,o,a){let l=this.params.expression,d=this.getExpressionParserIndex(i);if(d==null){let v=a==="column"?this.params.advFilterExpSvc.getColumnValue(o):o.displayValue??o.key;return(0,P.updateExpression)(l,this.startPosition,this.startPosition,v,!0)}let C=this.expressionParsers[d].updateExpression(i,o,a);return C??(a==="column"?(0,P.updateExpression)(l,i,l.length-1,this.params.advFilterExpSvc.getColumnValue(o),!0):this.endPosition!=null&&i>this.endPosition+1?null:this.operatorParser.updateExpression(i,o,d))}getModel(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(i=>i.getModel())}:this.expressionParsers[0].getModel()}getColumnAutocompleteListParams(){return this.params.advFilterExpSvc.generateAutocompleteListParams(this.params.advFilterExpSvc.getColumnAutocompleteEntries(),"column","")}getExpressionParserIndex(i){let o;for(let a=0;a<this.expressionParsers.length&&!(this.expressionParsers[a].startPosition>i);a++)o=a;return o}}h.JoinFilterExpressionParser=c},9206:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.EnterpriseCoreModule=h.AgWatermark=void 0;let g=S(3159),M=S(7205);var P=S(3879);Object.defineProperty(h,"AgWatermark",{enumerable:!0,get:function(){return P.AgWatermark}}),h.EnterpriseCoreModule={moduleName:"EnterpriseCore",version:M.VERSION,beans:[g.GridLicenseManager],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]}},2529:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AggColumnNameService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(f,c){if(this.gos.get("suppressAggFuncInHeader"))return c;let{valueColsSvc:r,colModel:i,rowGroupColsSvc:o}=this.beans,a=f.getColDef().pivotValueColumn,l=(0,g._exists)(a),d=null,p;if(l){let C=r?.columns??[],v=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&C.length===1,b=f.getColDef().pivotTotalColumnIds!==void 0;if(v&&!b)return c;d=a?a.getAggFunc():null,p=!0}else{let C=f.isValueActive(),v=i.isPivotMode()||o?.columns.length!==0;C&&v?(d=f.getAggFunc(),p=!0):p=!1}if(p){let C=typeof d=="string"?d:"func";return`${this.getLocaleTextFunc()(C,C)}(${c})`}return c}}h.AggColumnNameService=M},5780:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AggFuncService=void 0;let g=S(6624),M={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"};class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){let p=this.aggFuncsMap;p.sum=f,p.first=c,p.last=r,p.min=i,p.max=o,p.count=a,p.avg=l,this.initialised=!0}isAggFuncPossible(p,C){let b=this.getFuncNames(p).includes(C),R=(0,g._exists)(this.aggFuncsMap[C]);return b&&R}getDefaultFuncLabel(p){return M[p]??p}getDefaultAggFunc(p){let C=p.getColDef().defaultAggFunc;if((0,g._exists)(C)&&this.isAggFuncPossible(p,C))return C;if(this.isAggFuncPossible(p,"sum"))return"sum";let v=this.getFuncNames(p);return v?.length?v[0]:null}addAggFuncs(p){if(this.init(),!!p)for(let C of Object.keys(p))this.aggFuncsMap[C]=p[C]}getAggFunc(p){return this.init(),this.aggFuncsMap[p]}getFuncNames(p){let C=p.getColDef().allowedAggFuncs;return C??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}}h.AggFuncService=P;function f(d){let{values:p}=d,C=null;for(let v=0;v<p.length;v++){let b=p[v];typeof b=="number"?C===null?C=b:C+=typeof C=="number"?b:BigInt(b):typeof b=="bigint"&&(C===null?C=b:C=(typeof C=="bigint"?C:BigInt(C))+b)}return C}function c(d){return d.values.length>0?d.values[0]:null}function r(d){return d.values.length>0?(0,g._last)(d.values):null}function i(d){let{values:p}=d,C=null;for(let v=0;v<p.length;v++){let b=p[v];(typeof b=="number"||typeof b=="bigint")&&(C===null||C>b)&&(C=b)}return C}function o(d){let{values:p}=d,C=null;for(let v=0;v<p.length;v++){let b=p[v];(typeof b=="number"||typeof b=="bigint")&&(C===null||C<b)&&(C=b)}return C}function a(d){let{values:p}=d,C=0;for(let b=0;b<p.length;b++){let R=p[b];C+=R!=null&&typeof R.value=="number"?R.value:1}let v=d.rowNode?.aggData?.[d.column.getColId()];return v&&v.value===C?v:{value:C,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function l(d){let{values:p}=d,C=0,v=0;for(let x=0;x<p.length;x++){let E=p[x],T=null;typeof E=="number"||typeof E=="bigint"?(T=E,v++):E!=null&&(typeof E.value=="number"||typeof E.value=="bigint")&&typeof E.count=="number"&&(T=E.value*(typeof E.value=="number"?E.count:BigInt(E.count)),v+=E.count),typeof T=="number"?C+=typeof C=="number"?T:BigInt(T):typeof T=="bigint"&&(C=(typeof C=="bigint"?C:BigInt(C))+T)}let b=null;v>0&&(b=C/(typeof C=="number"?v:BigInt(v)));let R=d.rowNode?.aggData?.[d.column?.getColId()];return R&&R.count===v&&R.value===b?R:{count:v,value:b,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}},7508:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._aggregateValues=void 0;let g=S(6624);function M(P,f,c,r,i,o){let a=typeof c=="string"?P.aggFuncSvc.getAggFunc(c):c;if(typeof a!="function")return(0,g._error)(109,{aggFuncOrString:c}),null;let l=(0,g._addGridCommonParams)(P.gos,{values:f,column:r,colDef:r.colDef,pivotResultColumn:o,rowNode:i,data:i?.data});return a(l)}h._aggregateValues=M},1872:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.setColumnAggFunc=h.clearAggFuncs=h.addAggFuncs=void 0;function S(P,f){P.aggFuncSvc&&P.aggFuncSvc.addAggFuncs(f)}h.addAggFuncs=S;function g(P){P.aggFuncSvc&&P.aggFuncSvc.clear()}h.clearAggFuncs=g;function M(P,f,c){P.valueColsSvc?.setColumnAggFunc?.(f,c,"api")}h.setColumnAggFunc=M},7032:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AggregationModule=h.SharedAggregationModule=void 0;let g=S(9206),M=S(7205),P=S(2529),f=S(5780),c=S(1872),r=S(3438),i=S(6948),o=S(182),a=S(7926);h.SharedAggregationModule={moduleName:"SharedAggregation",version:M.VERSION,beans:[f.AggFuncService,P.AggColumnNameService,o.FooterService,a.ValueColsSvc],apiFunctions:{addAggFuncs:c.addAggFuncs,clearAggFuncs:c.clearAggFuncs,setColumnAggFunc:c.setColumnAggFunc},dependsOn:[g.EnterpriseCoreModule]},h.AggregationModule={moduleName:"Aggregation",version:M.VERSION,beans:[r.AggregationStage,i.FilterAggregatesStage],rowModels:["clientSide"],dependsOn:[h.SharedAggregationModule]}},3438:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AggregationStage=void 0;let g=S(6624),M=S(7508);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(c){this.colModel=c.colModel,this.pivotColsSvc=c.pivotColsSvc,this.valueColsSvc=c.valueColsSvc,this.pivotResultCols=c.pivotResultCols,this.valueSvc=c.valueSvc}execute(c){let r=!this.valueColsSvc?.columns?.length,i=!this.gos.getCallback("getGroupRowAgg");if(r&&i&&c.changedPath?.active)return;let o=this.createAggDetails(c);this.recursivelyCreateAggData(o)}createAggDetails(c){let r=this.colModel.isPivotActive(),i=this.valueColsSvc?.columns,o=r&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!(0,g._getGrandTotalRow)(this.gos),changedPath:c.changedPath,valueColumns:i??[],pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return(0,g._getGroupAggFiltering)(this.gos)!==void 0||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(c){let r=i=>{if(!i.hasChildren()){i.aggData&&this.setAggData(i,null);return}if(i.level===-1&&!c.groupIncludeTotalFooter){let l=!this.colModel.isPivotMode();if(!c.alwaysAggregateAtRootLevel&&l){this.setAggData(i,null);return}}this.aggregateRowNode(i,c)};c.changedPath.forEachChangedNodeDepthFirst(r,!0)}aggregateRowNode(c,r){let i=r.valueColumns.length===0,o=r.pivotColumns.length===0,a;r.userAggFunc?a=r.userAggFunc({nodes:c.childrenAfterFilter}):i?a=null:o?a=this.aggregateRowNodeUsingValuesOnly(c,r):a=this.aggregateRowNodeUsingValuesAndPivot(c),this.setAggData(c,a),c.sibling&&this.setAggData(c.sibling,a)}aggregateRowNodeUsingValuesAndPivot(c){let r={},i=this.pivotResultCols?.getPivotResultCols()?.list??[],o=!0,a=this.beans;for(let l=0;l<i.length;l++){let d=i[l],p=d.getColDef();if(p.pivotTotalColumnIds!=null){o=!1;continue}let C=p.pivotKeys??[],v;c.leafGroup?v=this.getValuesFromMappedSet(c.childrenMapped,C,p.pivotValueColumn):v=this.getValuesPivotNonLeaf(c,p.colId),r[p.colId]=(0,M._aggregateValues)(a,v,p.pivotValueColumn.getAggFunc(),p.pivotValueColumn,c,d)}if(!o)for(let l=0;l<i.length;l++){let d=i[l],p=d.getColDef();if(p.pivotTotalColumnIds==null||!p.pivotTotalColumnIds.length)continue;let C=p.pivotTotalColumnIds.map(v=>r[v]);r[p.colId]=(0,M._aggregateValues)(a,C,p.pivotValueColumn.getAggFunc(),p.pivotValueColumn,c,d)}return r}aggregateRowNodeUsingValuesOnly(c,r){let i={},{changedPath:o,valueColumns:a,filteredOnly:l}=r,d=o.active?o.getValueColumnsForNode(c,a):a,p=o.active?o.getNotValueColumnsForNode(c,a):null,C=this.getValuesNormal(c,d,l),v=c.aggData,b=this.beans;return d.forEach((R,x)=>{i[R.getId()]=(0,M._aggregateValues)(b,C[x],R.getAggFunc(),R,c)}),p&&v&&p.forEach(R=>{i[R.getId()]=v[R.getId()]}),i}getValuesPivotNonLeaf(c,r){return c.childrenAfterFilter.map(i=>i.aggData[r])}getValuesFromMappedSet(c,r,i){let o=c;for(let a=0;a<r.length;a++){let l=r[a];o=o?o[l]:null}return o?o.map(a=>this.valueSvc.getValue(i,a)):[]}getValuesNormal(c,r,i){let o=[];r.forEach(()=>o.push([]));let a=r.length,l=i?c.childrenAfterFilter:c.childrenAfterGroup,d=l.length;for(let p=0;p<d;p++){let C=l[p];for(let v=0;v<a;v++){let b=r[v],R=this.valueSvc.getValue(b,C);o[v].push(R)}}return o}setAggData(c,r){let i=c.aggData;if(c.aggData=r,c.__localEventService){let o=a=>{let l=c.aggData?c.aggData[a]:void 0,d=i?i[a]:void 0;if(l===d)return;let p=this.colModel.getCol(a);p&&c.dispatchCellChangedEvent(p,l,d)};if(i)for(let a of Object.keys(i))o(a);if(r)for(let a of Object.keys(r))(!i||!(a in i))&&o(a)}}}h.AggregationStage=P},6948:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FilterAggregatesStage=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(f){this.filterManager=f.filterManager}execute(f){let c=this.beans.colModel.isPivotMode(),r=this.filterManager?.isAggregateFilterPresent()||this.filterManager?.isAggregateQuickFilterPresent(),i=C=>!C.node.group,o=C=>C.node.leafGroup,a=(0,g._getGroupAggFiltering)(this.gos)||(c?o:i),{changedPath:l}=f,d=(C,v=!1)=>{C.childrenAfterFilter&&(C.childrenAfterAggFilter=C.childrenAfterFilter,v&&C.childrenAfterAggFilter.forEach(b=>d(b,v)),this.setAllChildrenCount(C)),C.sibling&&(C.sibling.childrenAfterAggFilter=C.childrenAfterAggFilter)},p=C=>{C.childrenAfterAggFilter=C.childrenAfterFilter?.filter(v=>a({node:v})&&this.filterManager.doesRowPassAggregateFilters({rowNode:v})?(d(v,!0),!0):v.childrenAfterAggFilter?.length)||null,this.setAllChildrenCount(C),C.sibling&&(C.sibling.childrenAfterAggFilter=C.childrenAfterAggFilter)};l.forEachChangedNodeDepthFirst(r?p:d,!0)}setAllChildrenCountTreeData(f){let c=f.childrenAfterAggFilter,r=0;if(c){let i=c.length;r=i;for(let o=0;o<i;++o)r+=c[o].allChildrenCount??0}f.setAllChildrenCount(r===0&&f.level>=0?null:r)}setAllChildrenCountGridGrouping(f){let c=0;f.childrenAfterAggFilter.forEach(r=>{r.group?c+=r.allChildrenCount:c++}),f.setAllChildrenCount(c)}setAllChildrenCount(f){if(!f.hasChildren()){f.setAllChildrenCount(null);return}this.gos.get("treeData")?this.setAllChildrenCountTreeData(f):this.setAllChildrenCountGridGrouping(f)}}h.FilterAggregatesStage=M},182:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FooterService=void 0;let g=S(6624),M=S(6432);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="footerSvc"}addTotalRows(c,r,i,o,a,l){let d=c;if(a)return(o&&(0,g._getGrandTotalRow)(this.gos))===l&&((0,M._createRowNodeFooter)(r,this.beans),i(r.sibling,d++)),d;let p=(0,g._getGroupTotalRowCallback)(this.gos);return(o&&p({node:r}))===l&&((0,M._createRowNodeFooter)(r,this.beans),i(r.sibling,d++)),d}getTopDisplayIndex(c,r,i,o){let a=r;if(c[0].footer){if(r===0)return 0;a-=1}let l=c[c.length-1],d=a>=i.length;return l.footer&&d?l.rowIndex:o(a)}getTotalValue(c){return this.getLocaleTextFunc()("footerTotal","Total")+" "+(c??"")}}h.FooterService=P},6432:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._destroyRowNodeFooter=h._createRowNodeFooter=void 0;let g=S(6624),M=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced"]);function P(c,r){if(c.sibling)return;let i=new g.RowNode(r);Object.keys(c).forEach(o=>{M.has(o)||(i[o]=c[o])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+c.id,i.sibling=c,c.sibling=i}h._createRowNodeFooter=P;function f(c){c.sibling&&(c.sibling.setRowTop(null),c.sibling.setRowIndex(null),c.sibling=void 0)}h._destroyRowNodeFooter=f},7926:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ValueColsSvc=void 0;let g=S(6624);class M extends g.BaseColsService{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(f,c,r)=>this.setValueActive(c,f,r),add:(f,c,r)=>this.setValueActive(!0,f,r),remove:(f,c,r)=>this.setValueActive(!1,f,r)},this.columnExtractors={setFlagFunc:(f,c,r)=>this.setColValueActive(f,c,r),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:f=>{let c=f.aggFunc;if(c===null||c==="")return null;if(c!==void 0)return!!c},getInitialValueFunc:f=>f.initialAggFunc!=null&&f.initialAggFunc!=""},this.modifyColumnsNoEventsCallbacks={addCol:f=>this.columns.push(f),removeCol:f=>(0,g._removeFromArray)(this.columns,f)}}extractCols(f,c){return this.columns=super.extractCols(f,c),this.columns.forEach(r=>{let i=r.getColDef();i.aggFunc!=null&&i.aggFunc!=""?this.setColAggFunc(r,i.aggFunc):r.getAggFunc()||this.setColAggFunc(r,i.initialAggFunc)}),this.columns}setColumnAggFunc(f,c,r){if(!f)return;let i=this.colModel.getColDefCol(f);i&&(this.setColAggFunc(i,c),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[i],r))}syncColumnWithState(f,c,r){let i=r("aggFunc").value1;i!==void 0&&(typeof i=="string"?(this.setColAggFunc(f,i),f.isValueActive()||(this.setColValueActive(f,!0,c),this.modifyColumnsNoEventsCallbacks.addCol(f))):((0,g._exists)(i)&&(0,g._warn)(33),f.isValueActive()&&(this.setColValueActive(f,!1,c),this.modifyColumnsNoEventsCallbacks.removeCol(f))))}setValueActive(f,c,r){if(f!==c.isValueActive()&&(this.setColValueActive(c,f,r),f&&!c.getAggFunc()&&this.aggFuncSvc)){let i=this.aggFuncSvc.getDefaultAggFunc(c);this.setColAggFunc(c,i)}}setColAggFunc(f,c){f.aggFunc=c,f.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(f,c,r){f.aggregationActive!==c&&(f.aggregationActive=c,f.dispatchColEvent("columnValueChanged",r))}}h.ValueColsSvc=M},1809:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AllEnterpriseModule=void 0;let g=S(6624),M=S(7976),P=S(1527),f=S(3766),c=S(6455),r=S(2886),i=S(2515),o=S(7546),a=S(1594),l=S(7130),d=S(5434),p=S(5470),C=S(266),v=S(9327),b=S(1442),R=S(976),x=S(9074),E=S(9002),T=S(6358),D=S(2949),k=S(8450),O=S(9428),N=S(7205),V=S(7794),j=[g.AllCommunityModule,f.ClipboardModule,c.ColumnsToolPanelModule,r.ExcelExportModule,i.FiltersToolPanelModule,a.MasterDetailModule,l.ColumnMenuModule,l.ContextMenuModule,C.CellSelectionModule,v.RichSelectModule,R.RowNumbersModule,b.RowGroupingModule,b.RowGroupingPanelModule,b.GroupFilterModule,x.ServerSideRowModelModule,x.ServerSideRowModelApiModule,E.SetFilterModule,d.MultiFilterModule,M.AdvancedFilterModule,T.SideBarModule,k.StatusBarModule,V.ViewportRowModelModule,p.PivotModule,O.TreeDataModule,o.FindModule],Q="AllEnterprise";h.AllEnterpriseModule={with:Y=>({moduleName:Q,version:N.VERSION,dependsOn:[...j,P.IntegratedChartsModule.with(Y),D.SparklinesModule.with(Y)]}),moduleName:Q,version:N.VERSION,dependsOn:j}},7672:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SkeletonCellRendererModule=h.LoadingCellRendererModule=void 0;let g=S(9206),M=S(7205),P=S(1565),f=S(780);h.LoadingCellRendererModule={moduleName:"LoadingCellRenderer",version:M.VERSION,userComponents:{agLoadingCellRenderer:P.LoadingCellRenderer},icons:{groupLoading:"loading"},dependsOn:[g.EnterpriseCoreModule]},h.SkeletonCellRendererModule={moduleName:"SkeletonCellRenderer",version:M.VERSION,userComponents:{agSkeletonCellRenderer:f.SkeletonCellRenderer},dependsOn:[g.EnterpriseCoreModule]}},1565:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LoadingCellRenderer=void 0;let g=S(6624),M={tag:"div",cls:"ag-loading",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]};class P extends g.Component{constructor(){super(M),this.eLoadingIcon=g.RefPlaceholder,this.eLoadingText=g.RefPlaceholder}init(c){c.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){let c=this.getLocaleTextFunc();this.eLoadingText.innerText=c("loadingError","ERR")}setupLoading(){let c=(0,g._createIconNoSpan)("groupLoading",this.beans,null);c&&this.eLoadingIcon.appendChild(c);let r=this.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")}refresh(c){return!1}}h.LoadingCellRenderer=P},780:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SkeletonCellRenderer=void 0;let g=S(6624),M={tag:"div",cls:"ag-skeleton-container"};class P extends g.Component{constructor(){super(M)}init(c){let r=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",r),this.addDestroyFunc(()=>(0,g._setAriaLabelledBy)(c.eParentOfValue)),(0,g._setAriaLabelledBy)(c.eParentOfValue,r),c.node.failedLoad?this.setupFailed():this.setupLoading(c)}setupFailed(){let c=this.getLocaleTextFunc();this.getGui().innerText=c("loadingError","ERR");let r=c("ariaSkeletonCellLoadingFailed","Row failed to load");(0,g._setAriaLabel)(this.getGui(),r)}setupLoading(c){let i=(0,g._getDocument)(this.beans).createElement("div");i.classList.add("ag-skeleton-effect");let o=c.node.rowIndex;if(o!=null){let d=75+25*(o%2===0?Math.sin(o):Math.cos(o));i.style.width=`${d}%`}this.getGui().appendChild(i);let l=this.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");(0,g._setAriaLabel)(this.getGui(),l)}refresh(c){return!1}}h.SkeletonCellRenderer=P},2459:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgChartsExports=void 0;let g=S(6624);class M extends g.BeanStub{constructor(f){super(),this.beanName="agChartsExports",this.isEnterprise=!1,this.create=f.create,this._Theme=f._Theme,this._Scene=f._Scene,this.isEnterprise=f.isEnterprise,this._Util=f._Util}}h.AgChartsExports=M},3251:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartController=h.DEFAULT_THEMES=void 0;let g=S(6624),M=S(8987),P=S(8592),f=S(8889),c=S(4237);h.DEFAULT_THEMES=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"];class r extends g.BeanStub{wireBeans(o){this.rangeSvc=o.rangeSvc,this.agChartsExports=o.agChartsExports}constructor(o){super(),this.model=o,this.isEnterprise=()=>this.agChartsExports.isEnterprise}postConstruct(){this.setChartRange(),this.model.unlinked&&this.rangeSvc&&this.rangeSvc.setCellRanges([]);let o=this.updateForGridChange.bind(this,{});this.addManagedEventListeners({cellSelectionChanged:a=>{a.id&&a.id===this.model.chartId&&this.updateForRangeChange()},columnMoved:o,columnPinned:o,columnVisible:o,columnRowGroupChanged:o,modelUpdated:o,cellValueChanged:this.updateForDataChange.bind(this)})}update(o){if(!this.validUpdateType(o))return!1;let a=(0,f.validateUpdateParams)(o,this.agChartsExports.isEnterprise);if(!a)return!1;let l=a===!0?o:a;return this.applyValidatedChartParams(l),!0}applyValidatedChartParams(o){let{chartId:a,chartType:l,chartThemeName:d,unlinkChart:p}=o,v={...{chartId:a,pivotChart:this.model.pivotChart,chartType:l??this.model.chartType,chartThemeName:d??this.model.chartThemeName,unlinkChart:p??this.model.unlinked,cellRange:this.model.suppliedCellRange,switchCategorySeries:this.model.switchCategorySeries,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1}};switch(o.type){case"rangeChartUpdate":v.cellRange=this.createCellRange(o)??this.model.suppliedCellRange,v.switchCategorySeries=o.switchCategorySeries??this.model.switchCategorySeries,v.aggFunc=o.aggFunc??this.model.aggFunc,v.seriesChartTypes=o.seriesChartTypes,v.suppressChartRanges=o.suppressChartRanges??this.model.suppressChartRanges,v.seriesGroupType=o.seriesGroupType??this.model.seriesGroupType;break;case"crossFilterChartUpdate":v.cellRange=this.createCellRange(o)??this.model.suppliedCellRange,v.switchCategorySeries=!1,v.aggFunc=o.aggFunc??this.model.aggFunc,v.crossFiltering=!0,v.suppressChartRanges=o.suppressChartRanges??this.model.suppressChartRanges;break;case"pivotChartUpdate":v.switchCategorySeries=!1;break}this.model.updateModel(v),v.unlinkChart||v.suppressChartRanges?this.rangeSvc?.setCellRanges([]):this.setChartRange()}updateForGridChange(o){if(this.model.unlinked)return;let{maintainColState:a,setColsFromRange:l}=o??{};this.model.updateCellRanges({maintainColState:a,setColsFromRange:l}),this.model.updateData(),this.setChartRange()}updateForDataChange(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())}updateForRangeChange(){this.updateForGridChange({setColsFromRange:!0}),this.raiseChartRangeSelectionChangedEvent()}updateForPanelChange(o){this.model.updateCellRanges(o),this.model.updateData(),o.skipAnimation&&this.getChartProxy().getChartRef().skipAnimations(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()}updateThemeOverrides(o){this.chartProxy.updateThemeOverrides(o)}getChartUpdateParams(o){let l=this.getSelectedValueColState().map(v=>({colId:v.colId,displayName:v.displayName})),d=this.getChartData(),p=this.getSelectedDimensions(),C={data:d,groupData:this.model.groupChartData,grouping:this.isGrouping(),categories:p.map(v=>({id:v.colId,name:v.displayName,chartDataType:this.model.categoryAxisType??this.model.getChartDataType(v.colId)})),fields:l,chartId:this.getChartId(),getCrossFilteringContext:()=>({lastSelectedChartId:"xxx"}),seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:o,seriesGroupType:this.model.seriesGroupType};return this.isCategorySeriesSwitched()?this.invertCategorySeriesParams(C):C}invertCategorySeriesParams(o){let[a]=o.categories,l=[{id:P.DEFAULT_CHART_CATEGORY,name:""}],d=o.data.map((C,v)=>{let b=`${a.id}:${v}`,R=C[a.id],x=R==null?"":String(R);return{colId:b,displayName:x}}),p=o.fields.map(C=>{let v={[P.DEFAULT_CHART_CATEGORY]:C.displayName};for(let[b,R]of o.data.entries()){let x=`${a.id}:${b}`,E=R[C.colId];v[x]=E}return v});return{...o,categories:l,fields:d,data:p}}getChartModel(){let o=this.model.pivotChart?"pivot":"range",a=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:o,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy?.getChartThemeOverrides(),chartPalette:this.chartProxy?.getChartPalette(),cellRange:this.getCellRangeParams(),switchCategorySeries:this.model.switchCategorySeries,suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:a,seriesGroupType:this.model.seriesGroupType}}getChartId(){return this.model.chartId}getChartData(){return this.model.chartData}getChartType(){return this.model.chartType}setChartType(o){this.updateMultiSeriesAndCategory(this.model.chartType,o),this.model.chartType=o,this.model.comboChartModel.updateSeriesChartTypes(),this.model.switchCategorySeries=!1,this.model.categoryAxisType=void 0,this.model.seriesGroupType=void 0,this.raiseChartModelUpdateEvent()}isCategorySeriesSwitched(){return this.model.switchCategorySeries&&!this.model.isGrouping()}switchCategorySeries(o){(0,c.supportsInvertedCategorySeries)(this.getChartType())&&(this.model.switchCategorySeries=o,this.raiseChartModelUpdateEvent())}getAggFunc(){return this.model.aggFunc}setAggFunc(o,a){this.model.aggFunc!==o&&(this.model.aggFunc=o,!a&&(this.model.updateData(),this.raiseChartModelUpdateEvent()))}updateMultiSeriesAndCategory(o,a){let l=(b,R)=>{let x=0;for(let E of b)E.selected&&(x>=R?E.selected=!1:x++);x===0&&(b[0].selected=!0)},d=(0,c.getMaxNumCategories)(a),p=(0,c.getMaxNumSeries)(a),C=d!=null&&((0,c.getMaxNumCategories)(o)??100)>(d??100),v=p!=null&&((0,c.getMaxNumSeries)(o)??100)>(p??100);C&&l(this.model.dimensionColState,d),v&&l(this.model.valueColState,p),(C||v)&&(this.model.resetCellRanges(C,v),this.setChartRange(!0))}setChartThemeName(o,a){this.model.chartThemeName=o,a||this.raiseChartModelUpdateEvent()}getChartThemeName(){return this.model.chartThemeName}isPivotChart(){return this.model.pivotChart}isPivotMode(){return this.model.isPivotMode()}isGrouping(){return this.model.isGrouping()}isCrossFilterChart(){return this.model.crossFiltering}getThemeNames(){return this.gos.get("chartThemes")||h.DEFAULT_THEMES}getThemes(){return this.getThemeNames().map(a=>{let d=(0,M.isStockTheme)(a,this.agChartsExports._Theme)?a:this.chartProxy.lookupCustomChartTheme(a);return this.agChartsExports._Theme.getChartTheme(d)})}getPalettes(){return this.getThemes().map(a=>a.palette)}getValueColState(){return this.model.valueColState.map(this.displayNameMapper.bind(this))}getSelectedValueColState(){return this.getValueColState().filter(o=>o.selected)}getSelectedDimensions(){return this.model.getSelectedDimensions()}displayNameMapper(o){let{column:a}=o;if(a)o.displayName=this.model.getColDisplayName(a,this.model.isPivotMode());else{let l=this.model.colNames[o.colId];o.displayName=l?l.join(" - "):this.model.getColDisplayName(a)}return o}getColStateForMenu(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}}setChartRange(o=!1){this.rangeSvc&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeSvc.setCellRanges(this.getCellRanges()),o||this.raiseChartModelUpdateEvent()}detachChartRange(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeSvc&&this.rangeSvc.setCellRanges([]):this.updateForGridChange(),this.dispatchLocalEvent({type:"chartLinkedChanged"})}setChartProxy(o){this.chartProxy=o}getChartProxy(){return this.chartProxy}isActiveXYChart(){return["scatter","bubble"].includes(this.getChartType())}isChartLinked(){return!this.model.unlinked}customComboExists(){let o=this.model.comboChartModel.savedCustomSeriesChartTypes;return o&&o.length>0}getSeriesChartTypes(){return this.model.comboChartModel.seriesChartTypes}isComboChart(o){return this.model.isComboChart(o)}updateSeriesChartType(o,a,l){let d=this.model.comboChartModel.seriesChartTypes.find(p=>p.colId===o);if(d){let p=this.model.chartType!=="customCombo";p&&(this.model.chartType="customCombo");let C=d.chartType;a!=null&&(d.chartType=a),l!=null&&(d.secondaryAxis=l),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),p&&this.dispatchLocalEvent({type:"chartTypeChanged"}),C!==a&&this.dispatchLocalEvent({type:"chartSeriesChartTypeChanged"}),this.raiseChartOptionsChangedEvent()}}getActiveSeriesChartTypes(){let o=this.getSelectedValueColState().map(a=>a.colId);return this.getSeriesChartTypes().filter(a=>o.includes(a.colId))}getChartSeriesTypes(o){let a=o??this.getChartType();return this.isComboChart(a)?["line","bar","area"]:[(0,c.getSeriesType)(a)]}getChartSeriesType(){let o=this.getSeriesChartTypes();if(o.length===0)return"bar";let a=o[0].chartType;return a==="columnLineCombo"?"bar":a==="areaColumnCombo"?"area":(0,c.getSeriesType)(a)}getCellRanges(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(o=>o)}createCellRange(o){return o.cellRange&&this.rangeSvc?.createPartialCellRangeFromRangeParams(o.cellRange,!0)}validUpdateType(o){if(!o.type)return(0,g._warn)(136),!1;let a={"Range Chart":()=>!this.isPivotChart()&&!this.isCrossFilterChart(),"Pivot Chart":()=>this.isPivotChart(),"Cross Filter Chart":()=>this.isCrossFilterChart()},l=Object.keys(a).find(p=>a[p]())??"Range Chart",d=o.type===`${l[0].toLowerCase()}${l.slice(1).replace(/ /g,"")}Update`;return d||(0,g._warn)(137,{currentChartType:l,type:o.type}),d}getCellRangeParams(){let o=this.getCellRanges(),a=o[0],l=a&&a.startRow||null,d=a&&a.endRow||null;return{rowStartIndex:l&&l.rowIndex,rowStartPinned:l&&l.rowPinned,rowEndIndex:d&&d.rowIndex,rowEndPinned:d&&d.rowPinned,columns:o.reduce((p,C)=>p.concat(C.columns.map(v=>v.getId())),[])}}setCategoryAxisType(o){this.model.categoryAxisType=o,this.raiseChartModelUpdateEvent()}getSeriesGroupType(){return this.model.seriesGroupType??this.chartProxy.getSeriesGroupType()}setSeriesGroupType(o){this.model.seriesGroupType=o,this.raiseChartModelUpdateEvent()}raiseChartModelUpdateEvent(){this.dispatchLocalEvent({type:"chartModelUpdate"}),this.raiseChartOptionsChangedEvent()}raiseChartUpdatedEvent(){this.dispatchLocalEvent({type:"chartUpdated"})}raiseChartApiUpdateEvent(){this.dispatchLocalEvent({type:"chartApiUpdate"})}raiseChartOptionsChangedEvent(){let{chartId:o,chartType:a}=this.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:o,chartType:a,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy?.getChartThemeOverrides()})}raiseChartRangeSelectionChangedEvent(){this.eventSvc.dispatchEvent({type:"chartRangeSelectionChanged",id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()})}destroy(){super.destroy(),this.rangeSvc&&this.rangeSvc.setCellRanges([])}}h.ChartController=r},7216:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AreaChartProxy=void 0;let g=S(8631);class M extends g.CartesianChartProxy{getAxes(f){let c=[{type:this.getXAxisType(f),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){let r=c[1];r.label={...r.label,formatter:i=>Math.round(i.value)+"%"}}return c}getSeries(f){let[c]=f.categories,r=f.fields.map(i=>({type:this.standaloneChartType,xKey:c.id,xName:c.name,yKey:i.colId,yName:i.displayName,normalizedTo:this.chartType==="normalizedArea"?100:void 0,stacked:["normalizedArea","stackedArea"].includes(this.chartType)}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(r,f):r}isNormalised(){return!this.crossFiltering&&this.chartType==="normalizedArea"}}h.AreaChartProxy=M},3116:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BarChartProxy=void 0;let g=S(4237),M=S(8631),P=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);class f extends M.CartesianChartProxy{getAxes(r){let i=[{type:this.getXAxisType(r),position:this.isHorizontal()?"left":"bottom"},{type:"number",position:this.isHorizontal()?"bottom":"left"}];if(this.isNormalised()){let o=i[1];o.label={...o.label,formatter:a=>Math.round(a.value)+"%"}}return i}getSeries(r){let[i]=r.categories,o=r.fields.map(a=>({type:this.standaloneChartType,direction:this.isHorizontal()?"horizontal":"vertical",stacked:this.crossFiltering||(0,g.isStacked)(this.chartType),normalizedTo:this.isNormalised()?100:void 0,xKey:i.id,xName:i.name,yKey:a.colId,yName:a.displayName}));return this.crossFiltering?this.extractCrossFilterSeries(o):o}extractCrossFilterSeries(r){let i=[];for(let o=0;o<r.length;o++){let l={...r[o],listeners:{nodeClick:this.crossFilterCallback}},d={...l,yKey:`${l.yKey}-filtered-out`,showInLegend:!1};i.push(l),i.push(d)}return i}isNormalised(){let r=["normalizedColumn","normalizedBar"];return!this.crossFiltering&&r.includes(this.chartType)}isHorizontal(){return P.has(this.chartType)}}h.BarChartProxy=f},8631:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CartesianChartProxy=void 0;let g=S(6738);class M extends g.ChartProxy{constructor(){super(...arguments),this.crossFilteringAllPoints=new Set,this.crossFilteringSelectedPoints=[]}getUpdateOptions(f,c){let r=this.getAxes(f,c);return{...c,data:this.getData(f,r),axes:r,series:this.getSeries(f)}}getData(f,c){let r=["area","line"].includes(this.standaloneChartType);return this.crossFiltering&&r?this.getCrossFilterData(f):this.getDataTransformedData(f,c)}getDataTransformedData(f,c){let r=c[0].type,{categories:i,data:o}=f,[a]=i;switch(r){case"category":return this.transformCategoryData(o,a.id);case"time":return this.transformTimeData(o,a.id);default:return o}}getXAxisType(f){return f.grouping?"grouped-category":this.isXAxisOfType(f,"time",c=>c instanceof Date)?"time":this.isXAxisOfType(f,"number")?"number":"category"}isXAxisOfType(f,c,r){let[i]=f.categories;if(i?.chartDataType)return i.chartDataType===c;if(!r)return!1;let o=f.data[0];return o?r(o[i.id]):!1}transformTimeData(f,c){return f[0]?.[c]instanceof Date?f:f.map(i=>{let o=i[c];return typeof o=="string"?{...i,[c]:new Date(o)}:i})}crossFilteringReset(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()}crossFilteringPointSelected(f){return this.crossFilteringSelectedPoints.length==0||this.crossFilteringSelectedPoints.includes(f)}crossFilteringDeselectedPoints(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length}extractLineAreaCrossFilterSeries(f,c){let[r]=c.categories,i=o=>this.standaloneChartType==="area"?c.getCrossFilteringContext().lastSelectedChartId===c.chartId?o+"-total":o:o+"-total";return f.map(o=>(o.yKey=i(o.yKey),o.listeners={nodeClick:a=>{let l=a.datum[o.xKey],d=a.event.metaKey||a.event.ctrlKey;this.crossFilteringAddSelectedPoint(d,l),this.crossFilterCallback(a)}},o.marker={itemStyler:a=>{let l=a.datum[r.id];return{fill:a.highlighted?"yellow":a.fill,size:a.highlighted?14:this.crossFilteringPointSelected(l)?8:0}}},this.standaloneChartType==="area"&&(o.fillOpacity=this.crossFilteringDeselectedPoints()?.3:1),this.standaloneChartType==="line"&&(o.strokeOpacity=this.crossFilteringDeselectedPoints()?.3:1),o))}getCrossFilterData(f){this.crossFilteringAllPoints.clear();let[c]=f.categories,r=f.fields[0].colId,i=`${r}-filtered-out`,o=f.getCrossFilteringContext().lastSelectedChartId;return f.data.map(a=>{let l=a[c.id];this.crossFilteringAllPoints.add(l);let d=this.crossFilteringPointSelected(l);return this.standaloneChartType==="area"&&o===f.chartId&&(a[`${r}-total`]=d?a[r]:a[r]+a[i]),this.standaloneChartType==="line"&&(a[`${r}-total`]=d?a[r]:a[r]+a[i]),a})}crossFilteringAddSelectedPoint(f,c){f?this.crossFilteringSelectedPoints.push(c):this.crossFilteringSelectedPoints=[c]}isHorizontal(f){let c=this.standaloneChartType;if(c!=="waterfall"&&c!=="box-plot"&&c!=="range-bar")return!1;let r=f.theme,i=o=>{let a=o?.overrides?.[c]?.series?.direction;return a!=null?a==="horizontal":typeof o?.baseTheme=="object"?i(o.baseTheme):!1};return i(r)}}h.CartesianChartProxy=M},1051:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.HistogramChartProxy=void 0;let g=S(8631);class M extends g.CartesianChartProxy{getSeries(f){let c=f.fields[0];return[{type:this.standaloneChartType,xKey:c.colId,xName:c.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]}getAxes(f){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}}h.HistogramChartProxy=M},9235:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LineChartProxy=void 0;let g=S(8631);class M extends g.CartesianChartProxy{getAxes(f){let c=[{type:this.getXAxisType(f),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){let r=c[1];r.label={...r.label,formatter:i=>Math.round(i.value)+"%"}}return c}getSeries(f){let[c]=f.categories,r=["normalizedLine","stackedLine"].includes(this.chartType),i=f.fields.map(o=>({type:this.standaloneChartType,xKey:c.id,xName:c.name,yKey:o.colId,yName:o.displayName,normalizedTo:r&&this.isNormalised()?100:void 0,stacked:r}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(i,f):i}isNormalised(){let f=["normalizedLine"];return!this.crossFiltering&&f.includes(this.chartType)}}h.LineChartProxy=M},7015:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ScatterChartProxy=void 0;let g=S(8592),M=S(8631);class P extends M.CartesianChartProxy{getAxes(c){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]}getSeries(c){let[r]=c.categories,i=this.isPaired(),o=this.getSeriesDefinitions(c.fields,i),a=r.id===g.DEFAULT_CHART_CATEGORY?void 0:r,l=o.map(d=>d?.sizeField?{type:"bubble",xKey:d.xField.colId,xName:d.xField.displayName??void 0,yKey:d.yField.colId,yName:d.yField.displayName??void 0,title:`${d.yField.displayName} vs ${d.xField.displayName}`,sizeKey:d.sizeField.colId,sizeName:d.sizeField.displayName??"",labelKey:a?a.id:d.yField.colId,labelName:a?a.name:void 0}:{type:"scatter",xKey:d.xField.colId,xName:d.xField.displayName??void 0,yKey:d.yField.colId,yName:d.yField.displayName??void 0,title:`${d.yField.displayName} vs ${d.xField.displayName}`,labelKey:a?a.id:d.yField.colId,labelName:a?a.name:void 0});return this.crossFiltering?this.extractCrossFilterSeries(l,c):l}extractCrossFilterSeries(c,r){let{data:i}=r,o=C=>`${C}-filtered-out`,a=(C,v)=>{let b=[1/0,-1/0];if(v!=null)for(let R of C){let x=R[v]??R[o(v)];x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}if(b[0]<=b[1])return b},l=C=>{let v;if(C.type==="bubble"){let{sizeKey:b}=C;v=a(i,b)}return{...C,domain:v,highlightStyle:{item:{fill:"yellow"}},listeners:{...C.listeners,nodeClick:this.crossFilterCallback}}},d=C=>{let{yKey:v,xKey:b}=C,R={};return C.type==="bubble"&&(R={sizeKey:o(C.sizeKey)}),{...C,...R,yKey:o(v),xKey:o(b),showInLegend:!1,listeners:{...C.listeners,nodeClick:x=>{let E=x.datum[o(b)],T={...x,xKey:b,datum:{...x.datum,[b]:E}};this.crossFilterCallback(T)}}}},p=c.map(l);return[...p,...p.map(d)]}getSeriesDefinitions(c,r){if(c.length<2)return[];let i=this.chartType==="bubble";if(r)return i?c.map((a,l)=>l%3===0?{xField:a,yField:c[l+1],sizeField:c[l+2]}:null).filter(a=>a&&a.yField&&a.sizeField):c.map((a,l)=>l%2===0?{xField:a,yField:c[l+1]}:null).filter(a=>a&&a.yField);let o=c[0];return i?c.map((a,l)=>l%2===1?{xField:o,yField:a,sizeField:c[l+1]}:null).filter(a=>a&&a.sizeField):c.filter((a,l)=>l>0).map(a=>({xField:o,yField:a}))}}h.ScatterChartProxy=P},9303:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.WaterfallChartProxy=void 0;let g=S(8631);class M extends g.CartesianChartProxy{getAxes(f,c){return[{type:this.getXAxisType(f),position:this.isHorizontal(c)?"left":"bottom"},{type:"number",position:this.isHorizontal(c)?"bottom":"left"}]}getSeries(f){let[c]=f.categories,[r]=f.fields;return[{type:this.standaloneChartType,xKey:c.id,xName:c.name,yKey:r.colId,yName:r.displayName??void 0}]}}h.WaterfallChartProxy=M},6738:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartProxy=void 0;let g=S(9687),M=S(2210),P=S(4237),f=S(8987);class c{constructor(i){this.chartProxyParams=i,this.clearThemeOverrides=!1,this.agChartsExports=i.agChartsExports,this.chart=i.chartInstance,this.chartType=i.chartType,this.crossFiltering=i.crossFiltering,this.crossFilterCallback=i.crossFilterCallback,this.standaloneChartType=(0,P.getSeriesType)(this.chartType),this.chart==null?this.chart=i.agChartsExports.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}crossFilteringReset(){}update(i){this.getChartRef().update(this.getUpdateOptions(i,this.getCommonChartOptions(i.updatedOverrides)))}updateThemeOverrides(i){this.getChartRef().updateDelta({theme:{overrides:i}})}getChart(){return(0,g.deproxy)(this.chart)}getChartRef(){return this.chart}downloadChart(i,o,a){let{chart:l}=this,d=(0,g.deproxy)(l),p=o||(d.title?d.title.text:"chart"),{width:C,height:v}=i||{};l.download({width:C,height:v,fileName:p,fileFormat:a})}getChartImageDataURL(i){return this.getChart().getCanvasDataURL(i)}getChartOptions(){return this.chart.getOptions()}getChartThemeOverrides(){return this.getChartOptions().theme.overrides??{}}getChartPalette(){return this.agChartsExports._Theme.getChartTheme(this.getChartOptions().theme).palette}setPaired(i){let o=(0,P.getSeriesType)(this.chartProxyParams.chartType);this.chart.updateDelta({theme:{overrides:{[o]:{paired:i}}}})}isPaired(){let i=(0,P.getSeriesType)(this.chartProxyParams.chartType);return(0,M.get)(this.getChartThemeOverrides(),`${i}.paired`,!0)}lookupCustomChartTheme(i){return(0,f.lookupCustomChartTheme)(this.chartProxyParams,i)}getSeriesGroupType(){}transformCategoryData(i,o){return i.map((a,l)=>{let d=a[o],p=d&&d.toString?d.toString():"",C={...a};return C[o]={id:l,value:d,toString:()=>p},C})}getCommonChartOptions(i){let o=this.clearThemeOverrides?{}:this.chart?.getOptions()??{},a=this.chart!=null?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;let l=(0,f.createAgChartTheme)(this.chartProxyParams,this,this.agChartsExports.isEnterprise,this.getChartThemeDefaults(),i??a),d={...o,mode:"integrated"};return d.theme=l,d.container=this.chartProxyParams.parentElement,d}getChartThemeDefaults(){let i=this.getSeriesChartThemeDefaults(),o=i?{[this.standaloneChartType]:i}:{},a={enabled:!0,snap:!0,label:{enabled:!1}},l=this.agChartsExports.isEnterprise?{zoom:{enabled:!0},animation:{enabled:!0,duration:500},axes:{number:{crosshair:a},category:{crosshair:a},log:{crosshair:a},time:{crosshair:a}}}:{};return l.minHeight=0,l.minWidth=0,l.navigator={enabled:!1},{common:l,...o}}getSeriesChartThemeDefaults(){}getActiveFormattingPanelOverrides(){return this.clearThemeOverrides?{}:this.chart?.getOptions().theme?.overrides??{}}destroy({keepChartInstance:i=!1}={}){if(i)return this.chart.resetAnimations(),this.chart;this.destroyChart()}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=void 0)}}h.ChartProxy=c},8987:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.lookupCustomChartTheme=h.isStockTheme=h.createAgChartTheme=void 0;let g=S(6624),M=S(2753),P=S(2210),f=S(4237);function c(v,b,R,x,E){let{chartOptionsToRestore:T,chartPaletteToRestore:D,chartThemeToRestore:k,agChartsExports:O}=v,N=p(v),V=i(N,O._Theme),j=V?{baseTheme:N}:C(v,N)??{},Q=v.getGridOptionsChartThemeOverrides(),Y=v.apiChartThemeOverrides,$=(0,f.getSeriesType)(v.chartType),se=v.crossFiltering?o(b,v,$):void 0,ee=[V?l(v,R,(()=>{let re=oe=>oe?Object.keys(oe).some(ge=>(0,P.get)(oe[ge],"title.enabled",!1)):!1;return re(Q)||re(Y)})()):void 0,d(),x,se,Q,Y,{...T??{}},E].filter(re=>!!re).reduce((re,oe)=>({baseTheme:re,overrides:oe}),j);if(D&&N===k){let re=v.agChartsExports._Theme.getChartTheme(j).palette;r(D,re)||(ee.palette=D)}return ee}h.createAgChartTheme=c;function r(v,b){let R=(x,E)=>x===E?!0:x?.length!==E?.length?!1:x?.every((T,D)=>T===E?.[D])??!1;return R(v.fills,b.fills)&&R(v.strokes,b.strokes)}function i(v,b){return Object.keys(b.themes).includes(v)}h.isStockTheme=i;function o(v,b,R){let E={tooltip:{delay:500},legend:{listeners:{legendItemClick:D=>{let k=v.getChart(),O=[D.seriesId,`${D.seriesId}-filtered-out`];k.series.filter(N=>O.includes(N.id)).forEach(N=>N.toggleSeriesItem(void 0,"category",D.itemId,void 0))}}},listeners:{click:D=>b.crossFilterCallback(D,!0)}};if(R==="pie"||R==="donut")return{[R]:{series:{fills:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"fills"}]},{$palette:"fills"}]},strokes:{$if:[{$eq:[{$value:"$index"},0]},{$map:[{$mix:[{$value:"$1"},{$ref:"backgroundColor"},.7]},{$palette:"strokes"}]},{$palette:"strokes"}]}},...E}};let T={};return R!=="line"&&(T.fill={$if:[{$isEven:[{$value:"$index"}]},{$palette:"fill"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"fill"}]},{$ref:"backgroundColor"},.7]}]}),{[R]:{series:{stroke:{$if:[{$isEven:[{$value:"$index"}]},{$palette:"stroke"},{$mix:[{$path:["../$prevIndex/fill",{$palette:"stroke"}]},{$ref:"backgroundColor"},.7]}]},...T},...E}}}let a=M.ALL_AXIS_TYPES.reduce((v,b)=>({...v,[b]:{title:{_enabledFromTheme:!0}}}),{});function l(v,b,R){let x=v.getExtraPaddingDirections();return{common:{...b?{animation:{duration:500}}:void 0,axes:a,padding:{top:!R&&x.includes("top")?40:20,right:x.includes("right")?30:20,bottom:x.includes("bottom")?40:20,left:x.includes("left")?30:20},suppressFieldDotNotation:!0}}}function d(){return{pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function p(v){let b=v.getChartThemeName(),R=v.getChartThemes();return R.includes(b)||(b=R[0]),b}function C(v,b){let{customChartThemes:R}=v,x=R&&R[b];return x||(0,g._warn)(140,{name:b}),x}h.lookupCustomChartTheme=C},8995:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ComboChartProxy=void 0;let g=S(4237),M=S(8631);class P extends M.CartesianChartProxy{getAxes(c){let r=c?c.fields:[],i=new Map(r.map(d=>[d.colId,d])),{primaryYKeys:o,secondaryYKeys:a}=this.getYKeys(r,c.seriesChartTypes),l=[{type:this.getXAxisType(c),position:"bottom"}];return o.length>0&&l.push({type:"number",keys:o,position:"left"}),a.length>0&&a.forEach(d=>{let p=i.get(d);if(!(p&&p.colId===d))return;let v={type:"number",keys:[d],position:"right"};l.push(v)}),l}getSeries(c){let{fields:r,seriesChartTypes:i}=c,[o]=c.categories;return r.map(a=>{let l=i.find(d=>d.colId===a.colId);if(l){let d=l.chartType,C=["groupedColumn","groupedBar"].includes(d)?{grouped:!0}:{};return{type:(0,g.getSeriesType)(d),xKey:o.id,yKey:a.colId,yName:a.displayName,stacked:["stackedArea","stackedColumn"].includes(d),...C}}})}getYKeys(c,r){let i=[],o=[];return c.forEach(a=>{let l=a.colId,d=r.find(p=>p.colId===l);d&&(d.secondaryAxis?o.push(l):i.push(l))}),{primaryYKeys:i,secondaryYKeys:o}}}h.ComboChartProxy=P},7879:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.EnterpriseChartProxyFactory=void 0;let g=S(6624),M=S(1051),P=S(9303),f=S(2817),c=S(3511),r=S(9899),i=S(7562),o=S(5413),a=S(6926);class l extends g.BeanStub{constructor(){super(...arguments),this.beanName="enterpriseChartProxyFactory"}createChartProxy(p){switch(p.chartType){case"histogram":return new M.HistogramChartProxy(p);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new r.PolarChartProxy(p);case"rangeBar":case"rangeArea":return new a.RangeChartProxy(p);case"boxPlot":return new o.BoxPlotChartProxy(p);case"treemap":case"sunburst":return new c.HierarchicalChartProxy(p);case"heatmap":return new i.HeatmapChartProxy(p);case"waterfall":return new P.WaterfallChartProxy(p);case"funnel":case"coneFunnel":case"pyramid":return new f.FunnelChartProxy(p)}}}h.EnterpriseChartProxyFactory=l},2817:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FunnelChartProxy=void 0;let g=S(6738);class M extends g.ChartProxy{getUpdateOptions(f,c){return{...c,data:this.transformFunnelCategories(f),series:this.getSeries(f)}}transformFunnelCategories(f){let{data:c}=f,[{id:r}]=f.categories;return c.map((i,o)=>({...i,[r]:{name:i[r],id:o,toString:()=>i[r]}}))}getSeriesChartThemeDefaults(){let f={crosshair:{enabled:!1}};return{zoom:{enabled:!1},axes:{category:f,number:f}}}getSeries(f){let[{id:c}]=f.categories,[{colId:r}]=f.fields;return[{type:this.standaloneChartType,stageKey:c,valueKey:r}]}}h.FunnelChartProxy=M},3511:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.HierarchicalChartProxy=void 0;let g=S(6624),M=S(6738),P=S(6326);class f extends M.ChartProxy{getUpdateOptions(r,i){let{fields:o}=r,[a,l]=o;return{...i,series:this.getSeries(a,l),data:this.getData(r,a,l)}}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"}}}getSeries(r,i){return[{type:this.standaloneChartType,labelKey:P.CATEGORY_LABEL_KEY,sizeKey:r?.colId,sizeName:r?.displayName??void 0,colorKey:i?.colId,colorName:i?.displayName??void 0}]}getData(r,i,o){let{categories:a,data:l,groupData:d,grouping:p}=r;if(p){let C=o?l.concat(d?.map(v=>{let b={...v};return delete b[i.colId],b})??[]):l;return(0,P.createAutoGroupHierarchy)(C,v=>v[g.GROUP_AUTO_COLUMN_ID]?.labels??null)}else{let C=a.map(({id:v})=>v);return(0,P.createCategoryHierarchy)(l,C)}}}h.HierarchicalChartProxy=f},6326:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createAutoGroupHierarchy=h.createCategoryHierarchy=h.CATEGORY_LABEL_KEY=void 0,h.CATEGORY_LABEL_KEY="AG-GRID-DEFAULT-LABEL-KEY";function S(f,c){let r=P(f,i,o);return M(r);function i(l){return c.length}function o(l,d){let p=c[d],C=l[p];return a(C)}function a(l){return l==null?null:String(l)}}h.createCategoryHierarchy=S;function g(f,c){let r=P(f,i,o);return M(r);function i(a){return c(a)?.length??0}function o(a,l){let d=c(a);if(!d)return null;let p=d.length-1-l;return d[p]}}h.createAutoGroupHierarchy=g;function M(f,c=null,r){let{depth:i,rootValues:o,value:a,children:l}=f;if(o)return o.map(p=>({[h.CATEGORY_LABEL_KEY]:c,...p}));if(i===0)return[{[h.CATEGORY_LABEL_KEY]:c,...a}];let d=[];for(let[p,C]of l.entries())d.push(...M(C,p,!0));return r?[{[h.CATEGORY_LABEL_KEY]:c,children:d,...a??{}}]:d}function P(f,c,r){let i={depth:0,children:new Map};return f.forEach(a=>{let l=c(a);o(a,l,r,0,i)}),i;function o(a,l,d,p,C){if(p===l)return p===0?(C.rootValues||(C.rootValues=[]),C.rootValues.push(a)):C.value=a,C;{let v=d(a,p),b=C.children.get(v),R=o(a,l,d,p+1,b||{depth:0,children:new Map});return C.children.set(v,R),C.depth=Math.max(1+R.depth,C.depth),C}}}},4104:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PieChartProxy=void 0;let g=S(6738);function M(f){let c=f.currentOffset;f.currentOffset-=f.offsetAmount;let r=f.currentOffset;return f.currentOffset-=f.offsetAmount,{outerRadiusOffset:c,innerRadiusOffset:r}}class P extends g.ChartProxy{getUpdateOptions(c,r){return{...r,data:this.crossFiltering?this.getCrossFilterData(c):c.data,series:this.getSeries(c)}}getSeries(c){let[r]=c.categories,i=c.fields.length,o={currentOffset:0,offsetAmount:i>1?20:40},a=this.getFields(c).map(l=>{let d={type:this.standaloneChartType,angleKey:l.colId,angleName:l.displayName,sectorLabelKey:l.colId,calloutLabelName:r.name,calloutLabelKey:r.id};if(this.chartType==="donut"||this.chartType==="doughnut"){let{outerRadiusOffset:p,innerRadiusOffset:C}=M(o),v=l.displayName?{title:{text:l.displayName,showInLegend:i>1}}:void 0;return{...d,type:"donut",outerRadiusOffset:p,innerRadiusOffset:C,...v}}return d});return this.crossFiltering?this.extractCrossFilterSeries(a):a}getCrossFilterData(c){let r=c.fields[0].colId,i=`${r}-filtered-out`;return c.data.map(o=>{let a=o[r]+o[i];return o[`${r}-total`]=a,o[i]=1,o[r]=o[r]/a,o})}extractCrossFilterSeries(c){let r=c[0],i=r.angleKey,o={...r,radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback},legendItemKey:r.calloutLabelKey,angleKey:`${i}-total`},a={...o,radiusKey:i,sectorLabelKey:`${i}-total`};return[{...o,radiusKey:`${i}-filtered-out`,showInLegend:!1},a]}getFields(c){return this.chartType==="pie"?c.fields.slice(0,1):c.fields}}h.PieChartProxy=P},9899:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PolarChartProxy=void 0;let g=S(6738);class M extends g.ChartProxy{getAxes(f){let c=this.standaloneChartType==="radial-bar";return[{type:c?"angle-number":"angle-category"},{type:c?"radius-category":"radius-number"}]}getSeries(f){let{fields:c,categories:r,seriesGroupType:i}=f,[o]=r,a=this.standaloneChartType==="radial-bar",l=this.getSeriesGroupTypeOptions(i);return c.map(d=>({type:this.standaloneChartType,angleKey:a?d.colId:o.id,angleName:a?d.displayName??void 0:o.name,radiusKey:a?o.id:d.colId,radiusName:a?o.name:d.displayName??void 0,...l}))}getSeriesGroupType(){let f=this.standaloneChartType;if(!["nightingale","radial-bar","radial-column"].includes(f))return;let c=this.getChart().series?.[0]?.properties.toJson(),r=()=>c.normalizedTo?"normalized":"stacked";return f==="nightingale"?c.grouped?"grouped":r():c.stacked?r():"grouped"}getUpdateOptions(f,c){let r=this.getAxes(f);return{...c,data:this.getData(f,r),axes:r,series:this.getSeries(f)}}getData(f,c){if(c.some(i=>i.type==="angle-category"||i.type==="radius-category")){let[i]=f.categories;return this.transformCategoryData(f.data,i.id)}else return f.data}getSeriesGroupTypeOptions(f){return f?{grouped:f==="grouped"||void 0,stacked:f!=="grouped"||void 0,normalizedTo:f==="normalized"?100:void 0}:{}}}h.PolarChartProxy=M},7562:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.HeatmapChartProxy=h.HEATMAP_VALUE_KEY=h.HEATMAP_SERIES_KEY=h.HEATMAP_CATEGORY_KEY=void 0;let g=S(1480),M=S(6738);h.HEATMAP_CATEGORY_KEY="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",h.HEATMAP_SERIES_KEY="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",h.HEATMAP_VALUE_KEY="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY";class P extends M.ChartProxy{getUpdateOptions(r,i){let o=h.HEATMAP_SERIES_KEY,a=h.HEATMAP_VALUE_KEY,l=h.HEATMAP_CATEGORY_KEY;return{...i,series:this.getSeries(r,o,a,l),data:this.getData(r,o,a,l)}}getSeries(r,i,o,a){let[l]=r.categories;return[{type:this.standaloneChartType,yKey:a,xKey:i,colorKey:o,yName:l.name,xName:void 0,colorName:void 0}]}getData(r,i,o,a){let[l]=r.categories;return(0,g.flatMap)(r.data,(d,p)=>{let C=d[l.id],v=C==null?"":String(C),b={id:p,value:C,toString:()=>v};return r.fields.map(({colId:R,displayName:x})=>({...d,[i]:x,[o]:d[R],[a]:b}))})}getSeriesChartThemeDefaults(){return{gradientLegend:{gradient:{preferredLength:200},position:"right"},series:{tooltip:{renderer:f}}}}}h.HeatmapChartProxy=P;function f(c){let{xKey:r,yKey:i,colorKey:o,yName:a,datum:l}=c;return{title:"",data:[{label:a,value:l[i]},{label:l[r],value:o&&l[o]}].map(({label:p,value:C})=>({label:String(p),value:String(C)}))}}},5413:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BoxPlotChartProxy=void 0;let g=S(879);class M extends g.StatisticalChartProxy{getSeries(f){let[c]=f.categories;return f.fields.map((r,i)=>({type:this.standaloneChartType,xKey:c.id,xName:c.name,yName:r.displayName??void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:`min:${i}`,q1Key:`q1:${i}`,medianKey:`median:${i}`,q3Key:`q3:${i}`,maxKey:`max:${i}`}))}getData(f){return this.computeSeriesStatistics(f,c=>{let r=c.sort((i,o)=>i-o);return{min:r[0],q1:this.quantile(r,.25),median:this.quantile(r,.5),q3:this.quantile(r,.75),max:r[r.length-1]}})}quantile(f,c){let r=(f.length-1)*c,i=Math.floor(r),o=r-i;return f[i+1]!==void 0?f[i]+o*(f[i+1]-f[i]):f[i]}}h.BoxPlotChartProxy=M},6926:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RangeChartProxy=void 0;let g=S(879);class M extends g.StatisticalChartProxy{getSeries(f){let[c]=f.categories;return f.fields.map((r,i)=>({type:this.standaloneChartType,xKey:c.id,xName:c.name,yName:r.displayName??void 0,yLowName:"Min",yHighName:"Max",yLowKey:`min:${i}`,yHighKey:`max:${i}`}))}getData(f){return this.computeSeriesStatistics(f,c=>({min:Math.min(...c),max:Math.max(...c)}))}}h.RangeChartProxy=M},879:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StatisticalChartProxy=void 0;let g=S(8592),M=S(8631);class P extends M.CartesianChartProxy{getAxes(c,r){return[{type:this.getXAxisType(c),position:this.isHorizontal(r)?"left":"bottom"},{type:"number",position:this.isHorizontal(r)?"bottom":"left"}]}computeSeriesStatistics(c,r){let{data:i,fields:o}=c,[a]=c.categories,l=a.id||g.DEFAULT_CHART_CATEGORY,d=this.groupDataByCategory(l,i);return Array.from(d).map(([p,C])=>{let v={[a.id]:p};return o.forEach((b,R)=>{let x=C.map(T=>T[b.colId]).filter(T=>typeof T=="number"&&!isNaN(T)),E=r(x);for(let T of Object.keys(E)){let D=`${T}:${R}`;v[D]=x.length>0?E[T]:null}}),v})}groupDataByCategory(c,r){let i=o=>{if(c===g.DEFAULT_CHART_CATEGORY)return 1;let a=o[c];return a==null?"":a instanceof Date?a.getTime():a};return r.reduce((o,a)=>{let l=i(a),d=o.get(l);return d?d.push(a):o.set(l,[a]),o},new Map)}}h.StatisticalChartProxy=P},9208:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartDatasource=void 0;let g=S(6624),M=S(7508),P=S(8592);class f extends g.BeanStub{wireBeans(r){this.sortSvc=r.sortSvc,this.gridRowModel=r.rowModel,this.colModel=r.colModel,this.valueSvc=r.valueSvc,this.pivotResultCols=r.pivotResultCols,this.rowNodeSorter=r.rowNodeSorter}getData(r){if(r.crossFiltering){if(r.grouping)return(0,g._warn)(141),{chartData:[],colNames:{}};if(!(0,g._isClientSideRowModel)(this.gos))return(0,g._warn)(142),{chartData:[],colNames:{}}}(0,g._isServerSideRowModel)(this.gos)&&r.pivoting&&this.updatePivotKeysForSSRM();let o=this.extractRowsFromGridRowModel(r);return o.chartData=this.aggregateRowsByDimension(r,o.chartData),o}extractRowsFromGridRowModel(r){let{crossFiltering:i,startRow:o,endRow:a,valueCols:l,dimensionCols:d,grouping:p}=r,C=[],v={},b={},R={},x={},E=[],T;if(i)x=this.getFilteredRowNodes(),E=this.getAllRowNodes(),T=E.length;else{let N=this.gridRowModel.getRowCount()-1;o===a&&o===0&&d.length===0&&l.length===0?T=0:T=(a>=0?Math.min(a,N):N)-o+1}T>0&&l.forEach(N=>{let V=[],j=N.getColDef().pivotKeys;j&&(V=j.slice());let Q=N.getColDef().headerName;Q&&V.push(Q),V.length>0&&(v[N.getId()]=V)});let D=0,k=0;for(let N=0;N<T;N++){let V=i?E[N]:this.gridRowModel.getRow(N+o);if(V.footer||V.detail){D++;continue}let j={};d.forEach(Q=>{let Y=Q.colId,$=this.colModel.getCol(Y);if($){let se=this.valueSvc.getValue($,V);if(p){let W=se?.toString?String(se.toString()):"",Z=this.getGroupLabels(V,W),ee=Z.slice().reverse();j[Y]={value:ee,id:k++,toString:()=>ee.filter(Boolean).join(" - ")},V.group&&(b[Z.toString()]=N-D);let re=Z.slice(1,Z.length).toString();re&&(R[re]=b[re])}else j[Y]=se}else j[P.DEFAULT_CHART_CATEGORY]=N+1}),l.forEach(Q=>{let Y=Q.getColId();if(i){let $=Y+"-filtered-out",se=this.valueSvc.getValue(Q,V),W=se!=null&&typeof se.toNumber=="function"?se.toNumber():se;x[V.id]?(j[Y]=W,j[$]=r.aggFunc||r.isScatter?void 0:0):(j[Y]=r.aggFunc||r.isScatter?void 0:0,j[$]=W)}else{let $=this.valueSvc.getValue(Q,V);$&&Object.prototype.hasOwnProperty.call($,"toString")&&($=parseFloat($.toString())),j[Y]=$!=null&&typeof $.toNumber=="function"?$.toNumber():$}}),C.push(j)}let O;if(p){let N=Object.values(R),V=C;C=[],O=[];for(let j=0;j<V.length;j++)(N.includes(j)?O:C).push(V[j])}return{chartData:C,colNames:v,groupChartData:O}}aggregateRowsByDimension(r,i){let o=r.dimensionCols;if(!r.aggFunc||o.length===0)return i;let a=(0,g._last)(o),l=a&&a.colId,d={},p=[];return i.forEach(C=>{let v=d;o.forEach(b=>{let R=b.colId,x=C[R];if(R===l){let E=v[x];E||(E={__children:[]},o.forEach(T=>{let D=T.colId;E[D]=C[D]}),v[x]=E,p.push(E)),E.__children.push(C)}else v[x]||(v[x]={}),v=v[x]})}),this.gos.assertModuleRegistered("SharedAggregation",1)&&p.forEach(C=>r.valueCols.forEach(v=>{let b=v.getColId();if(r.crossFiltering){let R=C.__children.filter(k=>typeof k[b]<"u").map(k=>k[b]),x=(0,M._aggregateValues)(this.beans,R,r.aggFunc,v);C[b]=x&&typeof x.value<"u"?x.value:x;let E=`${b}-filtered-out`,T=C.__children.filter(k=>typeof k[E]<"u").map(k=>k[E]),D=(0,M._aggregateValues)(this.beans,T,r.aggFunc,v);C[E]=D&&typeof D.value<"u"?D.value:D}else{let R=C.__children.map(E=>E[b]),x=(0,M._aggregateValues)(this.beans,R,r.aggFunc,v);C[b]=x&&typeof x.value<"u"?x.value:x}})),p}updatePivotKeysForSSRM(){let r=this.pivotResultCols?.getPivotResultCols()?.list;if(!r)return;let i=this.extractPivotKeySeparator(r);r.forEach(o=>{if(i==="")o.getColDef().pivotKeys=[];else{let a=o.getColId().split(i);o.getColDef().pivotKeys=a.slice(0,a.length-1)}})}extractPivotKeySeparator(r){if(r.length===0)return"";let i=(a,l)=>{let d=a.getGroupId();return a.getParent()?i(a.getParent(),d):l.split(d)[1][0]},o=r[0];return o.getParent()==null?"":i(o.getParent(),o.getColId())}getGroupLabels(r,i){let o=[i];for(;r&&r.level!==0;)if(r=r.parent,r)if(r.group){let a=this.colModel.getCol(g.GROUP_AUTO_COLUMN_ID);if(a){let l=this.valueSvc.getValue(a,r),d=l?.toString?String(l.toString()):"";o.push(d)}}else o.push(r.key);return o}getFilteredRowNodes(){let r={};return this.gridRowModel.forEachNodeAfterFilterAndSort(i=>{r[i.id]=i}),r}getAllRowNodes(){let r=[];return this.gridRowModel.forEachNode(i=>{r.push(i)}),this.sortRowNodes(r)}sortRowNodes(r){let i=this.sortSvc?.getSortOptions();return!i||i.length==0||!this.rowNodeSorter?r:this.rowNodeSorter.doFullSort(r,i)}}h.ChartDatasource=f},7760:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GridChartComp=void 0;let g=S(6624),M=S(8775),P=S(3251),f=S(7216),c=S(3116),r=S(9235),i=S(7015),o=S(8995),a=S(4104),l=S(3608),d=S(3786),p=S(8592),C=S(7492),v=S(6297),b=S(4237);class R extends g.Component{wireBeans(E){this.crossFilterService=E.chartCrossFilterSvc,this.chartTranslation=E.chartTranslation,this.chartMenuSvc=E.chartMenuSvc,this.focusSvc=E.focusSvc,this.popupSvc=E.popupSvc,this.enterpriseChartProxyFactory=E.enterpriseChartProxyFactory,this.environment=E.environment}constructor(E){super(`
            <div style="height: 100%; width: 100%;">
                <div class="ag-chart" data-ref="eWrapper">
                    <div data-ref="eChartContainer" class="ag-chart-components-wrapper ag-chart-menu-hidden">
                        <div data-ref="eChart" class="ag-chart-canvas-wrapper"></div>
                        <div data-ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
                    </div>
                    <div data-ref="eMenuContainer" class="ag-chart-docked-container"></div>
                </div>
            </div>
            `),this.eChart=g.RefPlaceholder,this.eWrapper=g.RefPlaceholder,this.eChartContainer=g.RefPlaceholder,this.eMenuContainer=g.RefPlaceholder,this.eEmpty=g.RefPlaceholder,this.params=E}postConstruct(){let E={...this.params,chartType:(0,b.getCanonicalChartType)(this.params.chartType),chartThemeName:this.getThemeName()},T=this.gos.get("enableRtl");this.eWrapper.classList.add(T?"ag-rtl":"ag-ltr");let D=this.createBean(new p.ChartDataModel(E));this.chartController=this.createManagedBean(new P.ChartController(D)),this.chartOptionsService=this.createManagedBean(new v.ChartOptionsService(this.chartController)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog?this.addDialog():(this.addManagedEventListeners({gridStylesChanged:this.updateTheme.bind(this)}),this.updateTheme()),this.addMenu(),this.addManagedElementListeners(this.getGui(),{focusin:this.setActiveChartCellRange.bind(this)}),this.addManagedListeners(this.chartController,{chartModelUpdate:this.update.bind(this)}),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.update(),this.raiseChartCreatedEvent()}updateTheme(){this.environment.applyThemeClasses(this.getGui())}createChart(){let E;this.chartProxy&&(E=this.chartProxy.destroy({keepChartInstance:!0}));let T=(O,N)=>{let V=this.params.crossFilteringContext;V.lastSelectedChartId=N?"":this.chartController.getChartId(),N&&this.params.crossFilteringResetCallback(),this.crossFilterService.filter(O,N)},D=this.chartController.getChartType(),k={agChartsExports:this.beans.agChartsExports,chartType:D,chartInstance:E,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gos.get("customChartThemes"),getGridOptionsChartThemeOverrides:()=>this.getGridOptionsChartThemeOverrides(),getExtraPaddingDirections:()=>this.chartMenu?.getExtraPaddingDirections()??[],apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering??!1,crossFilterCallback:T,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:O=>this.chartTranslation.translate(O)};if(this.params.chartOptionsToRestore=void 0,this.chartType=D,this.chartProxy=this.createChartProxy(k),!this.chartProxy){(0,g._warn)(138,{chartType:k.chartType});return}this.chartController.setChartProxy(this.chartProxy),this.createMenuContext()}createMenuContext(){if(this.chartMenuContext)return;let E=this.createManagedBean(new d.ChartMenuParamsFactory(this.chartOptionsService.getChartThemeOverridesProxy())),T=this.createManagedBean(new d.ChartMenuParamsFactory(this.chartOptionsService.getAxisThemeOverridesProxy()));this.chartMenuContext={chartController:this.chartController,chartOptionsService:this.chartOptionsService,chartMenuParamsFactory:E,chartAxisMenuParamsFactory:T}}getChartThemeName(){return this.chartController.getChartThemeName()}getChartThemes(){return this.chartController.getThemeNames()}getGridOptionsChartThemeOverrides(){return this.gos.get("chartThemeOverrides")}createChartProxy(E){let{chartType:T}=E;switch(T){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new c.BarChartProxy(E);case"pie":case"donut":case"doughnut":return new a.PieChartProxy(E);case"area":case"stackedArea":case"normalizedArea":return new f.AreaChartProxy(E);case"line":case"stackedLine":case"normalizedLine":return new r.LineChartProxy(E);case"scatter":case"bubble":return new i.ScatterChartProxy(E);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new o.ComboChartProxy(E)}let D=this.enterpriseChartProxyFactory?.createChartProxy(E);if(!D)throw(0,g._errMsg)(251,{chartType:T});return D}addDialog(){let E=this.chartTranslation.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),{width:T,height:D}=this.getBestDialogSize(),k=this.params.focusDialogOnOpen?()=>setTimeout(()=>(0,g._focusInto)(this.getGui())):void 0;this.chartDialog=new M.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:E,width:T,height:D,component:this,centered:!0,closable:!0,afterGuiAttached:k,postProcessPopupParams:{type:"chart"}}),this.createBean(this.chartDialog),this.chartDialog.addEventListener("destroyed",()=>{this.destroy(),this.chartMenuSvc.hideAdvancedSettings();let O=this.focusSvc.getFocusedCell();setTimeout(()=>{this.focusSvc.isAlive()&&(O?this.focusSvc.setFocusedCell({...O,forceBrowserFocus:!0}):(0,g._focusGridInnerElement)(this.beans))})})}getBestDialogSize(){let E=this.popupSvc.getPopupParent(),T=(0,g._getAbsoluteWidth)(E)*.75,D=(0,g._getAbsoluteHeight)(E)*.75,k=.553,O=this.chartProxy.getChart(),N=this.params.insideDialog?850:O.width,V=this.params.insideDialog?470:O.height;return(N>T||V>D)&&(N=Math.min(N,T),V=Math.round(N*k),V>D&&(V=D,N=Math.min(N,Math.round(V/k)))),{width:N,height:V}}addMenu(){this.params.crossFiltering||(this.chartMenu=this.createBean(new l.ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartMenuContext)),this.eChartContainer.appendChild(this.chartMenu.getGui()))}update(E){if(E?.chartId&&!this.chartController.update(E))return;let T=this.chartTypeChanged(E),D=T||this.chartEmpty?(O=>{let N=this.chartType,V=O,j=this.chartProxy.getChart(),Q=j?.getOptions(),Y=j?.axes;return this.chartOptionsService.getPersistedChartThemeOverrides(Q,Y,N,V??N)})(T):void 0;T&&this.createChart(),D&&E?.chartThemeOverrides&&(0,g._mergeDeep)(D,E.chartThemeOverrides);let k=D??E?.chartThemeOverrides;this.updateChart(k),E?.chartId&&this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartApiUpdateEvent()})}updateChart(E){let{chartProxy:T}=this,D=this.chartController.getSelectedValueColState(),k=this.chartController.getChartData(),O=this.handleEmptyChart(k,D.length);if(this.chartEmpty=O,O){E&&this.chartController.updateThemeOverrides(E);return}let N=this.chartController.getChartUpdateParams(E);T.update(N),this.chartProxy.getChart().waitForUpdate().then(()=>{this.chartController.raiseChartUpdatedEvent()})}chartTypeChanged(E){let[T,D]=[this.chartController.getChartType(),E?.chartType],k=D?(0,b.getCanonicalChartType)(D):void 0;return this.chartType!==T?k??T:k&&T!==k?k:null}getChartModel(){return this.chartController.getChartModel()}getChartImageDataURL(E){return this.chartProxy.getChartImageDataURL(E)}handleEmptyChart(E,T){let D=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),k=this.chartController.getChartType(),O=1;this.chartController.isActiveXYChart()?O=k==="bubble"?3:2:(0,b.isHierarchical)((0,b.getSeriesType)(k))&&(O=0);let N=T<O||E.length===0;if(this.eChart){let V=D||N;(0,g._setDisplayed)(this.eChart,!V),(0,g._setDisplayed)(this.eEmpty,V)}return D?(this.eEmpty.innerText=this.chartTranslation.translate("pivotChartRequiresPivotMode"),!0):N?(this.eEmpty.innerText=this.chartTranslation.translate("noDataToChart"),!0):!1}downloadChart(E,T,D){this.chartProxy.downloadChart(E,T,D)}openChartToolPanel(E){let T=E&&C.CHART_TOOL_PANEL_MENU_OPTIONS[E];this.chartMenu.showMenu({panel:T})}closeChartToolPanel(){this.chartMenu.hideMenu()}getChartId(){return this.chartController.getChartId()}getUnderlyingChart(){return this.chartProxy.getChartRef()}crossFilteringReset(){this.chartProxy.crossFilteringReset()}setActiveChartCellRange(E){this.getGui().contains(E.relatedTarget)||this.chartController.setChartRange(!0)}getThemeName(){let E=this.gos.get("chartThemes")||P.DEFAULT_THEMES;if(E.length===0)throw new Error((0,g._errMsg)(254));let{chartThemeName:T}=this.params;return E.includes(T)?T:E[0]}getAllKeysInObjects(E){let T={};return E.filter(D=>D!=null).forEach(D=>{Object.keys(D).forEach(k=>T[k]=null)}),Object.keys(T)}validateCustomThemes(){let E=this.getChartThemes(),T=this.gos.get("customChartThemes");T&&this.getAllKeysInObjects([T]).forEach(D=>{E.includes(D)||(0,g._warn)(139,{customThemeName:D})})}reactivePropertyUpdate(){this.chartController.setChartThemeName(this.getThemeName(),!0);let E=this.getChartId(),T=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,D=this.gos.get("chartThemeOverrides")||{};this.update({type:`${T}ChartUpdate`,chartId:E,chartThemeOverrides:D})}raiseChartCreatedEvent(){this.chartProxy.getChart().waitForUpdate().then(()=>{this.eventSvc.dispatchEvent({type:"chartCreated",chartId:this.chartController.getChartId()})})}raiseChartDestroyedEvent(){this.eventSvc.dispatchEvent({type:"chartDestroyed",chartId:this.chartController.getChartId()})}destroy(){super.destroy(),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),this.onDestroyColorSchemeChangeListener?.();let E=this.getGui();(0,g._clearElement)(E),(0,g._removeFromParent)(E),this.raiseChartDestroyedEvent()}}h.GridChartComp=R},6353:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedSettingsMenuFactory=void 0;let g=S(6624),M=S(8775),P=S(5776);class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="advSettingsMenuFactory"}showMenu(i,o){this.hideMenu();let a=this.createBean(new c(i));this.activeDialog=this.createBean(new M.AgDialog({title:this.beans.chartTranslation.translate("advancedSettings"),component:a,width:300,height:400,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{(0,g._findFocusableElements)(a.getGui())[0]?.focus()},closedCallback:()=>{this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=void 0,o?.focus({preventScroll:!0})}})),this.activeMenu=a}hideMenu(){this.activeDialog&&this.destroyBean(this.activeDialog)}destroy(){this.activeMenu=this.destroyBean(this.activeMenu),this.activeDialog=this.destroyBean(this.activeDialog),super.destroy()}}h.AdvancedSettingsMenuFactory=f;class c extends g.TabGuardComp{constructor(i){super('<div class="ag-chart-advanced-settings"></div>'),this.chartMenuContext=i}postConstruct(){this.advancedSettingsPanel=this.createManagedBean(new P.AdvancedSettingsPanel(this.chartMenuContext)),this.getGui().appendChild(this.advancedSettingsPanel.getGui()),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),focusTrapActive:!0})}onTabKeyDown(i){if(i.defaultPrevented)return;i.preventDefault();let o=i.shiftKey,a=this.advancedSettingsPanel.getGui(),l=(0,g._findNextFocusableElement)(this.beans,a,!1,o);if(l)l.focus();else{let d=(0,g._findFocusableElements)(a);d.length&&d[o?d.length-1:0].focus()}}}},5776:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AdvancedSettingsPanel=void 0;let g=S(6624),M=S(4237),P=S(1299),f=S(6671),c=S(2337),r=S(2738),i=S(3320),o=["navigator","zoom","animation","crosshair"];class a extends g.Component{constructor(d){super('<div class="ag-chart-advanced-settings-wrapper"></div>'),this.chartMenuContext=d}postConstruct(){this.chartPanelFeature=this.createManagedBean(new P.ChartPanelFeature(this.chartMenuContext.chartController,this.getGui(),"ag-chart-advanced-settings-section",(d,p)=>this.createPanels(d,p))),this.chartPanelFeature.refreshPanels()}createPanels(d,p){o.forEach(C=>{if(!this.isGroupPanelShownForSeries(C,p))return;let v=this.createPanel(C);this.chartPanelFeature.addComponent(v)})}isGroupPanelShownForSeries(d,p){return d==="animation"||(0,M.isCartesian)(p)&&!(0,M.isFunnel)(p)}createPanel(d){let{chartMenuParamsFactory:p,chartAxisMenuParamsFactory:C}=this.chartMenuContext;switch(d){case"navigator":return new r.NavigatorPanel(p);case"zoom":return new i.ZoomPanel(p);case"animation":return new f.AnimationPanel(p);case"crosshair":return new c.CrosshairPanel(C)}}}h.AdvancedSettingsPanel=a},6671:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AnimationPanel=void 0;let g=S(6624),M=S(1421);class P extends g.Component{wireBeans(c){this.chartTranslation=c.chartTranslation}constructor(c){super(),this.chartMenuParamsFactory=c}postConstruct(){let c=this.chartMenuParamsFactory.addEnableParams("animation.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("animation"),suppressEnabledCheckbox:!0,useToggle:!0}),r=this.chartMenuParamsFactory.getDefaultNumberInputParams("animation.duration","durationMillis",{min:0});this.setTemplate(`<div>
            <ag-group-component data-ref="animationGroup">
                <ag-input-number-field data-ref="animationHeightInput"></ag-input>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgInputNumberFieldSelector],{animationGroup:c,animationHeightInput:r})}}h.AnimationPanel=P},2337:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CrosshairPanel=void 0;let g=S(6624),M=S(1421),P=S(1296);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuParamsFactory=r}postConstruct(){let r=this.chartMenuParamsFactory.addEnableParams("crosshair.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("crosshair"),suppressEnabledCheckbox:!0,useToggle:!0}),i=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.label.enabled","crosshairLabel"),o=this.chartMenuParamsFactory.getDefaultCheckboxParams("crosshair.snap","crosshairSnap"),a=this.chartMenuParamsFactory.getDefaultColorPickerParams("crosshair.stroke","color");this.setTemplate(`<div>
            <ag-group-component data-ref="crosshairGroup">
                <ag-checkbox data-ref="crosshairLabelCheckbox"></ag-checkbox>
                <ag-checkbox data-ref="crosshairSnapCheckbox"></ag-checkbox>
                <ag-color-picker data-ref="crosshairStrokeColorPicker"></ag-color-picker>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgCheckboxSelector,P.AgColorPickerSelector],{crosshairGroup:r,crosshairLabelCheckbox:i,crosshairSnapCheckbox:o,crosshairStrokeColorPicker:a})}}h.CrosshairPanel=f},2738:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.NavigatorPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuParamsFactory=r}postConstruct(){let r=this.chartMenuParamsFactory.addEnableParams("navigator.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("navigator"),suppressEnabledCheckbox:!0,useToggle:!0}),i=this.chartMenuParamsFactory.getDefaultSliderParams("navigator.height","height",60);i.minValue=10;let o=this.chartMenuParamsFactory.getDefaultCheckboxParams("navigator.miniChart.enabled","miniChart");this.setTemplate(`<div>
            <ag-group-component data-ref="navigatorGroup">
                <ag-slider data-ref="navigatorHeightSlider"></ag-slider>
                <ag-checkbox data-ref="navigatorMiniChartCheckbox"></ag-checkbox>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgSliderSelector,g.AgCheckboxSelector],{navigatorGroup:r,navigatorHeightSlider:i,navigatorMiniChartCheckbox:o})}}h.NavigatorPanel=f},3320:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ZoomPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuParamsFactory=r,this.zoomScrollingStepInput=g.RefPlaceholder}postConstruct(){let r=this.chartMenuParamsFactory.addEnableParams("zoom.enabled",{cssIdentifier:"charts-advanced-settings-top-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("zoom"),suppressEnabledCheckbox:!0,useToggle:!0}),i=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableScrolling","scrollingZoom"),o=this.chartMenuParamsFactory.getDefaultSliderParams("zoom.scrollingStep","scrollingStep",1);o.step=.01,o.minValue=o.step;let a=this.chartMenuParamsFactory.getDefaultCheckboxParams("zoom.enableSelecting","selectingZoom");i.onValueChange=(l=>d=>{l&&(l(d),this.zoomScrollingStepInput.setDisabled(!d))})(i.onValueChange),this.setTemplate(`<div>
            <ag-group-component data-ref="zoomGroup">
                <ag-checkbox data-ref="zoomSelectingCheckbox"></ag-checkbox>
                <ag-checkbox data-ref="zoomScrollingCheckbox"></ag-checkbox>
                <ag-slider data-ref="zoomScrollingStepInput"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgCheckboxSelector,P.AgSliderSelector],{zoomGroup:r,zoomScrollingCheckbox:i,zoomScrollingStepInput:o,zoomSelectingCheckbox:a}),this.zoomScrollingStepInput.setDisabled(!i.value)}}h.ZoomPanel=f},3608:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartMenu=void 0;let g=S(6624),M=S(7325),P=S(4967),f=S(5518);class c extends g.Component{wireBeans(i){this.chartMenuSvc=i.chartMenuSvc,this.chartMenuListFactory=i.chartMenuListFactory,this.environment=i.environment}constructor(i,o,a){super('<div class="ag-chart-menu-wrapper"></div>'),this.eChartContainer=i,this.eMenuPanelContainer=o,this.chartMenuContext=a,this.buttons={chartLink:{iconName:"linked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartUnlink:{iconName:"unlinked",callback:()=>this.chartMenuSvc.toggleLinked(this.chartMenuContext)},chartDownload:{iconName:"chartsDownload",callback:()=>this.chartMenuSvc.downloadChart(this.chartMenuContext)},chartMenu:{iconName:"chartsMenu",callback:l=>this.showMenuList(l)}},this.panels=[],this.menuVisible=!1,this.chartController=a.chartController}postConstruct(){this.chartToolbar=this.createManagedBean(new P.ChartToolbar),this.getGui().appendChild(this.chartToolbar.getGui()),this.refreshToolbarAndPanels(),this.addManagedEventListeners({chartCreated:i=>{i.chartId===this.chartController.getChartId()&&this.gos.get("chartToolPanelsDef")?.defaultToolPanel&&this.showMenu({panel:this.defaultPanel,suppressFocus:!0})}}),this.addManagedListeners(this.chartController,{chartLinkedChanged:this.refreshToolbarAndPanels.bind(this)}),this.refreshMenuClasses(),this.addManagedListeners(this.chartController,{chartApiUpdate:this.refreshToolbarAndPanels.bind(this)})}isVisible(){return this.menuVisible}getExtraPaddingDirections(){return["chartMenu","chartLink","chartUnlink","chartDownload"].some(i=>this.chartToolbarOptions.includes(i))?["top"]:[]}refreshToolbarAndPanels(){this.initToolbarOptionsAndPanels(),this.updateToolbar()}initToolbarOptionsAndPanels(){let{panels:i,defaultPanel:o}=this.chartMenuSvc.getChartToolPanels(this.chartController);this.panels=i,this.defaultPanel=o,this.chartToolbarOptions=this.chartMenuSvc.getChartToolbarOptions()}updateToolbar(){let i=this.chartToolbarOptions.map(o=>{let{iconName:a,callback:l}=this.buttons[o];return{buttonName:o,iconName:a,callback:l}});this.chartToolbar.updateParams({buttons:i})}createMenuPanel(i){let o=this.menuPanel=this.createBean(new M.AgPanel({height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new f.TabbedChartMenu(this.panels,this.chartMenuContext)),this.addManagedListeners(this.tabbedMenu,{closed:()=>{this.hideMenu()}}),this.addManagedListeners(o,{destroyed:()=>this.destroyBean(this.tabbedMenu)}),new g.AgPromise(a=>{window.setTimeout(()=>{o.setBodyComponent(this.tabbedMenu),this.tabbedMenu.showTab(i),a(o)},100)})}showContainer(i,o){this.menuPanel&&(this.menuVisible=!0,this.refreshMenuClasses(),this.tabbedMenu.showMenu(i,o))}showMenu(i){let{panel:o,eventSource:a,suppressFocus:l}=i??{};if(this.menuPanel&&!o)this.showContainer(a,l);else{let d=o||this.defaultPanel,p=this.panels.indexOf(d);p<0&&((0,g._warn)(143,{panel:o}),p=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(p),this.showContainer(a,l)):this.createMenuPanel(p).then(()=>this.showContainer(a,l))}}hideMenu(){this.menuVisible=!1,this.refreshMenuClasses()}refreshMenuClasses(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)}showMenuList(i){this.chartMenuListFactory.showMenuList({eventSource:i,showMenu:()=>this.showMenu({eventSource:i}),chartMenuContext:this.chartMenuContext})}destroy(){super.destroy(),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)}}h.ChartMenu=c},6292:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartMenuListFactory=void 0;let g=S(6624),M=S(9476);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartMenuListFactory"}wireBeans(r){this.popupSvc=r.popupSvc,this.chartMenuSvc=r.chartMenuSvc,this.chartTranslation=r.chartTranslation}showMenuList(r){let{eventSource:i,showMenu:o,chartMenuContext:a}=r,l=this.chartMenuSvc.doChartToolPanelsExist(a.chartController),d=this.mapWithStockItems(this.getMenuItems(a.chartController,l),a,o,i,l);if(!d.length)return;let p=this.createBean(new f(d));this.activeChartMenuList=p;let C=-1,v="left";this.gos.get("enableRtl")&&(C=1,v="right");let b=p.getGui();this.popupSvc.addPopup({modal:!0,eChild:b,closeOnEsc:!0,closedCallback:()=>{this.destroyBean(p),this.activeChartMenuList=void 0,(0,g._isNothingFocused)(this.beans)&&i.focus({preventScroll:!0})},afterGuiAttached:R=>p.afterGuiAttached(R),positionCallback:()=>{this.popupSvc.positionPopupByComponent({type:"chartMenu",eventSource:i,ePopup:b,alignSide:v,nudgeX:4*C,nudgeY:4,position:"under",keepWithinBounds:!0})},ariaLabel:"Chart Menu"})}getMenuItems(r,i){let o=[...i?["chartEdit"]:[],...r.isEnterprise()?["chartAdvancedSettings"]:[],r.isChartLinked()?"chartUnlink":"chartLink","chartDownload"],a=this.gos.get("chartMenuItems");return a?Array.isArray(a)?a:a((0,g._addGridCommonParams)(this.gos,{defaultItems:o})):o}mapWithStockItems(r,i,o,a,l){if(!r)return[];let d=[];return r.forEach(p=>{let C;if(typeof p=="string"?C=this.getStockMenuItem(p,i,o,a,l):C={...p},!C)return;let{subMenu:v}=C;Array.isArray(v)&&(C.subMenu=this.mapWithStockItems(v,i,o,a,l)),d.push(C)}),d}getStockMenuItem(r,i,o,a,l){switch(r){case"chartEdit":return l?this.createMenuItem(this.chartTranslation.translate("chartEdit"),"chartsMenuEdit",o):null;case"chartAdvancedSettings":return this.createMenuItem(this.chartTranslation.translate("chartAdvancedSettings"),"chartsMenuAdvancedSettings",()=>this.chartMenuSvc.openAdvancedSettings(i,a));case"chartUnlink":return i.chartController.isChartLinked()?this.createMenuItem(this.chartTranslation.translate("chartUnlink"),"unlinked",()=>this.chartMenuSvc.toggleLinked(i)):null;case"chartLink":return i.chartController.isChartLinked()?null:this.createMenuItem(this.chartTranslation.translate("chartLink"),"linked",()=>this.chartMenuSvc.toggleLinked(i));case"chartDownload":return this.createMenuItem(this.chartTranslation.translate("chartDownload"),"chartsDownload",()=>this.chartMenuSvc.downloadChart(i))}return null}createMenuItem(r,i,o){return{name:r,icon:(0,g._createIconNoSpan)(i,this.beans,null),action:o}}destroy(){this.destroyBean(this.activeChartMenuList),super.destroy()}}h.ChartMenuListFactory=P;class f extends g.Component{constructor(r){super(`
            <div data-ref="eChartsMenu" role="presentation" class="ag-menu ag-chart-menu-popup"></div>
        `),this.menuItems=r,this.eChartsMenu=g.RefPlaceholder}postConstruct(){this.mainMenuList=this.createManagedBean(new M.AgMenuList(0)),this.mainMenuList.addMenuItems(this.menuItems),this.mainMenuList.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eChartsMenu.appendChild(this.mainMenuList.getGui())}onHidePopup(){this.hidePopupFunc?.()}afterGuiAttached({hidePopup:r}){r&&(this.hidePopupFunc=r,this.addDestroyFunc(r)),(0,g._focusInto)(this.mainMenuList.getGui())}}},3786:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartMenuParamsFactory=void 0;let g=S(6624);class M extends g.BeanStub{wireBeans(f){this.chartTranslation=f.chartTranslation}constructor(f){super(),this.chartOptionsProxy=f}getDefaultColorPickerParams(f,c,r){return this.addValueParams(f,{label:this.chartTranslation.translate(c??"color"),labelWidth:"flex",inputWidth:"flex",labelAlignment:"top",pickerGap:6},r)}getDefaultNumberInputParams(f,c,r){return this.addValueParams(f,{label:this.chartTranslation.translate(c),labelAlignment:"top",labelWidth:"flex",inputWidth:"flex",precision:r?.precision,step:r?.step,min:r?.min,max:r?.max},{parseInputValue:i=>{let o=Number(i);return isNaN(o)?void 0:o},formatInputValue:i=>i==null?"":`${i}`})}getDefaultSliderParams(f,c,r,i){let o=this.chartOptionsProxy.getValue(f)??0;i&&Array.isArray(o)&&(o=o[0]);let a=this.getDefaultSliderParamsWithoutValueParams(o,c,r);return a.onValueChange=l=>this.chartOptionsProxy.setValue(f,i?[l]:l),a}getDefaultSliderParamsWithoutValueParams(f,c,r){return{label:this.chartTranslation.translate(c),minValue:0,maxValue:Math.max(f,r),textFieldWidth:45,value:`${f}`}}getDefaultCheckboxParams(f,c,r){let i=this.chartOptionsProxy.getValue(f),o={label:this.chartTranslation.translate(c),value:i,readOnly:r?.readOnly,passive:r?.passive};return o.onValueChange=a=>{this.chartOptionsProxy.setValue(f,typeof a=="boolean"?a:void 0)},o}getDefaultToggleParams(f,c,r){let i=this.chartOptionsProxy.getValue(f),o={label:this.chartTranslation.translate(c),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:i,readOnly:r?.readOnly,passive:r?.passive};return o.onValueChange=a=>{this.chartOptionsProxy.setValue(f,typeof a=="boolean"?a:void 0)},o}getDefaultSelectParams(f,c,r){return this.getDefaultSelectParamsWithoutValueParams(c,r,this.chartOptionsProxy.getValue(f),i=>{this.chartOptionsProxy.setValue(f,i)})}getDefaultSelectParamsWithoutValueParams(f,c,r,i){return{label:this.chartTranslation.translate(f),labelAlignment:"top",options:c,pickerGap:6,value:r,onValueChange:i}}getDefaultFontPanelParams(f,c){let r=i=>`${f}.${i}`;return this.addEnableParams(r("enabled"),{name:this.chartTranslation.translate(c),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this,keyMapper:r})}addValueParams(f,c,r){let i=this.chartOptionsProxy.getValue(f);return c.value=r?.formatInputValue?r.formatInputValue(i):i,c.onValueChange=o=>{let a=r?.parseInputValue?r.parseInputValue(o):o;this.chartOptionsProxy.setValue(f,a)},c}addEnableParams(f,c){return c.enabled=this.chartOptionsProxy.getValue(f)??!1,c.onEnableChange=r=>this.chartOptionsProxy.setValue(f,r),c}getChartOptions(){return this.chartOptionsProxy}}h.ChartMenuParamsFactory=M},1299:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartPanelFeature=void 0;let g=S(6624),M=S(4237);class P extends g.BeanStub{constructor(c,r,i,o){super(),this.chartController=c,this.eGui=r,this.cssClass=i,this.createPanels=o,this.panels=[]}postConstruct(){this.addManagedListeners(this.chartController,{chartUpdated:()=>this.refreshPanels(!0),chartApiUpdate:()=>this.refreshPanels(!1)})}addComponent(c){this.createBean(c),this.panels.push(c),c.addCssClass(this.cssClass),this.eGui.appendChild(c.getGui())}refreshPanels(c){let r=this.chartController.getChartType(),i=this.chartController.isGrouping(),o=(0,M.getSeriesType)(r);c&&r===this.chartType&&i===this.isGrouping||(this.destroyPanels(),this.createPanels(r,o),this.chartType=r,this.isGrouping=i)}destroyPanels(){this.panels.forEach(c=>{(0,g._removeFromParent)(c.getGui()),this.destroyBean(c)}),this.panels=[]}destroy(){this.destroyPanels(),super.destroy()}}h.ChartPanelFeature=P},4967:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartToolbar=void 0;let g=S(6624);class M extends g.Component{wireBeans(f){this.chartTranslation=f.chartTranslation}constructor(){super('<div class="ag-chart-menu" data-ref="eMenu"></div>'),this.eMenu=g.RefPlaceholder,this.buttonListenersDestroyFuncs=[]}updateParams(f){let{buttons:c}=f;this.createButtons(c)}createButtons(f){this.buttonListenersDestroyFuncs.forEach(r=>r?.()),this.buttonListenersDestroyFuncs=[];let c=this.eMenu;(0,g._clearElement)(c),f.forEach(r=>{let{buttonName:i,iconName:o,callback:a}=r,l=this.createButton(o),d=this.chartTranslation.translate(i+"ToolbarTooltip");d&&l instanceof HTMLElement&&(l.title=d),this.buttonListenersDestroyFuncs.push(...this.addManagedElementListeners(l,{click:p=>a(p.currentTarget)})),c.appendChild(l)})}createButton(f){let c=(0,g._createIconNoSpan)(f,this.beans);c.classList.add("ag-chart-menu-icon");let r=(0,g._getDocument)(this.beans).createElement("button");return r.setAttribute("type","button"),r.appendChild(c),r.classList.add("ag-chart-menu-toolbar-button"),r}destroy(){this.buttonListenersDestroyFuncs=[],super.destroy()}}h.ChartToolbar=M},2477:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CategoriesDataPanel=void 0;let g=S(6624),M=S(1421),P=S(8592),f=S(6532),c="sum";class r extends f.DragDataPanel{constructor(o,a,l,d,p){super(o,l,void 0,'<div id="categoriesGroup"></div>'),this.title=a,this.dimensionCols=d,this.isOpen=p}postConstruct(){this.groupComp=this.createBean(new M.AgGroupComponent({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.createGroup(this.dimensionCols,o=>o.displayName??"","categoryAdd","categorySelect",()=>!this.chartController.getAggFunc()),this.createAggFuncControls(this.dimensionCols),this.getGui().appendChild(this.groupComp.getGui())}refresh(o){this.valuePillSelect?.setValues(o,o.filter(a=>a.selected)),this.refreshValueSelect(o),this.refreshAggFuncControls(o,this.chartController.getAggFunc())}createAggFuncControls(o){let a=this.chartController.getAggFunc();this.groupComp.addItem(this.aggFuncToggle=this.createBean(new g.AgToggleButton({label:this.chartTranslation.translate("aggregate"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:a!=null,onValueChange:l=>{let d=l?c:void 0;this.chartController.setAggFunc(d),this.aggFuncSelect?.setValue(d,!0),this.aggFuncSelect?.setDisplayed(d!=null)}}))),this.groupComp.addItem(this.aggFuncSelect=this.createBean(new g.AgSelect({options:[{value:"sum",text:this.chartTranslation.translate("sum")},{value:"first",text:this.chartTranslation.translate("first")},{value:"last",text:this.chartTranslation.translate("last")},{value:"min",text:this.chartTranslation.translate("min")},{value:"max",text:this.chartTranslation.translate("max")},{value:"count",text:this.chartTranslation.translate("count")},{value:"avg",text:this.chartTranslation.translate("avg")}],value:typeof a=="string"?a:void 0,onValueChange:l=>{this.chartController.setAggFunc(l)}}))),this.refreshAggFuncControls(o,a)}refreshAggFuncControls(o,a){let d=o.filter(p=>p.selected).some(p=>p.colId!==P.DEFAULT_CHART_CATEGORY);this.aggFuncToggle?.setValue(a!=null),this.aggFuncSelect?.setValue(typeof a=="string"?a:void 0,!0),this.aggFuncToggle?.setDisplayed(d),this.aggFuncSelect?.setDisplayed(d&&a!=null)}clearAggFuncControls(){this.aggFuncToggle=this.destroyBean(this.aggFuncToggle),this.aggFuncSelect=this.destroyBean(this.aggFuncSelect)}destroy(){this.clearAggFuncControls(),this.groupComp=this.destroyBean(this.groupComp),super.destroy()}}h.CategoriesDataPanel=r},1504:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartDataPanel=void 0;let g=S(6624),M=S(4237),P=S(2477),f=S(5524),c=S(1625),r=S(3365),i={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0},{type:"chartSpecific",isOpen:!0}]};class o extends g.Component{wireBeans(l){this.chartTranslation=l.chartTranslation,this.chartSvc=l.chartSvc}constructor(l){super('<div class="ag-chart-data-wrapper ag-scrollable-container"></div>'),this.chartMenuContext=l,this.isSwitchCategorySeriesToggled=!1,this.restoreSwitchCategorySeriesToggleFocus=!1,this.panels=[],this.chartController=l.chartController}postConstruct(){this.createSwitchCategorySeriesToggle(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched(),this.updatePanels();let l=this.updatePanels.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:l,chartApiUpdate:l})}destroy(){this.clearPanelComponents(),super.destroy()}updatePanels(){let l=this.chartType,d=this.isSwitchCategorySeriesToggled,{dimensionCols:p,valueCols:C}=this.chartController.getColStateForMenu();this.chartType=this.chartController.getChartType(),this.isSwitchCategorySeriesToggled=this.chartController.isCategorySeriesSwitched();let v=this.isSwitchCategorySeriesToggled!==d;this.canRefresh(l,this.chartType)&&!v?(this.categoriesDataPanel?.refresh(p),this.seriesDataPanel?.refresh(C),this.seriesChartTypePanel?.refresh(C),this.chartSpecificPanel?.refresh()):this.recreatePanels(p,C);let b=(0,M.supportsInvertedCategorySeries)(this.chartType)&&this.chartSvc.isEnterprise()&&!this.chartController.isGrouping();(0,g._setDisplayed)(this.switchCategorySeriesToggle.getGui(),b),v&&this.switchCategorySeriesToggle?.setValue(this.chartController.isCategorySeriesSwitched()),this.restoreSwitchCategorySeriesToggleFocus&&(this.restoreSwitchCategorySeriesToggleFocus=!1,b&&this.switchCategorySeriesToggle.getFocusableElement().focus())}canRefresh(l,d){if(l===void 0)return!1;if(l===d)return!0;let p=C=>["columnLineCombo","areaColumnCombo","customCombo"].includes(C);return!!(p(l)&&p(d))}recreatePanels(l,d){this.clearPanelComponents();let{chartType:p}=this;if(!p)return;let C=this.chartController.isCategorySeriesSwitched();this.getDataPanelDef().groups?.forEach(({type:v,isOpen:b})=>{v===(C?"series":"categories")?(this.categoriesDataPanel=this.createBean(new P.CategoriesDataPanel(this.chartController,this.getCategoryGroupTitle(C),this.getCategoryGroupMultipleSelect(p,C),l,b)),this.panels.push(this.categoriesDataPanel)):v===(C?"categories":"series")?(this.seriesDataPanel=this.createBean(new r.SeriesDataPanel(this.chartController,this.chartMenuContext.chartOptionsService,this.getSeriesGroupTitle(C),this.getSeriesGroupMultipleSelect(p,C),this.getSeriesGroupMaxSelection(p,C),d,b)),this.panels.push(this.seriesDataPanel)):v==="seriesChartType"?this.chartController.isComboChart()&&(this.seriesChartTypePanel=this.createBean(new c.SeriesChartTypePanel(this.chartController,d,b)),this.panels.push(this.seriesChartTypePanel)):v==="chartSpecific"?(this.chartSpecificPanel=this.createBean(new f.ChartSpecificDataPanel(this.chartMenuContext,b)),this.panels.push(this.chartSpecificPanel)):(0,g._warn)(144,{type:v})}),(C?this.categoriesDataPanel:this.seriesDataPanel)?.addItem(this.switchCategorySeriesToggle.getGui()),this.addPanelComponents()}addPanelComponents(){if(!this.panels.length)return;let d=(0,g._getDocument)(this.beans).createDocumentFragment();for(let p of this.panels)p.addCssClass("ag-chart-data-section"),d.appendChild(p.getGui());this.getGui().appendChild(d)}clearPanelComponents(){let l=this.getGui();this.panels.forEach(d=>{l.removeChild(d.getGui()),this.destroyBean(d)}),this.panels=[]}getDataPanelDef(){return this.gos.get("chartToolPanelsDef")?.dataPanel??i}getCategoryGroupTitle(l){return l?this.chartTranslation.translate("seriesLabels"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"labels":"categories")}getCategoryGroupMultipleSelect(l,d){return d?!1:(0,M.getMaxNumCategories)(l)!==1}getSeriesGroupTitle(l){return l?this.chartTranslation.translate("categoryValues"):this.chartTranslation.translate(this.chartController.isActiveXYChart()?"xyValues":"series")}getSeriesGroupMultipleSelect(l,d){return this.getSeriesGroupMaxSelection(l,d)!==1}getSeriesGroupMaxSelection(l,d){if(!d)return(0,M.getMaxNumSeries)(l)}createSwitchCategorySeriesToggle(){this.switchCategorySeriesToggle=this.createManagedBean(new g.AgToggleButton({label:this.chartTranslation.translate("switchCategorySeries"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartController.isCategorySeriesSwitched(),onValueChange:l=>{this.restoreSwitchCategorySeriesToggleFocus=!0,this.chartController.switchCategorySeries(l)}}))}}h.ChartDataPanel=o},5524:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartSpecificDataPanel=void 0;let g=S(6624),M=S(1421),P=S(4237),f=S(3786);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation,this.chartSvc=i.chartSvc}constructor(i,o){super(),this.chartMenuContext=i,this.isOpen=o,this.chartSpecificGroup=g.RefPlaceholder,this.hasContent=!1}postConstruct(){let o={title:this.getTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen,items:[...this.createDirectionSelect(),this.createReverseSelect(),this.createGroupTypeSelect()]};this.setTemplate(`
            <div id="chartSpecificGroup">
                <ag-group-component data-ref="chartSpecificGroup"></ag-group-component>
            </div>`,[M.AgGroupComponentSelector],{chartSpecificGroup:o}),this.setDisplayed(this.hasContent)}refresh(){this.hasContent=!1,this.chartSpecificGroup.setTitle(this.getTitle()),this.updateDirectionSelect(),this.updateReverseSelect(),this.updateGroupTypeSelect(),this.setDisplayed(this.hasContent)}getTitle(){let i=this.chartMenuContext.chartController.getChartType();return this.chartTranslation.translate((0,P.getFullChartNameTranslationKey)(i))}createDirectionSelect(){if(!this.chartSvc.isEnterprise())return[];let{chartOptionsService:i,chartController:o}=this.chartMenuContext,a=i.getSeriesOptionsProxy(()=>(0,P.getSeriesType)(o.getChartType())),l=this.createManagedBean(new f.ChartMenuParamsFactory(a)),d=["horizontal","vertical"].map(v=>({value:v,text:this.chartTranslation.translate(v)})),p=l.getDefaultSelectParams("direction","direction",d),C=p.onValueChange;return p.onValueChange=v=>{C(v),o.raiseChartModelUpdateEvent()},this.directionSelect=this.createManagedBean(new g.AgSelect(p)),this.updateDirectionSelect(),[this.directionSelect]}createReverseSelect(){let{chartMenuParamsFactory:i}=this.chartMenuContext,o=i.getDefaultToggleParams("series.reverse","reverse");return this.reverseToggle=this.createManagedBean(new g.AgToggleButton(o)),this.updateReverseSelect(),this.reverseToggle}updateReverseSelect(){let i=this.chartMenuContext.chartController.getChartType()==="pyramid";this.updateDisplayed(this.reverseToggle,i)}updateDirectionSelect(){let i=(0,P.canSwitchDirection)(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.directionSelect,i)}createGroupTypeSelect(){let{chartController:i,chartMenuParamsFactory:o}=this.chartMenuContext;return this.groupTypeSelect=this.createManagedBean(new g.AgSelect(o.getDefaultSelectParamsWithoutValueParams("seriesGroupType",P.SERIES_GROUP_TYPES.map(a=>({value:a,text:this.chartTranslation.translate(`${a}SeriesGroupType`)})),i.getSeriesGroupType(),a=>i.setSeriesGroupType(a)))),this.updateGroupTypeSelect(),this.groupTypeSelect}updateGroupTypeSelect(){let i=["radialColumn","radialBar","nightingale"].includes(this.chartMenuContext.chartController.getChartType());this.updateDisplayed(this.groupTypeSelect,i)}updateDisplayed(i,o){i?.setDisplayed(o),i&&(this.hasContent=this.hasContent||o)}}h.ChartSpecificDataPanel=c},6532:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DragDataPanel=void 0;let g=S(6624),M=S(2406),P=S(8592);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r,i,o,a){super(a),this.chartController=r,this.allowMultipleSelection=i,this.maxSelection=o}addItem(r){this.groupComp.addItem(r)}createGroup(r,i,o,a,l){if(this.allowMultipleSelection){let d=r.filter(p=>p.selected);this.valuePillSelect=this.groupComp.createManagedBean(new M.AgPillSelect({valueList:r,selectedValueList:d,valueFormatter:i,selectPlaceholder:this.chartTranslation.translate(o),dragSourceId:a,onValuesChange:p=>this.onValueChange(p),maxSelection:this.maxSelection})),this.groupComp.addItem(this.valuePillSelect)}else{let d=this.createValueSelectParams(r);d.onValueChange=p=>{r.forEach(C=>{C.selected=!1}),p.selected=!0,p.colId===P.DEFAULT_CHART_CATEGORY&&this.chartController.setAggFunc(void 0,!0),this.chartController.updateForPanelChange({updatedColState:p,skipAnimation:l?.()})},this.valueSelect=this.groupComp.createManagedBean(new g.AgSelect(d)),this.groupComp.addItem(this.valueSelect)}}refreshValueSelect(r){if(!this.valueSelect)return;let{options:i,value:o}=this.createValueSelectParams(r);this.valueSelect.clearOptions().addOptions(i).setValue(o,!0)}createValueSelectParams(r){let i;return{options:r.map(a=>{let l=a.displayName??"";return a.selected&&(i=a),{value:a,text:l}}),value:i}}onValueChange({added:r,updated:i,removed:o,selected:a}){let l,d,p=()=>{a.forEach((C,v)=>{C.order=v}),d=!0};r.length?(l=r[0],l.selected=!0,p()):o.length?(l=o[0],l.selected=!1):i.length&&(p(),l=i[0]),l&&this.chartController.updateForPanelChange({updatedColState:l,resetOrder:d})}destroy(){this.valuePillSelect=void 0,this.valueSelect=void 0,super.destroy()}}h.DragDataPanel=f},1625:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SeriesChartTypePanel=void 0;let g=S(6624),M=S(1421),P=S(4237);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r,i,o){super('<div id="seriesChartTypeGroup"></div>'),this.chartController=r,this.columns=i,this.isOpen=o,this.selectedColIds=[],this.chartTypeComps=new Map,this.secondaryAxisComps=new Map}postConstruct(){this.createSeriesChartTypeGroup(this.columns)}refresh(r){(0,g._areEqual)(this.getValidColIds(r),this.selectedColIds)?this.refreshComps():this.recreate(r)}recreate(r){this.isOpen=this.seriesChartTypeGroupComp.isExpanded(),(0,g._clearElement)(this.getGui()),this.destroyBean(this.seriesChartTypeGroupComp),this.columns=r,this.selectedColIds=[],this.clearComps(),this.postConstruct()}getValidColIds(r){let i=this.chartController.getSeriesChartTypes();return r.filter(o=>o.selected&&!!i.filter(a=>a.colId===o.colId)[0]).map(({colId:o})=>o)}createSeriesChartTypeGroup(r){this.seriesChartTypeGroupComp=this.createBean(new M.AgGroupComponent({title:this.chartTranslation.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen}));let i=this.chartController.getSeriesChartTypes();r.forEach(o=>{if(!o.selected)return;let a=i.filter(b=>b.colId===o.colId)[0];if(!a)return;this.selectedColIds.push(o.colId);let l=this.seriesChartTypeGroupComp.createManagedBean(new M.AgGroupComponent({title:o.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),d=b=>["groupedColumn","stackedColumn","stackedArea"].includes(b),p=this.seriesChartTypeGroupComp.createManagedBean(new g.AgCheckbox({label:this.chartTranslation.translate("secondaryAxis"),labelWidth:"flex",disabled:d(a.chartType),value:!!a.secondaryAxis,onValueChange:b=>this.chartController.updateSeriesChartType(o.colId,void 0,b)}));l.addItem(p);let C=["line","area","stackedArea","groupedColumn","stackedColumn"].map(b=>({value:b,text:this.chartTranslation.translate((0,P.getFullChartNameTranslationKey)(b))})),v=l.createManagedBean(new g.AgSelect({options:C,value:a.chartType,onValueChange:b=>this.chartController.updateSeriesChartType(o.colId,b)}));l.addItem(v),this.seriesChartTypeGroupComp.addItem(l),this.chartTypeComps.set(o.colId,v),this.secondaryAxisComps.set(o.colId,p)}),this.getGui().appendChild(this.seriesChartTypeGroupComp.getGui())}refreshComps(){let r=this.chartController.getSeriesChartTypes();this.selectedColIds.forEach(i=>{let o=r.find(d=>d.colId===i);if(!o)return;let a=this.chartTypeComps.get(i),l=this.secondaryAxisComps.get(i);a?.setValue(o.chartType),l?.setValue(!!o.secondaryAxis),l?.setDisabled(this.isSecondaryAxisDisabled(o.chartType))})}clearComps(){this.chartTypeComps.clear(),this.secondaryAxisComps.clear()}isSecondaryAxisDisabled(r){return["groupedColumn","stackedColumn","stackedArea"].includes(r)}destroy(){this.clearComps(),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),super.destroy()}}h.SeriesChartTypePanel=f},3365:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SeriesDataPanel=void 0;let g=S(6624),M=S(1421),P=S(6532);class f extends P.DragDataPanel{constructor(r,i,o,a,l,d,p){super(r,a,l,'<div id="seriesGroup"></div>'),this.chartOptionsService=i,this.title=o,this.valueCols=d,this.isOpen=p}postConstruct(){if(this.groupComp=this.createBean(new M.AgGroupComponent({title:this.title,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data",expanded:this.isOpen})),this.chartController.isActiveXYChart()){let r=this.groupComp.createManagedBean(new g.AgToggleButton({label:this.chartTranslation.translate("paired"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex",value:this.chartOptionsService.getPairedMode(),onValueChange:i=>{this.chartOptionsService.setPairedMode(!!i),this.chartController.updateForGridChange({maintainColState:!0})}}));this.groupComp.addItem(r)}this.createGroup(this.valueCols,this.generateGetSeriesLabel(this.valueCols),"seriesAdd","seriesSelect"),this.getGui().appendChild(this.groupComp.getGui())}refresh(r){this.valuePillSelect?.setValueFormatter(this.generateGetSeriesLabel(r)),this.valuePillSelect?.setValues(r,r.filter(i=>i.selected)),this.refreshValueSelect(r)}generateGetSeriesLabel(r){if(!this.chartController.isActiveXYChart())return d=>d.displayName??"";let i=r.filter(d=>d.selected),o=this.chartController.getChartType()==="bubble",a=this.chartOptionsService.getPairedMode(),l=new Map;return l.set(0,"X"),l.set(1,"Y"),l.set(2,"size"),d=>{let p=d.displayName??"";if(!d.selected)return p;let C=i.indexOf(d);if(C===-1)return p;let v;return a?v=l.get(C%(o?3:2)):C===0?v="X":v=o&&C%2===0?"size":"Y",`${p} (${v})`}}destroy(){this.groupComp=this.destroyBean(this.groupComp),super.destroy()}}h.SeriesDataPanel=f},5248:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AxisTicksPanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i,this.axisTicksSizeSlider=g.RefPlaceholder}postConstruct(){let{chartMenuUtils:i}=this,o=i.addEnableParams("tick.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("ticks"),suppressEnabledCheckbox:!0,useToggle:!0}),a=i.getDefaultColorPickerParams("tick.stroke"),l=i.getDefaultSliderParams("tick.width","width",10),d=i.getDefaultSliderParams("tick.size","length",30);this.setTemplate(`<div>
            <ag-group-component data-ref="axisTicksGroup">
                <ag-color-picker data-ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider data-ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider data-ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{axisTicksGroup:o,axisTicksColorPicker:a,axisTicksWidthSlider:l,axisTicksSizeSlider:d})}setTickSizeSliderDisplayed(i){this.axisTicksSizeSlider.setDisplayed(i)}}h.AxisTicksPanel=c},5002:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CartesianAxisPanel=void 0;let g=S(6624),M=S(1421),P=S(1750),f=S(1296),c=S(5e3),r=S(3786),i=S(7730),o=S(5248),a=S(4513),l="%d %B %Y";class d extends g.Component{wireBeans(C){this.chartTranslation=C.chartTranslation}constructor(C,v){super(),this.axisType=C,this.options=v,this.axisGroup=g.RefPlaceholder,this.axisTypeSelect=g.RefPlaceholder,this.axisPositionSelect=g.RefPlaceholder,this.axisTimeFormatSelect=g.RefPlaceholder,this.activePanels=[],this.updateFuncs=[];let{chartOptionsService:b,seriesType:R,chartController:x}=v;this.chartOptionsService=b,this.chartController=x,this.chartOptionsSeriesProxy=b.getSeriesOptionsProxy(()=>R)}postConstruct(){let{isExpandedOnInit:C,chartOptionsService:v,registerGroupComponent:b}=this.options,R=this.axisType,x={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate(R),expanded:C,suppressEnabledCheckbox:!0},E=v.getCartesianAxisOptionsProxy(this.axisType),T=this.createManagedBean(new r.ChartMenuParamsFactory(E)),D=this.createManagedBean(new r.ChartMenuParamsFactory(v.getCartesianAxisThemeOverridesProxy(this.axisType))),k=this.getAxisTypeSelectParams(T,v.getCartesianAxisAppliedThemeOverridesProxy(this.axisType)),O=this.getAxisPositionSelectParams(T),N=this.getAxisTimeFormatSelectParams(T),V=this.getAxisColorInputParams(D),j=this.getAxisLineWidthSliderParams(D);this.setTemplate(`<div>
            <ag-group-component data-ref="axisGroup">
                <ag-select data-ref="axisTypeSelect"></ag-select>
                <ag-select data-ref="axisTimeFormatSelect"></ag-select>
                <ag-select data-ref="axisPositionSelect"></ag-select>
                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>
                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgSelectSelector,f.AgColorPickerSelector,c.AgSliderSelector],{axisGroup:x,axisTypeSelect:k??void 0,axisPositionSelect:O??void 0,axisTimeFormatSelect:N??void 0,axisColorInput:V,axisLineWidthSlider:j}),b(this.axisGroup),this.axisTypeSelect.setDisplayed(!!k.options?.length),O||this.removeTemplateComponent(this.axisPositionSelect);let Q=()=>{let $=E.getValue("type")==="time";(0,g._setDisplayed)(this.axisTimeFormatSelect.getGui(),$)};N?(Q(),this.addManagedEventListeners({chartOptionsChanged:()=>{Q()}})):this.removeTemplateComponent(this.axisTimeFormatSelect),this.initGridLines(D),this.initAxisTicks(D),this.initAxisLabels(D);let Y=()=>this.updateFuncs.forEach($=>$());this.addManagedListeners(this.chartController,{chartUpdated:Y,chartModelUpdate:()=>setTimeout(()=>{this.isAlive()&&(this.refreshAxisTypeSelect(T),Q())})})}getAxisTypeSelectParams(C,v){let b=C.getChartOptions(),R=this.getAxisTypeSelectOptions(),x=C.getDefaultSelectParams("type","axisType",R);return x.onValueChange=E=>{let T=b.getValue("type");if(E===T)return;let D=v.getValue("*"),k=T==="time",O=E==="time",N=k!==O?O?l:void 0:null;if(this.chartOptionsService.setCartesianCategoryAxisType(this.axisType,E),N!==null){let V=b.getValue("label")??{};b.setValue("label",{...V,format:N})}v.setValue("*",D)},x}refreshAxisTypeSelect(C){let v=this.getAxisTypeSelectOptions(),b=!!v.length;this.axisTypeSelect.setDisplayed(b),b&&this.axisTypeSelect.clearOptions().addOptions(v).setValue(C.getChartOptions().getValue("type"))}getAxisTypeSelectOptions(){let C=this.chartController,v=C.getChartType(),b=()=>{let R=C.getChartData()[0];return R?C.getSelectedDimensions().every(x=>!isNaN(parseFloat(R[x.colId]))):!1};return["heatmap","histogram","boxPlot","rangeBar","scatter","bubble"].includes(v)||C.isGrouping()||!this.isCategoryAxis()||C.isCategorySeriesSwitched()||!b()?[]:["category","number","time"].map(R=>({value:R,text:this.translate(R)}))}isCategoryAxis(){let C=this.chartOptionsSeriesProxy.getValue("direction")==="horizontal";return C&&this.axisType==="yAxis"||!C&&this.axisType==="xAxis"}getAxisPositionSelectParams(C){let v=((b,R)=>{switch(b){case"heatmap":return null;default:switch(R){case"xAxis":return[{value:"top",text:this.translate("top")},{value:"bottom",text:this.translate("bottom")}];case"yAxis":return[{value:"left",text:this.translate("left")},{value:"right",text:this.translate("right")}]}}})(this.chartController.getChartType(),this.axisType);return v?C.getDefaultSelectParams("position","position",v):null}getAxisTimeFormatSelectParams(C){if(!this.isCategoryAxis())return null;let v=[{value:"%d/%m/%Y",text:this.translate("timeFormatSlashesDDMMYYYY")},{value:"%m/%d/%Y",text:this.translate("timeFormatSlashesMMDDYYYY")},{value:"%d/%m/%y",text:this.translate("timeFormatSlashesDDMMYY")},{value:"%m/%d/%y",text:this.translate("timeFormatSlashesMMDDYY")},{value:"%d.%e.%y",text:this.translate("timeFormatDotsDDMYY")},{value:"%e.%d.%y",text:this.translate("timeFormatDotsMDDYY")},{value:"%Y-%m-%d",text:this.translate("timeFormatDashesYYYYMMDD")},{value:"%d %B %Y",text:this.translate("timeFormatSpacesDDMMMMYYYY")},{value:"%H:%M:%S",text:this.translate("timeFormatHHMMSS")},{value:"%I:%M:%S %p",text:this.translate("timeFormatHHMMSSAmPm")}];return C.getDefaultSelectParams("label.format","timeFormat",v)}getAxisColorInputParams(C){return C.getDefaultColorPickerParams("line.stroke")}getAxisLineWidthSliderParams(C){let v=C.getChartOptions(),b=()=>v.getValue("line.enabled")?v.getValue("line.width"):null,R=E=>{v.setValues([{expression:"line.enabled",value:E!=null},{expression:"line.width",value:E??0}])},x=C.getDefaultSliderParamsWithoutValueParams(b()??0,"thickness",10);return x.onValueChange=E=>{R(E===0?null:E)},x}initGridLines(C){if(this.chartController.getChartType()==="heatmap")return;let b=this.createBean(new a.GridLinePanel(C));this.axisGroup.addItem(b),this.activePanels.push(b)}initAxisTicks(C){if(!this.hasConfigurableAxisTicks())return;let v=this.createBean(new o.AxisTicksPanel(C));this.axisGroup.addItem(v),this.activePanels.push(v);let b=()=>v.setTickSizeSliderDisplayed(this.isGroupedCategoryAxis());this.updateFuncs.push(b),b()}hasConfigurableAxisTicks(){switch(this.chartController.getChartType()){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}}initAxisLabels(C){let v={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:C,keyMapper:R=>`label.${R}`},b=this.createBean(new i.FontPanel(v));this.axisGroup.addItem(b),this.activePanels.push(b),this.addAdditionalLabelComps(b,C)}addAdditionalLabelComps(C,v){this.addLabelPadding(C,v);let b=this.createRotationWidget("labelRotation",v),R=this.initLabelRotation(b,v);C.addItem(R),C.addItem(b)}initLabelRotation(C,v){let b=v.getChartOptions(),R=()=>b.getValue("label.rotation"),x=()=>b.getValue("label.autoRotate"),E=N=>{N&&(this.prevRotation=R()),b.setValues([{expression:"label.autoRotate",value:N},{expression:"label.rotation",value:N?void 0:this.prevRotation}]),C.setDisplayed(!N)},D=typeof R()=="number"?!1:x(),k=this.createBean(new g.AgCheckbox({label:this.translate("autoRotate"),value:D,onValueChange:E}));C.setDisplayed(!D);let O=()=>k.setDisplayed(this.isGroupedCategoryAxis());return this.updateFuncs.push(O),O(),k}createRotationWidget(C,v){let b=v.getChartOptions(),R=()=>b.getValue("label.rotation"),x=k=>b.setValue("label.rotation",k),T=`${this.chartTranslation.translate(C)} \xB0`,D=new P.AgAngleSelect({label:T,labelWidth:"flex",value:R()??0,onValueChange:x});return this.updateFuncs.push(()=>{D.setValue(R()??0)}),this.createBean(D)}isGroupedCategoryAxis(){return this.chartOptionsService.getCartesianAxisOptionsProxy(this.axisType).getValue("type")==="grouped-category"?!this.isCategoryAxis():!0}addLabelPadding(C,v){let b=this.createBean(new c.AgSlider(v.getDefaultSliderParams("label.spacing","padding",30)));C.addItem(b)}translate(C){return this.chartTranslation.translate(C)}removeTemplateComponent(C){(0,g._removeFromParent)(C.getGui()),this.destroyBean(C)}destroyActivePanels(){this.activePanels.forEach(C=>{(0,g._removeFromParent)(C.getGui()),this.destroyBean(C)})}destroy(){this.destroyActivePanels(),super.destroy()}}h.CartesianAxisPanel=d},4513:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GridLinePanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i,this.chartOptions=i.getChartOptions()}postConstruct(){let i=this.chartMenuUtils.addEnableParams("gridLine.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("gridLines"),suppressEnabledCheckbox:!0,useToggle:!0}),o=this.getGridLineColorPickerParams("color"),a=this.getGridLineWidthSliderParams("thickness"),l=this.getGridLineDashSliderParams("lineDash");this.setTemplate(`<div>
            <ag-group-component data-ref="gridLineGroup">
                <ag-color-picker data-ref="gridLineColorPicker"></ag-color-picker>
                <ag-slider data-ref="gridLineWidthSlider"></ag-slider>
                <ag-slider data-ref="gridLineLineDashSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{gridLineGroup:i,gridLineColorPicker:o,gridLineWidthSlider:a,gridLineLineDashSlider:l})}getGridLineColorPickerParams(i){return this.chartMenuUtils.getDefaultColorPickerParams("gridLine.style",i,{formatInputValue:o=>o?.[0]?.stroke,parseInputValue:o=>{let a=this.chartOptions.getValue("gridLine.style")??[];return a.length===0?[{stroke:o,lineDash:[]}]:[{...a[0],stroke:o}]}})}getGridLineWidthSliderParams(i){return this.chartMenuUtils.getDefaultSliderParams("gridLine.width",i,10)}getGridLineDashSliderParams(i){let a=this.chartOptions.getValue("gridLine.style")?.[0]?.lineDash?.[0],l=this.chartMenuUtils.getDefaultSliderParamsWithoutValueParams(a??0,i,30);return l.onValueChange=d=>{let p=this.chartOptions.getValue("gridLine.style.0.stroke");this.chartOptions.setValue("gridLine.style",[{lineDash:[d],stroke:p}])},l}}h.GridLinePanel=c},956:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PolarAxisPanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3),c=S(4237),r=S(7730);class i extends g.Component{wireBeans(a){this.chartTranslation=a.chartTranslation}constructor(a){super(),this.options=a,this.axisGroup=g.RefPlaceholder}postConstruct(){let{isExpandedOnInit:a,chartAxisMenuParamsFactory:l,registerGroupComponent:d}=this.options,p={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("polarAxis"),expanded:a,suppressEnabledCheckbox:!0},C=l.getDefaultColorPickerParams("line.stroke"),v=l.getDefaultSliderParams("line.width","thickness",10);this.setTemplate(`<div>
            <ag-group-component data-ref="axisGroup">
                <ag-color-picker data-ref="axisColorInput"></ag-color-picker>
                <ag-slider data-ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{axisGroup:p,axisColorInput:C,axisLineWidthSlider:v}),d(this.axisGroup),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()}initAxis(){let a=this.options.chartController.getChartType();if(["radarLine","radarArea"].includes(a)){let d=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.createSelect({labelKey:"shape",options:d,property:"shape"}))}a!=="pie"&&this.axisGroup.addItem(this.createSlider({labelKey:"innerRadius",defaultMaxValue:1,property:"innerRadiusRatio"}))}initAxisLabels(){let a={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:this.options.chartAxisMenuParamsFactory,keyMapper:p=>`label.${p}`},l=this.createManagedBean(new r.FontPanel(a)),d=this.createOrientationWidget();l.addItem(d),this.axisGroup.addItem(l)}createOrientationWidget(){let a=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.createSelect({labelKey:"orientation",options:a,property:"label.orientation"})}initRadiusAxis(){let a=(0,c.getSeriesType)(this.options.chartController.getChartType());if(!(0,c.isRadial)(a))return;let l=[this.createSlider({labelKey:"groupPadding",defaultMaxValue:1,property:"paddingInner"}),this.createSlider({labelKey:"seriesPadding",defaultMaxValue:1,property:"groupPaddingInner"})],d=this.createManagedBean(new M.AgGroupComponent({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding"),items:l})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);this.axisGroup.addItem(d)}createSlider(a){let{labelKey:l,defaultMaxValue:d,step:p=.05,property:C}=a,v=this.options.chartAxisMenuParamsFactory.getDefaultSliderParams(C,l,d);return v.step=p,this.createManagedBean(new f.AgSlider(v))}createSelect(a){let{labelKey:l,options:d,property:p}=a;return this.createManagedBean(new g.AgSelect(this.options.chartAxisMenuParamsFactory.getDefaultSelectParams(p,l,d)))}translate(a){return this.chartTranslation.translate(a)}}h.PolarAxisPanel=i},4742:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BackgroundPanel=void 0;let g=S(6624),M=S(1421),P=S(1296);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuUtils=r}postConstruct(){let r=this.chartMenuUtils.addEnableParams("background.visible",{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("background"),suppressEnabledCheckbox:!0,useToggle:!0}),i=this.chartMenuUtils.getDefaultColorPickerParams("background.fill");this.setTemplate(`<div>
            <ag-group-component data-ref="chartBackgroundGroup">
                <ag-color-picker data-ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector],{chartBackgroundGroup:r,colorPicker:i})}}h.BackgroundPanel=f},3628:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartPanel=void 0;let g=S(6624),M=S(1421),P=S(4742),f=S(2567);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.options=i,this.chartGroup=g.RefPlaceholder}postConstruct(){let{chartController:i,chartMenuParamsFactory:o,isExpandedOnInit:a,registerGroupComponent:l}=this.options,d={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartStyle"),expanded:a,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new f.PaddingPanel(o,i)),this.createManagedBean(new P.BackgroundPanel(o))]};this.setTemplate(`<div>
            <ag-group-component data-ref="chartGroup"></ag-group-component>
        </div>`,[M.AgGroupComponentSelector],{chartGroup:d}),l(this.chartGroup)}}h.ChartPanel=c},2567:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PaddingPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r,i){super(),this.chartMenuUtils=r,this.chartController=i,this.paddingTopSlider=g.RefPlaceholder}postConstruct(){let r={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("padding"),suppressEnabledCheckbox:!0},i=o=>this.chartMenuUtils.getDefaultSliderParams("padding."+o,o,200);this.setTemplate(`<div>
            <ag-group-component data-ref="chartPaddingGroup">
                <ag-slider data-ref="paddingTopSlider"></ag-slider>
                <ag-slider data-ref="paddingRightSlider"></ag-slider>
                <ag-slider data-ref="paddingBottomSlider"></ag-slider>
                <ag-slider data-ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`,[M.AgGroupComponentSelector,P.AgSliderSelector],{chartPaddingGroup:r,paddingTopSlider:i("top"),paddingRightSlider:i("right"),paddingBottomSlider:i("bottom"),paddingLeftSlider:i("left")}),this.addManagedEventListeners({chartOptionsChanged:o=>{this.updateTopPadding(o.chartOptions)}})}updateTopPadding(r){let i=[...this.chartController.getChartSeriesTypes(),"common"].map(o=>r?.[o]?.padding?.top).find(o=>o!=null);i!=null&&this.paddingTopSlider.setValue(`${i}`)}}h.PaddingPanel=f},7730:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FontPanel=void 0;let g=S(6624),M=S(1421),P=S(1296);function f(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()}class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.params=i,this.fontGroup=g.RefPlaceholder,this.activeComps=[],this.chartOptions=i.chartMenuParamsFactory.getChartOptions()}postConstruct(){let{cssIdentifier:i="charts-format-sub-level",name:o,enabled:a,onEnableChange:l,suppressEnabledCheckbox:d,chartMenuParamsFactory:p,keyMapper:C}=this.params,v={cssIdentifier:i,direction:"vertical",suppressOpenCloseIcons:!0,title:o,enabled:a,suppressEnabledCheckbox:!0,onEnableChange:b=>{l&&l(b)},useToggle:!d};this.setTemplate(`<div class="ag-font-panel">
        <ag-group-component data-ref="fontGroup">
            <ag-select data-ref="familySelect"></ag-select>
            <ag-select data-ref="weightStyleSelect"></ag-select>
            <div class="ag-charts-font-size-color">
                <ag-select data-ref="sizeSelect"></ag-select>
                <ag-color-picker data-ref="colorPicker"></ag-color-picker>
            </div>
        </ag-group-component>
    </div>`,[M.AgGroupComponentSelector,g.AgSelectSelector,P.AgColorPickerSelector],{fontGroup:v,familySelect:this.getFamilySelectParams(),weightStyleSelect:this.getWeightStyleSelectParams(),sizeSelect:this.getSizeSelectParams(),colorPicker:p.getDefaultColorPickerParams(C("color"))}),this.addOrRemoveCssClass("ag-font-panel-no-header",!o)}addItem(i,o){o?this.fontGroup.prependItem(i):this.fontGroup.addItem(i),this.activeComps.push(i)}setEnabled(i){this.fontGroup.setEnabled(i)}getFamilySelectParams(){let i=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.getInitialFontValue("fontFamily"),a=i[0];if(o){let p=i.map(C=>C.toLowerCase()).indexOf(o.toLowerCase());if(p>=0)a=i[p];else{let C=f(o);i.push(C),a=C}}let l=i.sort().map(d=>({value:d,text:d}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("font",l,`${a}`,d=>this.setFont({fontFamily:d}))}getSizeSelectParams(){let i=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.getInitialFontValue("fontSize");i.includes(o)||i.push(o);let a=i.sort((l,d)=>l-d).map(l=>({value:`${l}`,text:`${l}`}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("size",a,`${o}`,l=>this.setFont({fontSize:parseInt(l,10)}))}getWeightStyleSelectParams(){let i=this.getInitialFontValue("fontWeight")??"normal",o=this.getInitialFontValue("fontStyle")??"normal",a=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],l=a.find(p=>p.weight===i&&p.style===o);l||(l={name:"predefined",weight:i,style:o},a.unshift(l));let d=a.map(p=>({value:p.name,text:this.chartTranslation.translate(p.name)}));return this.params.chartMenuParamsFactory.getDefaultSelectParamsWithoutValueParams("weight",d,l.name,p=>{let C=a.find(v=>v.name===p);this.setFont({fontWeight:C.weight,fontStyle:C.style})})}destroyActiveComps(){this.activeComps.forEach(i=>{(0,g._removeFromParent)(i.getGui()),this.destroyBean(i)})}destroy(){this.destroyActiveComps(),super.destroy()}setFont(i){let{keyMapper:o}=this.params;for(let a of Object.keys(i)){let l=i[a];l&&this.chartOptions.setValue(o(a),l)}}getInitialFontValue(i){let{keyMapper:o}=this.params;return this.chartOptions.getValue(o(i))}}h.FontPanel=c},3160:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FormatPanel=void 0;let g=S(6624),M=S(4237),P=S(1299),f=S(5002),c=S(956),r=S(3628),i=S(8693),o=S(3316),a=S(2496),l=S(5272),d={groups:[{type:"chart"},{type:"titles"},{type:"legend"},{type:"series"},{type:"axis"}]},p=["axis","horizontalAxis","verticalAxis"];class C extends g.Component{constructor(b){super('<div class="ag-chart-format-wrapper"></div>'),this.chartMenuContext=b}postConstruct(){this.groupExpansionFeature=this.createManagedBean(new i.GroupExpansionFeature(this.getGui())),this.chartPanelFeature=this.createManagedBean(new P.ChartPanelFeature(this.chartMenuContext.chartController,this.getGui(),"ag-chart-format-section",(b,R)=>this.createPanels(R))),this.chartPanelFeature.refreshPanels()}createPanels(b){let R=!1;this.getFormatPanelDef().groups?.forEach(({type:x,isOpen:E=!1})=>{if(!this.isGroupPanelShownInSeries(x,b))return;E&&(R&&(0,g._warn)(145,{group:x}),R=!0);let T=k=>this.groupExpansionFeature.addGroupComponent(k),D={...this.chartMenuContext,isExpandedOnInit:E,seriesType:b,registerGroupComponent:T};switch(x){case"chart":this.chartPanelFeature.addComponent(new r.ChartPanel(D));break;case"titles":this.chartPanelFeature.addComponent(new l.TitlesPanel(D));break;case"legend":this.chartPanelFeature.addComponent(new o.LegendPanel(D,this.chartMenuContext));break;case"axis":(0,M.isPolar)(b)?this.chartPanelFeature.addComponent(new c.PolarAxisPanel(D)):(0,M.isCartesian)(b)&&(this.chartPanelFeature.addComponent(new f.CartesianAxisPanel("xAxis",D)),this.chartPanelFeature.addComponent(new f.CartesianAxisPanel("yAxis",D)));break;case"horizontalAxis":this.chartPanelFeature.addComponent(new f.CartesianAxisPanel("xAxis",D));break;case"verticalAxis":this.chartPanelFeature.addComponent(new f.CartesianAxisPanel("yAxis",D));break;case"series":this.chartPanelFeature.addComponent(new a.SeriesPanel(D));break;default:(0,g._warn)(147,{group:x})}})}getFormatPanelDef(){let b=this.gos.get("chartToolPanelsDef")?.formatPanel;return b||d}isGroupPanelShownInSeries(b,R){let x=["chart","titles","legend","series"].includes(b)||(0,M.isCartesian)(R)&&p.includes(b)||(0,M.isPolar)(R)&&b==="axis",E=(0,M.isFunnel)(R)&&b==="legend"||(0,M.isFunnel)(R)&&p.includes(b);return x&&!E}}h.FormatPanel=C},8693:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupExpansionFeature=void 0;let g=S(6624);class M extends g.BeanStub{constructor(f){super(),this.groupContainer=f,this.id=0,this.groupComponents=new Map}addGroupComponent(f){let c=this.id++;this.groupComponents.set(c,f),f.isExpanded()&&(this.expandedGroupComponent=c),f.onExpandedChange(r=>{if(r){let i=this.expandedGroupComponent;if(this.expandedGroupComponent=c,i!=null){let o=f.getGui(),a=o.offsetTop-this.groupContainer.parentElement.scrollTop;this.groupComponents.get(i)?.toggleGroupExpand(!1,!0);let l=o.offsetTop-a;l<0&&(l=0),l!==this.groupContainer.parentElement.scrollTop&&(this.groupContainer.parentElement.scrollTop=l)}}else this.expandedGroupComponent=void 0})}destroy(){this.groupComponents.clear(),super.destroy()}}h.GroupExpansionFeature=M},3316:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LegendPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3),f=S(7730);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i,o){super(),this.options=i,this.chartMenuContext=o,this.legendGroup=g.RefPlaceholder,this.enabledGroup=g.RefPlaceholder,this.isGradient=["treemap","sunburst","heatmap"].includes(i.seriesType),this.key=this.isGradient?"gradientLegend":"legend",this.chartController=o.chartController}postConstruct(){let{chartMenuParamsFactory:i,isExpandedOnInit:o,registerGroupComponent:a}=this.options,l=this.createManagedBean(new g.AgSelect(i.getDefaultSelectParams(`${this.key}.position`,"position",["top","right","bottom","left"].map(C=>({value:C,text:this.chartTranslation.translate(C)})))));this.enabledGroup=this.createManagedBean(new M.AgGroupComponent(i.addEnableParams(`${this.key}.enabled`,{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("legendEnabled"),suppressEnabledCheckbox:!0,useToggle:!0,items:[this.createLabelPanel(i),l,...this.getItems(i)]})));let d={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("legend"),suppressEnabledCheckbox:!0,expanded:o,items:[this.enabledGroup]};this.setTemplate(`<div>
            <ag-group-component data-ref="legendGroup">
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector],{legendGroup:d}),a(this.legendGroup);let p=this.updateLegendEnabledState.bind(this);this.addManagedListeners(this.chartController,{chartModelUpdate:p,chartApiUpdate:p})}updateLegendEnabledState(){let{valueCols:i}=this.chartController.getColStateForMenu();this.enabledGroup.setEnabled(i.filter(o=>o.selected).length>1)}getItems(i){let o=(a,l,d)=>this.createManagedBean(new P.AgSlider(i.getDefaultSliderParams(`${this.key}.${a}`,l,d)));return this.isGradient?[this.createManagedBean(new g.AgCheckbox(i.addValueParams("gradientLegend.reverseOrder",{label:this.chartTranslation.translate("reverseDirection"),labelWidth:"flex"}))),o("gradient.thickness","thickness",40),o("gradient.preferredLength","preferredLength",300),o("spacing","spacing",200)]:[o("spacing","spacing",200),o("item.marker.size","markerSize",40),o("item.marker.strokeWidth","markerStroke",10),o("item.marker.padding","itemSpacing",20),o("item.paddingX","layoutHorizontalSpacing",50),o("item.paddingY","layoutVerticalSpacing",50)]}createLabelPanel(i){let o=this.isGradient?"gradientLegend.scale.label":"legend.item.label",a={enabled:!0,suppressEnabledCheckbox:!0,chartMenuParamsFactory:i,keyMapper:l=>`${o}.${l}`,cssIdentifier:"charts-format-sub-level-no-header"};return this.createManagedBean(new f.FontPanel(a))}}h.LegendPanel=c},6279:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CalloutPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuUtils=r}postConstruct(){let r={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("callout"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="calloutGroup">
                <ag-slider data-ref="calloutLengthSlider"></ag-slider>
                <ag-slider data-ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider data-ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgSliderSelector],{calloutGroup:r,calloutLengthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.length","length",40),calloutStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLine.strokeWidth","strokeWidth",10),labelOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("calloutLabel.offset","offset",30)})}}h.CalloutPanel=f},2948:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CapsPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuUtils=r}postConstruct(){let r={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0},i=this.chartMenuUtils.getDefaultSliderParams("cap.lengthRatio","capLengthRatio",1);i.step=.05,this.setTemplate(`<div>
            <ag-group-component data-ref="capsGroup">
                <ag-slider data-ref="capLengthRatioSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgSliderSelector],{capsGroup:r,capLengthRatioSlider:i})}}h.CapsPanel=f},1428:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ConnectorLinePanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i}postConstruct(){let i={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="lineGroup">
                <ag-color-picker data-ref="lineColorPicker"></ag-color-picker>
                <ag-slider data-ref="lineStrokeWidthSlider"></ag-slider>
                <ag-slider data-ref="lineOpacitySlider"></ag-slider>
                <ag-slider data-ref="lineDashSlider"></ag-slider>                
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{lineGroup:i,lineColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("line.stroke"),lineStrokeWidthSlider:this.getSliderParams("strokeWidth",10,"line.strokeWidth"),lineDashSlider:this.getSliderParams("lineDash",30,"line.lineDash",1,!0),lineOpacitySlider:this.getSliderParams("strokeOpacity",1,"line.strokeOpacity",.05)})}getSliderParams(i,o,a,l=1,d=!1){let p=this.chartMenuUtils.getDefaultSliderParams(a,i,o,d);return p.step=l,p}}h.ConnectorLinePanel=c},1902:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MarkersPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3),f=S(1307);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i}postConstruct(){let i=this.chartMenuUtils.addEnableParams("marker.enabled",{cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("markers"),suppressEnabledCheckbox:!0,useToggle:!0,suppressOpenCloseIcons:!0});this.setTemplate(`<div>
            <ag-group-component data-ref="seriesMarkersGroup">
                <ag-select data-ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider data-ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider data-ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgSelectSelector,P.AgSliderSelector],{seriesMarkersGroup:i,seriesMarkerShapeSelect:this.chartMenuUtils.getDefaultSelectParams("marker.shape","shape",(0,f.getShapeSelectOptions)(this.chartTranslation)),seriesMarkerSizeSlider:this.chartMenuUtils.getDefaultSliderParams("marker.size","size",60),seriesMarkerStrokeWidthSlider:this.chartMenuUtils.getDefaultSliderParams("marker.strokeWidth","strokeWidth",10)})}}h.MarkersPanel=c},1730:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SeriesItemsPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3),f=S(7730);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i,this.seriesItemsGroup=g.RefPlaceholder,this.activePanels=[]}postConstruct(){let i={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="seriesItemsGroup">
                <ag-select data-ref="seriesItemSelect"></ag-select>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,g.AgSelectSelector],{seriesItemsGroup:i,seriesItemSelect:this.getSeriesItemsParams()}),this.initSeriesControls()}getSeriesItemsParams(){let i=[{value:"positive",text:this.chartTranslation.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslation.translate("seriesItemNegative")}],o=a=>{this.destroyActivePanels(),this.initSeriesControls(a)};return this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesItemType",i,"positive",o)}initSeriesControls(i="positive"){this.initSlider("strokeWidth",10,`item.${i}.strokeWidth`),this.initSlider("lineDash",30,`item.${i}.lineDash`,1,!0),this.initSlider("strokeOpacity",1,`item.${i}.strokeOpacity`,.05,!1),this.initSlider("fillOpacity",1,`item.${i}.fillOpacity`,.05,!1),this.initItemLabels(i)}initSlider(i,o,a,l=1,d=!1){let p=this.chartMenuUtils.getDefaultSliderParams(a,i,o,d);p.step=l;let C=this.seriesItemsGroup.createManagedBean(new P.AgSlider(p));this.seriesItemsGroup.addItem(C),this.activePanels.push(C)}initItemLabels(i){let o=this.chartMenuUtils.getDefaultFontPanelParams(`item.${i}.label`,"seriesItemLabels"),a=this.createBean(new f.FontPanel(o));this.seriesItemsGroup.addItem(a),this.activePanels.push(a)}destroyActivePanels(){this.activePanels.forEach(i=>{(0,g._removeFromParent)(i.getGui()),this.destroyBean(i)})}destroy(){this.destroyActivePanels(),super.destroy()}}h.SeriesItemsPanel=c},2496:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SeriesPanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3),c=S(4237),r=S(3786),i=S(7730),o=S(5277),a=S(6279),l=S(2948),d=S(1428),p=S(1902),C=S(1730),v=S(1307),b=S(1919),R=S(4880),x=S(991),E="tooltips",T="strokeWidth",D="lineWidth",k="lineDash",O="lineOpacity",N="fillOpacity",V="labels",j="shadow",Q="stageLabels",Y="markers";class $ extends g.Component{wireBeans(W){this.chartTranslation=W.chartTranslation}constructor(W){super(),this.options=W,this.seriesGroup=g.RefPlaceholder,this.activePanels=[],this.widgetFuncs={lineWidth:()=>this.initStrokeWidth(D),[T]:()=>this.initStrokeWidth("strokeWidth"),lineColor:()=>this.initLineColor(),[k]:()=>this.initLineDash(),[O]:()=>this.initOpacity("strokeOpacity"),[N]:()=>this.initOpacity("fillOpacity"),markers:()=>new p.MarkersPanel(this.chartMenuUtils),[V]:()=>this.initLabels(),sectorLabels:()=>this.initSectorLabels(),[j]:()=>new b.ShadowPanel(this.chartMenuUtils),[E]:()=>this.initTooltips(),bins:()=>this.initBins(),whiskers:()=>new x.WhiskersPanel(this.chartMenuUtils),caps:()=>new l.CapsPanel(this.chartMenuUtils),connectorLine:()=>new d.ConnectorLinePanel(this.chartMenuUtils),seriesItems:()=>new C.SeriesItemsPanel(this.chartMenuUtils),tileSpacing:()=>new R.TileSpacingPanel(this.chartMenuUtils),shape:()=>this.initShape(),size:()=>this.initSize("size","size"),minSize:()=>this.initSize("size","minSize"),maxSize:()=>this.initSize("maxSize","maxSize"),dropoff:()=>this.initDropOff(),stageLabels:()=>this.initStageLabels()},this.seriesWidgetMappings={bar:[E,T,k,O,N,V,j],pie:[E,T,O,N,V,"sectorLabels",j],donut:[E,T,O,N,V,"sectorLabels",j],line:[E,D,k,O,Y,V],scatter:[E,"shape","size",T,V],bubble:[E,"shape","minSize","maxSize",T,V],area:[E,D,k,O,N,Y,V,j],histogram:[E,"bins",T,k,O,N,V,j],"radial-column":[E,T,k,O,N,V],"radial-bar":[E,T,k,O,N,V],"radar-line":[E,T,k,O,Y,V],"radar-area":[E,T,k,O,N,Y,V],nightingale:[E,T,k,O,N,V],"box-plot":[E,T,k,O,N,"whiskers","caps"],"range-bar":[E,T,k,O,N,V],"range-area":[E,D,k,O,N,Y,V,j],treemap:[E,"tileSpacing"],sunburst:[E],heatmap:[E,V,"lineColor",D,O],waterfall:[E,"connectorLine","seriesItems"],funnel:[E,T,k,O,N,V,"dropoff",Q,j],"cone-funnel":[E,T,k,O,N,V,Q],pyramid:[E,T,k,O,N,V,Q,j]},this.seriesType=W.seriesType}postConstruct(){let{isExpandedOnInit:W,chartOptionsService:Z,chartController:ee,registerGroupComponent:re}=this.options,oe={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.translate("series"),expanded:W,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="seriesGroup">
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector],{seriesGroup:oe}),re(this.seriesGroup),this.chartMenuUtils=this.createManagedBean(new r.ChartMenuParamsFactory(Z.getSeriesOptionsProxy(()=>this.seriesType))),this.addManagedListeners(ee,{chartSeriesChartTypeChanged:this.refreshWidgets.bind(this)}),this.refreshWidgets()}refreshWidgets(){let{chartController:W}=this.options;this.destroyActivePanels(),W.getChartProxy().getChart().waitForUpdate().then(()=>{this.isAlive()&&(W.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),(this.seriesWidgetMappings[this.seriesType]??[]).forEach(re=>{let oe=this.widgetFuncs[re](),ge;if(Array.isArray(oe)){let ue=this.createBean(oe[0]);ge=ue,oe[1](ue)}else ge=this.createBean(oe);this.seriesGroup.addItem(ge),this.activePanels.push(ge)}))}).catch(ee=>(0,g._error)(105,{e:ee}))}initSeriesSelect(){let W=this.createBean(new g.AgSelect(this.chartMenuUtils.getDefaultSelectParamsWithoutValueParams("seriesType",this.getSeriesSelectOptions(),`${this.seriesType}`,Z=>{this.seriesType=Z,this.refreshWidgets()})));this.seriesGroup.addItem(W),this.activePanels.push(W)}initTooltips(){return new g.AgToggleButton(this.chartMenuUtils.addValueParams("tooltip.enabled",{label:this.translate("tooltips"),labelAlignment:"left",labelWidth:"flex",inputWidth:"flex"}))}initLineColor(){return new P.AgColorPicker(this.chartMenuUtils.getDefaultColorPickerParams("stroke","strokeColor"))}initStrokeWidth(W,Z){return new f.AgSlider(this.chartMenuUtils.getDefaultSliderParams(Z?`${Z}.${W}`:"strokeWidth",W,10))}initLineDash(W){return new f.AgSlider(this.chartMenuUtils.getDefaultSliderParams(W?`${W}.lineDash`:"lineDash","lineDash",30,!0))}initOpacity(W,Z){let ee=this.chartMenuUtils.getDefaultSliderParams(Z?`${Z}.${W}`:W,W,1);return ee.step=.05,new f.AgSlider(ee)}initDropOff(){return[new o.ToggleablePanel({tag:"dropOff",cssIdentifier:"charts-format-sub-level",title:this.translate("dropOff"),suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils}),ee=>{[this.initStrokeWidth("strokeWidth","dropOff"),this.initLineDash("dropOff"),this.initOpacity("strokeOpacity","dropOff"),this.initOpacity("fillOpacity","dropOff")].forEach(re=>{let oe=ee.createManagedBean(re);ee.addItem(oe),this.activePanels.push(oe)})}]}initLabels(){let W=(0,c.isPieChartSeries)(this.seriesType),Z=W?"calloutLabel":"label",ee=W?"calloutLabels":"labels",re=this.chartMenuUtils.getDefaultFontPanelParams(Z,ee);return[new i.FontPanel(re),ue=>{if(W){let X=ue.createManagedBean(new a.CalloutPanel(this.chartMenuUtils));ue.addItem(X),this.activePanels.push(X)}if(this.seriesType==="range-bar"){let X=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],G=ue.createManagedBean(new g.AgSelect(this.chartMenuUtils.getDefaultSelectParams("label.placement","labelPlacement",X)));ue.addItem(G),this.activePanels.push(G);let U=ue.createManagedBean(new f.AgSlider(this.chartMenuUtils.getDefaultSliderParams("label.padding","padding",200)));ue.addItem(U),this.activePanels.push(U)}}]}initSectorLabels(){let W=this.chartMenuUtils.getDefaultFontPanelParams("sectorLabel","sectorLabels");return[new i.FontPanel(W),re=>{let oe=this.chartMenuUtils.getDefaultSliderParams("sectorLabel.positionRatio","positionRatio",1);oe.step=.05;let ge=re.createManagedBean(new f.AgSlider(oe));re.addItem(ge)}]}initStageLabels(){return new i.FontPanel(this.chartMenuUtils.getDefaultFontPanelParams("stageLabel",Q))}initBins(){let W=this.chartMenuUtils.getDefaultSliderParams("binCount","histogramBinCount",20),Z=this.chartMenuUtils.getChartOptions(),ee=(Z.getValue("bins")??Z.getValue("calculatedBins",!0)).length;return W.value=`${ee}`,W.maxValue=Math.max(ee,20),new f.AgSlider(W)}initShape(){return new g.AgSelect(this.chartMenuUtils.getDefaultSelectParams("shape","shape",(0,v.getShapeSelectOptions)(this.chartTranslation)))}initSize(W,Z){return new f.AgSlider(this.chartMenuUtils.getDefaultSliderParams(W,Z,60))}getSeriesSelectOptions(){let W=this.getActiveSeriesTypes();return["area","bar","line"].filter(Z=>W.includes(Z)).map(Z=>({value:Z,text:this.translate(Z)}))}updateSeriesType(){let W=this.getActiveSeriesTypes();!W.includes(this.seriesType)&&W.length>0&&(this.seriesType=W[0])}getActiveSeriesTypes(){return this.options.chartController.getActiveSeriesChartTypes().map(W=>(0,c.getSeriesType)(W.chartType))}translate(W){return this.chartTranslation.translate(W)}destroyActivePanels(){this.activePanels.forEach(W=>{(0,g._removeFromParent)(W.getGui()),this.destroyBean(W)})}destroy(){this.destroyActivePanels(),super.destroy()}}h.SeriesPanel=$},1307:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getShapeSelectOptions=void 0;function S(g){return["square","circle","cross","diamond","plus","triangle","heart"].map(M=>({value:M,text:g.translate(M)}))}h.getShapeSelectOptions=S},1919:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ShadowPanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i,o="shadow"){super(),this.chartMenuUtils=i,this.propertyKey=o}postConstruct(){let i=this.propertyKey,o=this.chartMenuUtils.addEnableParams(`${i}.enabled`,{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,title:this.chartTranslation.translate("shadow"),suppressEnabledCheckbox:!0,useToggle:!0}),a=this.chartMenuUtils.getDefaultColorPickerParams(`${i}.color`);this.setTemplate(`<div>
            <ag-group-component data-ref="shadowGroup">
                <ag-color-picker data-ref="shadowColorPicker"></ag-color-picker>
                <ag-slider data-ref="shadowBlurSlider"></ag-slider>
                <ag-slider data-ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider data-ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{shadowGroup:o,shadowColorPicker:a,shadowBlurSlider:this.getSliderParams("blur",0,20),shadowXOffsetSlider:this.getSliderParams("xOffset",-10,10),shadowYOffsetSlider:this.getSliderParams("yOffset",-10,10)})}getSliderParams(i,o,a){let l=`${this.propertyKey}.${i}`,d=this.chartMenuUtils.getDefaultSliderParams(l,i,a);return d.minValue=o,d}}h.ShadowPanel=c},4880:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TileSpacingPanel=void 0;let g=S(6624),M=S(1421),P=S(5e3);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r){super(),this.chartMenuUtils=r}postConstruct(){let r={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="groupSpacing">
                <ag-slider data-ref="groupPaddingSlider"></ag-slider>
                <ag-slider data-ref="groupSpacingSlider"></ag-slider>
            </ag-group-component>
            <ag-group-component data-ref="tileSpacing">
                <ag-slider data-ref="tilePaddingSlider"></ag-slider>
                <ag-slider data-ref="tileSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgSliderSelector],{groupSpacing:{...r,title:this.chartTranslation.translate("group")},tileSpacing:{...r,title:this.chartTranslation.translate("tile")},groupPaddingSlider:this.getSliderParams("padding","group.padding"),groupSpacingSlider:this.getSliderParams("spacing","group.gap"),tilePaddingSlider:this.getSliderParams("padding","tile.padding"),tileSpacingSlider:this.getSliderParams("spacing","tile.gap")})}getSliderParams(r,i){return this.chartMenuUtils.getDefaultSliderParams(i,r,10)}}h.TileSpacingPanel=f},991:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.WhiskersPanel=void 0;let g=S(6624),M=S(1421),P=S(1296),f=S(5e3);class c extends g.Component{wireBeans(i){this.chartTranslation=i.chartTranslation}constructor(i){super(),this.chartMenuUtils=i}postConstruct(){let i={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslation.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(`<div>
            <ag-group-component data-ref="whiskersGroup">
                <ag-color-picker data-ref="whiskerColorPicker"></ag-color-picker>
                <ag-slider data-ref="whiskerThicknessSlider"></ag-slider>
                <ag-slider data-ref="whiskerOpacitySlider"></ag-slider>
                <ag-slider data-ref="whiskerLineDashSlider"></ag-slider>
                <ag-slider data-ref="whiskerLineDashOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,[M.AgGroupComponentSelector,P.AgColorPickerSelector,f.AgSliderSelector],{whiskersGroup:i,whiskerColorPicker:this.chartMenuUtils.getDefaultColorPickerParams("whisker.stroke"),whiskerThicknessSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeWidth","strokeWidth",10),whiskerOpacitySlider:this.chartMenuUtils.getDefaultSliderParams("whisker.strokeOpacity","strokeOpacity",1),whiskerLineDashSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDash","lineDash",30,!0),whiskerLineDashOffsetSlider:this.chartMenuUtils.getDefaultSliderParams("whisker.lineDashOffset","lineDashOffset",30)})}}h.WhiskersPanel=c},3179:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartTitlePanel=void 0;let g=S(9375);class M extends g.TitlePanel{wireBeans(f){super.wireBeans(f),this.chartMenuSvc=f.chartMenuSvc}postConstruct(){this.titlePlaceholder=this.chartTranslation.translate("titlePlaceholder"),super.postConstruct(),this.addManagedEventListeners({chartTitleEdit:()=>{this.fontPanel.setEnabled(this.hasTitle())}})}getTextInputParams(){let f=super.getTextInputParams();return this.shouldOverrideTextWithPlaceholder(f.value)&&(f.value=this.titlePlaceholder),f}getSpacingSliderParams(){let f=super.getSpacingSliderParams();return f.value="10",f}onEnableChange(f){if(this.chartMenuSvc.doesChartToolbarExist()){let r=this.chartOptions.getValue("padding.top");this.chartOptions.setValue("padding.top",f?r-20:r+20)}this.chartOptions.setValue(`${this.key}.enabled`,f);let c=this.chartOptions.getValue(`${this.key}.text`);f&&this.shouldOverrideTextWithPlaceholder(c)&&this.chartOptions.setValue(`${this.key}.text`,this.titlePlaceholder)}shouldOverrideTextWithPlaceholder(f){return f==="Title"||f?.trim().length===0}}h.ChartTitlePanel=M},9375:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TitlePanel=void 0;let g=S(6624),M=S(5e3),P=S(7730);class f extends g.Component{wireBeans(r){this.chartTranslation=r.chartTranslation}constructor(r,i,o){super("<div></div>"),this.chartMenuUtils=r,this.name=i,this.key=o,this.chartOptions=r.getChartOptions()}postConstruct(){this.initFontPanel()}hasTitle(){let r=this.chartOptions.getValue(this.key);return r&&r.enabled&&r.text&&r.text.length>0}initFontPanel(){let r=this.hasTitle(),i={name:this.chartTranslation.translate(this.name),enabled:r,suppressEnabledCheckbox:!1,chartMenuParamsFactory:this.chartMenuUtils,keyMapper:o=>`${this.key}.${o}`,onEnableChange:o=>this.onEnableChange(o)};this.fontPanel=this.createManagedBean(new P.FontPanel(i)),this.fontPanel.addItem(this.createBean(new g.AgInputTextField(this.getTextInputParams())),!0),this.fontPanel.addItem(this.createBean(new M.AgSlider(this.getSpacingSliderParams()))),this.getGui().appendChild(this.fontPanel.getGui())}getTextInputParams(){return this.chartMenuUtils.addValueParams(`${this.key}.text`,{label:this.chartTranslation.translate("title"),labelAlignment:"top"})}getSpacingSliderParams(){return this.chartMenuUtils.getDefaultSliderParams(`${this.key}.spacing`,"spacing",100)}onEnableChange(r){this.chartOptions.setValue(`${this.key}.enabled`,r)}}h.TitlePanel=f},5272:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TitlesPanel=void 0;let g=S(6624),M=S(1421),P=S(4237),f=S(3786),c=S(3179),r=S(9375);class i extends g.Component{wireBeans(a){this.chartTranslation=a.chartTranslation}constructor(a){super(),this.options=a,this.titleGroup=g.RefPlaceholder}postConstruct(){let{chartMenuParamsFactory:a,chartAxisMenuParamsFactory:l,chartOptionsService:d,seriesType:p,isExpandedOnInit:C=!1,registerGroupComponent:v}=this.options,b=[];if((0,P.isCartesian)(p)&&p!=="pyramid"){let x=E=>this.createManagedBean(new f.ChartMenuParamsFactory(d.getCartesianAxisThemeOverridesProxy(E)));b.push(this.createManagedBean(new r.TitlePanel(x("xAxis"),"horizontalAxisTitle","title"))),b.push(this.createManagedBean(new r.TitlePanel(x("yAxis"),"verticalAxisTitle","title")))}else(0,P.isPolar)(p)&&b.push(this.createManagedBean(new r.TitlePanel(l,"polarAxisTitle","title")));let R={cssIdentifier:"charts-format-top-level",direction:"vertical",title:this.chartTranslation.translate("chartTitles"),expanded:C,suppressEnabledCheckbox:!0,items:[this.createManagedBean(new c.ChartTitlePanel(a,"chartTitle","title")),this.createManagedBean(new r.TitlePanel(a,"chartSubtitle","subtitle")),...b]};this.setTemplate(`<div>
            <ag-group-component data-ref="titleGroup"></ag-group-component>
        </div>`,[M.AgGroupComponentSelector],{titleGroup:R}),v(this.titleGroup)}}h.TitlesPanel=i},5277:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToggleablePanel=void 0;let g=S(6624),M=S(1421);class P extends g.Component{constructor(c){super(),this.params=c,this.toggleableGroup=g.RefPlaceholder,this.activeComps=[],this.chartOptions=c.chartMenuParamsFactory.getChartOptions()}postConstruct(){let{tag:c,cssIdentifier:r="charts-format-sub-level",title:i,suppressEnabledCheckbox:o}=this.params,a=this.params.chartMenuParamsFactory.addEnableParams(`${c}.enabled`,{cssIdentifier:r,direction:"vertical",suppressOpenCloseIcons:!0,title:i,suppressEnabledCheckbox:!0,useToggle:!o});this.setTemplate(`<div class="ag-toggleable-group-panel">
                <ag-group-component data-ref="toggleableGroup">
                </ag-group-component>
            </div>`,[M.AgGroupComponentSelector],{toggleableGroup:a}),this.addOrRemoveCssClass("ag-toggleable-group-panel-no-header",!i)}addItem(c,r){r?this.toggleableGroup.prependItem(c):this.toggleableGroup.addItem(c),this.activeComps.push(c)}setEnabled(c){this.toggleableGroup.setEnabled(c)}destroyActiveComps(){this.activeComps.forEach(c=>{(0,g._removeFromParent)(c.getGui()),this.destroyBean(c)})}destroy(){this.destroyActiveComps(),super.destroy()}}h.ToggleablePanel=P},6604:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartSettingsPanel=void 0;let g=S(6624),M=S(8987),P=S(6692);class f extends g.Component{constructor(r){super(`<div class="ag-chart-settings-wrapper">
            <div data-ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div data-ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div data-ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>
                </div>
                <div data-ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div data-ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`),this.chartController=r,this.eMiniChartsContainer=g.RefPlaceholder,this.eNavBar=g.RefPlaceholder,this.eCardSelector=g.RefPlaceholder,this.ePrevBtn=g.RefPlaceholder,this.eNextBtn=g.RefPlaceholder,this.miniChartsContainers=[],this.cardItems=[],this.activePaletteIndex=0,this.palettes=[],this.themes=[]}postConstruct(){this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",(0,g._createIconNoSpan)("chartsThemePrevious",this.beans)),this.eNextBtn.insertAdjacentElement("afterbegin",(0,g._createIconNoSpan)("chartsThemeNext",this.beans)),this.addManagedElementListeners(this.ePrevBtn,{click:()=>this.setActivePalette(this.getPrev(),"left")}),this.addManagedElementListeners(this.eNextBtn,{click:()=>this.setActivePalette(this.getNext(),"right")});let r=()=>this.resetPalettes(!0);this.addManagedListeners(this.chartController,{chartTypeChanged:r,chartApiUpdate:r}),this.scrollSelectedIntoView()}scrollSelectedIntoView(){setTimeout(()=>{let r=a=>!a.getGui().classList.contains("ag-hidden"),o=this.miniChartsContainers.find(r).getGui().querySelector(".ag-selected");if(o){let a=o.offsetParent;a&&this.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)}resetPalettes(r){let i=this.chartController.getPalettes(),o=this.gos.get("chartToolPanelsDef")?.settingsPanel?.chartGroupsDef;if((0,g._areEqual)(i,this.palettes)&&!r||this.isAnimating)return;this.palettes=i,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(l=>l===this.chartController.getChartThemeName()),this.cardItems=[],(0,g._clearElement)(this.eCardSelector),this.destroyMiniCharts();let{themes:a}=this;this.palettes.forEach((l,d)=>{let p=this.activePaletteIndex===d,{fills:C=[],strokes:v=[]}=l,b=a[d],R=!(0,M.isStockTheme)(b,this.beans.agChartsExports._Theme),x=this.createBean(new P.MiniChartsContainer(this.chartController,C,v,R,o));this.miniChartsContainers.push(x),this.eMiniChartsContainer.appendChild(x.getGui()),this.addCardLink(d),p?x.updateSelectedMiniChart():x.setDisplayed(!1)}),(0,g._setDisplayed)(this.eNavBar,this.palettes.length>1),(0,g._radioCssClass)(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}addCardLink(r){let i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedElementListeners(i,{click:()=>{this.setActivePalette(r,r<this.activePaletteIndex?"left":"right")}}),this.eCardSelector.appendChild(i),this.cardItems.push(i)}getPrev(){let r=this.activePaletteIndex-1;return r<0&&(r=this.palettes.length-1),r}getNext(){let r=this.activePaletteIndex+1;return r>=this.palettes.length&&(r=0),r}setActivePalette(r,i){if(this.isAnimating||this.activePaletteIndex===r)return;(0,g._radioCssClass)(this.cardItems[r],"ag-selected","ag-not-selected");let o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),l=this.miniChartsContainers[r],d=l.getGui();o.updateSelectedMiniChart(),l.updateSelectedMiniChart();let p=i==="left"?-1:1,C=d.style.left=`${(0,g._getAbsoluteWidth)(this.getGui())*p}px`;this.activePaletteIndex=r,this.isAnimating=!0;let v="ag-animating";l.setDisplayed(!0),o.addCssClass(v),l.addCssClass(v),this.chartController.setChartThemeName(this.themes[r]),window.setTimeout(()=>{a.style.left=`${-parseFloat(C)}px`,d.style.left="0px"},0),window.setTimeout(()=>{this.isAnimating=!1,o.removeCssClass(v),l.removeCssClass(v),o.setDisplayed(!1)},300)}destroyMiniCharts(){(0,g._clearElement)(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)}destroy(){this.destroyMiniCharts(),super.destroy()}}h.ChartSettingsPanel=f},3564:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniArea=h.MiniAreaClass=h.miniAreaData=void 0;let g=S(7526),M=S(9004),P=S(1408);h.miniAreaData=g.miniLineData;class f extends P.MiniChartWithAxes{constructor(r,i,o,a,l,d=h.miniAreaData,p="groupedAreaTooltip",C=!1){super(r,i,p),this.areas=(0,M.createAreaPaths)(i._Scene,this.root,d,this.size,this.padding,C),this.updateColors(o,a)}updateColors(r,i){this.areas.forEach((o,a)=>{o.fill=r[a],o.stroke=i[a],o.strokeWidth=1,o.strokeOpacity=.75,o.fillOpacity=.7})}}h.MiniAreaClass=f,h.MiniArea={chartType:"area",miniChart:f}},6249:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniNormalizedArea=h.MiniNormalizedAreaClass=h.miniNormalizedAreaData=void 0;let g=S(9004),M=S(5133);h.miniNormalizedAreaData=(0,g.normalizeStackData)(M.miniStackedAreaData);class P extends M.MiniStackedAreaClass{constructor(c,r,i,o,a,l=h.miniNormalizedAreaData,d="normalizedAreaTooltip"){super(c,r,i,o,a,l,d)}}h.MiniNormalizedAreaClass=P,h.MiniNormalizedArea={chartType:"normalizedArea",miniChart:P}},5133:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniStackedArea=h.MiniStackedAreaClass=h.miniStackedAreaData=void 0;let g=S(9004),M=S(3564);h.miniStackedAreaData=(0,g.stackData)(M.miniAreaData);class P extends M.MiniAreaClass{constructor(c,r,i,o,a,l=h.miniStackedAreaData,d="stackedAreaTooltip"){super(c,r,i,o,a,l,d,!0)}updateColors(c,r){this.areas.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]})}}h.MiniStackedAreaClass=P,h.MiniStackedArea={chartType:"stackedArea",miniChart:P}},702:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniBar=h.MiniBarClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i){super(f,c,"groupedBarTooltip");let{_Scene:o}=c,a=this.padding,l=this.size,d=[2,3,4],p=new o.CategoryScale;p.domain=[0,1,2],p.range=[a,l-a],p.paddingInner=.3,p.paddingOuter=.3;let C=new o.LinearScale;C.domain=[0,4],C.range=[l-a,a];let v=C.convert(0),b=p.bandwidth;this.bars=d.map((R,x)=>{let E=new o.Rect;return E.x=a,E.y=p.convert(x),E.width=v-C.convert(R),E.height=b,E.strokeWidth=0,E.crisp=!0,E}),this.updateColors(r,i),this.root.append(this.bars)}updateColors(f,c){this.bars.forEach((r,i)=>{r.fill=f[i],r.stroke=c[i]})}}h.MiniBarClass=M,h.MiniBar={chartType:"groupedBar",miniChart:M}},3245:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniNormalizedBar=h.MiniNormalizedBarClass=void 0;let g=S(4161),M=[[10,10,10],[6,7,8],[2,4,6]];class P extends g.MiniStackedBarClass{constructor(c,r,i,o,a){super(c,r,i,o,a,M,[0,10],"normalizedBarTooltip")}}h.MiniNormalizedBarClass=P,h.MiniNormalizedBar={chartType:"normalizedBar",miniChart:P}},4161:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniStackedBar=h.MiniStackedBarClass=h.miniStackedBarData=void 0;let g=S(6624),M=S(1408);h.miniStackedBarData=[[8,12,16],[6,9,12],[2,3,4]];class P extends M.MiniChartWithAxes{constructor(c,r,i,o,a,l=h.miniStackedBarData,d=[0,16],p="stackedBarTooltip"){super(c,r,p);let{_Scene:C}=r,v=this.size,b=this.padding,R=new C.CategoryScale;R.domain=[0,1,2],R.range=[b,v-b],R.paddingInner=.3,R.paddingOuter=.3;let x=new C.LinearScale;x.domain=d,x.range=[v-b,b];let E=x.convert(0),T=R.bandwidth;this.bars=l.map(D=>D.map((k,O)=>{let N=new C.Rect;return N.x=b,N.y=R.convert(O),N.width=E-x.convert(k),N.height=T,N.strokeWidth=0,N.crisp=!0,N})),this.updateColors(i,o),this.root.append((0,g._flatten)(this.bars))}updateColors(c,r){this.bars.forEach((i,o)=>i.forEach(a=>{a.fill=c[o],a.stroke=r[o]}))}}h.MiniStackedBarClass=P,h.MiniStackedBar={chartType:"stackedBar",miniChart:P}},1990:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniColumn=h.MiniColumnClass=void 0;let g=S(9004),M=S(1408);class P extends M.MiniChartWithAxes{constructor(c,r,i,o){super(c,r,"groupedColumnTooltip"),this.columnData=[2,3,4];let{root:a,columnData:l,size:d,padding:p}=this;this.columns=(0,g.createColumnRects)({stacked:!1,root:a,data:l,size:d,padding:p,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3,agChartsExports:r}),a.append(this.columns),this.updateColors(i,o)}updateColors(c,r){this.columns.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]})}}h.MiniColumnClass=P,h.MiniColumn={chartType:"groupedColumn",miniChart:P}},2115:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniNormalizedColumn=h.MiniNormalizedColumnClass=h.miniNormalizedColumnData=void 0;let g=S(2397);h.miniNormalizedColumnData=[[10,10,10],[6,7,8],[2,4,6]];class M extends g.MiniStackedColumnClass{constructor(f,c,r,i,o){super(f,c,r,i,o,h.miniNormalizedColumnData,[0,10],"normalizedColumnTooltip")}}h.MiniNormalizedColumnClass=M,h.MiniNormalizedColumn={chartType:"normalizedColumn",miniChart:M}},2397:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniStackedColumn=h.MiniStackedColumnClass=h.miniStackedColumnData=void 0;let g=S(6624),M=S(9004),P=S(1408);h.miniStackedColumnData=[[8,12,16],[6,9,12],[2,3,4]];class f extends P.MiniChartWithAxes{constructor(r,i,o,a,l,d=h.miniStackedColumnData,p=[0,16],C="stackedColumnTooltip"){super(r,i,C);let{root:v,size:b,padding:R}=this;this.stackedColumns=(0,M.createColumnRects)({stacked:!0,root:v,data:d,size:b,padding:R,xScaleDomain:[0,1,2],yScaleDomain:p,xScalePadding:.3,agChartsExports:i}),v.append((0,g._flatten)(this.stackedColumns)),this.updateColors(o,a)}updateColors(r,i){this.stackedColumns.forEach((o,a)=>o.forEach(l=>{l.fill=r[a],l.stroke=i[a]}))}}h.MiniStackedColumnClass=f,h.MiniStackedColumn={chartType:"stackedColumn",miniChart:f}},539:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniAreaColumnCombo=h.MiniAreaColumnComboClass=void 0;let g=S(9004),M=S(1408);class P extends M.MiniChartWithAxes{constructor(c,r,i,o){super(c,r,"areaColumnComboTooltip"),this.columnData=[3,4.5],this.areaData=[[5,4,6,5,4]];let{root:a,columnData:l,areaData:d,size:p,padding:C,agChartsExports:{_Scene:v}}=this;this.columns=(0,g.createColumnRects)({stacked:!1,root:a,data:l,size:p,padding:C,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5,agChartsExports:r});let b=new v.CategoryScale;b.range=[C,p-C],b.domain=[0,1,2,3,4],b.paddingInner=1,b.paddingOuter=0;let R=new v.LinearScale;R.range=[p-C,C],R.domain=[0,6];let x=[],E=R.convert(0),T=b.convert(0);d.forEach((O,N)=>{let V=x[N]||(x[N]=[]);O.forEach((Q,Y)=>{let $=Q,se=Y,W=b.convert(se),Z=R.convert($);V[Y]={x:W,y:Z}});let j=b.convert(O.length-1);x[N].push({x:j,y:E},{x:T,y:E})}),this.areas=x.map(O=>{let N=new v.Path;N.strokeWidth=0,N.fillOpacity=.8;let V=N.path;return O.forEach((j,Q)=>V[Q>0?"lineTo":"moveTo"](j.x,j.y)),N});let D=new v.Group;D.setClipRect(new v.BBox(C,C,p-C*2,p-C*2));let k=new v.Group;k.setClipRect(new v.BBox(C,C,p-C*2,p-C*2)),D.append(this.areas),k.append(this.columns),a.append(D),a.append(k),this.updateColors(i,o)}updateColors(c,r){this.areas.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]}),this.columns.forEach((i,o)=>{i.fill=c[o+1],i.stroke=r[o+1]})}}h.MiniAreaColumnComboClass=P,h.MiniAreaColumnCombo={chartType:"areaColumnCombo",miniChart:P}},6042:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniColumnLineCombo=h.MiniColumnLineComboClass=void 0;let g=S(9004),M=S(1408);class P extends M.MiniChartWithAxes{constructor(c,r,i,o){super(c,r,"columnLineComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];let{root:a,columnData:l,lineData:d,size:p,padding:C}=this;this.columns=(0,g.createColumnRects)({stacked:!1,root:a,data:l,size:p,padding:C,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:r}),a.append(this.columns),this.lines=(0,g.createLinePaths)(r,a,d,p,C),this.updateColors(i,o)}updateColors(c,r){this.columns.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]}),this.lines.forEach((i,o)=>{i.stroke=c[o+2]})}}h.MiniColumnLineComboClass=P,h.MiniColumnLineCombo={chartType:"columnLineCombo",miniChart:P}},1655:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniCustomCombo=h.MiniCustomComboClass=void 0;let g=S(2893),M=S(9004);class P extends g.MiniChart{constructor(c,r,i,o){super(c,r,"customComboTooltip"),this.columnData=[3,4],this.lineData=[[5,4,6,5,4]];let{root:a,columnData:l,lineData:d,size:p,padding:C,agChartsExports:{_Scene:v}}=this;this.columns=(0,M.createColumnRects)({stacked:!1,root:a,data:l,size:p,padding:C,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5,agChartsExports:r}),a.append(this.columns),this.lines=(0,M.createLinePaths)(this.agChartsExports,a,d,p,C);let b="grey",R=3,x=new v.Line;x.x1=C,x.y1=C,x.x2=C,x.y2=p-C+R,x.stroke=b;let E=new v.Line;E.x1=C-R+1,E.y1=p-C,E.x2=p-C+1,E.y2=p-C,E.stroke=b;let T=new v.Path;this.buildPenIconPath(T),T.fill="whitesmoke",T.stroke="darkslategrey",T.strokeWidth=1,a.append([E,x,T]),this.updateColors(i,o)}updateColors(c,r){this.columns.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]}),this.lines.forEach((i,o)=>{i.stroke=c[o+2]})}buildPenIconPath(c){let{path:r}=c;r.moveTo(25.76,43.46),r.lineTo(31.27,48.53),r.moveTo(49.86,22),r.lineTo(49.86,22),r.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),r.lineTo(46.86,21.41),r.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),r.lineTo(25.51,43.8),r.lineTo(25.43,43.89),r.lineTo(23.01,51.89),r.lineTo(22.83,52.46),r.lineTo(31.02,48.86),r.lineTo(49.02,28.52),r.lineTo(49.02,28.52),r.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),r.lineTo(50.75,24.93),r.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),r.closePath(),r.moveTo(41.76,25.5),r.lineTo(47.34,30.5),r.moveTo(40.74,26.65),r.lineTo(46.25,31.71)}}h.MiniCustomComboClass=P,h.MiniCustomCombo={chartType:"customCombo",miniChart:P}},8049:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniConeFunnel=h.MiniConeFunnelClass=void 0;let g=S(8250),M=[[[13,16],[10.75,11.5],[5.25,11.5],[3,16]],[[10.75,11.5],[8.875,6],[7.125,6],[5.25,11.5]],[[8.875,6],[8.875,1.5],[7.125,1.5],[7.125,6]]];class P extends g.MiniFunnelClass{constructor(c,r,i,o,a,l="coneFunnelTooltip"){super(c,r,i,o,a,l,M)}updateColors(c,r){this.shapes.forEach((i,o)=>{i.fill=c[0],i.fillOpacity=1-o*.2,i.stroke=r[0],i.strokeWidth=0})}}h.MiniConeFunnelClass=P,h.MiniConeFunnel={chartType:"coneFunnel",miniChart:P}},8250:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniFunnel=h.MiniFunnelClass=void 0;let g=S(2893),M=S(9004),P=[[[13,16],[13,12],[3,12],[3,16]],[[12,11],[12,7],[4,7],[4,11]],[[10.125,6],[10.125,1.5],[5.875,1.5],[5.875,6]]];class f extends g.MiniChart{constructor(r,i,o,a,l,d="funnelTooltip",p=P){super(r,i,d),this.shapes=(0,M.createShapePaths)(i,this.root,p,this.size,this.padding),this.updateColors(o,a)}updateColors(r,i){this.shapes.forEach(o=>{o.fill=r[0],o.stroke=i[0],o.strokeWidth=0})}}h.MiniFunnelClass=f,h.MiniFunnel={chartType:"funnel",miniChart:f}},1244:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniPyramid=h.MiniPyramidClass=void 0;let g=S(8250),M=[[[8,16],[10,12],[6,12]],[[10.5,11],[12.5,7],[3.5,7],[5.5,11]],[[13,6],[15.5,1.5],[.5,1.5],[3,6]]];class P extends g.MiniFunnelClass{constructor(c,r,i,o,a,l="pyramidTooltip"){super(c,r,i,o,a,l,M)}updateColors(c,r){this.shapes.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o],i.strokeWidth=0})}}h.MiniPyramidClass=P,h.MiniPyramid={chartType:"pyramid",miniChart:P}},5717:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniSunburst=h.MiniSunburstClass=void 0;let g=S(2220);class M extends g.MiniChartWithPolarAxes{constructor(f,c,r,i){super(f,c,"sunburstTooltip"),this.data=[[[],[]],[[],[]],[[],[]]],this.angleOffset=-Math.PI/2,this.innerRadiusRatio=0,this.showRadiusAxisLine=!1,this.showAngleAxisLines=!1;let{data:o,size:a,padding:l,angleOffset:d,innerRadiusRatio:p,agChartsExports:{_Scene:C}}=this,v=(a-l*2)/2,b=[d+0,d+2*Math.PI],R=Math.abs(b[1]-b[0]),x=[v*p,v],E=Math.abs(x[1]-x[0]),T=0,D=(j,Q)=>{j.forEach(Y=>{let $=Q+1;T=Math.max(T,$),D(Y,$)})};D(o,0);let k=E/T,O=this.size/2,N=b[0];this.series=[];let V=(j,Q,Y,$,se)=>{if(!Array.isArray(j))return;let Z=Q+1,ee=Y;j.forEach((re,oe,ge)=>{let ue=se;ue||(ue=new C.Group,this.series.push(ue));let X=x[0]+Q*k,G=x[0]+Z*k,U=1/ge.length,K=ee,q=K+$*U,ie=new C.Sector;ie.centerX=O,ie.centerY=O,ie.innerRadius=X,ie.outerRadius=G,ie.startAngle=K,ie.endAngle=q,ie.stroke=void 0,ie.strokeWidth=0,ie.inset=.75,ee=q,ue.append(ie),V(re,Z,K,Math.abs(q-K),ue)})};V(o,0,N,R),this.root.append(this.series),this.updateColors(r,i)}updateColors(f,c){this.series.forEach((r,i)=>{for(let o of r.children())o.fill=f[i%f.length],o.stroke=c[i%c.length]})}}h.MiniSunburstClass=M,h.MiniSunburst={chartType:"sunburst",miniChart:M}},7439:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniTreemap=h.MiniTreemapClass=void 0;let g=S(2893);class M extends g.MiniChart{constructor(f,c,r,i,o){super(f,c,"treemapTooltip");let{size:a,padding:l,agChartsExports:{_Scene:d}}=this,p=[[1,1],[3,2,1]],v=p.length%2===0?.3:.2,b=[l,a-l],R=p.length,x=R*(R+1)/2,E=v/(R-1),T=b[1]-b[0],D=T-v,k=b[0];this.rects=p.reduce((N,V,j)=>{N??(N=[]);let Q=(R-j)/x,Y=D*Q,$=V.length,se=V.reduce((oe,ge)=>oe+=ge,0),W=v/($-1||1),Z=$>1?T-v:T,ee=b[0],re=V.map(oe=>{let ge=new d.Rect,ue=Z*oe/se;return ge.x=k,ge.y=ee,ge.width=Y,ge.height=ue,ge.strokeWidth=.75,ge.crisp=!0,ee+=ue+W,ge});return k+=Y+E,N.push(...re),N},[]),this.updateColors(r,i,o);let O=new d.Group;O.setClipRect(new d.BBox(l,l,a-l,a-l)),O.append(this.rects),this.root.append(O)}updateColors(f,c,r){let{_Theme:i}=this.agChartsExports;this.rects.forEach((o,a)=>{o.fill=f[a%c.length],o.stroke=r?c[a%c.length]:i.resolveOperation({$ref:"backgroundColor"})})}}h.MiniTreemapClass=M,h.MiniTreemap={chartType:"treemap",miniChart:M}},5626:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniHistogram=h.MiniHistogramClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i){super(f,c,"histogramTooltip");let{padding:o,size:a,agChartsExports:{_Scene:l}}=this,d=[2,5,11,13,10,6,1],p=new l.LinearScale;p.domain=[0,d.length],p.range=[o,a-o];let C=new l.LinearScale;C.domain=[0,d.reduce((b,R)=>Math.max(b,R),0)],C.range=[a-o,o];let v=C.convert(0);this.bars=d.map((b,R)=>{let x=C.convert(b),E=p.convert(R),T=p.convert(R+1),D=new l.Rect;return D.x=E,D.y=x,D.width=T-E,D.height=v-x,D.strokeWidth=1,D.strokeOpacity=.75,D.crisp=!0,D}),this.updateColors(r,i),this.root.append(this.bars)}updateColors([f],[c]){this.bars.forEach(r=>{r.fill=f,r.stroke=c})}}h.MiniHistogramClass=M,h.MiniHistogram={chartType:"histogram",miniChart:M}},6544:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(5608);g.__exportStar(S(1990),h),g.__exportStar(S(2397),h),g.__exportStar(S(2115),h),g.__exportStar(S(702),h),g.__exportStar(S(4161),h),g.__exportStar(S(3245),h),g.__exportStar(S(210),h),g.__exportStar(S(7716),h),g.__exportStar(S(7526),h),g.__exportStar(S(9005),h),g.__exportStar(S(8051),h),g.__exportStar(S(434),h),g.__exportStar(S(3268),h),g.__exportStar(S(3564),h),g.__exportStar(S(5133),h),g.__exportStar(S(6249),h),g.__exportStar(S(5626),h),g.__exportStar(S(781),h),g.__exportStar(S(9702),h),g.__exportStar(S(5520),h),g.__exportStar(S(8660),h),g.__exportStar(S(2036),h),g.__exportStar(S(4823),h),g.__exportStar(S(7049),h),g.__exportStar(S(1819),h),g.__exportStar(S(7439),h),g.__exportStar(S(5717),h),g.__exportStar(S(795),h),g.__exportStar(S(3209),h),g.__exportStar(S(6042),h),g.__exportStar(S(539),h),g.__exportStar(S(1655),h)},7526:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniLine=h.MiniLineClass=h.miniLineData=void 0;let g=S(9004),M=S(1408);h.miniLineData=[[1,3,5],[2,6,4],[5,3,1]];class P extends M.MiniChartWithAxes{constructor(c,r,i,o,a,l=h.miniLineData,d="lineTooltip"){super(c,r,d);let{size:p,padding:C,root:v}=this;this.lines=(0,g.createLinePaths)(r,v,l,p,C),this.updateColors(i,o)}updateColors(c,r){this.lines.forEach((i,o)=>{i.stroke=c[o]})}}h.MiniLineClass=P,h.MiniLine={chartType:"line",miniChart:P}},8051:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniNormalizedLine=h.MiniNormalizedLineClass=h.miniNormalizedLineData=void 0;let g=S(9004),M=S(7526),P=S(9005);h.miniNormalizedLineData=(0,g.normalizeStackData)(P.miniStackedLineData);class f extends M.MiniLineClass{constructor(r,i,o,a,l,d=h.miniNormalizedLineData,p="normalizedLineTooltip"){super(r,i,o,a,l,d,p)}}h.MiniNormalizedLineClass=f,h.MiniNormalizedLine={chartType:"normalizedLine",miniChart:f}},9005:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniStackedLine=h.MiniStackedLineClass=h.miniStackedLineData=void 0;let g=S(9004),M=S(7526);h.miniStackedLineData=(0,g.stackData)(M.miniLineData);class P extends M.MiniLineClass{constructor(c,r,i,o,a,l=h.miniStackedLineData,d="stackedLineTooltip"){super(c,r,i,o,a,l,d)}}h.MiniStackedLineClass=P,h.MiniStackedLine={chartType:"stackedLine",miniChart:P}},2893:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniChart=void 0;let g=S(6624),M="ag-chart-mini-thumbnail-canvas";class P extends g.Component{wireBeans(c){this.chartTranslation=c.chartTranslation}constructor(c,r,i){super(),this.agChartsExports=r,this.tooltipName=i,this.size=58,this.padding=5;let{_Scene:o}=r;this.root=new o.Group;let a=new o.Scene({width:this.size,height:this.size});a.canvas.element.classList.add(M),a.setRoot(this.root),a.setContainer(c),this.scene=a}postConstruct(){this.scene.canvas.element.title=this.chartTranslation.translate(this.tooltipName);try{this.scene.render()}catch(c){(0,g._error)(108,{e:c})}}}h.MiniChart=P},9004:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.accumulateData=h.createPolarPaths=h.normalizeStackData=h.stackData=h.createAreaPaths=h.createLinePaths=h.createShapePaths=h.commandsToPath=h.closePathViaOrigin=h.closePathViaPreviousSeries=h.createAreaPathCommands=h.createPath=h.closePath=h.createXYPathCommands=h.createXPathCommands=h.prepareLinearScene=h.prepareXYScales=h.createColumnRects=void 0;let g=S(6624);function M(D){let{stacked:k,size:O,padding:N,xScalePadding:V,xScaleDomain:j,yScaleDomain:Q,agChartsExports:{_Scene:Y}}=D,$=new Y.CategoryScale;$.domain=j,$.range=[N,O-N],$.paddingInner=V,$.paddingOuter=V;let se=new Y.LinearScale;se.domain=Q,se.range=[O-N,N];let W=(Z,ee,re)=>Z.map((oe,ge)=>{let ue=re.convert(oe),X=new Y.Rect;return X.x=ee.convert(ge),X.y=ue,X.width=ee.bandwidth,X.height=re.convert(0)-ue,X.strokeWidth=0,X.crisp=!0,X});return k?D.data.map(Z=>W(Z,$,se)):W(D.data,$,se)}h.createColumnRects=M;function P(D,k,O,N){let V=[],j=[];k.forEach($=>{$.forEach(([se,W])=>{V.push(se),j.push(W)})});let Q=new D.LinearScale;Q.domain=[Math.min(...V),Math.max(...V)],Q.range=[N,O-N];let Y=new D.LinearScale;return Y.domain=[Math.min(...j),Math.max(...j)],Y.range=[O-N,N],{xScale:Q,yScale:Y}}h.prepareXYScales=P;function f(D,k,O,N){let V=[0,k[0].length-1],j=k.reduce(($,se)=>(se.forEach(W=>{W<$[0]&&($[0]=W),W>$[1]&&($[1]=W)}),$),[1/0,-1/0]);j[0]--,j[j.length-1]++;let Q=new D.LinearScale;Q.domain=V,Q.range=[N,O-N];let Y=new D.LinearScale;return Y.domain=j,Y.range=[O-N,N],{xScale:Q,yScale:Y}}h.prepareLinearScene=f;function c(D,k,O){return D.map(N=>N.map((V,j)=>[j>0?"lineTo":"moveTo",k.convert(j),O.convert(V)]))}h.createXPathCommands=c;function r(D,k,O){return D.map(([N,V],j)=>[j>0?"lineTo":"moveTo",k.convert(N),O.convert(V)])}h.createXYPathCommands=r;function i(D){let k=D[0],O=D[1],N=(0,g._last)(D);return(O[1]!==N[1]||O[2]!==N[2])&&D.push([k[0],O[1],O[2]]),D}h.closePath=i;function o(D,k){let O=new D.Path;return k.forEach(([N,V,j])=>O.path[N](V,j)),O}h.createPath=o;function a(D,k,O){return D.map((N,V,j)=>{let Y=[...O?l(j,V,k):d(N,k)].reverse().map(([W,Z,ee])=>["lineTo",Z,ee]),$=N[0],se=(0,g._last)(Y);return($[1]!==se[1]||$[2]!==se[2])&&Y.push(["lineTo",$[1],$[2]]),[...N,...Y]})}h.createAreaPathCommands=a;function l(D,k,O){return k===0?d(D[k],O):[...D[k-1]]}h.closePathViaPreviousSeries=l;function d(D,k){return D.map(([O,N])=>[O,N,k.convert(0)])}h.closePathViaOrigin=d;function p(D,k){let O=o(D,k);return O.fill=void 0,O.lineCap="round",O.strokeWidth=3,O}h.commandsToPath=p;function C({_Scene:D},k,O,N,V){let{xScale:j,yScale:Q}=P(D,O,N,V),W=O.map(ee=>r(ee,j,Q)).map(ee=>i(ee)).map(ee=>p(D,ee)).reduce((ee,re)=>ee.concat(re),[]),Z=new D.Group;return Z.setClipRect(new D.BBox(V,V,N-V*2,N-V*2)),Z.append(W),k.append(Z),W}h.createShapePaths=C;function v({_Scene:D},k,O,N,V){let{xScale:j,yScale:Q}=f(D,O,N,V),$=c(O,j,Q).map(W=>p(D,W)),se=new D.Group;return se.setClipRect(new D.BBox(V,V,N-V*2,N-V*2)),se.append($),k.append(se),$}h.createLinePaths=v;function b(D,k,O,N,V,j=!1){let{xScale:Q,yScale:Y}=f(D,O,N,V),$=a(c(O,Q,Y),Y,j),se=new D.Group;se.setClipRect(new D.BBox(V,V,N-V*2,N-V*2));let W=$.map(Z=>o(D,Z));return se.append(W),k.append(se),W}h.createAreaPaths=b;function R(D){return D.map((k,O,N)=>k.map((V,j)=>N.slice(0,O+1).reduce((Q,Y)=>Q+Y[j],0)))}h.stackData=R;function x(D){let k=D.map((O,N)=>D.reduce((V,j)=>Math.max(V,j[N]),0));return D.map(O=>O.map((N,V)=>N/k[V]*19))}h.normalizeStackData=x;function E(D,k,O,N,V,j,Q=0){let{_Scene:Y}=D,$=new Y.LinearScale;$.domain=[0,7],$.range=[-Math.PI,Math.PI].map(oe=>oe+Math.PI/2);let se=new Y.LinearScale;se.domain=[0,10],se.range=[V,j];let W=[],Z=N/2,ee=O.map(oe=>{let ge=new Y.Path;return ge.strokeWidth=1,ge.strokeOpacity=.5,ge.lineCap="round",ge.fill=void 0,ge.fillOpacity=.8,oe.forEach((ue,X)=>{let G=$.convert(X),U=V+j-se.convert(ue),K=U*Math.cos(G)+Z,q=U*Math.sin(G)+Z;if(ge.path[X>0?"lineTo":"moveTo"](K,q),Q>0){let ie=new Y.Marker({shape:"circle"});ie.x=K,ie.y=q,ie.size=Q,W.push(ie)}}),ge.path.closePath(),ge}),re=new Y.Group;return re.append([...ee,...W]),k.append(re),{paths:ee,markers:W}}h.createPolarPaths=E;function T(D){let[k,O]=[1/0,-1/0];return{processedData:D.reduce((V,j,Q)=>{let Y=Q>0?V[Q-1]:void 0;V[Q]??(V[Q]=[]);let $=V[Q];return j.forEach((se,W)=>{Y&&(se+=Y[W]),$[W]=se,$[W]<k&&(k=$[W]),$[W]>O&&(O=$[W])}),V},[]),min:k,max:O}}h.accumulateData=T},1408:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniChartWithAxes=void 0;let g=S(2893);class M extends g.MiniChart{constructor(f,c,r){super(f,c,r),this.stroke="gray",this.axisOvershoot=3}postConstruct(){let{_Scene:f}=this.agChartsExports,c=this.size,r=this.padding,i=new f.Line;i.x1=r,i.y1=r,i.x2=r,i.y2=c-r+this.axisOvershoot,i.stroke=this.stroke;let o=new f.Line;o.x1=r-this.axisOvershoot+1,o.y1=c-r,o.x2=c-r+1,o.y2=c-r,o.stroke=this.stroke;let a=this.root;a.append(i),a.append(o),super.postConstruct()}}h.MiniChartWithAxes=M},2220:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniChartWithPolarAxes=void 0;let g=S(2893);class M extends g.MiniChart{constructor(f,c,r){super(f,c,r),this.stroke="gray",this.showRadiusAxisLine=!0,this.showAngleAxisLines=!0}postConstruct(){let{_Scene:f}=this.agChartsExports,c=this.size,r=this.padding,i=r*2,o=(c-i)/2,a=this.showAngleAxisLines?[o,o*.8,o*.6,o*.4]:[],l=new f.Line;l.x1=c/2,l.y1=r,l.x2=c/2,l.y2=c-r-o-a[a.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;let d=r+o;this.gridLines=a.map((C,v)=>{let b=new f.Path;return b.path.arc(d,d,C,0,2*Math.PI),b.strokeWidth=1,b.stroke=this.stroke,b.strokeOpacity=v===0?.5:.2,b.fill=void 0,b});let p=this.root;p.append(l),this.gridLines.length>0&&p.append(this.gridLines),super.postConstruct()}}h.MiniChartWithPolarAxes=M},7716:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniDonut=h.MiniDonutClass=void 0;let g=S(2893);class M extends g.MiniChart{constructor(f,c,r,i,o,a=.6,l="donutTooltip"){super(f,c,l);let{size:d,padding:p,agChartsExports:{_Scene:C}}=this,v=(d-p*2)/2,b=v+p,R=C.toRadians,x=[[R(-90),R(30)],[R(30),R(120)],[R(120),R(180)],[R(180),R(210)],[R(210),R(240)],[R(240),R(270)]];this.sectors=x.map(([E,T])=>{let D=new C.Sector;return D.centerX=b,D.centerY=b,D.innerRadius=v*a,D.outerRadius=v,D.startAngle=E,D.endAngle=T,D.stroke=void 0,D.strokeWidth=0,D.inset=.75,D}),this.updateColors(r,i),this.root.append(this.sectors)}updateColors(f,c){this.sectors.forEach((r,i)=>{r.fill=f[i%f.length],r.stroke=c[i%c.length]})}}h.MiniDonutClass=M,h.MiniDonut={chartType:"donut",miniChart:M}},210:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniPie=h.MiniPieClass=void 0;let g=S(7716);class M extends g.MiniDonutClass{constructor(f,c,r,i,o){super(f,c,r,i,o,0,"pieTooltip")}}h.MiniPieClass=M,h.MiniPie={chartType:"pie",miniChart:M}},2036:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniNightingale=h.MiniNightingaleClass=void 0;let g=S(9004),M=S(2220);class P extends M.MiniChartWithPolarAxes{constructor(c,r,i,o){super(c,r,"nightingaleTooltip"),this.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],this.showRadiusAxisLine=!1;let{size:a,padding:l,data:d,agChartsExports:{_Scene:p}}=this,C=(a-l*2)/2,v=new p.CategoryScale;v.domain=d[0].map((D,k)=>k),v.range=[-Math.PI,Math.PI],v.paddingInner=0,v.paddingOuter=0;let b=v.bandwidth*.7,{processedData:R,max:x}=(0,g.accumulateData)(d),E=new p.LinearScale;E.domain=[0,x],E.range=[0,C];let T=a/2;this.series=R.map((D,k)=>{let O=k<0?void 0:R[k-1],N=new p.Group({zIndex:1e6}),V=D.map((j,Q)=>{let Y=O?.[Q],$=E.convert(j),se=E.convert(Y??0),W=v.convert(Q),Z=W+b,ee=new p.Sector;return ee.centerX=T,ee.centerY=T,ee.innerRadius=se,ee.outerRadius=$,ee.startAngle=W,ee.endAngle=Z,ee.stroke=void 0,ee.strokeWidth=0,ee});return N.append(V),N}),this.root.append(this.series),this.updateColors(i,o)}updateColors(c,r){this.series.forEach((i,o)=>{for(let a of i.children())a.fill=c[o%c.length],a.stroke=r[o%r.length]})}}h.MiniNightingaleClass=P,h.MiniNightingale={chartType:"nightingale",miniChart:P}},8660:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRadarArea=h.MiniRadarAreaClass=void 0;let g=S(9004),M=S(2220);class P extends M.MiniChartWithPolarAxes{constructor(c,r,i,o){super(c,r,"radarAreaTooltip"),this.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]];let{size:a,padding:l,root:d,data:p}=this;this.showRadiusAxisLine=!1;let C=(a-l*2)/2,v=C-a*.3;this.areas=(0,g.createPolarPaths)(r,d,p,a,C,v).paths,this.updateColors(i,o)}updateColors(c,r){this.areas.forEach((i,o)=>{i.fill=c[o],i.stroke=r[o]})}}h.MiniRadarAreaClass=P,h.MiniRadarArea={chartType:"radarArea",miniChart:P}},5520:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRadarLine=h.MiniRadarLineClass=void 0;let g=S(9004),M=S(2220);class P extends M.MiniChartWithPolarAxes{constructor(c,r,i,o){super(c,r,"radarLineTooltip"),this.markerSize=4,this.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],this.showRadiusAxisLine=!1;let{size:a,padding:l,root:d,data:p}=this,C=(a-l*2)/2,v=0,{paths:b,markers:R}=(0,g.createPolarPaths)(r,d,p,a,C,v,this.markerSize);this.lines=b,this.markers=R,this.updateColors(i,o)}updateColors(c,r){this.lines.forEach((i,o)=>{let a=this.data[o].length;i.stroke=c[o];let l=o*a,d=l+a;this.markers.slice(l,d).forEach(C=>{C.stroke=r[o],C.fill=c[o]})})}}h.MiniRadarLineClass=P,h.MiniRadarLine={chartType:"radarLine",miniChart:P}},9702:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRadialBar=h.MiniRadialBarClass=void 0;let g=S(9004),M=S(2220);class P extends M.MiniChartWithPolarAxes{constructor(c,r,i,o){super(c,r,"radialBarTooltip"),this.data=[[6,8,10],[4,4,3],[5,4,2]],this.showRadiusAxisLine=!1;let{size:a,padding:l,data:d,agChartsExports:{_Scene:p}}=this,C=(a-l)/2,b=C*.4,R=new p.CategoryScale;R.domain=d[0].map((V,j)=>j),R.range=[b,C],R.paddingInner=.5,R.paddingOuter=0;let x=R.bandwidth,{processedData:E,max:T}=(0,g.accumulateData)(d),D=new p.LinearScale;D.domain=[0,Math.ceil(T*1.5)];let k=3/2*Math.PI,O=k+2*Math.PI;D.range=[k,O];let N=a/2;this.series=E.map((V,j)=>{let Q=j<0?void 0:E[j-1],Y=new p.Group({zIndex:1e6}),$=V.map((se,W)=>{let Z=Q?.[W]??0,ee=R.convert(W),re=ee-x,oe=D.convert(Z),ge=D.convert(se),ue=new p.Sector;return ue.centerX=N,ue.centerY=N,ue.innerRadius=re,ue.outerRadius=ee,ue.startAngle=oe,ue.endAngle=ge,ue.stroke=void 0,ue.strokeWidth=0,ue});return Y.append($),Y}),this.root.append(this.series),this.updateColors(i,o)}updateColors(c,r){this.series.forEach((i,o)=>{for(let a of i.children())a.fill=c[o%c.length],a.stroke=r[o%r.length]})}}h.MiniRadialBarClass=P,h.MiniRadialBar={chartType:"radialBar",miniChart:P}},781:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRadialColumn=h.MiniRadialColumnClass=void 0;let g=S(9004),M=S(2220);class P extends M.MiniChartWithPolarAxes{constructor(c,r,i,o){super(c,r,"radialColumnTooltip"),this.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],this.showRadiusAxisLine=!1;let{padding:a,size:l,data:d,agChartsExports:{_Scene:p}}=this,C=(l-a*2)/2,b=C*.4,R=new p.CategoryScale;R.domain=d[0].map((O,N)=>N),R.range=[0,2*Math.PI],R.paddingInner=0,R.paddingOuter=0;let x=R.bandwidth*.7,{processedData:E,max:T}=(0,g.accumulateData)(d),D=new p.LinearScale;D.domain=[0,T],D.range=[b,C];let k=this.size/2;this.series=E.map((O,N)=>{let j=N===0?void 0:E[N-1],Q=new p.TranslatableGroup({zIndex:1e6}),Y=O.map(($,se)=>{let W=j?.[se],Z=D.convert($),ee=D.convert(W??0),re=R.convert(se),oe=re+x,ge=p.getRadialColumnWidth(re,oe,C,.5,.5),ue=new p.RadialColumnShape;return ue.columnWidth=ge,ue.innerRadius=ee,ue.outerRadius=Z,ue.startAngle=re,ue.endAngle=oe,ue.isBeveled=!0,ue.axisInnerRadius=b,ue.axisOuterRadius=C,ue.stroke=void 0,ue.strokeWidth=0,ue});return Q.append(Y),Q.translationX=k,Q.translationY=k,Q}),this.root.append(this.series),this.updateColors(i,o)}updateColors(c,r){this.series.forEach((i,o)=>{for(let a of i.children())a.fill=c[o%c.length],a.stroke=r[o%r.length]})}}h.MiniRadialColumnClass=P,h.MiniRadialColumn={chartType:"radialColumn",miniChart:P}},3268:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniBubble=h.MiniBubbleClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i){super(f,c,"bubbleTooltip");let{size:o,padding:a,agChartsExports:{_Scene:l}}=this,d=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],p=new l.LinearScale;p.domain=[0,1],p.range=[a*2,o-a];let C=new l.LinearScale;C.domain=[0,1],C.range=[o-a,a];let v=[];d.forEach(R=>{R.forEach(([x,E,T])=>{let D=new l.Arc;D.strokeWidth=0,D.centerX=p.convert(x),D.centerY=C.convert(E),D.radius=T,D.fillOpacity=.7,v.push(D)})}),this.points=v,this.updateColors(r,i);let b=new l.Group;b.setClipRect(new l.BBox(a,a,o-a*2,o-a*2)),b.append(this.points),this.root.append(b)}updateColors(f,c){this.points.forEach((r,i)=>{r.stroke=c[i%c.length],r.fill=f[i%f.length]})}}h.MiniBubbleClass=M,h.MiniBubble={chartType:"bubble",miniChart:M}},434:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniScatter=h.MiniScatterClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i){super(f,c,"scatterTooltip");let{size:o,padding:a,agChartsExports:{_Scene:l}}=this,d=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],p=new l.LinearScale;p.domain=[-.5,4],p.range=[a*2,o-a];let C=new l.LinearScale;C.domain=[-.5,3.5],C.range=[o-a,a];let v=[];d.forEach(R=>{R.forEach(([x,E])=>{let T=new l.Arc;T.strokeWidth=0,T.centerX=p.convert(x),T.centerY=C.convert(E),T.radius=2.5,v.push(T)})}),this.points=v,this.updateColors(r,i);let b=new l.Group;b.setClipRect(new l.BBox(a,a,o-a*2,o-a*2)),b.append(this.points),this.root.append(b)}updateColors(f,c){this.points.forEach((r,i)=>{r.stroke=c[i%c.length],r.fill=f[i%f.length]})}}h.MiniScatterClass=M,h.MiniScatter={chartType:"scatter",miniChart:M}},795:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniHeatmap=h.MiniHeatmapClass=void 0;let g=S(2893);class M extends g.MiniChart{constructor(f,c,r,i,o){super(f,c,"heatmapTooltip");let{size:a,padding:l,agChartsExports:{_Scene:d}}=this,p=3,C=Array.from({length:p},(D,k)=>Array.from({length:p},(O,N)=>N)),v=C.map((D,k)=>k),b=new d.CategoryScale;b.domain=v,b.range=[l,a-l],b.paddingInner=.01,b.paddingOuter=.1;let R=new d.CategoryScale;R.domain=v,R.range=[l,a-l],R.paddingInner=.01,R.paddingOuter=.1;let x=b.bandwidth??0,E=R.bandwidth??0;this.rects=C.reduce((D,k,O)=>{D??(D=[]);let N=k.map((V,j)=>{let Q=new d.Rect;return Q.x=b.convert(O),Q.y=R.convert(j),Q.width=x,Q.height=E,Q.strokeWidth=0,Q.crisp=!0,Q});return D.push(...N),D},[]),this.updateColors(r,i,o);let T=new d.Group;T.setClipRect(new d.BBox(l,l,a-l,a-l)),T.append(this.rects),this.root.append(T)}updateColors(f,c,r){let{_Theme:i,_Util:o}=this.agChartsExports,a=r?[f[0],f[1]]:i.resolveOperation({$palette:"divergingColors"}),l=r?c[0]:i.resolveOperation({$ref:"backgroundColor"}),d=o.interpolateColor(a[0],a[1]);this.rects.forEach((p,C)=>{p.fill=d(C*.2),p.stroke=l})}}h.MiniHeatmapClass=M,h.MiniHeatmap={chartType:"heatmap",miniChart:M}},3209:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniWaterfall=h.MiniWaterfallClass=void 0;let g=S(9004),M=S(1408);class P extends M.MiniChartWithAxes{constructor(c,r,i,o,a){super(c,r,"waterfallTooltip"),this.data=[4,3,-3,6,-3],this.bars=this.createWaterfall(this.root,this.data,this.size,this.padding,"vertical").bars,this.updateColors(i,o,a)}updateColors(c,r,i){let{data:o,agChartsExports:{_Theme:a}}=this,l={fill:i?c[0]:a.resolveOperation({$palette:"altUp.fill"}),stroke:i?r[0]:a.resolveOperation({$palette:"altUp.stroke"})},d={fill:i?c[1]:a.resolveOperation({$palette:"altDown.fill"}),stroke:i?r[1]:a.resolveOperation({$palette:"altDown.stroke"})};this.bars.forEach((p,C)=>{let v=o[C]>=0;p.fill=v?l.fill:d.fill,p.stroke=v?l.stroke:d.stroke})}createWaterfall(c,r,i,o,a){let l=2*o,{processedData:d,min:p,max:C}=(0,g.accumulateData)(r.map(V=>[V])),v=d.reduce((V,j)=>V.concat(j),[]),{_Scene:b}=this.agChartsExports,R=new b.LinearScale;R.domain=[Math.min(p,0),C],R.range=[i-l,l];let x=new b.CategoryScale;x.domain=r.map((V,j)=>j),x.range=[o,i-o],x.paddingInner=.2,x.paddingOuter=.3;let E=x.bandwidth,T=new b.Path;T.stroke="#575757",T.strokeWidth=0;let D=Math.floor(T.strokeWidth)%2/2,k=T.path;k.clear();let O=a==="horizontal",N=v.map((V,j)=>{let Q=j>0?v[j-1]:0,$=r[j]>0,se=Math.round(R.convert(V)),W=Math.round(R.convert(Q)),Z=($?se:W)-D,ee=($?W:se)+D,re=Math.abs(ee-Z),oe=x.convert(j),ge=new b.Rect;ge.x=O?Z:oe,ge.y=O?oe:Z,ge.width=O?re:E,ge.height=O?E:re,ge.strokeWidth=0,ge.crisp=!0;let ue=se+D,X=W+D;if(j>0){let K=O?X:ge.x,q=O?ge.y:X;k.lineTo(K,q)}let G=O?ue:ge.x,U=O?ge.y:ue;return k.moveTo(G,U),ge});return c.append([T,...N]),{bars:N}}}h.MiniWaterfallClass=P,h.MiniWaterfall={chartType:"waterfall",miniChart:P}},1819:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniBoxPlot=h.MiniBoxPlotClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i,o){super(f,c,"boxPlotTooltip");let{size:a,padding:l,agChartsExports:{_Scene:d}}=this,p=[11,11.5,10.5],C=1.2,v=1.1,b=.9,R=.8,x=new d.LinearScale;x.domain=[p.reduce((k,O)=>Math.min(k,O),1/0)*R,p.reduce((k,O)=>Math.max(k,O),0)*C],x.range=[a-1.5*l,l];let E=new d.CategoryScale;E.domain=p.map((k,O)=>O),E.range=[l,a-l],E.paddingInner=.4,E.paddingOuter=.2;let T=Math.round(E.bandwidth),D=Math.round(E.bandwidth/2);this.boxPlotGroups=p.map((k,O)=>{let[N,V,j,Q]=[k*R,k*b,k*v,k*C],Y=Math.round(x.convert(j)),$=Math.round(E.convert(O)),se=Math.round($+T),W=Math.round(x.convert(V)),Z=Math.round(x.convert(N)),ee=Math.round(x.convert(k)),re=Math.round(x.convert(Q)),oe=$+D,ge=new d.Group,ue=new d.Rect,X=new d.Line,G=new d.Line,U=new d.Line,K=new d.Line,q=new d.Line;return ue.x=$,ue.y=Y,ue.width=T,ue.height=W-Y,ue.strokeWidth=1,ue.strokeOpacity=.75,ue.crisp=!0,this.setLineProperties(X,$,se,ee,ee),this.setLineProperties(G,oe,oe,re,Y),this.setLineProperties(U,oe,oe,Z,W),this.setLineProperties(K,$,se,re,re),this.setLineProperties(q,$,se,Z,Z),ge.append([ue,X,G,U,K,q]),ge}),this.updateColors(r,i,o),this.root.append(this.boxPlotGroups)}updateColors(f,c,r){let{_Theme:i}=this.agChartsExports;this.boxPlotGroups.forEach((o,a)=>{for(let l of o.children()){let d=f[a%f.length];l.fill=r?d:i.resolveOperation({$mix:[d,{$ref:"backgroundColor"},.7]}),l.stroke=c[a%c.length]}})}setLineProperties(f,c,r,i,o){f.x1=c,f.x2=r,f.y1=i,f.y2=o,f.strokeOpacity=.75}}h.MiniBoxPlotClass=M,h.MiniBoxPlot={chartType:"boxPlot",miniChart:M}},7049:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRangeArea=h.MiniRangeAreaClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(i,o,a,l){super(i,o,"rangeAreaTooltip");let d=4,p=[P({offset:.375*d,length:d,pattern:{low:3,high:5,period:d}}),P({offset:.375*d,length:d,pattern:{low:2.25,high:4.25,period:d}}),P({offset:.75*d,length:d,pattern:{low:2.5,high:4.5,period:d}})],C=1.75,v=p.map(x=>x.map(([E,T])=>({x:E,low:T-.5*C,high:T+.5*C}))),{lines:b,areas:R}=this.createRangeArea(this.root,v,this.size,this.padding);this.lines=b,this.areas=R,this.updateColors(a,l)}updateColors(i,o){i=c(i,1,2),o=c(o,1,2),this.lines.forEach(([a,l],d)=>{a.fill=void 0,a.stroke=o[d],l.fill=void 0,l.stroke=o[d]}),this.areas.forEach((a,l)=>{a.fill=i[l]})}createRangeArea(i,o,a,l){let d=o.reduce((O,N)=>N.reduce((V,{x:j})=>Math.min(V,j),O),1/0),p=o.reduce((O,N)=>N.reduce((V,{x:j})=>Math.max(V,j),O),-1/0),C=o.reduce((O,N)=>N.reduce((V,{low:j})=>Math.min(V,j),O),1/0),v=o.reduce((O,N)=>N.reduce((V,{high:j})=>Math.max(V,j),O),-1/0),{_Scene:b}=this.agChartsExports,R=new b.LinearScale;R.domain=[d,p],R.range=[l,a-l];let x=2*l,E=new b.LinearScale;E.domain=[C,v],E.range=[a-x,x];let T=[],D=[];return o.map(O=>{let N=new b.Path,V=new b.Path,j=new b.Path;return T.push([N,V]),D.push(j),N.strokeWidth=0,V.strokeWidth=0,j.strokeWidth=0,j.fillOpacity=.8,N.path.clear(),V.path.clear(),j.path.clear(),O.map((Q,Y)=>{let{x:$,low:se,high:W}=Q,Z=R.convert($),ee=E.convert(se),re=E.convert(W),oe=Y>0?"lineTo":"moveTo";return N.path[oe](Z,re),V.path[oe](Z,ee),j.path[oe](Z,re),[Z,ee]})}).forEach((O,N)=>{let V=O.length-1,j=D[N];for(let Q=V;Q>=0;Q--){let[Y,$]=O[Q];j.path.lineTo(Y,$)}}),i.append(D.concat(...T)),{lines:T,areas:D}}}h.MiniRangeAreaClass=M;function P(r){let{offset:i,length:o,pattern:a}=r,l=C(i,o,a),d=0,p=o;return(l.length===0||l[0][0]!==d)&&l.unshift(v(d,i,a)),l[l.length-1][0]!==p&&l.push(v(p,i,a)),l;function C(R,x,E){let{period:T}=E,D=R/T,O=[0,.5].map(V=>V-D).map(f).sort((V,j)=>V-j);return Array.from({length:Math.floor(O.length*(T/x))},(V,j)=>O[j%O.length]+Math.floor(j/O.length)).map(V=>V*T).map(V=>v(V,R,E))}function v(R,x,E){return[R,b(x+R,E)]}function b(R,x){let{low:E,high:T,period:D}=x,k=f(R/D),O=k>.5?1-2*(k-.5):2*k;return E+(T-E)*O}}function f(r){let i=r%1;return i<0?i+1:i}function c(r,i,o){let a=[...r],l=a[i];return a[i]=a[o],a[o]=l,a}h.MiniRangeArea={chartType:"rangeArea",miniChart:M}},4823:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniRangeBar=h.MiniRangeBarClass=void 0;let g=S(1408);class M extends g.MiniChartWithAxes{constructor(f,c,r,i){super(f,c,"rangeBarTooltip");let o=[3,3.5,3];this.bars=this.createRangeBar(this.root,o,this.size,this.padding,"vertical"),this.updateColors(r,i)}updateColors(f,c){this.bars.forEach((r,i)=>{r.fill=f[i],r.stroke=c[i]})}createRangeBar(f,c,r,i,o){let a=o==="horizontal",l=2*i,{_Scene:d}=this.agChartsExports,p=new d.CategoryScale;p.domain=c.map((E,T)=>T),p.range=[i,r-i],p.paddingInner=.3,p.paddingOuter=.3;let C=.7,v=1.3,b=new d.LinearScale;b.domain=[c.reduce((E,T)=>Math.min(E,T),1/0)*C,c.reduce((E,T)=>Math.max(E,T),0)*v],b.range=[l,r-l];let R=p.bandwidth,x=c.map((E,T)=>{let[D,k]=[E*C,E*v],O=p.convert(T),N=b.convert(D),V=b.convert(k)-N,j=new d.Rect;return j.x=a?N:O,j.y=a?O:N,j.width=a?V:R,j.height=a?R:V,j.strokeWidth=0,j.crisp=!0,j});return f.append(x),x}}h.MiniRangeBarClass=M,h.MiniRangeBar={chartType:"rangeBar",miniChart:M}},6692:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MiniChartsContainer=void 0;let g=S(6624),M=S(1421),P=S(4237),f=S(8049),c=S(8250),r=S(1244),i=S(6544),o={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniColumn},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniStackedColumn},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniNormalizedColumn}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniBar},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniStackedBar},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniNormalizedBar}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniPie},donut:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniDonut},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniDonut}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniLine},stackedLine:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniStackedLine},normalizedLine:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniNormalizedLine}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniScatter},bubble:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniBubble}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniArea},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniStackedArea},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniNormalizedArea}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRadarLine},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRadarArea},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniNightingale},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRadialColumn},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRadialBar}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniBoxPlot},histogram:{range:!0,pivot:!1,enterprise:!1,icon:i.MiniHistogram},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRangeBar},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniRangeArea}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:i.MiniTreemap},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:i.MiniSunburst}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniHeatmap},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:i.MiniWaterfall}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniColumnLineCombo},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniAreaColumnCombo},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:i.MiniCustomCombo}},funnelGroup:{funnel:{range:!0,pivot:!1,enterprise:!0,icon:c.MiniFunnel},coneFunnel:{range:!0,pivot:!1,enterprise:!0,icon:f.MiniConeFunnel},pyramid:{range:!0,pivot:!1,enterprise:!0,icon:r.MiniPyramid}}},a={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line","stackedLine","normalizedLine"],areaGroup:["area","stackedArea","normalizedArea"],scatterGroup:["scatter","bubble"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],funnelGroup:["funnel","coneFunnel","pyramid"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]};class l extends g.Component{wireBeans(p){this.chartTranslation=p.chartTranslation}constructor(p,C,v,b,R=a){super('<div class="ag-chart-settings-mini-wrapper"></div>'),this.wrappers=new Map,this.chartController=p,this.fills=C,this.strokes=v,this.isCustomTheme=b,this.chartGroups={...R}}postConstruct(){!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(x=>x!=="customCombo"));let p=this.getGui(),C=this.chartController.isEnterprise(),v=this.chartController.isPivotChart(),b=!v,R=Object.keys(this.chartGroups).map(x=>{let E=x in o?o[x]:void 0;if(!E)return(0,g._warn)(148,{group:x}),null;let D=(this.chartGroups[x]??[]).map(k=>{let O=k in E?E[k]:void 0;return O?!C&&O.enterprise?null:b&&O.range||v&&O.pivot?O:null:((0,g._warn)(149,{group:x,chartType:k}),null)}).filter(k=>k!=null);return D.length===0?null:{label:this.chartTranslation.translate(x),items:D}}).filter(x=>x!=null);for(let{label:x,items:E}of R){let T=this.createBean(new M.AgGroupComponent({title:x,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal",suppressKeyboardNavigation:!0}));for(let D of E){let{miniChart:k,chartType:O}=D.icon,N=document.createElement("div");N.classList.add("ag-chart-mini-thumbnail"),N.setAttribute("tabindex","0"),N.setAttribute("role","button");let V=O,j=()=>{this.chartController.setChartType(V),this.updateSelectedMiniChart()};this.addManagedListeners(N,{click:j,keydown:Q=>{(Q.key==g.KeyCode.ENTER||Q.key===g.KeyCode.SPACE)&&(Q.preventDefault(),j())}}),this.wrappers.set(V,N),this.createBean(new k(N,this.beans.agChartsExports,this.fills,this.strokes,this.isCustomTheme)),T.addItem(N)}p.appendChild(T.getGui())}this.updateSelectedMiniChart()}updateSelectedMiniChart(){let p=this.chartController.getChartType();this.wrappers.forEach((C,v)=>{let b=v===p;C.classList.toggle("ag-selected",b);let R=this.chartTranslation.translate((0,P.getFullChartNameTranslationKey)(v)),x=b?`${R}. ${this.chartTranslation.translate("ariaChartSelected")}`:R;(0,g._setAriaLabel)(C,x)})}destroy(){this.wrappers.clear(),super.destroy()}}h.MiniChartsContainer=l},5518:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TabbedChartMenu=void 0;let g=S(6624),M=S(5875),P=S(1504),f=S(3160),c=S(6604),r="data",i="format";class o extends g.Component{wireBeans(l){this.chartTranslation=l.chartTranslation}constructor(l,d){super(),this.panels=l,this.chartMenuContext=d,this.tabs=[]}postConstruct(){this.panels.forEach(l=>{let d=l.replace("chart","").toLowerCase(),p=this.createPanel(d),C=this.createTab(l,d,p);this.tabs.push(C),this.addDestroyFunc(()=>this.destroyBean(p))}),this.tabbedLayout=new M.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0,suppressFocusBodyOnOpen:!0,suppressTrapFocus:!0,enableCloseButton:!0,closeButtonAriaLabel:this.chartTranslation.translate("ariaChartMenuClose"),onCloseClicked:()=>{this.eventSource?.focus({preventScroll:!0}),this.dispatchLocalEvent({type:"closed"})}}),this.createBean(this.tabbedLayout)}createTab(l,d,p){let C=document.createElement("div");C.classList.add("ag-chart-tab",`ag-chart-${d}`),this.createBean(p),C.appendChild(p.getGui());let v=document.createElement("div"),b=this.chartTranslation.translate(d);return v.innerText=b,{title:v,titleLabel:b,bodyPromise:g.AgPromise.resolve(C),getScrollableContainer:()=>C.querySelector(".ag-scrollable-container")||C,name:l}}showTab(l){let d=this.tabs[l];this.tabbedLayout.showItem(d)}getGui(){return this.tabbedLayout&&this.tabbedLayout.getGui()}showMenu(l,d){this.eventSource=l,d||this.tabbedLayout?.focusHeader(!0)}destroy(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),super.destroy()}createPanel(l){switch(l){case r:return new P.ChartDataPanel(this.chartMenuContext);case i:return new f.FormatPanel(this.chartMenuContext);default:return new c.ChartSettingsPanel(this.chartMenuContext.chartController)}}}h.TabbedChartMenu=o},8592:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartDataModel=h.DEFAULT_CHART_CATEGORY=void 0;let g=S(6624),M=S(9208),P=S(8919),f=S(4237),c=S(2474);h.DEFAULT_CHART_CATEGORY="AG-GRID-DEFAULT-CATEGORY";class r extends g.BeanStub{wireBeans(o){this.rangeSvc=o.rangeSvc,this.chartTranslation=o.chartTranslation}constructor(o){super(),this.unlinked=!1,this.chartData=[],this.valueColState=[],this.dimensionColState=[],this.colNames={},this.crossFiltering=!1,this.grouping=!1,this.params=o,this.chartId=o.chartId,this.setParams(o)}setParams(o){let{chartType:a,pivotChart:l,chartThemeName:d,switchCategorySeries:p,aggFunc:C,cellRange:v,suppressChartRanges:b,unlinkChart:R,crossFiltering:x,seriesGroupType:E}=o;this.chartType=a,this.pivotChart=l??!1,this.chartThemeName=d,this.switchCategorySeries=!!p,this.aggFunc=C,this.referenceCellRange=v,this.suppliedCellRange=v,this.suppressChartRanges=b??!1,this.unlinked=!!R,this.crossFiltering=!!x,this.seriesGroupType=E}postConstruct(){this.datasource=this.createManagedBean(new M.ChartDatasource),this.chartColSvc=this.createManagedBean(new P.ChartColumnService),this.comboChartModel=this.createManagedBean(new c.ComboChartModel(this)),this.updateCellRanges({setColsFromRange:!0}),this.updateData()}updateModel(o){let{cellRange:a,seriesChartTypes:l}=o;a!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.setParams(o),this.updateSelectedDimensions(a?.columns),this.updateCellRanges({setColsFromRange:!0}),(this.isComboChart()||l)&&this.comboChartModel.update(l),this.unlinked||this.updateData()}updateCellRanges(o){let{updatedColState:a,resetOrder:l,maintainColState:d,setColsFromRange:p}=o??{};this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);let{dimensionCols:C,valueCols:v}=this.chartColSvc.getChartColumns(),b=this.getAllColumnsFromRanges();a&&this.updateColumnState(a,l),this.setDimensionCellRange(C,b,a),this.setValueCellRange(v,b,p),!a&&!d&&(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()}updateData(){let{startRow:o,endRow:a}=this.getRowIndexes();this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();let l={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:o,endRow:a,isScatter:["scatter","bubble"].includes(this.chartType)},{chartData:d,colNames:p,groupChartData:C}=this.datasource.getData(l);this.chartData=d,this.groupChartData=C,this.colNames=p,this.categoryAxisType=void 0}isGrouping(){let o=this.gos.get("treeData"),a=o?null:this.chartColSvc.getRowGroupColumns(),l=o||a&&a.length>0,d=this.getSelectedDimensions().map(({colId:v})=>v),C=this.chartColSvc.getGroupDisplayColumns().map(v=>v.getColId()).some(v=>d.includes(v));return!!l&&C}getSelectedValueCols(){return this.valueColState.filter(o=>o.selected).map(o=>o.column)}getSelectedDimensions(){return this.dimensionColState.filter(o=>o.selected)}getColDisplayName(o,a){return this.chartColSvc.getColDisplayName(o,a)}isPivotMode(){return this.chartColSvc.isPivotMode()}getChartDataType(o){let a=this.chartColSvc.getColumn(o);return a?a.getColDef().chartDataType:void 0}isPivotActive(){return this.chartColSvc.isPivotActive()}createCellRange(o,...a){return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:a,startColumn:o===g.CellRangeType.DIMENSION||this.referenceCellRange.startColumn==null?a[0]:this.referenceCellRange.startColumn,type:o}}getAllColumnsFromRanges(){if(this.pivotChart)return new Set(this.chartColSvc.getAllDisplayedColumns());let o=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&o.push(...this.dimensionCellRange.columns),this.valueCellRange&&o.push(...this.valueCellRange.columns),new Set(o)}getRowIndexes(){let o=0,a=0,{rangeSvc:l,valueCellRange:d,dimensionCellRange:p}=this,C=d||p;if(l&&C){o=l.getRangeStartRow(C).rowIndex;let v=l.getRangeEndRow(C);a=v.rowPinned==="bottom"?-1:v.rowIndex}return{startRow:o,endRow:a}}resetColumnState(){let{dimensionCols:o,valueCols:a}=this.chartColSvc.getChartColumns(),l=this.getAllColumnsFromRanges(),d=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];let p=(0,f.isHierarchical)((0,f.getSeriesType)(this.chartType)),C=!1,v=1,b=this.suppliedCellRange.columns[0];o.forEach(E=>{let T=E.getColId()==="ag-Grid-AutoColumn",D=!1;this.crossFiltering&&this.aggFunc?b.getColId()===E.getColId()&&(D=!0):D=T?!0:(!C||p)&&l.has(E),this.dimensionColState.push({column:E,colId:E.getColId(),displayName:this.getColDisplayName(E),selected:D,order:v++}),D&&(C=!0)});let R={colId:h.DEFAULT_CHART_CATEGORY,displayName:this.chartTranslation.translate("defaultCategory"),selected:!C,order:0};this.dimensionColState.unshift(R);let x=this.referenceCellRange.columns.filter(E=>a.has(E));a.forEach(E=>{d&&this.referenceCellRange.columns.includes(E)&&(E=x.shift()),this.valueColState.push({column:E,colId:E.getColId(),displayName:this.getColDisplayName(E),selected:l.has(E),order:v++})})}updateColumnState(o,a){let l=x=>x.colId===o.colId,{dimensionColState:d,valueColState:p}=this,C=d.find(l),v=p.find(l);if(C)if((0,f.isHierarchical)((0,f.getSeriesType)(this.chartType)))C.selected=o.selected;else{let E=o.selected?C:d.filter(T=>T!==C).find(({selected:T})=>T);d.forEach(T=>T.selected=T===E)}else v&&(v.selected=o.selected);let b=[...d,...p],R=[];a||(b.forEach((x,E)=>{E===o.order&&R.push(o.colId),x.colId!==o.colId&&R.push(x.colId)}),b.forEach(x=>{let E=R.indexOf(x.colId);x.order=E>=0?R.indexOf(x.colId):b.length-1})),this.reorderColState()}reorderColState(){let o=(a,l)=>a.order-l.order;this.dimensionColState.sort(o),this.valueColState.sort(o)}setDimensionCellRange(o,a,l){this.dimensionCellRange=void 0;let d=(0,f.isHierarchical)((0,f.getSeriesType)(this.chartType));if(!l&&!this.dimensionColState.length){let b=new Array;o.forEach(R=>{b.length>0&&!d||!a.has(R)||b.push(R)}),b.length>0&&(this.dimensionCellRange=this.createCellRange(g.CellRangeType.DIMENSION,...b));return}let p=l?[l]:[];if(this.crossFiltering&&this.aggFunc){let b=this.suppliedCellRange.columns[0];p=this.dimensionColState.filter(R=>R.colId===b.getColId())}else(d||p.length===0||p.some(({column:b})=>!b||!o.has(b)))&&(p=this.dimensionColState.filter(b=>b.selected));let C=p.length===1?p[0].colId===h.DEFAULT_CHART_CATEGORY:!1,v=p.map(({column:b})=>b).filter(b=>b!=null);v.length>0&&!C&&(this.dimensionCellRange=this.createCellRange(g.CellRangeType.DIMENSION,...v))}setValueCellRange(o,a,l){this.valueCellRange=void 0;let d=[],p=(0,f.getMaxNumSeries)(this.chartType),C=0;if(o.forEach(v=>{l?(p==null||C<p)&&a.has(v)&&(d.push(v),C++):this.valueColState.some(b=>b.selected&&b.colId===v.getColId())&&d.push(v)}),d.length>0){let v=[];this.valueColState.length>0?v=this.valueColState.map(b=>b.colId):a.forEach(b=>v.push(b.getColId())),d.sort((b,R)=>v.indexOf(b.getColId())-v.indexOf(R.getColId())),this.valueCellRange=this.createCellRange(g.CellRangeType.VALUE,...d)}}resetCellRanges(o,a){if(!o&&!a)return;let{dimensionCols:l,valueCols:d}=this.chartColSvc.getChartColumns(),p=this.getAllColumnsFromRanges();o&&this.setDimensionCellRange(l,p),a&&this.setValueCellRange(d,p)}updateSelectedDimensions(o){let a=new Set(o.map(d=>d.getColId()));if((0,f.isHierarchical)((0,f.getSeriesType)(this.chartType))){let d=this.dimensionColState.filter(C=>a.has(C.colId)),p=new Set(d.map(C=>C.colId));this.dimensionColState=this.dimensionColState.map(C=>({...C,selected:p.has(C.colId)}))}else{let p=(this.dimensionColState.find(C=>a.has(C.colId))||this.dimensionColState[0]).colId;this.dimensionColState=this.dimensionColState.map(C=>({...C,selected:C.colId===p}))}}syncDimensionCellRange(){let o=this.getSelectedDimensions();if(o.length===0)return;let a=o.map(({column:l})=>l).filter(l=>l!=null);a.length>0&&(this.dimensionCellRange=this.createCellRange(g.CellRangeType.DIMENSION,...a))}isComboChart(o){return(0,f.isComboChart)(o??this.chartType)}}h.ChartDataModel=r},2474:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ComboChartModel=void 0;let g=S(6624),M=new Set(["line","groupedColumn","stackedColumn","area","stackedArea"]);class P extends g.BeanStub{constructor(c){super(),this.suppressComboChartWarnings=!1,this.chartDataModel=c,this.seriesChartTypes=c.params.seriesChartTypes??[]}postConstruct(){this.initComboCharts()}update(c){this.seriesChartTypes=c??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()}initComboCharts(){let c=this.seriesChartTypes&&this.seriesChartTypes.length>0;(this.chartDataModel.chartType==="customCombo"||c)&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])}updateSeriesChartTypes(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(c=>{let r=["groupedColumn","stackedColumn","stackedArea"].includes(c.chartType);return c.secondaryAxis=r?!1:c.secondaryAxis,c}),this.chartDataModel.chartType==="customCombo"){this.updateSeriesChartTypesForCustomCombo();return}this.updateChartSeriesTypesForBuiltInCombos()}}updateSeriesChartTypesForCustomCombo(){!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&(0,g._warn)(150),this.seriesChartTypes=this.seriesChartTypes.map(o=>(M.has(o.chartType)||((0,g._warn)(151,{chartType:o.chartType}),o.chartType="line"),o));let r=o=>{(!this.savedCustomSeriesChartTypes||this.savedCustomSeriesChartTypes.length===0)&&(this.savedCustomSeriesChartTypes=this.seriesChartTypes);let a=this.savedCustomSeriesChartTypes.find(l=>l.colId===o.colId);return a||(o.selected&&!this.suppressComboChartWarnings&&(0,g._warn)(152,{colId:o.colId}),{colId:o.colId,chartType:"line",secondaryAxis:!1})},i=this.chartDataModel.valueColState.map(r);this.seriesChartTypes=i,this.savedCustomSeriesChartTypes=i,this.suppressComboChartWarnings=!0}updateChartSeriesTypesForBuiltInCombos(){let{chartType:c,valueColState:r}=this.chartDataModel,i=c==="columnLineCombo"?"groupedColumn":"stackedArea",o=c==="columnLineCombo"?"line":"groupedColumn",a=r.filter(d=>d.selected),l=Math.ceil(a.length/2);this.seriesChartTypes=a.map((d,p)=>{let C=p>=l?o:i;return{colId:d.colId,chartType:C,secondaryAxis:!1}})}}h.ComboChartModel=P},8919:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartColumnService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartColSvc",this.valueColsWithoutSeriesType=new Set}wireBeans(f){this.colModel=f.colModel,this.colNames=f.colNames,this.valueSvc=f.valueSvc}postConstruct(){let f=()=>this.valueColsWithoutSeriesType.clear();this.addManagedEventListeners({newColumnsLoaded:f,rowDataUpdated:f})}getColumn(f){return this.colModel.getColDefCol(f)}getAllDisplayedColumns(){return this.beans.visibleCols.allCols}getColDisplayName(f,c){let r="chart",i=this.colNames.getDisplayNameForColumn(f,r);if(c){let o=[i],a=l=>{if(!l)return;let d=this.colNames.getDisplayNameForColumnGroup(l,r);d?.length&&(o.unshift(d),a(l.getParent()))};return a(f.getParent()),o.join(" - ")}return i}getRowGroupColumns(){return this.beans.rowGroupColsSvc?.columns??[]}getGroupDisplayColumns(){return this.beans.showRowGroupCols?.getShowRowGroupCols()??[]}isPivotMode(){return this.colModel.isPivotMode()}isPivotActive(){return this.colModel.isPivotActive()}getChartColumns(){let f=this.colModel.getCols(),c=new Set,r=new Set;return f.forEach(i=>{let o=i.getColDef(),a=o.chartDataType;if(a)switch(a){case"category":case"time":c.add(i);return;case"series":r.add(i);return;case"excluded":return;default:(0,g._warn)(153,{chartDataType:a});break}if(o.colId==="ag-Grid-AutoColumn"){c.add(i);return}if(!i.isPrimary()){r.add(i);return}(this.isInferredValueCol(i)?r:c).add(i)}),{dimensionCols:c,valueCols:r}}isInferredValueCol(f){let c=f.getColId();if(c==="ag-Grid-AutoColumn")return!1;let r=(0,g._getRowNode)(this.beans,{rowIndex:0,rowPinned:null});if(!r)return this.valueColsWithoutSeriesType.has(c);let i=this.valueSvc.getValue(f,r);i==null&&(i=this.extractLeafData(r,f)),i!=null&&typeof i.toNumber=="function"&&(i=i.toNumber());let o=typeof i=="number"||f.colDef.cellDataType==="number"||["series","time"].includes(f.colDef.chartDataType);return o?this.valueColsWithoutSeriesType.add(c):i==null&&f.colDef.cellDataType!=="number"&&(0,g._warn)(265,{colId:c}),o}extractLeafData(f,c){if(!f.allLeafChildren)return null;for(let r=0;r<f.allLeafChildren.length;r++){let i=f.allLeafChildren[r],o=this.valueSvc.getValue(c,i);if(o!=null)return o}return null}destroy(){this.valueColsWithoutSeriesType.clear(),super.destroy()}}h.ChartColumnService=M},8769:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartCrossFilterService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartCrossFilterSvc"}wireBeans(f){this.colModel=f.colModel,this.valueSvc=f.valueSvc,this.filterManager=f.filterManager,(0,g._isClientSideRowModel)(this.gos,f.rowModel)&&(this.clientSideRowModel=f.rowModel)}filter(f,c=!1){let r=this.filterManager?.getFilterModel()??{};if(c){this.resetFilters(r);return}let i=this.extractFilterColId(f);this.isValidColumnFilter(i)?this.updateFilters(r,f,i):(0,g._warn)(154,{colId:i})}resetFilters(f){Object.keys(f).length>0&&(this.filterManager?.setFilterModel(null),this.filterManager?.onFilterChanged({source:"api"}))}updateFilters(f,c,r){let i=this.extractFilterColId(c),o=c.datum[i];if(o===void 0)return;let a=o.toString();if(c.event.metaKey||c.event.ctrlKey){let l=this.getCurrentGridValuesForCategory(r),d=l.includes(a),p;d?p=l.filter(C=>C!==a):(p=l,p.push(a)),f[r]=this.getUpdatedFilterModel(r,p)}else{let l=[a];f={[r]:this.getUpdatedFilterModel(r,l)}}this.filterManager?.setFilterModel(f)}getUpdatedFilterModel(f,c){return this.getColumnFilterType(f)==="agMultiColumnFilter"?{filterType:"multi",filterModels:[null,{filterType:"set",values:c}]}:{filterType:"set",values:c}}getCurrentGridValuesForCategory(f){let c=[],r=this.getColumnById(f);return this.clientSideRowModel?.forEachNodeAfterFilter(i=>{if(r&&!i.group){let o=this.valueSvc.getValue(r,i)+"";c.includes(o)||c.push(o)}}),c}extractFilterColId(f){return f.xKey||f.calloutLabelKey}isValidColumnFilter(f){f.indexOf("-filtered-out")&&(f=f.replace("-filtered-out",""));let c=this.getColumnFilterType(f);return typeof c=="boolean"?c:["agSetColumnFilter","agMultiColumnFilter"].includes(c)}getColumnFilterType(f){let c=this.getColumnById(f);if(c)return c.getColDef().filter}getColumnById(f){return this.colModel.getCol(f)}}h.ChartCrossFilterService=M},7492:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartMenuService=h.CHART_TOOL_PANEL_MENU_OPTIONS=void 0;let g=S(6624),M=["chartUnlink","chartLink","chartDownload","chartMenu"];h.CHART_TOOL_PANEL_MENU_OPTIONS={settings:"chartSettings",data:"chartData",format:"chartFormat"};class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartMenuSvc"}wireBeans(c){this.advSettingsMenuFactory=c.advSettingsMenuFactory}downloadChart(c,r,i,o){c.chartController.getChartProxy().downloadChart(r,i,o)}toggleLinked(c){c.chartController.detachChartRange()}openAdvancedSettings(c,r){this.advSettingsMenuFactory?.showMenu(c,r)}hideAdvancedSettings(){this.advSettingsMenuFactory?.hideMenu()}getChartToolbarOptions(){let c=["chartMenu"],r=this.gos.getCallback("getChartToolbarItems");return r?r({defaultItems:c}).filter(o=>M.includes(o)?!0:((0,g._warn)(155,{option:o}),!1)):c}getChartToolPanels(c){let r=this.gos.get("chartToolPanelsDef"),o=r?.panels?.map(d=>{let p=h.CHART_TOOL_PANEL_MENU_OPTIONS[d];return p||(0,g._warn)(156,{panel:d}),p}).filter(d=>!!d)??Object.values(h.CHART_TOOL_PANEL_MENU_OPTIONS);c.isPivotChart()&&(o=o.filter(d=>d!=="chartData"));let a=r?.defaultToolPanel,l=a&&h.CHART_TOOL_PANEL_MENU_OPTIONS[a]||o[0];return{panels:o,defaultPanel:l}}doesChartToolbarExist(){return this.getChartToolbarOptions().length>0}doChartToolPanelsExist(c){let{panels:r}=this.getChartToolPanels(c);return r.length>0}}h.ChartMenuService=P},6297:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartOptionsService=void 0;let g=S(6624),M=S(2210),P=S(4237),f=["number","category","time","grouped-category"],c=["angle-category","angle-number","radius-category","radius-number"],r=[...f,...c];class i extends g.BeanStub{constructor(l){super(),this.chartController=l}getChartThemeOverridesProxy(){return{getValue:l=>this.getChartOption(l),setValue:(l,d)=>this.setChartThemeOverrides([{expression:l,value:d}]),setValues:l=>this.setChartThemeOverrides(l)}}getAxisThemeOverridesProxy(){return{getValue:l=>this.getAxisProperty(l),setValue:(l,d)=>this.setAxisThemeOverrides([{expression:l,value:d}]),setValues:l=>this.setAxisThemeOverrides(l)}}getCartesianAxisOptionsProxy(l){return{getValue:d=>this.getCartesianAxisProperty(l,d),setValue:(d,p)=>this.setCartesianAxisOptions(l,[{expression:d,value:p}]),setValues:d=>this.setCartesianAxisOptions(l,d)}}getCartesianAxisThemeOverridesProxy(l){return{getValue:d=>this.getCartesianAxisProperty(l,d),setValue:(d,p)=>this.setCartesianAxisThemeOverrides(l,[{expression:d,value:p}]),setValues:d=>this.setCartesianAxisThemeOverrides(l,d)}}getCartesianAxisAppliedThemeOverridesProxy(l){return{getValue:d=>this.getCartesianAxisThemeOverride(l,d==="*"?null:d),setValue:(d,p)=>this.setCartesianAxisThemeOverrides(l,[{expression:d==="*"?null:d,value:p}]),setValues:d=>this.setCartesianAxisThemeOverrides(l,d)}}getSeriesOptionsProxy(l){return{getValue:(d,p)=>this.getSeriesOption(l(),d,p),setValue:(d,p)=>this.setSeriesOptions(l(),[{expression:d,value:p}]),setValues:d=>this.setSeriesOptions(l(),d)}}getPersistedChartThemeOverrides(l,d,p,C){let v=this.getRetainedChartThemeOverrideKeys(p,C),b=this.getRetainedChartAxisThemeOverrideKeys(null,p,C),R=this.createChartOptions();for(let x of v){let E=this.retrieveChartOptionsThemeOverride(l,p,x);E!==void 0&&this.assignChartOptionsThemeOverride(R,C,x,E)}return d&&this.assignPersistedAxisOverrides({existingAxes:d,retainedChartAxisThemeOverrideKeys:b,existingChartOptions:l,targetChartOptions:R,existingChartType:p,targetChartType:C}),R.theme.overrides}assignPersistedAxisOverrides(l){let{existingAxes:d,retainedChartAxisThemeOverrideKeys:p,existingChartOptions:C,targetChartOptions:v,existingChartType:b,targetChartType:R}=l;for(let{expression:x,targetAxisTypes:E}of p)for(let T of d.map(D=>D.type)){let D=this.retrieveChartOptionsThemeOverride(C,b,["axes",T,x].join("."));if(D!==void 0)for(let k of E)this.assignChartOptionsThemeOverride(v,R,["axes",k,x].join("."),D)}}getRetainedChartThemeOverrideKeys(l,d){let p=["animation"],C=["zoom","navigator"],v=((b,R)=>{let x=new Array;return(0,P.isCartesian)((0,P.getSeriesType)(b))&&(0,P.isCartesian)((0,P.getSeriesType)(R))&&x.push(...C),x})(l,d);return[...p,...v]}getRetainedChartAxisThemeOverrideKeys(l,d,p){return(0,P.isCartesian)((0,P.getSeriesType)(d))&&(0,P.isCartesian)((0,P.getSeriesType)(p))?this.getRetainedCartesianAxisThemeOverrideKeys(l).map(v=>({expression:v,targetAxisTypes:f})):[]}getRetainedCartesianAxisThemeOverrideKeys(l){let d=l==="xAxis"?["",".top",".bottom"]:l==="yAxis"?["",".left",".right"]:["",".left",".right",".top",".bottom"],p=["crosshair"],C=new Array;for(let v of p)for(let b of d)C.push(`${v}${b}`);return C}getChartOption(l){return(0,M.get)(this.getChart(),l,void 0)}setChartThemeOverrides(l){let d=this.getChartType(),p=this.createChartOptions();for(let{expression:C,value:v}of l)this.assignChartOptionsThemeOverride(p,d,C,v);this.applyChartOptions(p)}applyChartOptions(l,d){if(Object.keys(l).length===0)return;this.updateChart(l),!d?.silent&&this.raiseChartOptionsChangedEvent()}awaitChartOptionUpdate(l){this.chartController.getChartProxy().getChart().waitForUpdate().then(()=>l()).catch(p=>(0,g._error)(108,{e:p}))}getAxisProperty(l){return(0,M.get)(this.getChart().axes?.[0],l,void 0)}setAxisThemeOverrides(l){let d=this.getChart(),p=this.getChartType(),C=this.createChartOptions();for(let{expression:v,value:b}of l){let R=d.axes?.filter(x=>{let E=v.split("."),T=x;for(let D of E){if(!(D in T))return!1;T=T[D]}return!0});if(R)for(let x of R)this.isValidAxisType(x)&&this.assignChartAxisThemeOverride(C,p,x.type,null,v,b)}this.applyChartOptions(C)}getCartesianAxisProperty(l,d){let p=this.getChartAxes(),C=this.getCartesianAxis(p,l);return(0,M.get)(C,d,void 0)}getCartesianAxisThemeOverride(l,d){let p=this.getChartAxes(),C=this.getCartesianAxis(p,l);if(!C||!this.isValidAxisType(C))return;let v=this.getChartType(),b=this.getChart().getOptions();return this.retrieveChartAxisThemeOverride(b,v,C.type,l==="yAxis"?["left","right"]:["bottom","top"],d)}setCartesianAxisThemeOverrides(l,d){let p=this.getChartAxes(),C=this.getCartesianAxis(p,l);if(!C||!this.isValidAxisType(C))return;let v=this.getChartType(),b=this.createChartOptions();for(let{expression:R,value:x}of d)this.assignChartAxisThemeOverride(b,v,C.type,l==="yAxis"?["left","right"]:["bottom","top"],R,x);this.applyChartOptions(b)}setCartesianAxisOptions(l,d){this.updateCartesianAxisOptions(l,(p,C,v)=>{let b=C.indexOf(v);for(let{expression:R,value:x}of d)this.assignChartOption(p,`axes.${b}.${R}`,x)})}updateCartesianAxisOptions(l,d){let p=this.getChart().getOptions(),C="axes"in p?p.axes:void 0;if(!p||!C)return;let v=this.getChartAxes(),b=this.getCartesianAxis(v,l);if(!b)return;let R=this.createChartOptions();R.axes=C,d(R,v,b,p),this.applyChartOptions(R)}setCartesianCategoryAxisType(l,d){this.updateCartesianAxisOptions(l,(p,C,v,b)=>{let R=this.getChartType();this.assignPersistedAxisOverrides({existingAxes:[v],retainedChartAxisThemeOverrideKeys:this.getRetainedChartAxisThemeOverrideKeys(l,R,R),existingChartOptions:b,targetChartOptions:p,existingChartType:R,targetChartType:R}),this.assignChartOption(p,"axes.0.type",d),this.chartController.setCategoryAxisType(d)})}getCartesianAxis(l,d){if(!(l.length<2))switch(d){case"xAxis":return l[0].direction==="x"?l[0]:l[1];case"yAxis":return l[1].direction==="y"?l[1]:l[0]}}getSeriesOption(l,d,p){let C=this.getChart().series.find(v=>o(l,v));return(0,M.get)(p?C:C?.properties.toJson(),d,void 0)}setSeriesOptions(l,d){let p=this.createChartOptions();for(let{expression:C,value:v}of d)this.assignChartOptionsSeriesThemeOverride(p,l,`series.${C}`,v);this.applyChartOptions(p)}getPairedMode(){return this.chartController.getChartProxy().isPaired()}setPairedMode(l){this.chartController.getChartProxy().setPaired(l)}getChartAxes(){return this.getChart().axes??[]}retrieveChartAxisThemeOverride(l,d,p,C,v){if(C)for(let b of C){let R=this.retrieveChartOptionsThemeOverride(l,d,["axes",p,b,...v?[v]:[]].join("."));if(R!==void 0)return R}else return this.retrieveChartOptionsThemeOverride(l,d,["axes",p,...v?[v]:[]].join("."))}assignChartAxisThemeOverride(l,d,p,C,v,b){if(C)for(let R of C)this.assignChartOptionsThemeOverride(l,d,["axes",p,R,...v?[v]:[]].join("."),b);else this.assignChartOptionsThemeOverride(l,d,["axes",p,...v?[v]:[]].join("."),b)}isValidAxisType(l){return r.includes(l.type)}getChartType(){return this.chartController.getChartType()}getChart(){return this.chartController.getChartProxy().getChart()}updateChart(l){let d=this.chartController.getChartProxy().getChartRef();d.skipAnimations(),d.updateDelta(l)}createChartOptions(){return{theme:{overrides:{}}}}retrieveChartOptionsThemeOverride(l,d,p){let C=this.getChartThemeOverridesSeriesTypeKeys(d);for(let v of C){let b=this.retrieveChartOptionsSeriesThemeOverride(l,v,p);if(b!==void 0)return b}}assignChartOptionsThemeOverride(l,d,p,C){let v=this.getChartThemeOverridesSeriesTypeKeys(d);for(let b of v)this.assignChartOptionsSeriesThemeOverride(l,b,p,C)}retrieveChartOptionsSeriesThemeOverride(l,d,p){return this.retrieveChartOption(l,["theme","overrides",d,...p?[p]:[]].join("."))}assignChartOptionsSeriesThemeOverride(l,d,p,C){this.assignChartOption(l,["theme","overrides",d,...p?[p]:[]].join("."),C)}getChartThemeOverridesSeriesTypeKeys(l){let d=this.chartController.getChartSeriesTypes(l);return this.chartController.isComboChart()&&d.push("common"),d}retrieveChartOption(l,d){return(0,M.get)(l,d,void 0)}assignChartOption(l,d,p){(0,M.set)(l,d,p)}raiseChartOptionsChangedEvent(){let l=this.chartController.getChartModel();this.eventSvc.dispatchEvent({type:"chartOptionsChanged",chartId:l.chartId,chartType:l.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:l.chartOptions})}}h.ChartOptionsService=i;function o(a,l){return(0,P.isSeriesType)(a)&&l.type===a}},93:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartTranslationService=h.DEFAULT_CHART_TRANSLATIONS=void 0;let g=S(6624);h.DEFAULT_CHART_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Chart",data:"Set Up",format:"Customize",categories:"Categories",defaultCategory:"(None)",series:"Series",switchCategorySeries:"Switch Category / Series",categoryValues:"Category Values",seriesLabels:"Series Labels",aggregate:"Aggregate",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",xAxis:"Horizontal Axis",yAxis:"Vertical Axis",polarAxis:"Polar Axis",radiusAxis:"Radius Axis",navigator:"Navigator",zoom:"Zoom",animation:"Animation",crosshair:"Crosshair",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",axisType:"Axis Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",timeFormat:"Time Format",autoRotate:"Auto Rotate",labelRotation:"Rotation",circle:"Circle",polygon:"Polygon",square:"Square",cross:"Cross",diamond:"Diamond",plus:"Plus",triangle:"Triangle",heart:"Heart",orientation:"Orientation",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",gridLines:"Grid Lines",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chartStyle:"Chart Style",title:"Title",chartTitles:"Titles",chartTitle:"Chart Title",chartSubtitle:"Subtitle",horizontalAxisTitle:"Horizontal Axis Title",verticalAxisTitle:"Vertical Axis Title",polarAxisTitle:"Polar Axis Title",titlePlaceholder:"Chart Title",background:"Background",font:"Font",weight:"Weight",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",scrollingZoom:"Scrolling",scrollingStep:"Scrolling Step",selectingZoom:"Selecting",durationMillis:"Duration (ms)",crosshairLabel:"Label",crosshairSnap:"Snap to Node",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",miniChart:"Mini-Chart",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",stackedLineTooltip:"Stacked",normalizedLineTooltip:"100% Stacked",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",waterfallTooltip:"Waterfall",heatmapTooltip:"Heatmap",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",chartMenuToolbarTooltip:"Menu",chartEdit:"Edit Chart",chartAdvancedSettings:"Advanced Settings",chartLink:"Link to Grid",chartUnlink:"Unlink from Grid",chartDownload:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis",seriesAdd:"Add a series",categoryAdd:"Add a category",bar:"Bar",column:"Column",histogram:"Histogram",advancedSettings:"Advanced Settings",direction:"Direction",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Group Type",groupedSeriesGroupType:"Grouped",stackedSeriesGroupType:"Stacked",normalizedSeriesGroupType:"100% Stacked",legendEnabled:"Enabled",invalidColor:"Color value is invalid",groupedColumnFull:"Grouped Column",stackedColumnFull:"Stacked Column",normalizedColumnFull:"100% Stacked Column",groupedBarFull:"Grouped Bar",stackedBarFull:"Stacked Bar",normalizedBarFull:"100% Stacked Bar",stackedAreaFull:"Stacked Area",normalizedAreaFull:"100% Stacked Area",stackedLineFull:"Stacked Line",normalizedLineFull:"100% Stacked Line",customCombo:"Custom Combination",funnel:"Funnel",coneFunnel:"Cone Funnel",pyramid:"Pyramid",funnelGroup:"Funnel",funnelTooltip:"Funnel",coneFunnelTooltip:"Cone Funnel",pyramidTooltip:"Pyramid",dropOff:"Drop-Off",stageLabels:"Stage Labels",reverse:"Reverse",groupedColumn:"Grouped",stackedColumn:"Stacked",pie:"Pie",donut:"Donut",line:"Line",scatter:"Scatter",bubble:"Bubble",area:"Area",stackedArea:"Stacked",radarLine:"Radar Line",radarArea:"Radar Area",nightingale:"Nightingale",radialColumn:"Radial Column",radialBar:"Radial Bar",boxPlot:"Box Plot",rangeBar:"Range Bar",rangeArea:"Range Area",treemap:"Treemap",sunburst:"Sunburst",waterfall:"Waterfall",heatmap:"Heatmap",columnLineCombo:"Column & Line",AreaColumnCombo:"Area & Column",ariaChartMenuClose:"Close Chart Edit Menu",ariaChartSelected:"Selected",group:"Group",timeFormatSlashesDDMMYYYY:"DD/MM/YYYY",timeFormatSlashesMMDDYYYY:"MM/DD/YYYY",timeFormatSlashesDDMMYY:"DD/MM/YY",timeFormatSlashesMMDDYY:"MM/DD/YY",timeFormatDotsDDMYY:"DD.M.YY",timeFormatDotsMDDYY:"M.DD.YY",timeFormatDashesYYYYMMDD:"YYYY-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM YYYY",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM",sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"};class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartTranslation"}translate(f){let c=this.getLocaleTextFunc(),r=h.DEFAULT_CHART_TRANSLATIONS[f];return c(f,r)}}h.ChartTranslationService=M},1480:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.flatMap=h.partition=void 0;function S(M,P){return M.reduce((f,c)=>{let r=P(c),i=f.get(r);return f.set(r,i?[...i,c]:[c])},new Map)}h.partition=S;function g(M,P){return M.reduce((f,c,r,i)=>f.concat(P(c,r,i)),new Array)}h.flatMap=g},2753:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getLegacyAxisType=h.ALL_AXIS_TYPES=void 0,h.ALL_AXIS_TYPES=["number","category","grouped-category","log","time"];function S(g){switch(g){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"stackedLine":case"normalizedLine":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}h.getLegacyAxisType=S},8889:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.validateCreateParams=h.validateUpdateParams=void 0;let g=S(6624),M=S(4237),P=Y=>$=>$==null?!0:Y($),f=Y=>typeof Y=="string",c=Y=>typeof Y=="boolean",r=Y=>typeof Y=="object",i=(Y,$)=>se=>`AG Grid - unable to update chart as invalid params supplied:  \`${Y}: ${se}\`, expected ${$}.`,o=Y=>`${Y} is not supported in AG Charts Community ('ag-charts-enterprise' hasn't been loaded). See https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/ for more details.`,a=["doughnut"],l=["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"];function d(Y){return!!(0,M.getSeriesTypeIfExists)(Y)||(0,M.isComboChart)(Y)}function p(Y){return a.includes(Y)}let C=P(Y=>{if(d(Y))return!0;if(p(Y)){let $=(0,M.getCanonicalChartType)(Y);return(0,g._warnOnce)(`The chart type '${Y}' has been deprecated. Please use '${$}' instead.`),$}return!1}),v=P(Y=>typeof Y=="object"),b=P(Y=>typeof Y=="object"),R=P(Y=>typeof Y=="string"||typeof Y=="function"),x=Y=>({property:"chartType",validationFn:P($=>Y||!$||!(0,M.isEnterpriseChartType)($)),warnMessage:$=>o(`The '${$}' chart type`)}),E=Y=>({property:"switchCategorySeries",validationFn:P($=>{if(!$||Y)return!0}),warnMessage:()=>o("'switchCategorySeries' has been ignored as it"),warnIfFixed:!0}),T=()=>[{property:"chartId",validationFn:f,warnMessage:i("chartId","string")},{property:"chartType",validationFn:C,warnMessage:i("chartType","ChartType")},{property:"chartThemeName",validationFn:f,warnMessage:i("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:v,warnMessage:i("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:c,warnMessage:i("unlinkChart","boolean")}],D=Y=>[{property:"cellRange",validationFn:b,warnMessage:i("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:c,warnMessage:i("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:R,warnMessage:i("aggFunc","string or IAggFunc")},E(Y)];function k(Y,$){switch(Y.type){case"rangeChartUpdate":return N(Y,$);case"pivotChartUpdate":return V(Y);case"crossFilterChartUpdate":return j(Y,$);default:return(0,g._warnOnce)(`Invalid value supplied for 'type': ${Y.type}. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.`),!1}}h.validateUpdateParams=k;function O(Y,$){return Q(Y,[x($),E($)])}h.validateCreateParams=O;function N(Y,$){let se=[...T(),x($),...D($),{property:"seriesChartTypes",validationFn:W=>W===void 0||Array.isArray(W)&&W.every(r),warnMessage:i("seriesChartTypes","Array of SeriesChartType")}];return Q(Y,se,[...l,"cellRange","suppressChartRanges","switchCategorySeries","aggFunc","seriesChartTypes","seriesGroupType"],"UpdateRangeChartParams")}function V(Y){let $=[...T()];return Q(Y,$,[...l],"UpdatePivotChartParams")}function j(Y,$){let se=[...T(),...D($)];return Q(Y,se,[...l,"cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")}function Q(Y,$,se,W){let Z;for(let ee of $){let{property:re,validationFn:oe,warnMessage:ge,warnIfFixed:ue}=ee;if(re in Y){let X=Y[re],G=oe(X);if(G===!0)continue;if(G===!1)return(0,g._warnOnce)(ge(X)),!1;Z=Z||{...Y},Z[re]=G,ue&&(0,g._warnOnce)(ge(X))}}if(se){for(let ee of Object.keys(Y))if(!se.includes(ee))return(0,g._warnOnce)(`Unexpected property supplied. ${W} does not contain: \`${ee}\`.`),!1}return Z||!0}},9687:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.deproxy=void 0;function S(g){return g.chart!=null?g.chart:g}h.deproxy=S},2210:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.set=h.get=void 0;function S(M,P,f){if(M==null)return f;let c=P.split("."),r=M;for(;c.length>1;)if(r=r[c.shift()],r==null)return f;let i=r[c[0]];return i??f}h.get=S;function g(M,P,f){if(M==null)return;let c=P.split("."),r=M;c.forEach((i,o)=>{r[i]||(r[i]={}),o<c.length-1&&(r=r[i])}),r[c[c.length-1]]=f}h.set=g},4237:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getFullChartNameTranslationKey=h.canSwitchDirection=h.supportsInvertedCategorySeries=h.getMaxNumSeries=h.getMaxNumCategories=h.isPieChartSeries=h.getSeriesType=h.getSeriesTypeIfExists=h.getCanonicalChartType=h.isHierarchical=h.isRadial=h.isPolar=h.isFunnel=h.isCartesian=h.isStacked=h.isEnterpriseChartType=h.isComboChart=h.isSeriesType=h.SERIES_GROUP_TYPES=void 0;let S={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",stackedLine:"line",normalizedLine:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall",funnel:"funnel",coneFunnel:"cone-funnel",pyramid:"pyramid"},g=new Set(["columnLineCombo","areaColumnCombo","customCombo"]);h.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];let M={area:{isCartesian:!0,canInvert:!0},bar:{isCartesian:!0,canInvert:!0},histogram:{isCartesian:!0},line:{isCartesian:!0,canInvert:!0},pie:{isPie:!0},donut:{isPie:!0,canInvert:!0},scatter:{isCartesian:!0},bubble:{isCartesian:!0},"radial-column":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radial-bar":{isPolar:!0,isEnterprise:!0,isRadial:!0,canInvert:!0},"radar-line":{isPolar:!0,isEnterprise:!0,canInvert:!0},"radar-area":{isPolar:!0,isEnterprise:!0,canInvert:!0},nightingale:{isPolar:!0,isEnterprise:!0,canInvert:!0},"range-bar":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"range-area":{isCartesian:!0,isEnterprise:!0},"box-plot":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},treemap:{isEnterprise:!0,isHierarchical:!0},sunburst:{isEnterprise:!0,isHierarchical:!0},heatmap:{isCartesian:!0,isEnterprise:!0},waterfall:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},funnel:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},"cone-funnel":{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0},pyramid:{isCartesian:!0,isEnterprise:!0,canSwitchDirection:!0}};function P(V){return!!M[V]}h.isSeriesType=P;function f(V){return g.has(V)}h.isComboChart=f;function c(V,j){return!!M[V]?.[j]}function r(V){return c(R(V),"isEnterprise")}h.isEnterpriseChartType=r;let i=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function o(V){return i.has(V)}h.isStacked=o;function a(V){return c(V,"isCartesian")}h.isCartesian=a;function l(V){return V==="funnel"||V==="cone-funnel"||V==="pyramid"}h.isFunnel=l;function d(V){return c(V,"isPolar")}h.isPolar=d;function p(V){return c(V,"isRadial")}h.isRadial=p;function C(V){return c(V,"isHierarchical")}h.isHierarchical=C;function v(V){return V==="doughnut"?"donut":V}h.getCanonicalChartType=v;function b(V){return S[V]}h.getSeriesTypeIfExists=b;function R(V){return b(V)??"line"}h.getSeriesType=R;function x(V){return c(V,"isPie")}h.isPieChartSeries=x;function E(V){return V==="pie"||V==="waterfall"||V==="histogram"||V==="funnel"||V==="coneFunnel"||V==="pyramid"}function T(V){return C(R(V))?void 0:1}h.getMaxNumCategories=T;function D(V){return C(R(V))?2:E(V)?1:void 0}h.getMaxNumSeries=D;function k(V){return!f(V)&&c(R(V),"canInvert")}h.supportsInvertedCategorySeries=k;function O(V){return c(R(V),"canSwitchDirection")}h.canSwitchDirection=O;function N(V){switch(V){case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":case"stackedLine":case"normalizedLine":case"stackedArea":case"normalizedArea":return`${V}Full`;case"doughnut":return"donut";case"areaColumnCombo":return"AreaColumnCombo";default:return V}}h.getFullChartNameTranslationKey=N},6476:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.heuristicVersionDetection=h.upgradeChartModel=void 0;let g=S(6624),M=S(7205),P=S(2753),f=S(4237),c=!1;function r(G){let U=G.version;return G.version==null&&(G.version=N(G)),G=V("23.0.0",G,i),G=V("24.0.0",G,o),G=V("25.1.0",G,a),G=V("26.0.0",G,l),G=V("26.1.0",G,d),G=V("26.2.0",G,p),G=V("28.0.0",G,C),G=V("28.2.0",G,v),G=V("29.0.0",G,b),G=V("29.1.0",G,R),G=V("29.2.0",G,x),G=V("30.0.0",G,E),G=V("31.0.0",G,T),G=V("32.0.0",G,D),G=V("33.0.0",G,k),G=O(G),G=V(M.VERSION,G,K=>K),c&&U!==G.version&&console.log("AG Grid: ChartModel migration complete",{model:G}),G}h.upgradeChartModel=r;function i(G){return G=ee("chartOptions.legend.item.marker.type","shape",G),G=ee("chartOptions.seriesDefaults.marker.type","shape",G),G=ee("chartOptions.legend.padding","spacing",G),G}function o(G){G=re("chartOptions.seriesDefaults.marker.minSize",G);let{chartType:U,chartPalette:K,chartOptions:{xAxis:q,yAxis:ie,...fe},...Fe}=G,ne=(0,P.getLegacyAxisType)(U)?.map((me,ye)=>({type:me,...ye===0?q:ie}));return{chartType:U,chartThemeName:{borneo:"ag-default",material:"ag-material",bright:"ag-vivid"}[K]??"ag-default",chartOptions:{...fe,axes:ne,xAxis:q,yAxis:ie},...Fe}}function a(G){return G=ee("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",G),G}function l(G){return G=ge("chartOptions.seriesDefaults.highlightStyle",G,({dimOpacity:K,...q})=>({...q,...K!=null?{series:{dimOpacity:K}}:{}})),G=re("chart",G),G=re("chartOptions.seriesDefaults.tooltipClass",G),G=re("chartOptions.seriesDefaults.tooltipTracking",G),G=Y("chartOptions.axes[].label.rotation",0,G),G=Y("chartOptions.axes[].label.rotation",335,G),G}function d(G){let U=({item:K,series:q,...ie})=>({item:{...ie,...K},...q?{series:q}:{}});return G=ge("chartOptions.seriesDefaults.highlightStyle",G,U),G=ge("chartOptions.series[].highlightStyle",G,U),G}function p(G){G=W("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",G),G=W("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",G),G=W("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",G),G=re("chartOptions.seriesDefaults.fill",G),G=re("chartOptions.seriesDefaults.stroke",G),G=re("chartOptions.seriesDefaults.callout.colors",G),G=re("chartOptions.xAxis",G),G=re("chartOptions.yAxis",G);let{chartType:U,chartOptions:{axes:K,series:q,seriesDefaults:ie,...fe},...Fe}=G,Ie=(0,f.getCanonicalChartType)(U),ne=(0,f.getSeriesType)(Ie),ve=[ne],me={};if(!(0,f.isPieChartSeries)(ne)){let Re={top:{},bottom:{},left:{},right:{}},Te=K.map(({type:ke,...ze})=>({[ke]:{...Re,...ze}})).reduce(X,{});P.ALL_AXIS_TYPES.filter(ke=>Te[ke]==null).forEach(ke=>{Te[ke]={...Re}}),me.axes=Te}let ye=ve.map(Re=>({[Re]:{...me,series:ie,...fe}})).reduce(X,{});return G={...Fe,chartType:Ie,chartOptions:ye},G}function C(G){return G=re("chartOptions.*.title.padding",G),G=re("chartOptions.*.subtitle.padding",G),G=re("chartOptions.*.axes.*.title.padding",G),G=$("chartOptions.*.axes.*.title.enabled",!1,G),G}function v(G){return G=ee("chartOptions.pie.series.callout","calloutLine",G),G=ee("chartOptions.pie.series.label","calloutLabel",G),G=ee("chartOptions.pie.series.labelKey","sectorLabelKey",G),G=ee("chartOptions.pie.series.labelName","sectorLabelName",G),G=ee("chartOptions.donut.series.callout","calloutLine",G),G=ee("chartOptions.donut.series.label","calloutLabel",G),G=ee("chartOptions.donut.series.labelKey","sectorLabelKey",G),G=ee("chartOptions.donut.series.labelName","sectorLabelName",G),G}function b(G){return G=Z("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",G),G=Z("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",G),G=Z("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",G),G=Z("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",G),G=Z("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",G),G=W("chartOptions.scatter.series.paired","chartOptions.scatter.paired",G),G}function R(G){return G=re("chartOptions.axes[].tick.count",G),G}function x(G){return G=ge("chartOptions.*.tooltip",G,({tracking:K,...q})=>{let ie={...q};return K===!1?(ie.position??(ie.position={type:"pointer"}),ie.range??(ie.range="nearest")):K===!0&&(ie.position??(ie.position={type:"node"}),ie.range??(ie.range="nearest")),ie}),G}function E(G){return G=ee("chartOptions.pie.series.labelKey","sectorLabelKey",G),G=ee("chartOptions.pie.series.labelName","sectorLabelName",G),G=R(G),G=x(G),G=re("chartOptions.*.series.flipXY",G),G=se("chartOptions.common.legend.enabled",!0,G),G=$("chartOptions.common.legend.position","right",G),G}function T(G){let U={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"},K=ee("chartOptions.column","bar",G),q=U[K.chartThemeName]||K.chartThemeName;return{...K,chartThemeName:q}}function D(G){return G=oe("chartOptions.*.autoSize",!0,G,(U,K)=>{U[K]===!0||U[K]===!1&&(U.minHeight=600,U.minWidth=300),delete U[K]}),G}function k(G){return G=re("chartOptions.*.axes.category.label.format",G),G=re("chartOptions.*.axes.category.crosshair.label.format",G),G=re("chartOptions.*.axes.angle-category.label.format",G),G=re("chartOptions.*.axes.radius-category.label.format",G),G=ee("chartOptions.*.axes.*.label.padding","spacing",G),G=ee("chartOptions.*.navigator.miniChart.label.padding","spacing",G),G=re("chartOptions.*.axes.*.crossLines.label.className",G),G=oe("chartOptions.*.axes.*.crossLines.label.position",!0,G,(U,K)=>{typeof U[K]=="string"&&(U[K]=U[K].replace(/([A-Z])/,"-$1").toLowerCase())}),G=re("chartOptions.bullet",G),G=ue("chartOptions.bar.series.label.placement",G,{inside:"inside-center",outside:"inside-end"}),G=ue("chartOptions.waterfall.series.item.*.label.placement",G,{inside:"inside-center",start:"outside-start",end:"outside-end"}),G=re("chartOptions.*.navigator.min",G),G=re("chartOptions.*.navigator.max",G),G=re("chartOptions.*.zoom.ratioX",G),G=re("chartOptions.*.zoom.ratioY",G),G=re("chartOptions.*.zoom.rangeX",G),G=re("chartOptions.*.zoom.rangeY",G),G}function O(G){return G=re("chartOptions.*.width",G),G=re("chartOptions.*.height",G),G=$("chartOptions.*.axes.category.label.autoRotate",!0,G),G}function N(G){let U=G;if(G.version!=null)return G.version;let K=(ve,...me)=>Object.keys(ve||{}).some(ye=>me.includes(ye)),q=U.chartOptions,ie=K(q,"seriesDefaults")?q?.seriesDefaults:q?.[Object.keys(q)[0]],fe={"27.0.0":K(U,"seriesChartTypes"),"26.2.0":!K(q,"seriesDefaults"),"26.1.0":K(ie?.highlightStyle,"item"),"26.0.0":K(ie?.highlightStyle,"series"),"25.1.0":K(ie?.label,"minAngle"),"25.0.0":K(U,"modelType","aggFunc","unlinkChart","suppressChartRanges")||K(ie,"lineDash","lineDashOffset"),"24.0.0":K(U,"chartThemeName","chart")||K(q,"series"),"23.2.0":K(q,"navigator"),"23.0.0":K(q?.legend?.item?.marker,"shape"),"22.1.0":K(U,"chartPalette","chartType")},Fe="27.1.0",Ie=Object.entries(fe).filter(([ve,me])=>me);c&&console.log("AG Grid: ChartModel migration",{heuristicVersionCandidates:Ie});let[ne=Fe]=Ie[0];return c&&console.log("AG Grid: ChartModel migration",{heuristicVersion:ne}),ne}h.heuristicVersionDetection=N;function V(G,U,K){if(Q(G)>Q(U.version)){c&&console.log("AG Grid: ChartModel migration",{migratingTo:G});let q=K(U);return q.version=G,c&&console.log("AG Grid: ChartModel migration",{migratedTo:G,result:q}),q}return U}function j(G){let U=G.includes("-beta")?G.replace(/-beta.*/,""):G,K=typeof U=="string"?U.split(".").map(q=>Number(q)):[];if(K.length!==3||K.some(q=>isNaN(q)))throw new Error((0,g._errMsg)(253,{version:U}));return{major:K[0],minor:K[1],patch:K[2]}}function Q(G){let{major:U,minor:K,patch:q}=j(G);return U*1e4+K*100+q}function Y(G,U,K){return oe(G,!0,K,(q,ie)=>{q[ie]===U&&delete q[ie]})}function $(G,U,K){return oe(G,!1,K,(q,ie)=>{q[ie]==null&&(q[ie]=U)})}function se(G,U,K){typeof G=="string"&&(G=G.split("."));let q=G[0];return G.length>1&&(K[q]=se(G.slice(1),U,K[q]??{})),Object.keys(K).includes(q)||(K[q]=U),K}function W(G,U,K){let q,ie=!1;return K=oe(G,!0,K,(fe,Fe)=>{ie=!0,q=fe[Fe],delete fe[Fe]}),ie?oe(U,!1,K,(fe,Fe)=>{fe[Fe]=q}):K}function Z(G,U,K){let q,ie=!1;return K=oe(G,!0,K,(fe,Fe)=>{ie=!0,q=fe[Fe],delete fe[Fe]}),ie?oe(U,!1,K,(fe,Fe)=>{fe[Fe]===void 0&&(fe[Fe]=q)}):K}function ee(G,U,K){return oe(G,!0,K,(q,ie)=>{q[U]=q[ie],delete q[ie]})}function re(G,U){return oe(G,!0,U,(K,q)=>delete K[q])}function oe(G,U,K,q){let ie=G instanceof Array?G:G.split("."),fe=ie.slice(0,ie.length-1),Fe=ie[ie.length-1];return ge(fe,K,Ie=>{let ne=Object.keys(Ie).includes(Fe);if(U&&!ne)return Ie;let ve={...Ie};return q(ve,Fe),ve})}function ge(G,U,K){let q=G instanceof Array?G:G.split(".");if(U={...U},q.length===0)return K(U);if(q[0].startsWith("{")){let ie=q[0].substring(1,q[0].lastIndexOf("}")).split(",");for(let fe of ie)U[fe]!=null&&(U[fe]=ge(q.slice(1),U[fe],K))}else if(q[0].endsWith("[]")){let ie=q[0].substring(0,G[0].indexOf("["));U[ie]instanceof Array&&(U[ie]=U[ie].map(fe=>ge(q.slice(1),fe,K)))}else if(q[0]==="*")for(let ie of Object.keys(U))U[ie]=ge(q.slice(1),U[ie],K);else U[q[0]]!=null&&(U[q[0]]=ge(q.slice(1),U[q[0]],K));return U}function ue(G,U,K){return oe(G,!0,U,(q,ie)=>{typeof q[ie]=="string"&&(q[ie]=K[ie]??ie)})}let X=(G,U)=>({...G,...U})},100:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartService=void 0;let g=S(6624),M=S(7205),P=S(7760),f=S(8889),c=S(4237),r=S(6476);class i extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartSvc",this.activeCharts=new Set,this.activeChartComps=new Set,this.crossFilteringContext={lastSelectedChartId:""},this.isEnterprise=()=>this.agChartsExports.isEnterprise}wireBeans(a){this.visibleCols=a.visibleCols,this.rangeSvc=a.rangeSvc,this.agChartsExports=a.agChartsExports}updateChart(a){if(this.activeChartComps.size===0){(0,g._warn)(124);return}let l=[...this.activeChartComps].find(d=>d.getChartId()===a.chartId);if(!l){(0,g._warn)(125,{chartId:a.chartId});return}l.update(a)}getChartModels(){let a=[],l=d=>({...d,version:M.VERSION});return this.activeChartComps.forEach(d=>a.push(l(d.getChartModel()))),a}getChartRef(a){let l;return this.activeCharts.forEach(d=>{d.chartId===a&&(l=d)}),l}getChartComp(a){let l;return this.activeChartComps.forEach(d=>{d.getChartId()===a&&(l=d)}),l}getChartImageDataURL(a){let l;return this.activeChartComps.forEach(d=>{d.getChartId()===a.chartId&&(l=d.getChartImageDataURL(a.fileFormat))}),l}downloadChart(a){Array.from(this.activeChartComps).find(d=>d.getChartId()===a.chartId)?.downloadChart(a.dimensions,a.fileName,a.fileFormat)}openChartToolPanel(a){Array.from(this.activeChartComps).find(d=>d.getChartId()===a.chartId)?.openChartToolPanel(a.panel)}closeChartToolPanel(a){Array.from(this.activeChartComps).find(d=>d.getChartId()===a)?.closeChartToolPanel()}createChartFromCurrentRange(a="groupedColumn",l){let d=this.getSelectedRange();return this.createChart({cellRange:d,chartType:a,focusDialogOnOpen:!l})}restoreChart(a,l){if(!a){(0,g._warn)(126);return}a.version!==M.VERSION&&(a=(0,r.upgradeChartModel)(a));let d,p,C,v;if(a.modelType==="pivot"?(this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"}),d=this.createCellRange(void 0,!0),p=!0,C=!0):(d=this.createCellRange(a.cellRange),v=a.chartPalette,C=a.suppressChartRanges),!!d)return this.createChart({...a,cellRange:d,pivotChart:p,suppressChartRanges:C,chartContainer:l,chartOptionsToRestore:a.chartOptions,chartPaletteToRestore:v})}createRangeChart(a,l){let d=this.createCellRange(a.cellRange);if(d)return this.createChart({...a,cellRange:d,focusDialogOnOpen:!l})}createPivotChart(a,l){this.gos.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});let d=this.createCellRange(void 0,!0);if(d)return this.createChart({...a,cellRange:d,pivotChart:!0,suppressChartRanges:!0,focusDialogOnOpen:!l})}createCrossFilterChart(a,l){let d=this.createCellRange(a.cellRange);if(!d)return;let C=typeof a.suppressChartRanges<"u"&&a.suppressChartRanges!==null?a.suppressChartRanges:!0;return this.createChart({...a,cellRange:d,suppressChartRanges:C,crossFiltering:!0,focusDialogOnOpen:!l})}createChart(a){let l=(0,f.validateCreateParams)(a,this.agChartsExports.isEnterprise);if(!l)return;a=l===!0?a:l;let{chartType:d,chartContainer:p}=a,C=this.gos.getCallback("createChartContainer"),v={...a,chartId:this.generateId(),chartType:(0,c.getCanonicalChartType)(d),insideDialog:!(p||C),crossFilteringContext:this.crossFilteringContext,crossFilteringResetCallback:()=>this.activeChartComps.forEach(x=>x.crossFilteringReset())},b=new P.GridChartComp(v);this.createBean(b);let R=this.createChartRef(b);return p?p.appendChild(R.chartElement):C?C(R):b.addEventListener("destroyed",()=>{this.activeChartComps.delete(b),this.activeCharts.delete(R)}),R}createChartRef(a){let l={destroyChart:()=>{this.activeCharts.has(l)&&(this.destroyBean(a),this.activeChartComps.delete(a),this.activeCharts.delete(l))},focusChart:()=>{(0,g._focusInto)(a.getGui())},chartElement:a.getGui(),chart:a.getUnderlyingChart(),chartId:a.getChartModel().chartId};return this.activeCharts.add(l),this.activeChartComps.add(a),l}getSelectedRange(){let a=this.rangeSvc?.getCellRanges()??[];return a.length>0?a[0]:{columns:[]}}generateId(){return`id-${Math.random().toString(36).substring(2,18)}`}createCellRange(a,l){let d=l?{rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.visibleCols.allCols.map(C=>C.getColId())}:a,p=d&&this.rangeSvc?.createPartialCellRangeFromRangeParams(d,!0);return p||(0,g._warn)(127,{allRange:l}),p}destroy(){this.activeCharts.forEach(a=>a.destroyChart()),super.destroy()}}h.ChartService=i},4604:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.restoreChart=h.updateChart=h.createCrossFilterChart=h.createPivotChart=h.createRangeChart=h.closeChartToolPanel=h.openChartToolPanel=h.downloadChart=h.getChartImageDataURL=h.getChartRef=h.getChartModels=void 0;function S(d){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.getChartModels())}h.getChartModels=S;function g(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.getChartRef(p))}h.getChartRef=g;function M(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.getChartImageDataURL(p))}h.getChartImageDataURL=M;function P(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.downloadChart(p))}h.downloadChart=P;function f(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.openChartToolPanel(p))}h.openChartToolPanel=f;function c(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.closeChartToolPanel(p.chartId))}h.closeChartToolPanel=c;function r(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.createRangeChart(p,!0))}h.createRangeChart=r;function i(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.createPivotChart(p,!0))}h.createPivotChart=i;function o(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.createCrossFilterChart(p,!0))}h.createCrossFilterChart=o;function a(d,p){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.updateChart(p))}h.updateChart=a;function l(d,p,C){return d.frameworkOverrides.wrapIncoming(()=>d.chartSvc?.restoreChart(p,C))}h.restoreChart=l},4806:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.integratedChartsModuleCSS=void 0,h.integratedChartsModuleCSS=`.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{background:var(--ag-background-color);background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);border-radius:var(--ag-border-radius);display:flex;flex-direction:row;gap:20px;padding:4px 2px;position:absolute;top:8px;width:auto;--ag-icon-size:20px}:where(.ag-ltr) .ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}:where(.ag-rtl) .ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}:where(.ag-chart-menu-hidden)~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden;position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;border-top:1px solid var(--ag-border-color);display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:8px;position:relative;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow:hidden auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;padding-bottom:var(--ag-widget-container-vertical-padding);position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;cursor:pointer;padding:1px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px;padding:unset}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color);display:flex;margin:0;padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding);position:relative}.ag-charts-data-group-item:where(:not(:last-child)){margin-bottom:var(--ag-spacing)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group-item:where(:not(.ag-charts-format-sub-level-group,.ag-pill-select,.ag-select)){height:var(--ag-list-item-height)}.ag-charts-data-group-item:where(.ag-picker-field){margin-top:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;:where(.ag-chart-mini-thumbnail:nth-child(3n+1)){grid-column:1}:where(.ag-chart-mini-thumbnail:nth-child(3n+2)){grid-column:3}:where(.ag-chart-mini-thumbnail:nth-child(3n+3)){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0;:where(.ag-label:not(.ag-group-title-bar)){color:var(--ag-chart-menu-label-color)}:where(.ag-label-align-top .ag-label){margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}:where(.ag-slider.ag-label-align-top .ag-label){margin-bottom:0}:where(label){display:inline-block}}.ag-chart-menu-panel{--ag-panel-background-color:var(--ag-chrome-background-color)}:where(.ag-ltr) .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500;padding:var(--ag-widget-vertical-spacing) 0}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container{margin:0;padding:0}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:relative}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}:where(.ag-charts-data-group) .ag-charts-data-group-container,:where(.ag-charts-format-top-level-group) .ag-charts-format-top-level-group-container,:where(.ag-charts-settings-group) .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-charts-advanced-settings-top-level-group-container{margin:0}:where(.ag-charts-advanced-settings-top-level-group){.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;display:block;height:24px;position:relative;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;position:absolute;top:4px;width:6px}.ag-slider-wrapper{display:flex;:where(.ag-input-field){flex:1 1 auto}}.ag-color-panel{display:flex;flex-direction:column;padding:var(--ag-spacing);text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0));cursor:pointer}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);cursor:pointer;height:18px;pointer-events:none;position:absolute;width:18px}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{border-radius:2px;cursor:pointer;height:11px;margin-bottom:10px;position:relative}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;pointer-events:none;position:absolute;width:13px}:where(.ag-spectrum-alpha) .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-recent-color{border:1px solid var(--ag-border-color);cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}:where(.ag-ltr) .ag-angle-select-field,:where(.ag-ltr) .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-angle-select-field,:where(.ag-rtl) .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-color-dialog{border-radius:5px}:where(.ag-color-picker){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}:where(.ag-ltr) .ag-color-picker-color,:where(.ag-ltr) .ag-color-picker-value{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-color-picker-color,:where(.ag-rtl) .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:where(:not(:disabled,[readonly])):focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}:where(.ag-color-input){.ag-color-input-color{position:absolute}}:where(.ag-ltr) :where(.ag-color-input){.ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-color-input){.ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-range-field{align-items:center;display:flex;:where(.ag-input-wrapper){height:100%}}.ag-range-field-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&:disabled{opacity:.5}}.ag-range-field-input{&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}}.ag-range-field-input{&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-ag-range-thumb{-moz-appearance:none;appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&:active::-moz-ag-range-track{background-color:var(--ag-accent-color)}}`},1527:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IntegratedChartsModule=h.GridChartsModule=void 0;let g=S(6624),M=S(9206),P=S(6565),f=S(266),c=S(7205),r=S(3375),i=S(2459),o=S(7879),a=S(6353),l=S(6292),d=S(8769),p=S(7492),C=S(93),v=S(100),b=S(4604),R=S(4806),x=S(3504),E={linked:"linked",unlinked:"unlinked",chartsMenu:"menu-alt",chartsDownload:"save",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",chartsColorPicker:"small-down",chartsThemePrevious:"previous",chartsThemeNext:"next"},T={getChartModels:b.getChartModels,getChartRef:b.getChartRef,getChartImageDataURL:b.getChartImageDataURL,downloadChart:b.downloadChart,openChartToolPanel:b.openChartToolPanel,closeChartToolPanel:b.closeChartToolPanel,createRangeChart:b.createRangeChart,createPivotChart:b.createPivotChart,createCrossFilterChart:b.createCrossFilterChart,updateChart:b.updateChart,restoreChart:b.restoreChart},D=[f.CellSelectionModule,M.EnterpriseCoreModule,g._SharedDragAndDropModule,g._PopupModule,r.MenuItemModule],k="IntegratedCharts";h.GridChartsModule={moduleName:"GridCharts",version:c.VERSION,dependsOn:D,validate:()=>({isValid:!1,message:`AG Grid: As of v33, the "GridChartsModule" has been deprecated. Please use "IntegratedChartsModule.with(...)" instead.
 ${(0,g._preInitErrMsg)(257)}`})},h.IntegratedChartsModule={moduleName:k,version:c.VERSION,dependsOn:D,validate:()=>({isValid:!1,message:(0,g._preInitErrMsg)(257)}),with:O=>{if(O.setup(),O.setGridContext?.(!0),O.isEnterprise&&O.setLicenseKey){let N={setLicenseKey:O.setLicenseKey};P.LicenseManager.setChartsLicenseManager(N)}return{moduleName:k,version:c.VERSION,icons:E,apiFunctions:T,dependsOn:D,css:[R.integratedChartsModuleCSS],validate:()=>(0,x.validGridChartsVersion)({gridVersion:c.VERSION,chartsVersion:O.VERSION}),beans:[i.AgChartsExports.bind(null,O),v.ChartService,C.ChartTranslationService,d.ChartCrossFilterService,l.ChartMenuListFactory,p.ChartMenuService,o.EnterpriseChartProxyFactory,a.AdvancedSettingsMenuFactory]}}}},3504:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.validGridChartsVersion=h.validGridChartsVersionErrorMessage=h.gridChartVersion=void 0;let S=28,g=6;function M(i){return i&&i.match(/\d+\.\d+\.\d+/)}function P({gridMajorVersion:i,chartsMajorVersion:o}){let a=parseInt(i,10),l=parseInt(o,10),d=a-S,p=l-g,C=d>=0;return d===p&&C}function f(i){if(!i||!M(i))return;let[o,a]=i.split(".")||[],l=`${o}.${a}.x`,p=parseInt(o,10)-S+g;if(p<0)return;let v=`${p}.${a}.x`;return{gridMajorMinor:l,chartsMajorMinor:v}}h.gridChartVersion=f;function c({type:i,gridVersion:o,chartsVersion:a}){let l="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!o)return l;let d=f(o);if(!d)return l;let{gridMajorMinor:p,chartsMajorMinor:C}=d;return i==="incompatible"?`AG Grid version ${o} and AG Charts version ${a} is not supported. AG Grid version ${p} should be used with AG Chart ${C}. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.`:i==="invalidCharts"?`AG Grid version ${p} should be used with AG Chart ${C} not ${a}. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.`:l}h.validGridChartsVersionErrorMessage=c;function r({gridVersion:i,chartsVersion:o}){if(!M(o))return{isValid:!1,message:c({type:"invalidCharts",gridVersion:i,chartsVersion:o})};if(!M(i))return{isValid:!1,message:c({type:"invalidGrid",gridVersion:i,chartsVersion:o})};let[a,l]=i.split(".")||[],[d,p,C]=o.split(".")||[],v=P({gridMajorVersion:a,chartsMajorVersion:d});return v&&l===p||C.includes("beta")?{isValid:!0}:!v||l!==p?{isValid:!1,message:c({type:"incompatible",gridVersion:i,chartsVersion:o})}:{isValid:!1,message:c({type:"invalid",gridVersion:i,chartsVersion:o})}}h.validGridChartsVersion=r},1750:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgAngleSelect=void 0;let g=S(6624);class M extends g.AgAbstractLabel{wireBeans(f){this.dragSvc=f.dragSvc}constructor(f){super(f,`<div class="ag-angle-select">
            <div data-ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div class="ag-angle-select-field">
                    <div data-ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div data-ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field data-ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,[g.AgInputNumberFieldSelector]),this.eLabel=g.RefPlaceholder,this.eParentCircle=g.RefPlaceholder,this.eChildCircle=g.RefPlaceholder,this.eAngleValue=g.RefPlaceholder,this.radius=0,this.offsetX=0,this.offsetY=0}postConstruct(){super.postConstruct();let{value:f,onValueChange:c}=this.config;f!=null&&this.setValue(f,void 0,!0),c!=null&&this.onValueChange(c),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:()=>{this.parentCircleRect=this.eParentCircle.getBoundingClientRect()},onDragging:r=>this.calculateAngleDrag(r),onDragStop:()=>{}},this.dragSvc?.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(`${this.degrees}`).onValueChange(r=>{(r==null||r==="")&&(r="0"),r=this.eAngleValue.normalizeValue(r);let i=parseFloat(r);i>180&&(i=i-360),this.setValue(i)}),this.updateNumberInput(),(0,g._exists)(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListeners(this,{fieldValueChanged:()=>{this.eAngleValue.getInputElement().contains((0,g._getActiveDomElement)(this.beans))||this.updateNumberInput()}})}updateNumberInput(){let f=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(f.toString())}positionChildCircle(f){let c=this.parentCircleRect||{width:24,height:24},r=this.eChildCircle,i=c.width/2,o=c.height/2;r.style.left=`${i+Math.cos(f)*8}px`,r.style.top=`${o+Math.sin(f)*8}px`}calculatePolar(){let f=this.offsetX,c=this.offsetY,r=Math.atan2(c,f);this.degrees=this.toDegrees(r),this.radius=Math.sqrt(f*f+c*c),this.positionChildCircle(r)}calculateCartesian(){let f=this.toRadians(this.getValue()),c=this.getRadius();this.setOffsetX(Math.cos(f)*c).setOffsetY(Math.sin(f)*c)}setOffsetX(f){return this.offsetX!==f&&(this.offsetX=f,this.calculatePolar()),this}setOffsetY(f){return this.offsetY!==f&&(this.offsetY=f,this.calculatePolar()),this}calculateAngleDrag(f){let c=this.parentCircleRect,r=c.width/2,i=c.height/2,o=f.clientX-c.left,a=f.clientY-c.top,l=o-r,d=a-i,p=Math.atan2(d,l);this.setValue(p,!0)}toDegrees(f){return f/Math.PI*180}toRadians(f){return f/180*Math.PI}normalizeNegativeValue(f){return f<0?360+f:f}normalizeAngle180(f){return f%=Math.PI*2,f<-Math.PI?f+=Math.PI*2:f>=Math.PI&&(f-=Math.PI*2),f}getRadius(){return this.radius}setRadius(f){return this.radius===f?this:(this.radius=f,this.calculateCartesian(),this)}onValueChange(f){return this.addManagedListeners(this,{fieldValueChanged:()=>{f(this.degrees)}}),this}getValue(f){return f?this.toRadians(this.degrees):this.degrees}setValue(f,c,r){let i;return c?i=f:i=this.normalizeAngle180(this.toRadians(f)),f=this.toDegrees(i),this.degrees!==f&&(this.degrees=Math.floor(f),this.calculateCartesian(),this.positionChildCircle(i),r||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}setWidth(f){return(0,g._setFixedWidth)(this.getGui(),f),this}setDisabled(f){return super.setDisabled(f),this.eAngleValue.setDisabled(f),this}destroy(){this.dragSvc?.removeDragSource(this.dragListener),super.destroy()}}h.AgAngleSelect=M},7699:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgColorInputSelector=h.AgColorInput=void 0;let g=S(6624);class M extends g.AgInputTextField{wireBeans(f){this.chartTranslation=f.chartTranslation,this.color=f.agChartsExports._Util.Color}constructor(){super({template:`
            <div role="presentation" class="ag-color-input">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <input data-ref="eInput" class="ag-input-field-input">
                    <div data-ref="eColor" class="ag-color-input-color"></div>
                </div>
            </div>`}),this.eColor=g.RefPlaceholder}setColor(f){let c=f.toRgbaString();this.setValue(this.color.fromString(c).toHexString().toUpperCase(),!0),this.eColor.style.backgroundColor=c}setValue(f,c){let r=this.color.validColorString(f??"");return this.eInput.setCustomValidity(r?"":this.chartTranslation.translate("invalidColor")),super.setValue(f,c),r&&!c&&this.dispatchLocalEvent({type:"colorChanged"}),this}onColorChanged(f){this.addManagedListeners(this,{colorChanged:()=>f(this.color.fromString(this.value))})}}h.AgColorInput=M,h.AgColorInputSelector={selector:"AG-COLOR-INPUT",component:M}},7434:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgColorPanel=void 0;let g=S(6624),M=S(7699),P=8,f=[];class c extends g.Component{constructor(i){super(`<div class="ag-color-panel" tabindex="-1">
            <div data-ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div data-ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div data-ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div data-ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div data-ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div data-ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div data-ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <ag-color-input data-ref="colorInput"></ag-color-input>
                <div data-ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,[M.AgColorInputSelector]),this.H=1,this.S=1,this.B=1,this.A=1,this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1,this.colorChanged=!1,this.spectrumColor=g.RefPlaceholder,this.spectrumVal=g.RefPlaceholder,this.spectrumDragger=g.RefPlaceholder,this.spectrumHue=g.RefPlaceholder,this.spectrumHueSlider=g.RefPlaceholder,this.spectrumAlpha=g.RefPlaceholder,this.spectrumAlphaSlider=g.RefPlaceholder,this.colorInput=g.RefPlaceholder,this.recentColors=g.RefPlaceholder,this.picker=i.picker}wireBeans(i){this._Color=i.agChartsExports._Util.Color}postConstruct(){this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",()=>this.spectrumColor.focus()),this.addGuiEventListener("keydown",i=>{i.key===g.KeyCode.ENTER&&!i.defaultPrevented&&this.destroy()}),this.addManagedListeners(this.spectrumColor,{keydown:i=>this.moveDragger(i)}),this.addManagedListeners(this.spectrumAlphaSlider,{keydown:i=>this.moveAlphaSlider(i)}),this.addManagedListeners(this.spectrumHueSlider,{keydown:i=>this.moveHueSlider(i)}),this.addManagedListeners(this.spectrumVal,{mousedown:this.onSpectrumDraggerDown.bind(this)}),this.addManagedListeners(this.spectrumHue,{mousedown:this.onSpectrumHueDown.bind(this)}),this.addManagedListeners(this.spectrumAlpha,{mousedown:this.onSpectrumAlphaDown.bind(this)}),this.addGuiEventListener("mousemove",i=>{this.onSpectrumDraggerMove(i),this.onSpectrumHueMove(i),this.onSpectrumAlphaMove(i)}),this.addManagedListeners(document,{mouseup:this.onMouseUp.bind(this)}),this.colorInput.onColorChanged(this.setColor.bind(this)),this.addManagedListeners(this.recentColors,{click:this.onRecentColorClick.bind(this),keydown:i=>{(i.key===g.KeyCode.ENTER||i.key===g.KeyCode.SPACE)&&(i.preventDefault(),this.onRecentColorClick(i))}})}initTabIndex(){let i=this.tabIndex=this.gos.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",i),this.spectrumHueSlider.setAttribute("tabindex",i),this.spectrumAlphaSlider.setAttribute("tabindex",i)}refreshSpectrumRect(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()}refreshHueRect(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()}refreshAlphaRect(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()}onSpectrumDraggerDown(i){i.preventDefault(),this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(i)}onSpectrumDraggerMove(i){this.isSpectrumDragging&&this.moveDragger(i)}onSpectrumHueDown(i){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(i)}onSpectrumHueMove(i){this.isSpectrumHueDragging&&this.moveHueSlider(i)}onSpectrumAlphaDown(i){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(i)}onSpectrumAlphaMove(i){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(i)}onMouseUp(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1}moveDragger(i){let o=this.spectrumValRect;if(!o)return;let a,l;if(i instanceof MouseEvent)a=i.clientX-o.left,l=i.clientY-o.top;else{let d=i.key===g.KeyCode.LEFT,p=i.key===g.KeyCode.RIGHT,C=i.key===g.KeyCode.UP,v=i.key===g.KeyCode.DOWN,b=C||v,R=d||p;if(!b&&!R)return;i.preventDefault();let{x,y:E}=this.getSpectrumValue();a=x+(R?d?-5:5:0),l=E+(b?C?-5:5:0)}a=Math.max(a,0),a=Math.min(a,o.width),l=Math.max(l,0),l=Math.min(l,o.height),this.setSpectrumValue(a/o.width,1-l/o.height)}moveHueSlider(i){let o=this.spectrumHueRect;if(!o)return;let a=this.moveSlider(this.spectrumHueSlider,i);a!=null&&(this.H=1-a/o.width,this.update())}moveAlphaSlider(i){let o=this.spectrumAlphaRect;if(!o)return;let a=this.moveSlider(this.spectrumAlphaSlider,i);a!=null&&(this.A=a/o.width,this.update())}moveSlider(i,o){let a=i.getBoundingClientRect(),l=i.parentElement?.getBoundingClientRect();if(!i||!l)return null;let d=a.width/2,p;if(o instanceof MouseEvent)p=Math.floor(o.clientX-l.left);else{let C=o.key===g.KeyCode.LEFT,v=o.key===g.KeyCode.RIGHT;if(!C&&!v)return null;o.preventDefault();let b=C?-5:5;p=parseFloat(i.style.left)+d+b}return p=Math.max(p,0),p=Math.min(p,l.width),i.style.left=p-d+"px",p}update(i){let{A:o,S:a,B:l,H:d,_Color:p}=this,C=d*360,v=p.fromHSB(C,a,l,o),b=v.toRgbaString(),x=p.fromHSB(C,a,l).toRgbaString(),T=p.fromHSB(C,1,1).toRgbaString(),D=this.picker;p.fromString(D.getValue()).toRgbaString()!==b&&(this.colorChanged=!0),D.setValue(b),this.spectrumColor.style.backgroundColor=T,this.spectrumDragger.style.backgroundColor=x,this.spectrumHueSlider.style.backgroundColor=T,this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-from",p.fromHSB(C,a,l,0).toRgbaString()),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color-to",x),this.spectrumAlpha.style.setProperty("--ag-internal-spectrum-alpha-color",b),i||this.colorInput.setColor(v)}setSpectrumValue(i,o,a){let l=this.spectrumValRect||this.refreshSpectrumRect();if(l==null)return;let d=this.spectrumDragger,p=d.getBoundingClientRect();i=Math.max(0,i),i=Math.min(1,i),o=Math.max(0,o),o=Math.min(1,o),this.S=i,this.B=o,d.style.left=i*l.width-p.width/2+"px",d.style.top=(1-o)*l.height-p.height/2+"px",this.update(a)}getSpectrumValue(){let i=this.spectrumDragger,o=i.getBoundingClientRect(),a=parseFloat(i.style.left)+o.width/2,l=parseFloat(i.style.top)+o.height/2;return{x:a,y:l}}initRecentColors(){let i=f,o=i.map((a,l)=>`<div class="ag-recent-color" id=${l} style="background-color: ${a}; width: 15px; height: 15px;" recent-color="${a}" tabIndex="${this.tabIndex}"></div>`);this.recentColors.innerHTML=o.join(""),(0,g._setDisplayed)(this.recentColors,!!i.length)}setValue(i){let o=this._Color.fromString(i);this.setColor(o,!0)}setColor(i,o){let[a,l,d]=i.toHSB();this.H=(isNaN(a)?0:a)/360,this.A=i.a;let p=this.spectrumHueRect||this.refreshHueRect(),C=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=`${(this.H-1)*-p.width-this.spectrumHueSlider.getBoundingClientRect().width/2}px`,this.spectrumAlphaSlider.style.left=`${this.A*C.width-this.spectrumAlphaSlider.getBoundingClientRect().width/2}px`,this.setSpectrumValue(l,d,!o)}onRecentColorClick(i){let o=i.target;if(!(0,g._exists)(o.id))return;let a=parseInt(o.id,10);this.setValue(f[a]),this.destroy()}addRecentColor(){let o=this._Color.fromHSB(this.H*360,this.S,this.B,this.A).toRgbaString(),a=f;!this.colorChanged||a[0]===o||(a=a.filter(l=>l!=o),a=[o].concat(a),a.length>P&&(a=a.slice(0,P)),f=a)}destroy(){this.addRecentColor(),super.destroy()}}h.AgColorPanel=c},1296:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgColorPickerSelector=h.AgColorPicker=void 0;let g=S(6624),M=S(8775),P=S(7434);class f extends g.AgPickerField{constructor(r){super({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"chartsColorPicker",...r})}postConstruct(){let r=(0,g._getDocument)(this.beans);this.eDisplayFieldColor=r.createElement("span"),this.eDisplayFieldColor.classList.add("ag-color-picker-color"),this.eDisplayFieldText=r.createElement("span"),this.eDisplayFieldText.classList.add("ag-color-picker-value"),this.eDisplayField.appendChild(this.eDisplayFieldColor),this.eDisplayField.appendChild(this.eDisplayFieldText),super.postConstruct(),this.value&&this.setValue(this.value)}createPickerComponent(){let r=this.eWrapper.getBoundingClientRect(),i=this.beans.popupSvc.getParentRect();return this.createBean(new M.AgDialog({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:r.right-i.left-190,y:r.top-i.top-250-(this.config.pickerGap??0),postProcessPopupParams:{type:"colorPicker",eventSource:this.eWrapper}}))}renderAndPositionPicker(){let r=this.pickerComponent,i=this.createBean(new P.AgColorPanel({picker:this}));return r.addCssClass("ag-color-dialog"),i.addDestroyFunc(()=>{r.isAlive()&&this.destroyBean(r)}),r.setParentComponent(this),r.setBodyComponent(i),i.setValue(this.getValue()),i.getGui().focus(),r.addDestroyFunc(()=>{this.isDestroyingPicker?this.isDestroyingPicker=!1:(this.beforeHidePicker(),this.isDestroyingPicker=!0,i.isAlive()&&this.destroyBean(i),this.isAlive()&&this.getFocusableElement().focus())}),()=>this.pickerComponent?.close()}setValue(r){return this.value===r?this:(this.eDisplayFieldColor.style.backgroundColor=r,this.eDisplayFieldText.textContent=this.beans.agChartsExports._Util.Color.fromString(r).toHexString().toUpperCase(),super.setValue(r))}getValue(){return this.value}}h.AgColorPicker=f,h.AgColorPickerSelector={selector:"AG-COLOR-PICKER",component:f}},5748:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgInputRangeSelector=h.AgInputRange=void 0;let g=S(6624);class M extends g.AgAbstractInputField{constructor(f){super(f,"ag-range-field","range")}postConstruct(){super.postConstruct();let{min:f,max:c,step:r}=this.config;f!=null&&this.setMinValue(f),c!=null&&this.setMaxValue(c),this.setStep(r||1)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:f=>{let c=f.target.value;this.setValue(c)}})}setMinValue(f){return this.min=f,this.eInput.setAttribute("min",f.toString()),this}setMaxValue(f){return this.max=f,this.eInput.setAttribute("max",f.toString()),this}setStep(f){return this.eInput.setAttribute("step",f.toString()),this}setValue(f,c){this.min!=null&&(f=Math.max(parseFloat(f),this.min).toString()),this.max!=null&&(f=Math.min(parseFloat(f),this.max).toString());let r=super.setValue(f,c);return this.eInput.value=f,r}}h.AgInputRange=M,h.AgInputRangeSelector={selector:"AG-INPUT-RANGE",component:M}},8239:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agPillSelectCSS=void 0,h.agPillSelectCSS=".ag-pill-select{display:flex;flex-direction:column}:where(.ag-pill-select){.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer;font-weight:500}.ag-picker-field-display,.ag-picker-field-icon{color:var(--ag-chart-menu-label-color)}}"},2406:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPillSelect=void 0;let g=S(6624),M=S(3173),P=S(9733),f=S(8239);class c extends g.Component{constructor(a){super('<div class="ag-pill-select" role="presentation"></div>'),this.config=a??{};let{selectedValueList:l,valueFormatter:d,valueList:p}=this.config;this.selectedValues=l??[],this.valueList=p??[],this.valueFormatter=d??(C=>(0,g._escapeString)(C)),this.registerCSS(f.agPillSelectCSS)}postConstruct(){let{ariaLabel:a,onValuesChange:l,dragSourceId:d}=this.config;this.dropZonePanel=this.createManagedBean(new i({getValues:()=>this.selectedValues,setValues:C=>this.updateValues(C),isDraggable:()=>this.selectedValues.length>1},C=>this.valueFormatter(C),a,d)),this.getGui().appendChild(this.dropZonePanel.getGui()),this.initSelect(),l!=null&&(this.onValuesChange=l)}setValues(a,l){let{added:d,removed:p,updated:C}=this.getChanges(this.valueList,a),v=!1;return(d.length||p.length||C.length)&&(v=!0),this.valueList=a,this.updateValues(l,v,!0),this}setValueFormatter(a){return this.valueFormatter=a,this}initSelect(){let a=this.createSelectOptions();if(!a.length)return!1;let{selectPlaceholder:l}=this.config;return this.eSelect=this.createBean(new g.AgSelect({options:a,placeholder:l,onValueChange:d=>this.addValue(d),pickerIcon:"chartsMenuAdd"})),this.getGui().appendChild(this.eSelect.getGui()),!0}createSelectOptions(){let a=[],{maxSelection:l}=this.config;return l&&this.selectedValues.length>=l||this.valueList.forEach(d=>{this.selectedValues.includes(d)||a.push({value:d,text:this.valueFormatter(d)})}),a}addValue(a){this.dropZonePanel.addItem(a)}updateValues(a,l,d){let p=this.selectedValues;this.selectedValues=a;let C=this.getChanges(p,a),v=l||C.added.length||C.removed.length,b=(0,g._getActiveDomElement)(this.beans),R=this.eSelect?.getGui().contains(b),x=this.dropZonePanel?.getGui().contains(b);d||this.onValuesChange?.(C);let E=v?!this.refreshSelect():!1;this.dropZonePanel.refreshGui(),v&&R&&(E?this.dropZonePanel.focusList(!0):this.eSelect?.getFocusableElement().focus()),x&&!a.length&&this.eSelect?.getFocusableElement().focus()}getChanges(a,l){let d=l.filter(v=>!a.includes(v)),p=a.filter(v=>!l.includes(v)),C=l.filter((v,b)=>a[b]!==v);return{added:d,removed:p,updated:C,selected:l}}refreshSelect(){if(!this.eSelect)return this.initSelect();let a=this.createSelectOptions();return a.length?(this.eSelect.clearOptions().addOptions(a).setValue(void 0,!0),!0):((0,g._removeFromParent)(this.eSelect.getGui()),this.eSelect=this.destroyBean(this.eSelect),!1)}destroy(){this.destroyBean(this.eSelect),super.destroy()}}h.AgPillSelect=c;class r extends M.PillDragComp{constructor(a,l,d,p,C,v){super(l,d,!1),this.value=a,this.valueFormatter=p,this.draggable=C,this.sourceId=v}getItem(){return this.value}getDisplayName(){return this.valueFormatter(this.value)}getAriaDisplayName(){return this.getDisplayName()}getTooltip(){}createGetDragItem(){return()=>({value:this.value})}getDragSourceType(){return g.DragSourceType.ChartPanel}getDragSourceId(){return this.sourceId}isMovable(){return this.isDraggable()}isDraggable(){return this.draggable}}class i extends P.PillDropZonePanel{constructor(a,l,d,p){super(!1),this.model=a,this.valueFormatter=l,this.ariaLabel=d,this.sourceId=p}postConstruct(){super.init()}isItemDroppable(a,l){return this.isSourceEventFromTarget(l)||this.sourceId!=null&&this.sourceId===l.dragSource.sourceId}updateItems(a){this.model.setValues(a)}getExistingItems(){return this.model.getValues()}getIconName(){return this.isPotentialDndItems()?"move":"notAllowed"}getAriaLabel(){return this.ariaLabel}createPillComponent(a,l,d){return new r(a,l,d,this.valueFormatter,this.model.isDraggable(),this.sourceId)}getItems(a){return[a.value]}isInterestedIn(a){return a===g.DragSourceType.ChartPanel}}},5e3:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgSliderSelector=h.AgSlider=void 0;let g=S(6624),M=S(5748);class P extends g.AgAbstractLabel{constructor(c){super(c,`<div class="ag-slider">
            <label data-ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range data-ref="eSlider"></ag-input-range>
                <ag-input-number-field data-ref="eText"></ag-input-number-field>
            </div>
        </div>`,[M.AgInputRangeSelector,g.AgInputNumberFieldSelector]),this.eLabel=g.RefPlaceholder,this.eSlider=g.RefPlaceholder,this.eText=g.RefPlaceholder,this.labelAlignment="top"}postConstruct(){super.postConstruct(),this.eSlider.addCssClass("ag-slider-field");let{minValue:c,maxValue:r,textFieldWidth:i,step:o,value:a,onValueChange:l}=this.config;c!=null&&this.setMinValue(c),r!=null&&this.setMaxValue(r),i!=null&&this.setTextFieldWidth(i),o!=null&&this.setStep(o),a!=null&&this.setValue(a),l!=null&&this.onValueChange(l)}onValueChange(c){return this.addManagedListeners(this.eText,{fieldValueChanged:()=>{let r=parseFloat(this.eText.getValue());this.eSlider.setValue(r.toString(),!0),c(r||0)}}),this.addManagedListeners(this.eSlider,{fieldValueChanged:()=>{let r=this.eSlider.getValue();this.eText.setValue(r,!0),c(parseFloat(r))}}),this}setSliderWidth(c){return this.eSlider.setWidth(c),this}setTextFieldWidth(c){return this.eText.setWidth(c),this}setMinValue(c){return this.eSlider.setMinValue(c),this.eText.setMin(c),this}setMaxValue(c){return this.eSlider.setMaxValue(c),this.eText.setMax(c),this}getValue(){return this.eText.getValue()}setValue(c,r){return this.getValue()===c?this:(this.eText.setValue(c,!0),this.eSlider.setValue(c,!0),r||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}setStep(c){return this.eSlider.setStep(c),this.eText.setStep(c),this}}h.AgSlider=P,h.AgSliderSelector={selector:"AG-SLIDER",component:P}},9112:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.pasteFromClipboard=h.copySelectedRangeDown=h.copySelectedRangeToClipboard=h.copySelectedRowsToClipboard=h.cutToClipboard=h.copyToClipboard=void 0;function S(r,i){r.clipboardSvc?.copyToClipboard(i)}h.copyToClipboard=S;function g(r,i){r.clipboardSvc?.cutToClipboard(i)}h.cutToClipboard=g;function M(r,i){r.clipboardSvc?.copySelectedRowsToClipboard(i)}h.copySelectedRowsToClipboard=M;function P(r,i){r.clipboardSvc?.copySelectedRangeToClipboard(i)}h.copySelectedRangeToClipboard=P;function f(r){r.clipboardSvc?.copyRangeDown()}h.copySelectedRangeDown=f;function c(r){r.clipboardSvc?.pasteFromClipboard()}h.pasteFromClipboard=c},3766:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClipboardModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(9112),c=S(5519);h.ClipboardModule={moduleName:"Clipboard",version:P.VERSION,beans:[c.ClipboardService],apiFunctions:{copyToClipboard:f.copyToClipboard,cutToClipboard:f.cutToClipboard,copySelectedRowsToClipboard:f.copySelectedRowsToClipboard,copySelectedRangeToClipboard:f.copySelectedRangeToClipboard,copySelectedRangeDown:f.copySelectedRangeDown,pasteFromClipboard:f.pasteFromClipboard},dependsOn:[M.EnterpriseCoreModule,g.CsvExportModule,g._KeyboardNavigationModule,g.HighlightChangesModule]}},5519:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClipboardService=h.stringToArray=void 0;let g=S(6624),M="paste",P="dragCopy",f="clipboard";var c;(function(o){o[o.CellRange=0]="CellRange",o[o.SelectedRows=1]="SelectedRows",o[o.FocusedCell=2]="FocusedCell"})(c||(c={}));function r(o,a=","){let l=[],d=C=>C==="\r"||C===`
`,p=!1;if(o==="")return[[""]];for(let C=0,v=0,b=0;b<o.length;b++){let R=o[b-1],x=o[b],E=o[b+1],T=()=>{l[C]||(l[C]=[]),l[C][v]||(l[C][v]="")};if(T(),x==='"'&&(p?E==='"'?(l[C][v]+='"',b++):p=!1:(R===void 0||R===a||d(R))&&(p=!0)),!p&&x!=='"'){if(x===a){v++,T();continue}else if(d(x)){v=0,C++,T(),x==="\r"&&E===`
`&&b++;continue}}l[C][v]+=x}return l}h.stringToArray=r;class i extends g.BeanStub{constructor(){super(...arguments),this.beanName="clipboardSvc",this.clientSideRowModel=null,this.gridCtrl=null,this.lastPasteOperationTime=0,this.navigatorApiFailed=!1}postConstruct(){let{gos:a,rowModel:l,ctrlsSvc:d}=this.beans;(0,g._isClientSideRowModel)(a,l)&&(this.clientSideRowModel=l),d.whenReady(this,p=>{this.gridCtrl=p.gridCtrl})}destroy(){super.destroy(),this.clientSideRowModel=null,this.gridCtrl=null}pasteFromClipboard(){!this.gos.get("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(l=>{(0,g._warn)(40,{e:l,method:"readText"}),this.navigatorApiFailed=!0,this.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()}pasteFromClipboardLegacy(){let a=!1,l=d=>{let p=Date.now();p-this.lastPasteOperationTime<50&&(a=!0,d.preventDefault()),this.lastPasteOperationTime=p};this.executeOnTempElement(d=>{d.addEventListener("paste",l),d.focus({preventScroll:!0})},d=>{let p=d.value;a?this.refocusLastFocusedCell():this.processClipboardData(p),d.removeEventListener("paste",l)})}refocusLastFocusedCell(){let{focusSvc:a}=this.beans,l=a.getFocusedCell();l&&a.setFocusedCell({rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned,forceBrowserFocus:!0})}getClipboardDelimiter(){let a=this.gos.get("clipboardDelimiter");return(0,g._exists)(a)?a:"	"}processClipboardData(a){if(a==null)return;let l=r(a,this.getClipboardDelimiter()),d=this.gos.getCallback("processDataFromClipboard");if(d&&(l=d({data:l})),l==null)return;this.gos.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(l);let{rangeSvc:p}=this.beans,C=(v,b,R,x)=>{p?.isMoreThanOneCell()&&!this.hasOnlyOneValueToPaste(l)?this.pasteIntoActiveRange(p,l,v,b,x):this.pasteStartingFromFocusedCell(l,v,b,R,x)};this.doPasteOperation(C)}doPasteOperation(a){let l="clipboard",{eventSvc:d,focusSvc:p,rowRenderer:C,gos:v}=this.beans;d.dispatchEvent({type:"pasteStart",source:l});let{clientSideRowModel:b}=this,R=b?.rootNode,x=R&&new g.ChangedPath(v.get("aggregateOnlyChangedColumns"),R),E={},T=[],D=p.getFocusedCell();a(E,T,D,x);let k=[...T];x&&(b.doAggregate(x),x.forEachChangedNodeDepthFirst(O=>{k.push(O)})),C.refreshCells({rowNodes:k}),this.dispatchFlashCells(E),this.fireRowChanged(T),this.refocusLastFocusedCell(),d.dispatchEvent({type:"pasteEnd",source:l})}pasteIntoActiveRange(a,l,d,p,C){let v=this.getRangeSize(a)%l.length!=0,b=0,R=0,x=(E,T,D,k)=>{if(k-b>=l.length){if(v)return;b+=R,R=0}let N=l[k-b];p.push(T);let V=this.gos.getCallback("processCellFromClipboard");D.forEach((j,Q)=>{if(!j.isCellEditable(T)||j.isSuppressPaste(T))return;Q>=N.length&&(Q=Q%N.length);let Y=this.processCell(T,j,N[Q],P,V,!0);T.setDataValue(j,Y,M),C&&C.addParentNode(T.parent,[j]);let{rowIndex:$,rowPinned:se}=E,W=(0,g._createCellId)({rowIndex:$,column:j,rowPinned:se});d[W]=!0}),R++};this.iterateActiveRanges(!1,x)}getDisplayedColumnsStartingAt(a){let l=a,d=[],p=this.beans.visibleCols;for(;l!=null;)d.push(l),l=p.getColAfter(l);return d}pasteStartingFromFocusedCell(a,l,d,p,C){if(!p)return;let v={rowIndex:p.rowIndex,rowPinned:p.rowPinned},b=this.getDisplayedColumnsStartingAt(p.column);this.isPasteSingleValueIntoRange(a)?this.pasteSingleValueIntoRange(a,d,l,C):this.pasteMultipleValues(a,v,d,b,l,f,C)}isPasteSingleValueIntoRange(a){let l=this.beans.rangeSvc;return this.hasOnlyOneValueToPaste(a)&&!!l&&!l.isEmpty()}pasteSingleValueIntoRange(a,l,d,p){let C=a[0][0],v=(b,R,x)=>{l.push(R),x.forEach(E=>this.updateCellValue(R,E,C,d,f,p))};this.iterateActiveRanges(!1,v)}hasOnlyOneValueToPaste(a){return a.length===1&&a[0].length===1}copyRangeDown(){let{rangeSvc:a,gos:l,valueSvc:d}=this.beans;if(!a||a.isEmpty())return;let p=[],C=(v,b,R,x)=>{let E=l.getCallback("processCellForClipboard"),T=l.getCallback("processCellFromClipboard"),D=(k,O,N)=>{p.length?(b.push(O),N.forEach((V,j)=>{if(!V.isCellEditable(O)||V.isSuppressPaste(O))return;let Q=this.processCell(O,V,p[j],P,T,!0);O.setDataValue(V,Q,M),x&&x.addParentNode(O.parent,[V]);let{rowIndex:Y,rowPinned:$}=k,se=(0,g._createCellId)({rowIndex:Y,column:V,rowPinned:$});v[se]=!0})):N.forEach(V=>{let j=this.processCell(O,V,d.getValue(V,O),P,E,!1,!0);p.push(j)})};this.iterateActiveRanges(!0,D)};this.doPasteOperation(C)}removeLastLineIfBlank(a){let l=(0,g._last)(a);if(l&&l.length===1&&l[0]===""){if(a.length===1)return;(0,g._removeFromArray)(a,l)}}fireRowChanged(a){this.gos.get("editType")==="fullRow"&&a.forEach(l=>{this.eventSvc.dispatchEvent({type:"rowValueChanged",node:l,data:l.data,rowIndex:l.rowIndex,rowPinned:l.rowPinned})})}pasteMultipleValues(a,l,d,p,C,v,b){let R=l,x=this.beans,{gos:E}=x,T=this.clientSideRowModel!=null&&!E.get("enableGroupEdit")&&!E.get("treeData"),D=()=>{for(;;){if(!R)return null;let k=(0,g._getRowNode)(x,R);if(R=(0,g._getRowBelow)(x,{rowPinned:R.rowPinned,rowIndex:R.rowIndex}),k==null)return null;if(!(k.detail||k.footer||T&&k.group))return k}};a.forEach(k=>{let O=D();O&&(k.forEach((N,V)=>this.updateCellValue(O,p[V],N,C,v,b)),d.push(O))})}updateCellValue(a,l,d,p,C,v){if(!a||!l||!l.isCellEditable(a)||l.isSuppressPaste(a))return;let b=this.processCell(a,l,d,C,this.gos.getCallback("processCellFromClipboard"),!0);a.setDataValue(l,b,M);let{rowIndex:R,rowPinned:x}=a,E=(0,g._createCellId)({rowIndex:R,column:l,rowPinned:x});p[E]=!0,v&&v.addParentNode(a.parent,[l])}copyToClipboard(a={}){this.copyOrCutToClipboard(a)}cutToClipboard(a={},l="api"){this.gos.get("suppressCutToClipboard")||(this.eventSvc.dispatchEvent({type:"cutStart",source:l}),this.copyOrCutToClipboard(a,!0),this.eventSvc.dispatchEvent({type:"cutEnd",source:l}))}copyOrCutToClipboard(a,l){let{includeHeaders:d,includeGroupHeaders:p}=a,{gos:C,focusSvc:v}=this.beans;d==null&&(d=C.get("copyHeadersToClipboard")),p==null&&(p=C.get("copyGroupHeadersToClipboard"));let b={includeHeaders:d,includeGroupHeaders:p},R=C.get("rowSelection"),x=C.get("cellSelection"),E=null;this.shouldCopyCells(x,R)?(this.copySelectedRangeToClipboard(b),E=c.CellRange):this.shouldCopyRows(R)?(this.copySelectedRowsToClipboard(b),E=c.SelectedRows):v.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(b),E=c.FocusedCell),l&&E!==null&&this.clearCellsAfterCopy(E)}shouldCopyCells(a,l){let{rangeSvc:d,selectionSvc:p,gos:C}=this.beans;if(!d||d.isEmpty())return!1;if(a)return!(typeof l=="object"&&l.copySelectedRows&&!p?.isEmpty());{let v=C.get("suppressCopySingleCellRanges");return!(!d.isMoreThanOneCell()&&v)}}shouldCopyRows(a){let{selectionSvc:l,gos:d}=this.beans;return l?.isEmpty()??!0?!1:a&&typeof a!="string"?a.copySelectedRows??!1:!d.get("suppressCopyRowsToClipboard")}clearCellsAfterCopy(a){let l=this.beans,{rangeSvc:d,focusSvc:p,eventSvc:C}=l;if(C.dispatchEvent({type:"keyShortcutChangedCellStart"}),a===c.CellRange)d.clearCellRangeCellValues({cellEventSource:"clipboardSvc"});else if(a===c.SelectedRows)this.clearSelectedRows();else{let v=p.getFocusedCell();if(v==null)return;let b=(0,g._getRowNode)(l,v);b&&this.clearCellValue(b,v.column)}C.dispatchEvent({type:"keyShortcutChangedCellEnd"})}clearSelectedRows(){let{selectionSvc:a,visibleCols:l}=this.beans,d=a?.getSelectedNodes()??[],p=l.allCols;for(let C of d)for(let v of p)this.clearCellValue(C,v)}clearCellValue(a,l){if(!l.isCellEditable(a))return;let d=this.beans.valueSvc.getDeleteValue(l,a);a.setDataValue(l,d,"clipboardSvc")}iterateActiveRanges(a,l,d){let p=this.beans.rangeSvc;if(!p||p.isEmpty())return;let C=p.getCellRanges();a?this.iterateActiveRange(C[0],l,d,!0):C.forEach((v,b)=>this.iterateActiveRange(v,l,d,b===C.length-1))}iterateActiveRange(a,l,d,p){let{beans:C}=this,{rangeSvc:v}=C;if(!v)return;let b=v.getRangeStartRow(a),R=v.getRangeEndRow(a);d&&a.columns&&d(a.columns);let x=0,E=!1;for(;!E&&b!=null;){let T=(0,g._getRowNode)(C,b);E=(0,g._isSameRow)(b,R),l(b,T,a.columns,x++,E&&p),b=(0,g._getRowBelow)(C,b)}}copySelectedRangeToClipboard(a={}){let l=this.beans.rangeSvc;if(!l||l.isEmpty())return;let d=l.areAllRangesAbleToMerge(),{data:p,cellsToFlash:C}=d?this.buildDataFromMergedRanges(l,a):this.buildDataFromRanges(l,a);this.copyDataToClipboard(p),this.dispatchFlashCells(C)}buildDataFromMergedRanges(a,l){let d=new Set,p=a.getCellRanges(),C=new Map,v=[],b={};p.forEach(T=>{T.columns.forEach(O=>d.add(O));let{rowPositions:D,cellsToFlash:k}=this.getRangeRowPositionsAndCellsToFlash(a,T);D.forEach(O=>{let N=`${O.rowIndex}-${O.rowPinned||"null"}`;C.get(N)||(C.set(N,!0),v.push(O))}),Object.assign(b,k)});let R=this.beans.visibleCols.allCols,x=Array.from(d);return x.sort((T,D)=>{let k=R.indexOf(T),O=R.indexOf(D);return k-O}),{data:this.buildExportParams({columns:x,rowPositions:v,includeHeaders:l.includeHeaders,includeGroupHeaders:l.includeGroupHeaders}),cellsToFlash:b}}buildDataFromRanges(a,l){let d=a.getCellRanges(),p=[],C={};return d.forEach(v=>{let{rowPositions:b,cellsToFlash:R}=this.getRangeRowPositionsAndCellsToFlash(a,v);Object.assign(C,R),p.push(this.buildExportParams({columns:v.columns,rowPositions:b,includeHeaders:l.includeHeaders,includeGroupHeaders:l.includeGroupHeaders}))}),{data:p.join(`
`),cellsToFlash:C}}getRangeRowPositionsAndCellsToFlash(a,l){let d=[],p={},C=a.getRangeStartRow(l),v=a.getRangeEndRow(l),b=C;for(;b&&(d.push(b),l.columns.forEach(R=>{let{rowIndex:x,rowPinned:E}=b,T=(0,g._createCellId)({rowIndex:x,column:R,rowPinned:E});p[T]=!0}),!(0,g._isSameRow)(b,v));)b=(0,g._getRowBelow)(this.beans,b);return{rowPositions:d,cellsToFlash:p}}getCellsToFlashFromRowNodes(a){let l=this.beans.visibleCols.allCols,d={};for(let p=0;p<a.length;p++){let{level:C,rowIndex:v,rowPinned:b,sibling:R}=a[p],x=C===-1?R.rowIndex:v;if(x!=null)for(let E=0;E<l.length;E++){let T=l[E],D=(0,g._createCellId)({rowIndex:x,column:T,rowPinned:b});d[D]=!0}}return d}copyFocusedCellToClipboard(a={}){let l=this.beans.focusSvc.getFocusedCell();if(l==null)return;l=this.beans.rowSpanSvc?.getCellStart(l)??l;let d=(0,g._createCellId)(l),p={rowPinned:l.rowPinned,rowIndex:l.rowIndex},C=l.column,v=this.buildExportParams({columns:[C],rowPositions:[p],includeHeaders:a.includeHeaders,includeGroupHeaders:a.includeGroupHeaders});this.copyDataToClipboard(v),this.dispatchFlashCells({[d]:!0})}copySelectedRowsToClipboard(a={}){let{columnKeys:l,includeHeaders:d,includeGroupHeaders:p}=a,C=this.buildExportParams({columns:l,includeHeaders:d,includeGroupHeaders:p});this.copyDataToClipboard(C);let v=this.beans.selectionSvc?.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(v))}buildExportParams(a){let{columns:l,rowPositions:d,includeHeaders:p=!1,includeGroupHeaders:C=!1}=a,{gos:v,csvCreator:b}=this.beans,R={columnKeys:l,rowPositions:d,skipColumnHeaders:!p,skipColumnGroupHeaders:!C,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!d,processCellCallback:v.getCallback("processCellForClipboard"),processRowGroupCallback:x=>this.processRowGroupCallback(x),processHeaderCallback:v.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:v.getCallback("processGroupHeaderForClipboard")};return b.getDataAsCsv(R,!0)}getValueFromNode(a,l){let{gos:d,valueSvc:p}=this.beans,C=d.get("treeData"),v=d.get("groupDisplayType")==="groupRows";if(C||v||!l)return a.key;let b=a.groupData?.[l.getId()];return!b||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?b:p.formatValue(a.rowGroupColumn,a,b)??b}processRowGroupCallback({node:a,column:l}){let d=this.getValueFromNode(a,l),p=this.getLocaleTextFunc();if(a.footer){let C="";d&&d.length&&(C=` ${d}`),d=`${p("footerTotal","Total")}${C}`}return d||""}dispatchFlashCells(a){window.setTimeout(()=>{this.eventSvc.dispatchEvent({type:"flashCells",cells:a})},0)}processCell(a,l,d,p,C,v,b){let R=this.beans.valueSvc;return C?C({column:l,node:a,value:d,type:p,formatValue:E=>R.formatValue(l,a??null,E)??E,parseValue:E=>R.parseValue(l,a??null,E,R.getValue(l,a))}):v&&l.getColDef().useValueParserForImport!==!1?R.parseValue(l,a??null,d,R.getValue(l,a)):b&&l.getColDef().useValueFormatterForExport!==!1?R.formatValue(l,a??null,d)??d:d}copyDataToClipboard(a){let l=this.gos.getCallback("sendToClipboard");if(l){l({data:a});return}if(!this.gos.get("suppressClipboardApi")&&navigator.clipboard){navigator.clipboard.writeText(a).catch(p=>{(0,g._warn)(40,{e:p,method:"writeText"}),this.copyDataToClipboardLegacy(a)});return}this.copyDataToClipboardLegacy(a)}copyDataToClipboardLegacy(a){this.executeOnTempElement(l=>{let d=(0,g._getDocument)(this.beans),p=(0,g._getActiveDomElement)(this.beans);l.value=a||" ",l.select(),l.focus({preventScroll:!0}),d.execCommand("copy")||(0,g._warn)(41),p!=null&&p.focus!=null&&p.focus({preventScroll:!0})})}executeOnTempElement(a,l){if(!this.gridCtrl)return;let d=(0,g._getDocument)(this.beans),p=d.createElement("textarea"),C=p.style;C.width="1px",C.height="1px";let v=d.documentElement;C.top=v.scrollTop+"px",C.left=v.scrollLeft+"px",C.position="absolute",C.opacity="0";let b=this.gridCtrl.getGui();b.appendChild(p);try{a(p)}catch{(0,g._warn)(42)}l?window.setTimeout(()=>{l(p),b.removeChild(p)},100):b.removeChild(p)}getRangeSize(a){let l=a.getCellRanges(),d=0,p=0;return l.length>0&&(d=a.getRangeStartRow(l[0]).rowIndex,p=a.getRangeEndRow(l[0]).rowIndex),d-p+1}}h.ClipboardService=i},2664:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agPrimaryColsCSS=void 0,h.agPrimaryColsCSS=".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}"},1269:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPrimaryColsSelector=h.AgPrimaryCols=void 0;let g=S(6624),M=S(2664),P=S(4312),f=S(5853),c={tag:"div",cls:"ag-column-select",children:[{tag:"ag-primary-cols-header",ref:"primaryColsHeaderPanel"},{tag:"ag-primary-cols-list",ref:"primaryColsListPanel"}]};class r extends g.Component{constructor(){super(c,[P.AgPrimaryColsHeaderSelector,f.AgPrimaryColsListSelector]),this.primaryColsHeaderPanel=g.RefPlaceholder,this.primaryColsListPanel=g.RefPlaceholder,this.registerCSS(M.agPrimaryColsCSS)}init(o,a,l){let{primaryColsHeaderPanel:d,primaryColsListPanel:p}=this;d.init(a);let C=a.suppressColumnFilter,v=a.suppressColumnSelectAll;a.suppressColumnExpandAll&&C&&v&&d.setDisplayed(!1),this.addManagedListeners(p,{groupExpanded:R=>{d.setExpandState(R.state),a.onStateUpdated()},selectionChanged:R=>d.setSelectionState(R.state)}),p.init(a,o,l),this.addManagedListeners(d,{expandAll:p.doSetExpandedAll.bind(p,!0),collapseAll:p.doSetExpandedAll.bind(p,!1),selectAll:p.doSetSelectedAll.bind(p,!0),unselectAll:p.doSetSelectedAll.bind(p,!1),filterChanged:R=>p.setFilterText(R.filterText)}),this.positionableFeature=this.createManagedBean(new g.PositionableFeature(this.getGui(),{minHeight:100}))}toggleResizable(o){this.positionableFeature.setResizable(o?{bottom:!0}:!1)}expandGroups(o){this.primaryColsListPanel.setGroupsExpanded(!0,o)}collapseGroups(o){this.primaryColsListPanel.setGroupsExpanded(!1,o)}setColumnLayout(o){this.primaryColsListPanel.setColumnLayout(o)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups()}}h.AgPrimaryCols=r,h.AgPrimaryColsSelector={selector:"AG-PRIMARY-COLS",component:r}},4312:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPrimaryColsHeaderSelector=h.AgPrimaryColsHeader=h.ExpandState=void 0;let g=S(6624);var M;(function(r){r[r.EXPANDED=0]="EXPANDED",r[r.COLLAPSED=1]="COLLAPSED",r[r.INDETERMINATE=2]="INDETERMINATE"})(M||(h.ExpandState=M={}));let P=300,f={tag:"div",cls:"ag-column-select-header",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-column-select-header-icon"},{tag:"ag-checkbox",ref:"eSelect",cls:"ag-column-select-header-checkbox"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-column-select-header-filter-wrapper"}]};class c extends g.Component{constructor(){super(f,[g.AgCheckboxSelector,g.AgInputTextFieldSelector]),this.eExpand=g.RefPlaceholder,this.eSelect=g.RefPlaceholder,this.eFilterTextField=g.RefPlaceholder}postConstruct(){this.createExpandIcons(),this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:o=>{o.key===g.KeyCode.SPACE&&(o.preventDefault(),this.onExpandClicked())}}),this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",()=>this.onFunctionsReadOnlyPropChanged()),this.eFilterTextField.setAutoComplete(!1).onValueChange(()=>this.onFilterTextChanged()),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});let i=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(i("ariaColumnSelectAll","Toggle All Columns Visibility")),this.eFilterTextField.setInputAriaLabel(i("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}onFunctionsReadOnlyPropChanged(){let i=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(i),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",i)}init(i){this.params=i;let o=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(o),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",o),this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){let i=this.beans;this.eExpand.appendChild(this.eExpandChecked=(0,g._createIconNoSpan)("columnSelectOpen",i)),this.eExpand.appendChild(this.eExpandUnchecked=(0,g._createIconNoSpan)("columnSelectClosed",i)),this.eExpand.appendChild(this.eExpandIndeterminate=(0,g._createIconNoSpan)("columnSelectIndeterminate",i)),this.setExpandState(M.EXPANDED)}showOrHideOptions(){let i=this.params,o=!i.suppressColumnFilter,a=!i.suppressColumnSelectAll,l=!i.suppressColumnExpandAll,d=!!this.beans.colModel.colDefCols?.treeDepth,p=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(p("searchOoo","Search...")),(0,g._setDisplayed)(this.eFilterTextField.getGui(),o),(0,g._setDisplayed)(this.eSelect.getGui(),a),(0,g._setDisplayed)(this.eExpand,l&&d)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=(0,g._debounce)(this,()=>{let i=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:"filterChanged",filterText:i})},P)),this.onFilterTextChangedDebounced()}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchLocalEvent({type:this.expandState===M.EXPANDED?"collapseAll":"expandAll"})}setExpandState(i){this.expandState=i,(0,g._setDisplayed)(this.eExpandChecked,i===M.EXPANDED),(0,g._setDisplayed)(this.eExpandUnchecked,i===M.COLLAPSED),(0,g._setDisplayed)(this.eExpandIndeterminate,i===M.INDETERMINATE)}setSelectionState(i){this.selectState=i,this.eSelect.setValue(this.selectState)}}h.AgPrimaryColsHeader=c,h.AgPrimaryColsHeaderSelector={selector:"AG-PRIMARY-COLS-HEADER",component:c}},5853:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPrimaryColsListSelector=h.AgPrimaryColsList=void 0;let g=S(6624),M=S(6624),P=S(5760),f=S(6092),c=S(7904),r=S(4312),i=S(2176),o=S(2016),a=S(4781),l=S(4545),d=S(4224);class p{constructor(R){this.items=R}getRowCount(){return this.items.length}getRow(R){return this.items[R]}}let C="ag-column-select-list";class v extends g.Component{wireBeans(R){this.colModel=R.colModel}constructor(){super({tag:"div",cls:C,role:"presentation"}),this.destroyColumnItemFuncs=[],this.hasLoadedInitialState=!1,this.isInitialState=!1,this.skipRefocus=!1}destroy(){this.destroyColumnTree(),super.destroy()}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(R=>R()),this.destroyColumnItemFuncs=[]}init(R,x,E){this.params=R;let{suppressSyncLayoutWithGrid:T,contractColumnSelection:D,suppressColumnMove:k}=R;this.allowDragging=x,this.eventType=E,T||this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});let O=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:O,columnPivotModeChanged:O,columnRowGroupChanged:O,columnValueChanged:O,columnVisible:O,newColumnsLoaded:O}),this.expandGroupsByDefault=!D;let N=k||T,V=this.createManagedBean(new c.VirtualList({cssIdentifier:"column-select",ariaRole:"tree",moveItemCallback:(j,Q)=>{N||this.moveItems(j,Q)}}));this.virtualList=V,this.appendChild(V.getGui()),V.setComponentCreator((j,Q)=>((0,g._setAriaLevel)(Q,j.depth+1),this.createComponentFromItem(j,Q))),this.colModel.ready&&this.onColumnsChanged(),!N&&this.createItemDragFeature()}createItemDragFeature(){let{gos:R,beans:x,eventSvc:E,virtualList:T}=this;this.createManagedBean(new P.VirtualListDragFeature(this,T,{dragSourceType:M.DragSourceType.ToolPanel,listItemDragStartEvent:"columnPanelItemDragStart",listItemDragEndEvent:"columnPanelItemDragEnd",eventSource:E,getCurrentDragValue:D=>(0,o.getCurrentDragValue)(D),isMoveBlocked:D=>(0,o.isMoveBlocked)(R,x,(0,o.getCurrentColumnsBeingMoved)(D)),getNumRows:D=>D.getDisplayedColsList().length,moveItem:(D,k)=>(0,o.moveItem)(x,(0,o.getCurrentColumnsBeingMoved)(D),k)}))}moveItems(R,x){let{gos:E,beans:T}=this,{modelItem:D}=R,{group:k,columnGroup:O,column:N,expanded:V}=D,j=(0,o.getCurrentColumnsBeingMoved)(k?O:N);if((0,o.isMoveBlocked)(E,T,j))return;let Q=this.displayedColsList.indexOf(D),Y=x?-1:1,$=0;if(x){let W=R.columnDepth>0&&N.getParent()?.getChildren();W&&W.length&&N===W[0]&&($=-1)}else k&&($=V?D.children.length:0);let se=Math.min(Math.max(Q+$+Y,0),this.displayedColsList.length-1);this.skipRefocus=!0,(0,o.moveItem)(T,j,{rowIndex:se,position:x?"top":"bottom",component:this.virtualList.getComponentAt(se)}),this.focusRowIfAlive(se-$).then(()=>{this.skipRefocus=!1})}createComponentFromItem(R,x){let E=this.allowDragging;if(R.group){let D=new d.ToolPanelColumnGroupComp(R,E,this.eventType,x);return this.createBean(D),D}let T=new l.ToolPanelColumnComp(R,E,this.groupsExist,x);return this.createBean(T),T}onColumnsChanged(){let R=this.params;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!R.initialState);let x=this.getExpandedStates(),E=this.colModel.isPivotMode();!R.suppressSyncLayoutWithGrid&&!E?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(x),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){let R={};if(this.isInitialState){let{expandedGroupIds:x}=this.params.initialState;return x.forEach(E=>{R[E]=!0}),R}return this.allColsTree?(this.forEachItem(x=>{if(!x.group)return;let E=x.columnGroup;E&&(R[E.getId()]=x.expanded)}),R):{}}setExpandedStates(R){if(!this.allColsTree)return;let{isInitialState:x}=this;this.forEachItem(E=>{if(!E.group)return;let T=E.columnGroup;if(T){let D=R[T.getId()];(D!=null||x)&&(E.expanded=!!D)}})}buildTreeFromWhatGridIsDisplaying(){(0,f.syncLayoutWithGrid)(this.colModel,this.setColumnLayout.bind(this))}setColumnLayout(R){let x=(0,f.toolPanelCreateColumnTree)(this.colModel,R);this.buildListModel(x),this.groupsExist=R.some(E=>E&&typeof E.children<"u"),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){let R=this.colModel;this.buildListModel(R.getColDefColTree()),this.groupsExist=!!R.colDefCols?.treeDepth}buildListModel(R){let x=this.onColumnExpanded.bind(this),E=N=>{N.addEventListener("expandedChanged",x);let V=N.removeEventListener.bind(N,"expandedChanged",x);this.destroyColumnItemFuncs.push(V)},T=this.beans.colNames,D=(N,V,j)=>{N.forEach(Q=>{(0,g.isProvidedColumnGroup)(Q)?k(Q,V,j):O(Q,V,j)})},k=(N,V,j)=>{let Q=N.getColGroupDef();if(Q&&Q.suppressColumnsToolPanel)return;if(N.isPadding()){D(N.getChildren(),V,j);return}let $=T.getDisplayNameForProvidedColumnGroup(null,N,"columnToolPanel"),se=new i.ColumnModelItem($,N,V,!0,this.expandGroupsByDefault);j.push(se),E(se),D(N.getChildren(),V+1,se.children)},O=(N,V,j)=>{if(N.getColDef()&&N.getColDef().suppressColumnsToolPanel)return;let Y=T.getDisplayNameForColumn(N,"columnToolPanel");j.push(new i.ColumnModelItem(Y,N,V))};this.destroyColumnTree(),D(R,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];let R=T=>{T.passesFilter&&(this.displayedColsList.push(T),T.group&&T.expanded&&T.children.forEach(R))},x=this.virtualList;this.allColsTree.forEach(R),x.setModel(new p(this.displayedColsList));let E=null;this.skipRefocus||(E=x.getLastFocusedRow()),x.refresh(),E!=null&&this.focusRowIfAlive(E),this.notifyListeners(),this.refreshAriaLabel()}refreshAriaLabel(){let R=this.getLocaleTextFunc(),x=R("ariaColumnPanelList","Column List"),E=R("columns","Columns"),T=this.displayedColsList.length;(0,g._setAriaLabel)(this.virtualList.getAriaElement(),`${x} ${T} ${E}`)}focusRowIfAlive(R){return R===-1?Promise.resolve():new Promise(x=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(R),x()},0)})}forEachItem(R){let x=T=>{T.forEach(D=>{R(D),D.group&&x(D.children)})},E=this.allColsTree;E&&x(E)}doSetExpandedAll(R){this.forEachItem(x=>{x.group&&(x.expanded=R)})}setGroupsExpanded(R,x){if(!x){this.doSetExpandedAll(R);return}let E=[];this.forEachItem(D=>{if(!D.group)return;let k=D.columnGroup.getId();x.indexOf(k)>=0&&(D.expanded=R,E.push(k))});let T=x.filter(D=>!E.includes(D));T.length>0&&(0,g._warn)(157,{unrecognisedGroupIds:T})}getExpandState(){let R=0,x=0;return this.forEachItem(E=>{E.group&&(E.expanded?R++:x++)}),R>0&&x>0?r.ExpandState.INDETERMINATE:x>0?r.ExpandState.COLLAPSED:r.ExpandState.EXPANDED}doSetSelectedAll(R){(0,a.selectAllChildren)(this.beans,this.allColsTree,R,this.eventType)}getSelectionState(){let R=0,x=0,E=this.colModel.isPivotMode();if(this.forEachItem(T=>{if(T.group||!T.passesFilter)return;let D=T.column,k=D.getColDef(),O;if(E){if(!D.isAllowPivot()&&!D.isAllowRowGroup()&&!D.isAllowValue())return;O=D.isValueActive()||D.isPivotActive()||D.isRowGroupActive()}else{if(k.lockVisible)return;O=D.isVisible()}O?R++:x++}),!(R>0&&x>0))return!(R===0||x>0)}setFilterText(R){this.filterText=(0,g._exists)(R)?R.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){let R=E=>{if(!(0,g._exists)(this.filterText))return!0;let T=E.displayName;return T==null||T.toLowerCase().indexOf(this.filterText)!==-1},x=(E,T)=>{let D=!1;if(E.group){let O=R(E);E.children.forEach(N=>{let V=x(N,O||T);V&&(D=V)})}let k=T||D?!0:R(E);return E.passesFilter=k,k};this.allColsTree.forEach(E=>x(E,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){let R=this.getExpandState();this.dispatchLocalEvent({type:"groupExpanded",state:R})}fireSelectionChangedEvent(){if(!this.allColsTree)return;let R=this.getSelectionState();this.dispatchLocalEvent({type:"selectionChanged",state:R})}getExpandedGroups(){let R=[];return this.allColsTree&&this.forEachItem(x=>{x.group&&x.expanded&&R.push(x.columnGroup.getId())}),R}}h.AgPrimaryColsList=v,h.AgPrimaryColsListSelector={selector:"AG-PRIMARY-COLS-LIST",component:v}},2176:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnModelItem=void 0;let g=S(6624);class M{constructor(f,c,r,i=!1,o){this.displayName=f,this.depth=r,this.group=i,this.localEventService=new g.LocalEventService,i?(this.columnGroup=c,this._expanded=o,this.children=[]):this.column=c}get expanded(){return!!this._expanded}set expanded(f){f!==this._expanded&&(this._expanded=f,this.localEventService.dispatchEvent({type:"expandedChanged"}))}addEventListener(f,c){this.localEventService.addEventListener(f,c)}removeEventListener(f,c){this.localEventService.removeEventListener(f,c)}}h.ColumnModelItem=M},2016:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getCurrentDragValue=h.moveItem=h.isMoveBlocked=h.getCurrentColumnsBeingMoved=void 0;let g=S(6624),M=S(4224),P=a=>(0,g.isProvidedColumnGroup)(a)?a.getLeafColumns():a?[a]:[];h.getCurrentColumnsBeingMoved=P;let f=(a,l,d,p)=>{if(!d||!l)return null;let C=a.colModel.getCols(),v=C.indexOf(d),b=p?v:v+1,R=c(C,l,b);return b-R},c=(a,l,d)=>{if(!l)return 0;let p=l[0],C=l.length;return a.indexOf(p)<d?C:0},r=(a,l,d)=>a.get("suppressMovableColumns")||l.colModel.isPivotMode()?!0:!!d.find(({colDef:v})=>!!v.suppressMovable||!!v.lockPosition);h.isMoveBlocked=r;let i=(a,l,d)=>{if(!d)return;let{component:p}=d,C=null,v=d.position==="top";if(p instanceof M.ToolPanelColumnGroupComp?(C=p.getColumns()[0],v=!0):p&&(C=p.column),!C)return;let b=f(a,l,C,v);b!=null&&a.colMoves?.moveColumns(l,b,"toolPanelUi")};h.moveItem=i;let o=a=>a.column;h.getCurrentDragValue=o},7367:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.columnToolPanelCSS=void 0,h.columnToolPanelCSS=".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}"},4142:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnToolPanel=void 0;let g=S(6624),M=S(1269),P=S(7367);class f extends g.Component{constructor(){super({tag:"div",cls:"ag-column-panel"}),this.initialised=!1,this.childDestroyFuncs=[],this.registerCSS(P.columnToolPanelCSS)}wireBeans(r){this.colToolPanelFactory=r.colToolPanelFactory}setVisible(r){super.setDisplayed(r),r&&!this.initialised&&this.init(this.params)}init(r){let o={...(0,g._addGridCommonParams)(this.gos,{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1}),...r};this.params=o;let{childDestroyFuncs:a,colToolPanelFactory:l,gos:d}=this,p=d.isModuleRegistered("SharedPivot"),C=p||d.isModuleRegistered("SharedRowGrouping");!o.suppressPivotMode&&l&&p&&(this.pivotModePanel=l.createPivotModePanel(this,a));let v=this.createBean(new M.AgPrimaryCols);if(this.primaryColsPanel=v,a.push(()=>this.destroyBean(this.primaryColsPanel)),v.init(!0,o,"toolPanelUi"),v.addCssClass("ag-column-panel-column-select"),this.appendChild(v),l){!o.suppressRowGroups&&C&&(this.rowGroupDropZonePanel=l.createRowGroupPanel(this,a)),!o.suppressValues&&C&&(this.valuesDropZonePanel=l.createValuesPanel(this,a)),!o.suppressPivots&&p&&(this.pivotDropZonePanel=l.createPivotPanel(this,a)),this.setLastVisible();let[b]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight(),this.setLastVisible()}});a.push(()=>b())}this.initialised=!0}setPivotModeSectionVisible(r){let i=this.colToolPanelFactory;i&&(this.pivotModePanel=i.setPanelVisible(this.pivotModePanel,r,i.createPivotModePanel.bind(i,this,this.childDestroyFuncs,!0)),this.setLastVisible())}setRowGroupsSectionVisible(r){let i=this.colToolPanelFactory;i&&(this.rowGroupDropZonePanel=i.setPanelVisible(this.rowGroupDropZonePanel,r,i.createRowGroupPanel.bind(i,this,this.childDestroyFuncs)),this.setLastVisible())}setValuesSectionVisible(r){let i=this.colToolPanelFactory;i&&(this.valuesDropZonePanel=i.setPanelVisible(this.valuesDropZonePanel,r,i.createValuesPanel.bind(i,this,this.childDestroyFuncs)),this.setLastVisible())}setPivotSectionVisible(r){let i=this.colToolPanelFactory;i&&(this.pivotDropZonePanel=i.setPanelVisible(this.pivotDropZonePanel,r,i.createPivotPanel.bind(i,this,this.childDestroyFuncs)),this.pivotDropZonePanel?.setDisplayed(r),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(r=>{if(!r)return;let i=r.getGui();r.toggleResizable(!i.classList.contains("ag-last-column-drop")&&!i.classList.contains("ag-hidden"))})}setLastVisible(){let r=this.getGui();Array.prototype.slice.call(r.querySelectorAll(".ag-column-drop")).forEach(l=>l.classList.remove("ag-last-column-drop"));let o=r.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),a=(0,g._last)(o);a&&a.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){let i=this.getGui().children;for(let o=0;o<i.length;o++){let{style:a}=i[o];a.removeProperty("height"),a.removeProperty("flex")}}expandColumnGroups(r){this.primaryColsPanel.expandGroups(r)}collapseColumnGroups(r){this.primaryColsPanel.collapseGroups(r)}setColumnLayout(r){this.primaryColsPanel.setColumnLayout(r)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){let r=this.childDestroyFuncs;r.forEach(i=>i()),r.length=0,(0,g._clearElement)(this.getGui())}refresh(r){return this.destroyChildren(),this.init(r),!0}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}}destroy(){this.destroyChildren(),super.destroy()}}h.ColumnToolPanel=f},8698:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnToolPanelFactory=void 0;let g=S(6624),M=S(6491),P=S(4552),f=S(3392),c=S(4465);class r extends g.BeanStub{constructor(){super(...arguments),this.beanName="colToolPanelFactory"}setPanelVisible(o,a,l){return o?o.setDisplayed(a):a&&(o=l()),o}createRowGroupPanel(o,a){return this.createPanel(o,a,new P.RowGroupDropZonePanel(!1))}createValuesPanel(o,a){return this.createPanel(o,a,new f.ValuesDropZonePanel(!1))}createPivotPanel(o,a){return this.createPanel(o,a,new M.PivotDropZonePanel(!1))}createPivotModePanel(o,a,l){return this.createPanel(o,a,new c.PivotModePanel,l)}createPanel(o,a,l,d){return l=o.createBean(l),a.push(()=>o.destroyBean(l)),d?o.prependChild(l):o.appendChild(l),l}}h.ColumnToolPanelFactory=r},6455:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnsToolPanelModule=void 0;let g=S(6624),M=S(9206),P=S(6358),f=S(7205),c=S(3375),r=S(4142),i=S(8698);h.ColumnsToolPanelModule={moduleName:"ColumnsToolPanel",version:f.VERSION,beans:[i.ColumnToolPanelFactory],userComponents:{agColumnsToolPanel:r.ColumnToolPanel},icons:{columnsToolPanel:"columns",menuAddRowGroup:"group",menuRemoveRowGroup:"group",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},dependsOn:[M.EnterpriseCoreModule,P.SideBarModule,g._ColumnMoveModule,g._SharedDragAndDropModule,g._PopupModule,c.MenuItemModule]}},4781:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createPivotState=h.updateColumns=h.setAllColumns=h.selectAllChildren=void 0;let g=S(6624);function M(l,d,p,C){let v=f(d);P(l,v,p,C)}h.selectAllChildren=M;function P(l,d,p,C){l.colModel.isPivotMode()?r(l,d,p,C):c(l,d,p,C)}h.setAllColumns=P;function f(l){let d=[],p=C=>{C.forEach(v=>{v.passesFilter&&(v.group?p(v.children):d.push(v.column))})};return p(l),d}function c(l,d,p,C){let v=[];d.forEach(b=>{b.getColDef().lockVisible||b.isVisible()!=p&&v.push({colId:b.getId(),hide:!p})}),v.length>0&&(0,g._applyColumnState)(l,{state:v},C),l.selectionColSvc?.refreshVisibility(C)}function r(l,d,p,C){i(l,d,p,C)}function i(l,d,p,C){let v=[],x=p?E=>{if(!E.isAnyFunctionActive())if(E.isAllowValue()){let T=typeof E.getAggFunc()=="string"?E.getAggFunc():l.aggFuncSvc?.getDefaultAggFunc(E);v.push({colId:E.getId(),aggFunc:T})}else E.isAllowRowGroup()?v.push({colId:E.getId(),rowGroup:!0}):E.isAllowPivot()&&v.push({colId:E.getId(),pivot:!0})}:E=>{(E.isPivotActive()||E.isRowGroupActive()||E.isValueActive())&&v.push({colId:E.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};d.forEach(x),v.length>0&&(0,g._applyColumnState)(l,{state:v},C)}function o(l,d){let{columns:p,visibleState:C,pivotState:v,eventType:b}=d,R=p.map(x=>{let E=x.getColId();if(l.colModel.isPivotMode()){let T=v?.[E];return{colId:E,pivot:T?.pivot,rowGroup:T?.rowGroup,aggFunc:T?.aggFunc}}else return{colId:E,hide:!C?.[E]}});(0,g._applyColumnState)(l,{state:R},b)}h.updateColumns=o;function a(l){return{pivot:l.isPivotActive(),rowGroup:l.isRowGroupActive(),aggFunc:l.isValueActive()?l.getAggFunc():void 0}}h.createPivotState=a},4465:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotModePanel=void 0;let g=S(6624),M={tag:"div",cls:"ag-pivot-mode-panel",children:[{tag:"ag-toggle-button",ref:"cbPivotMode",cls:"ag-pivot-mode-select"}]};class P extends g.Component{constructor(){super(...arguments),this.cbPivotMode=g.RefPlaceholder}postConstruct(){this.setTemplate(M,[g.AgToggleButtonSelector]);let c=this.cbPivotMode,{colModel:r,ctrlsSvc:i,gos:o}=this.beans;c.setValue(r.isPivotMode());let a=this.getLocaleTextFunc();c.setLabel(a("pivotMode","Pivot Mode"));let l=()=>{let p=!!c.getValue();p!==r.isPivotMode()&&(o.updateGridOptions({options:{pivotMode:p},source:"toolPanelUi"}),i.getHeaderRowContainerCtrls().forEach(C=>C.refresh()))},d=()=>{let p=r.isPivotMode();c.setValue(p)};this.addManagedListeners(c,{fieldValueChanged:l}),this.addManagedEventListeners({newColumnsLoaded:d,columnPivotModeChanged:d})}}h.PivotModePanel=P},4545:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelColumnComp=void 0;let g=S(6624),M=S(4781),P=S(334),f={tag:"div",cls:"ag-column-select-column",children:[{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]};class c extends g.Component{constructor(i,o,a,l){super(),this.modelItem=i,this.allowDragging=o,this.groupsExist=a,this.focusWrapper=l,this.eLabel=g.RefPlaceholder,this.cbSelect=g.RefPlaceholder,this.processingColumnStateChange=!1;let{column:d,depth:p,displayName:C}=i;this.column=d,this.columnDepth=p,this.displayName=C}postConstruct(){this.setTemplate(f,[g.AgCheckboxSelector]);let{beans:i,cbSelect:o,displayName:a,eLabel:l,columnDepth:d,groupsExist:p,column:C,gos:v,focusWrapper:b}=this,R=(0,g._createIconNoSpan)("columnDrag",i);this.eDragHandle=R,R.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");let x=o.getGui(),E=o.getInputElement();x.insertAdjacentElement("afterend",R),E.setAttribute("tabindex","-1");let T=(0,g._escapeString)(a);l.innerHTML=T,p&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass(`ag-column-select-indent-${d}`),this.getGui().style.setProperty("--ag-indentation-level",String(d)),this.tooltipFeature=this.createOptionalManagedBean(i.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumn",getColDef:()=>C.getColDef(),shouldDisplayTooltip:(0,g._getShouldDisplayTooltip)(v,()=>l)})),this.setupDragging();let D=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:D}),this.addManagedListeners(C,{columnValueChanged:D,columnPivotChanged:D,columnRowGroupChanged:D,visibleChanged:D}),this.addManagedListeners(b,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListeners(o,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedElementListeners(l,{click:this.onLabelClicked.bind(this)}),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),(0,g._getToolPanelClassesFromColDef)(C.getColDef(),v,C,null).forEach(O=>this.addOrRemoveCssClass(O,!0))}getColumn(){return this.column}setupTooltip(){let i=()=>this.tooltipFeature?.setTooltipAndRefresh(this.column.getColDef().headerTooltip);i(),this.addManagedEventListeners({newColumnsLoaded:i})}onContextMenu(i){let{column:o,gos:a}=this;if(a.get("functionsReadOnly"))return;let l=this.createBean(new P.ToolPanelContextMenu(o,i,this.focusWrapper));this.addDestroyFunc(()=>{l.isAlive()&&this.destroyBean(l)})}handleKeyDown(i){i.key===g.KeyCode.SPACE&&(i.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gos.get("functionsReadOnly"))return;let i=!this.cbSelect.getValue();this.onChangeCommon(i)}onCheckboxChanged(i){this.onChangeCommon(i.selected)}onChangeCommon(i){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&(0,M.setAllColumns)(this.beans,[this.column],i,"toolPanelUi"))}refreshAriaLabel(){let{cbSelect:i,focusWrapper:o,displayName:a}=this,l=this.getLocaleTextFunc(),d=l("ariaColumn","Column"),p=i.getValue()?l("ariaVisible","visible"):l("ariaHidden","hidden"),C=l("ariaToggleVisibility","Press SPACE to toggle visibility");(0,g._setAriaLabel)(o,`${a} ${d}`),this.cbSelect.setInputAriaLabel(`${C} (${p})`),(0,g._setAriaDescribedBy)(o,i.getInputElement().id)}setupDragging(){let i=this.eDragHandle;if(!this.allowDragging){(0,g._setDisplayed)(i,!1);return}let o=this.beans,{gos:a,eventSvc:l,dragAndDrop:d}=o,p=!a.get("suppressDragLeaveHidesColumns"),C={type:g.DragSourceType.ToolPanel,eElement:i,dragItemName:this.displayName,getDefaultIconName:()=>p?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{p=!a.get("suppressDragLeaveHidesColumns"),l.dispatchEvent({type:"columnPanelItemDragStart",column:this.column})},onDragStopped:()=>{l.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:v=>{p&&(0,M.updateColumns)(o,{columns:[this.column],visibleState:v?.visibleState,pivotState:v?.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{p&&this.onChangeCommon(!1)}};d.addDragSource(C,!0),this.addDestroyFunc(()=>d.removeDragSource(C))}createDragItem(){let i=this.column.getColId(),o={[i]:this.column.isVisible()},a={[i]:(0,M.createPivotState)(this.column)};return{columns:[this.column],visibleState:o,pivotState:a}}onColumnStateChanged(){this.processingColumnStateChange=!0;let i=this.beans.colModel.isPivotMode();if(i){let l=this.column.isAnyFunctionActive();this.cbSelect.setValue(l)}else this.cbSelect.setValue(this.column.isVisible());let o=!0,a=!0;if(i){let l=this.gos.get("functionsReadOnly"),d=!this.column.isAnyFunctionAllowed();o=!l&&!d,a=o}else{let{enableRowGroup:l,enableValue:d,lockPosition:p,suppressMovable:C,lockVisible:v}=this.column.getColDef(),b=!!l||!!d,R=!!p||!!C;o=!v,a=b||!R}this.cbSelect.setReadOnly(!o),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!a),this.addOrRemoveCssClass("ag-column-select-column-readonly",!a&&!o),this.cbSelect.setPassive(!1),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(i){let o=this.cbSelect;i!==o.getValue()&&(o.isReadOnly()||o.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(i){(0,g._warn)(158)}}h.ToolPanelColumnComp=c},4224:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelColumnGroupComp=void 0;let g=S(6624),M=S(4781),P=S(334),f={tag:"div",cls:"ag-column-select-column-group",children:[{tag:"span",ref:"eColumnGroupIcons",cls:"ag-column-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-column-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-column-group-opened-icon"}]},{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]};class c extends g.Component{constructor(i,o,a,l){super(),this.modelItem=i,this.allowDragging=o,this.eventType=a,this.focusWrapper=l,this.cbSelect=g.RefPlaceholder,this.eLabel=g.RefPlaceholder,this.eGroupOpenedIcon=g.RefPlaceholder,this.eGroupClosedIcon=g.RefPlaceholder,this.eColumnGroupIcons=g.RefPlaceholder,this.processingColumnStateChange=!1;let{columnGroup:d,depth:p,displayName:C}=i;this.columnGroup=d,this.columnDepth=p,this.displayName=C}postConstruct(){this.setTemplate(f,[g.AgCheckboxSelector]);let{beans:i,cbSelect:o,eLabel:a,displayName:l,columnDepth:d,modelItem:p,focusWrapper:C,columnGroup:v}=this,{registry:b,gos:R}=i,x=(0,g._createIconNoSpan)("columnDrag",i);this.eDragHandle=x,x.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");let E=o.getGui(),T=o.getInputElement();E.insertAdjacentElement("afterend",x),T.setAttribute("tabindex","-1"),a.innerHTML=l??"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+d),this.getGui().style.setProperty("--ag-indentation-level",String(d)),this.tooltipFeature=this.createOptionalManagedBean(b.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumnGroup",shouldDisplayTooltip:(0,g._getShouldDisplayTooltip)(R,()=>a)})),this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)}),this.addManagedElementListeners(a,{click:this.onLabelClicked.bind(this)}),this.addManagedListeners(o,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedListeners(p,{expandedChanged:this.onExpandChanged.bind(this)}),this.addManagedListeners(C,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),(0,g._getToolPanelClassesFromColDef)(v.getColGroupDef(),R,null,v).forEach(k=>this.addOrRemoveCssClass(k,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){let i=this.columnGroup.getColGroupDef();if(!i)return;let o=()=>this.tooltipFeature?.setTooltipAndRefresh(i.headerTooltip);o(),this.addManagedEventListeners({newColumnsLoaded:o})}handleKeyDown(i){switch(i.key){case g.KeyCode.LEFT:i.preventDefault(),this.modelItem.expanded=!1;break;case g.KeyCode.RIGHT:i.preventDefault(),this.modelItem.expanded=!0;break;case g.KeyCode.SPACE:i.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}}onContextMenu(i){let{columnGroup:o,gos:a}=this;if(a.get("functionsReadOnly"))return;let l=this.createBean(new P.ToolPanelContextMenu(o,i,this.focusWrapper));this.addDestroyFunc(()=>{l.isAlive()&&this.destroyBean(l)})}addVisibilityListenersToAllChildren(){let i=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach(o=>{this.addManagedListeners(o,{visibleChanged:i,columnValueChanged:i,columnPivotChanged:i,columnRowGroupChanged:i})})}setupDragging(){if(!this.allowDragging){(0,g._setDisplayed)(this.eDragHandle,!1);return}let i=this.beans,{gos:o,eventSvc:a,dragAndDrop:l}=i,d=!o.get("suppressDragLeaveHidesColumns"),p={type:g.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>d?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{d=!o.get("suppressDragLeaveHidesColumns"),a.dispatchEvent({type:"columnPanelItemDragStart",column:this.columnGroup})},onDragStopped:()=>{a.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:C=>{d&&(0,M.updateColumns)(i,{columns:this.columnGroup.getLeafColumns(),visibleState:C?.visibleState,pivotState:C?.pivotState,eventType:this.eventType})},onGridExit:()=>{d&&this.onChangeCommon(!1)}};l.addDragSource(p,!0),this.addDestroyFunc(()=>l.removeDragSource(p))}createDragItem(){let i=this.columnGroup.getLeafColumns(),o={},a={};return i.forEach(l=>{let d=l.getId();o[d]=l.isVisible(),a[d]=(0,M.createPivotState)(l)}),{columns:i,visibleState:o,pivotState:a}}setupExpandContract(){let{beans:i,eGroupClosedIcon:o,eGroupOpenedIcon:a,eColumnGroupIcons:l}=this;o.appendChild((0,g._createIcon)("columnSelectClosed",i,null)),a.appendChild((0,g._createIcon)("columnSelectOpen",i,null));let d=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(o,{click:d}),this.addManagedElementListeners(a,{click:d});let p=new g.TouchListener(l,!0);this.addManagedListeners(p,{tap:d}),this.addDestroyFunc(p.destroy.bind(p))}onLabelClicked(){let i=!this.cbSelect.getValue();this.onChangeCommon(i)}onCheckboxChanged(i){this.onChangeCommon(i.selected)}getVisibleLeafColumns(){let i=[],o=a=>{a.forEach(l=>{l.passesFilter&&(l.group?o(l.children):i.push(l.column))})};return o(this.modelItem.children),i}onChangeCommon(i){this.refreshAriaLabel(),!this.processingColumnStateChange&&(0,M.selectAllChildren)(this.beans,this.modelItem.children,i,this.eventType)}refreshAriaLabel(){let{cbSelect:i,focusWrapper:o,displayName:a}=this,l=this.getLocaleTextFunc(),d=l("ariaColumnGroup","Column Group"),p=i.getValue(),C=p===void 0?l("ariaIndeterminate","indeterminate"):p?l("ariaVisible","visible"):l("ariaHidden","hidden"),v=l("ariaToggleVisibility","Press SPACE to toggle visibility");(0,g._setAriaLabel)(o,`${a} ${d}`),i.setInputAriaLabel(`${v} (${C})`),(0,g._setAriaDescribedBy)(o,i.getInputElement().id)}onColumnStateChanged(){let i=this.workOutSelectedValue(),o=this.workOutReadOnlyValue();this.processingColumnStateChange=!0;let a=this.cbSelect;a.setValue(i),a.setReadOnly(o),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",o),this.processingColumnStateChange=!1}workOutSelectedValue(){let i=this.beans.colModel.isPivotMode(),o=this.getVisibleLeafColumns(),a=0,l=0;if(o.forEach(d=>{!i&&d.getColDef().lockVisible||(this.isColumnChecked(d,i)?a++:l++)}),!(a>0&&l>0))return a>0}workOutReadOnlyValue(){let i=this.beans.colModel.isPivotMode(),o=0;return this.columnGroup.getLeafColumns().forEach(a=>{i?a.isAnyFunctionAllowed()&&o++:a.getColDef().lockVisible||o++}),o===0}isColumnChecked(i,o){if(o){let a=i.isPivotActive(),l=i.isRowGroupActive(),d=i.isValueActive();return a||l||d}return i.isVisible()}onExpandOrContractClicked(){let i=this.modelItem,o=i.expanded;i.expanded=!o}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){let i=this.modelItem.expanded;(0,g._setDisplayed)(this.eGroupClosedIcon,!i),(0,g._setDisplayed)(this.eGroupOpenedIcon,i)}refreshAriaExpanded(){(0,g._setAriaExpanded)(this.focusWrapper,this.modelItem.expanded)}getDisplayName(){return this.displayName}onSelectAllChanged(i){let o=this.cbSelect,a=o.getValue();!o.isReadOnly()&&(i&&!a||!i&&a)&&o.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(i){this.cbSelect.setValue(i,!0)}}h.ToolPanelColumnGroupComp=c},334:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelContextMenu=void 0;let g=S(6624),M=S(8105),P=S(9476);class f extends g.Component{constructor(r,i,o){super({tag:"div",cls:"ag-menu"}),this.column=r,this.mouseEvent=i,this.parentEl=o,this.displayName=null}postConstruct(){let{column:r,beans:{colNames:i}}=this;this.initializeProperties(r);let o;if((0,g.isColumn)(r)?o=i.getDisplayNameForColumn(r,"columnToolPanel"):o=i.getDisplayNameForProvidedColumnGroup(null,r,"columnToolPanel"),this.displayName=o,this.buildMenuItemMap(),this.isActive()){this.mouseEvent.preventDefault();let a=this.getMappedMenuItems();if(a.length===0)return;this.displayContextMenu(a)}}initializeProperties(r){let i;(0,g.isProvidedColumnGroup)(r)?i=r.getLeafColumns():i=[r],this.columns=i,this.allowGrouping=i.some(o=>o.isPrimary()&&o.isAllowRowGroup()),this.allowValues=i.some(o=>o.isPrimary()&&o.isAllowValue()),this.allowPivoting=this.beans.colModel.isPivotMode()&&i.some(o=>o.isPrimary()&&o.isAllowPivot())}buildMenuItemMap(){let r=this.getLocaleTextFunc(),{beans:i,displayName:o}=this,{rowGroupColsSvc:a,valueColsSvc:l,pivotColsSvc:d,colModel:p}=i,C=new Map;this.menuItemMap=C,C.set("rowGroup",{allowedFunction:v=>v.isPrimary()&&v.isAllowRowGroup()&&!(0,M.isRowGroupColLocked)(v,i),activeFunction:v=>v.isRowGroupActive(),activateLabel:()=>`${r("groupBy","Group by")} ${o}`,deactivateLabel:()=>`${r("ungroupBy","Un-Group by")} ${o}`,activateFunction:()=>a?.setColumns(this.addColumnsToList(a.columns),"toolPanelUi"),deActivateFunction:()=>a?.setColumns(this.removeColumnsFromList(a.columns),"toolPanelUi"),addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),C.set("value",{allowedFunction:v=>v.isPrimary()&&v.isAllowValue(),activeFunction:v=>v.isValueActive(),activateLabel:()=>r("addToValues",`Add ${o} to values`,[o]),deactivateLabel:()=>r("removeFromValues",`Remove ${o} from values`,[o]),activateFunction:()=>l?.setColumns(this.addColumnsToList(l.columns),"toolPanelUi"),deActivateFunction:()=>l?.setColumns(this.removeColumnsFromList(l.columns),"toolPanelUi"),addIcon:"valuePanel",removeIcon:"valuePanel"}),C.set("pivot",{allowedFunction:v=>p.isPivotMode()&&v.isPrimary()&&v.isAllowPivot(),activeFunction:v=>v.isPivotActive(),activateLabel:()=>r("addToLabels",`Add ${o} to labels`,[o]),deactivateLabel:()=>r("removeFromLabels",`Remove ${o} from labels`,[o]),activateFunction:()=>d?.setColumns(this.addColumnsToList(d.columns),"toolPanelUi"),deActivateFunction:()=>d?.setColumns(this.removeColumnsFromList(d.columns),"toolPanelUi"),addIcon:"pivotPanel",removeIcon:"pivotPanel"})}addColumnsToList(r){return[...r].concat(this.columns.filter(i=>r.indexOf(i)===-1))}removeColumnsFromList(r){return r.filter(i=>this.columns.indexOf(i)===-1)}displayContextMenu(r){let i=this.getGui(),o=this.createBean(new P.AgMenuList),a=this.getLocaleTextFunc(),l=()=>{};i.appendChild(o.getGui()),o.addMenuItems(r),o.addManagedListeners(o,{closeMenu:()=>{this.parentEl.focus(),l()}});let d=this.beans.popupSvc,p=d.addPopup({modal:!0,eChild:i,closeOnEsc:!0,afterGuiAttached:()=>(0,g._focusInto)(o.getGui()),ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:C=>{C instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(o)}});p&&(l=p.hideFunc),d.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:i})}isActive(){return this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){let r=[],{menuItemMap:i,columns:o,displayName:a,beans:l}=this;for(let d of i.values()){let p=o.some(v=>d.allowedFunction(v)&&!d.activeFunction(v)),C=o.some(v=>d.allowedFunction(v)&&d.activeFunction(v));p&&r.push({name:d.activateLabel(a),icon:(0,g._createIconNoSpan)(d.addIcon,l,null),action:()=>d.activateFunction()}),C&&r.push({name:d.deactivateLabel(a),icon:(0,g._createIconNoSpan)(d.removeIcon,l,null),action:()=>d.deActivateFunction()})}return r}}h.ToolPanelContextMenu=f},2805:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.numberFormatMap=h.INCH_TO_EMU=void 0,h.INCH_TO_EMU=9525,h.numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49}},1842:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.convertLegacyVerticalAlignment=h.convertLegacyHorizontalAlignment=h.convertLegacyBorder=h.convertLegacyColor=h.convertLegacyPattern=void 0;let S=d=>{switch(d){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},g={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot",Continuous:"Continuous"},M=["Dashed","DashDot","DashDotDot"],P={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},f={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},c={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},r=d=>d?P[d]||d:"none";h.convertLegacyPattern=r;let i=d=>d==null?d:(d.charAt(0)==="#"&&(d=d.substring(1)),d.length===6?"FF"+d:d);h.convertLegacyColor=i;let o=(d,p)=>{if(!d)return"thin";let C=S(p);if(d==="Continuous")return C;let v=g[d];return C==="medium"&&M.some(b=>b===v)?`medium${v}`:`${v.charAt(0).toLowerCase()}${v.substring(1)}`};h.convertLegacyBorder=o;let a=d=>f[d]||"general";h.convertLegacyHorizontalAlignment=a;let l=d=>c[d]||void 0;h.convertLegacyVerticalAlignment=l},3237:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.buildSharedString=h.replaceInvisibleCharacters=h.sanitizeTableName=h.getExcelColumnName=h.createXmlPart=h.setExcelImageTotalHeight=h.setExcelImageTotalWidth=h.getHeightFromProperty=h.getFontFamilyId=h.pixelsToEMU=h.pointsToPixel=void 0;let g=S(6624),M=S(2805),P=S(5048),f=b=>Math.round(b*96/72);h.pointsToPixel=f;let c=b=>Math.ceil(b*M.INCH_TO_EMU);h.pixelsToEMU=c;let r=b=>{if(b===void 0)return;let x=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(b||"Automatic");return Math.max(x,0)};h.getFontFamilyId=r;let i=(b,R)=>{if(!R)return;let x;return typeof R=="number"?x=R:x=R({rowIndex:b}),x};h.getHeightFromProperty=i;let o=(b,R)=>{let{colSpan:x,column:E}=b.position;if(b.width)if(x){let T=R.slice(E-1,E+x-1),D=0;for(let k=0;k<T.length;k++){let O=T[k].getActualWidth();if(b.width<D+O){b.position.colSpan=k+1,b.totalWidth=b.width,b.width=b.totalWidth-D;break}D+=O}}else b.totalWidth=b.width};h.setExcelImageTotalWidth=o;let a=(b,R)=>{let{rowSpan:x,row:E}=b.position;if(b.height)if(x){let T=0,D=0;for(let k=E;k<E+x;k++){let O=(0,h.pointsToPixel)((0,h.getHeightFromProperty)(k,R)||20);if(b.height<T+O){b.position.rowSpan=D+1,b.totalHeight=b.height,b.height=b.totalHeight-T;break}T+=O,D++}}else b.totalHeight=b.height};h.setExcelImageTotalHeight=a;let l=(b,R)=>{let x=(0,P.createXmlHeader)({encoding:"UTF-8",standalone:"yes"}),E=(0,P.createXml)(b);return R?E:`${x}${E}`};h.createXmlPart=l;let d=b=>{let E=String.fromCharCode,T=Math.floor(b/26),D=b%26;return!T||b===26?E(65+b-1):D?T<26?E(65+T-1)+E(65+D-1):(0,h.getExcelColumnName)(T)+E(65+D-1):(0,h.getExcelColumnName)(T-1)+"Z"};h.getExcelColumnName=d;let p=b=>b.replaceAll(`
`,"_x000a_");h.sanitizeTableName=p;let C=b=>{if(b==null)return null;let R="";for(let x=0;x<b.length;x++){let E=b.charCodeAt(x);if(E>=0&&E<=31&&E!==10){let k=`_x${E.toString(16).toUpperCase().padStart(4,"0")}_`;R+=k}else R+=b[x]}return R};h.replaceInvisibleCharacters=C;let v=b=>{let R=[];for(let x of b.keys()){let E=x.toString(),T={name:"t",textNode:(0,g._escapeString)((0,h.replaceInvisibleCharacters)(E),!1)};E.trim().length!==E.length&&(T.properties={rawMap:{"xml:space":"preserve"}}),R.push({name:"si",children:[T]})}return R};h.buildSharedString=v},5048:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createXml=h.createXmlHeader=void 0;let S=`\r
`;function g(f,c,r){if(!c&&c!==""&&c!==0)return"";let i=c;return typeof c=="boolean"&&r&&(i=r(c)),` ${f}="${i}"`}function M(f={}){let c="<?",r="?>",i=["version"];f.version||(f.version="1.0"),f.encoding&&i.push("encoding"),f.standalone&&i.push("standalone");let o=i.map(a=>`${a}="${f[a]}"`).join(" ");return`${c}xml ${o} ${r}`}h.createXmlHeader=M;function P(f,c){let r="";f.properties&&(f.properties.prefixedAttributes&&f.properties.prefixedAttributes.forEach(o=>{Object.keys(o.map).forEach(a=>{r+=g(o.prefix+a,o.map[a],c)})}),f.properties.rawMap&&Object.keys(f.properties.rawMap).forEach(o=>{r+=g(o,f.properties.rawMap[o],c)}));let i="<"+f.name+r;return!f.children&&f.textNode==null?i+"/>"+S:f.textNode!=null?i+">"+f.textNode+"</"+f.name+">"+S:(i+=">"+S,f.children&&f.children.forEach(o=>{i+=P(o,c)}),i+"</"+f.name+">"+S)}h.createXml=P},1790:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ExcelCreator=h.exportMultipleSheetsAsExcel=h.getMultipleSheetsAsExcel=void 0;let g=S(6624),M=S(5103),P=S(7165),f=S(541),c=S(5950),r=x=>{if(x.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!P.XLSX_IMAGES.size)return;x.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);let E=0;P.XLSX_IMAGES.forEach(T=>{let D=T[0].image[0],{base64:k,imageType:O}=D;x.addFile(`xl/media/image${++E}.${(0,f._normaliseImageExtension)(O)}`,k,!0)})},i=(x,E)=>{let T=0,D=0;for(let k=0;k<E.length;k++){let O=E[k];x.addFile(`xl/worksheets/sheet${k+1}.xml`,O,!1);let N=P.XLSX_IMAGES.size>0&&P.XLSX_WORKSHEET_IMAGES.has(k),V=P.XLSX_WORKSHEET_DATA_TABLES.size>0&&P.XLSX_WORKSHEET_DATA_TABLES.get(k),j=P.XLSX_IMAGES.size&&P.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.has(k);if(!N&&!V&&!j)continue;let Q,Y,$;N&&(o(x,k,T),Y=T,T++),j&&(a(x,k,D),$=D,D++),V&&(Q=V.name);let se=`xl/worksheets/_rels/sheet${k+1}.xml.rels`;x.addFile(se,(0,P.createXlsxRelationships)({tableName:Q,drawingIndex:Y,vmlDrawingIndex:$}))}},o=(x,E,T)=>{let D="xl/drawings",k=`${D}/drawing${T+1}.xml`,O=`${D}/_rels/drawing${T+1}.xml.rels`;x.addFile(O,(0,P.createXlsxDrawingRel)(E)),x.addFile(k,(0,P.createXlsxDrawing)(E))},a=(x,E,T)=>{let D="xl/drawings",k=`${D}/vmlDrawing${T+1}.vml`,O=`${D}/_rels/vmlDrawing${T+1}.vml.rels`;x.addFile(k,(0,P.createXlsxVmlDrawing)(E)),x.addFile(O,(0,P.createXlsxVmlDrawingRel)(E))},l=x=>{let E=P.XLSX_WORKSHEET_DATA_TABLES,T=Array.from(E.keys());for(let D=0;D<T.length;D++){let k=T[D],O=E.get(k);O&&x.addFile(`xl/tables/${O.name}.xml`,(0,P.createXlsxTable)(O,D))}},d=(x,E,T,D,k)=>{x.addFile("xl/workbook.xml",(0,P.createXlsxWorkbook)(k)),x.addFile("xl/styles.xml",(0,P.createXlsxStylesheet)(E)),x.addFile("xl/sharedStrings.xml",(0,P.createXlsxSharedStrings)()),x.addFile("xl/theme/theme1.xml",(0,P.createXlsxTheme)()),x.addFile("xl/_rels/workbook.xml.rels",(0,P.createXlsxWorkbookRels)(D)),x.addFile("docProps/core.xml",(0,P.createXlsxCore)(T)),x.addFile("[Content_Types].xml",(0,P.createXlsxContentTypes)(D)),x.addFile("_rels/.rels",(0,P.createXlsxRels)())},p=(x,E,T={})=>{if(!E||E.length===0)return(0,g._warn)(159),(0,P.resetXlsxFactory)(),!1;let{fontSize:D=11,author:k="AG Grid",activeTab:O=0}=T,N=E.length,V=Math.max(Math.min(O,N-1),0);return r(x),l(x),i(x,E),d(x,D,k,N,V),(0,P.resetXlsxFactory)(),!0},C=x=>{let{data:E,fontSize:T,author:D,activeSheetIndex:k}=x,O=x.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",N=new c.ZipContainer;return p(N,E,{author:D,fontSize:T,activeTab:k})?N.getZipFile(O):Promise.resolve(void 0)},v=x=>{let{data:E,fontSize:T,author:D,activeSheetIndex:k}=x,O=x.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",N=new c.ZipContainer;if(p(N,E,{author:D,fontSize:T,activeTab:k}))return N.getUncompressedZipFile(O)};h.getMultipleSheetsAsExcel=v;let b=x=>{let{fileName:E="export.xlsx"}=x;C(x).then(T=>{if(T){let D=typeof E=="function"?E():E;(0,g._downloadFile)(D,T)}})};h.exportMultipleSheetsAsExcel=b;class R extends g.BaseCreator{constructor(){super(...arguments),this.beanName="excelCreator"}getMergedParams(E){let T=this.gos.get("defaultExcelExportParams");return Object.assign({},T,E)}export(E){if(this.isExportSuppressed()){(0,g._warn)(160);return}let T=this.getMergedParams(E),k={data:[this.getData(T)],fontSize:T.fontSize,author:T.author,mimeType:T.mimeType};this.packageCompressedFile(k).then(O=>{if(O){let{fileName:N}=T,V=typeof N=="function"?N((0,g._addGridCommonParams)(this.gos,{})):N;(0,g._downloadFile)(this.getFileName(V),O)}})}exportDataAsExcel(E){this.export(E)}getDataAsExcel(E){let T=this.getMergedParams(E),k={data:[this.getData(T)],fontSize:T.fontSize,author:T.author,mimeType:T.mimeType};return this.packageFile(k)}setFactoryMode(E){(0,P.setXlsxFactoryMode)(E)}getFactoryMode(){return(0,P.getXlsxFactoryMode)()}getSheetDataForExcel(E){let T=this.getMergedParams(E);return this.getData(T)}getMultipleSheetsAsExcel(E){return(0,h.getMultipleSheetsAsExcel)(E)}exportMultipleSheetsAsExcel(E){(0,h.exportMultipleSheetsAsExcel)(E)}getDefaultFileExtension(){return"xlsx"}createSerializingSession(E){let{colModel:T,colNames:D,rowGroupColsSvc:k,valueSvc:O,gos:N}=this.beans,V={...E,colModel:T,colNames:D,rowGroupColsSvc:k,valueSvc:O,gos:N,suppressRowOutline:E.suppressRowOutline||E.skipRowGroups,headerRowHeight:E.headerRowHeight||E.rowHeight,baseExcelStyles:N.get("excelStyles")||[],rightToLeft:E.rightToLeft??N.get("enableRtl"),styleLinker:this.styleLinker.bind(this)};return new M.ExcelSerializingSession(V)}styleLinker(E){let{rowType:T,rowIndex:D,value:k,column:O,columnGroup:N,node:V}=E,j=T==="HEADER",Q=T==="HEADER_GROUPING",Y=j?O:N,$=[],{gos:se,cellStyles:W}=this.beans;if(j||Q)return $.push("header"),Q&&$.push("headerGroup"),Y&&($=$.concat((0,g._getHeaderClassesFromColDef)(Y.getDefinition(),se,O||null,N||null))),$;let Z=se.get("excelStyles"),ee=["cell"];if(!Z||!Z.length)return ee;let re=Z.map(ge=>ge.id),oe=O.getDefinition();return W?.processAllCellClasses(oe,(0,g._addGridCommonParams)(se,{value:k,data:V.data,node:V,colDef:oe,column:O,rowIndex:D}),ge=>{re.indexOf(ge)>-1&&ee.push(ge)}),ee.sort((ge,ue)=>re.indexOf(ge)<re.indexOf(ue)?-1:1)}isExportSuppressed(){return this.gos.get("suppressExcelExport")}packageCompressedFile(E){return C(E)}packageFile(E){return(0,h.getMultipleSheetsAsExcel)(E)}}h.ExcelCreator=R},4760:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.exportMultipleSheetsAsExcel=h.getMultipleSheetsAsExcel=h.getSheetDataForExcel=h.exportDataAsExcel=h.getDataAsExcel=void 0;let g=S(6624);function M(o){return o.excelCreator?.getFactoryMode()==="MULTI_SHEET"?((0,g._warn)(161),!1):!0}function P(o,a){if(M(o))return o.excelCreator?.getDataAsExcel(a)}h.getDataAsExcel=P;function f(o,a){M(o)&&o.excelCreator?.exportDataAsExcel(a)}h.exportDataAsExcel=f;function c(o,a){return o.excelCreator?.setFactoryMode("MULTI_SHEET"),o.excelCreator?.getSheetDataForExcel(a)}h.getSheetDataForExcel=c;function r(o,a){return o.excelCreator?.getMultipleSheetsAsExcel(a)}h.getMultipleSheetsAsExcel=r;function i(o,a){o.excelCreator?.exportMultipleSheetsAsExcel(a)}h.exportMultipleSheetsAsExcel=i},2886:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ExcelExportModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(1790),c=S(4760);h.ExcelExportModule={moduleName:"ExcelExport",version:P.VERSION,beans:[f.ExcelCreator],apiFunctions:{getDataAsExcel:c.getDataAsExcel,exportDataAsExcel:c.exportDataAsExcel,getSheetDataForExcel:c.getSheetDataForExcel,getMultipleSheetsAsExcel:c.getMultipleSheetsAsExcel,exportMultipleSheetsAsExcel:c.exportMultipleSheetsAsExcel},dependsOn:[g._SharedExportModule,M.EnterpriseCoreModule]}},5103:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ExcelSerializingSession=void 0;let g=S(6624),M=S(3237),P=S(7165);class f extends g.BaseGridSerializingSession{constructor(r){super(r),this.mixedStyles={},this.mixedStyleCounter=0,this.rows=[],this.frozenRowCount=0,this.skipFrozenRows=!1,this.frozenColumnCount=0,this.skipFrozenColumns=!1,this.config=Object.assign({},r),this.stylesByIds={},this.config.baseExcelStyles.forEach(i=>{this.stylesByIds[i.id]=i}),this.excelStyles=[...this.config.baseExcelStyles,{id:"_quotePrefix",quotePrefix:1}]}addCustomContent(r){r.forEach(i=>{let o=this.rows.length+1,a;!this.config.suppressRowOutline&&i.outlineLevel!=null&&(a=i.outlineLevel);let l={height:(0,M.getHeightFromProperty)(o,i.height||this.config.rowHeight),cells:(i.cells||[]).map((d,p)=>{let C=this.addImage(o,this.columnsToExport[p],d.data?.value),v=null;d.styleId&&(v=typeof d.styleId=="string"?[d.styleId]:d.styleId);let b=this.getStyleId(v);if(C)return this.createCell(b,this.getDataTypeForValue(C.value),C.value==null?"":C.value);let R=d.data?.value??"",x=this.getDataTypeForValue(R);return d.mergeAcross?this.createMergedCell(b,x,R,d.mergeAcross):this.createCell(b,x,R)}),outlineLevel:a};i.collapsed!=null&&(l.collapsed=i.collapsed),i.hidden!=null&&(l.hidden=i.hidden),this.rows.push(l)})}onNewHeaderGroupingRow(){let r=[],{freezeRows:i,headerRowHeight:o}=this.config;return this.rows.push({cells:r,height:(0,M.getHeightFromProperty)(this.rows.length+1,o)}),i&&this.frozenRowCount++,{onColumn:(a,l,d,p,C)=>{let v=this.config.styleLinker({rowType:"HEADER_GROUPING",rowIndex:1,value:`grouping-${l}`,columnGroup:a});r.push({...this.createMergedCell(this.getStyleId(v),this.getDataTypeForValue("string"),l,p),collapsibleRanges:C})}}}onNewHeaderRow(){let{freezeRows:r,headerRowHeight:i}=this.config;return r&&this.frozenRowCount++,this.onNewRow(this.onNewHeaderColumn,i)}onNewBodyRow(r){let{freezeRows:i,rowHeight:o}=this.config;this.skipFrozenRows||(i==="headersAndPinnedRows"&&r?.rowPinned==="top"?this.frozenRowCount++:typeof i=="function"?i((0,g._addGridCommonParams)(this.gos,{node:r}))?this.frozenRowCount++:this.skipFrozenRows=!0:this.skipFrozenRows=!0);let a=this.onNewRow(this.onNewBodyColumn,o);return r&&this.addRowOutlineIfNecessary(r),a}prepare(r){super.prepare(r),this.columnsToExport=[...r],this.cols=r.map((i,o)=>this.convertColumnToExcel(i,o))}parse(){let r=this.rows.reduce((l,d)=>Math.max(l,d.cells.length),0);for(;this.cols.length<r;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));let{config:i}=this,o;if(i.sheetName!=null){let{sheetName:l}=i,d=typeof l=="function"?l((0,g._addGridCommonParams)(this.gos,{})):l;o=String(d).substring(0,31)}else o="ag-grid";let a={name:o,table:{columns:this.cols,rows:this.rows}};return this.createExcel(a)}addRowOutlineIfNecessary(r){let{gos:i,suppressRowOutline:o,rowGroupExpandState:a="expanded"}=this.config;if(i.get("groupHideOpenParents")||o||r.level==null)return;let d=r.footer?1:0,p=(0,g._last)(this.rows),C=Math.min(r.level+d,7);if(p.outlineLevel=C,a==="expanded")return;let v=a==="collapsed";if(r.isExpandable()){let b=!v&&r.expanded;p.collapsed=!b}p.hidden=!!r.parent&&r.parent.level!==-1&&(v||this.isAnyParentCollapsed(r.parent))}isAnyParentCollapsed(r){for(;r&&r.level!==-1;){if(!r.expanded)return!0;r=r.parent}return!1}convertColumnToExcel(r,i){let o=this.config.columnWidth,l=(r?this.extractHeaderValue(r):void 0)??"",d=r?r.isFilterAllowed():!1;return o?typeof o=="number"?{width:o,displayName:l,filterAllowed:d}:{width:o({column:r,index:i}),displayName:l,filterAllowed:d}:r?{width:Math.max(r.getActualWidth(),75),displayName:l,filterAllowed:d}:{displayName:l,filterAllowed:d}}onNewHeaderColumn(r,i){return o=>{let a=this.extractHeaderValue(o),l=this.config.styleLinker({rowType:"HEADER",rowIndex:r,value:a,column:o});i.push(this.createCell(this.getStyleId(l),this.getDataTypeForValue("string"),a))}}onNewBodyColumn(r,i){let o=0,{freezeColumns:a,rightToLeft:l}=this.config;return(d,p,C)=>{if(o>0){o-=1;return}if(!this.skipFrozenColumns){let D=d.getPinned();a==="pinned"&&D&&(D===!0||D==="left")!==l?this.frozenColumnCount++:typeof a=="function"&&a((0,g._addGridCommonParams)(this.gos,{column:d}))?this.frozenColumnCount++:this.skipFrozenColumns=!0}let{value:v,valueFormatted:b}=this.extractRowCellValue(d,p,r,"excel",C),R=this.config.styleLinker({rowType:"BODY",rowIndex:r,value:v,column:d,node:C}),x=this.getStyleId(R),E=d.getColSpan(C),T=this.addImage(r,d,v);T?i.push(this.createCell(x,this.getDataTypeForValue(T.value),T.value==null?"":T.value)):E>1?(o=E-1,i.push(this.createMergedCell(x,this.getDataTypeForValue(v),v,E-1))):i.push(this.createCell(x,this.getDataTypeForValue(v),v,b))}}onNewRow(r,i){let o=[];return this.rows.push({cells:o,height:(0,M.getHeightFromProperty)(this.rows.length+1,i)}),{onColumn:r.bind(this,this.rows.length,o)()}}createExcel(r){let{excelStyles:i,config:o}=this;return this.frozenColumnCount&&(o.frozenColumnCount=this.frozenColumnCount),this.frozenRowCount&&(o.frozenRowCount=this.frozenRowCount),(0,P.createXlsxExcel)(i,r,o)}getDataTypeForValue(r){return r===void 0?"empty":this.isNumerical(r)?"n":"s"}getTypeFromStyle(r,i){if(this.isFormula(i))return"f";if(r&&r.dataType)switch(r.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:(0,g._warn)(162,{id:r.id,dataType:r.dataType})}return null}addImage(r,i,o){if(!this.config.addImageToCell)return;let a=this.config.addImageToCell(r,i,o);if(a)return(0,P.addXlsxBodyImageToMap)(a.image,r,i,this.columnsToExport,this.config.rowHeight),a}createCell(r,i,o,a){let l=this.getStyleById(r);!l?.dataType&&i==="s"&&a!=null&&(o=a);let d=this.getTypeFromStyle(l,o)||i,{value:p,escaped:C}=this.getCellValue(d,o),v=[];return l&&v.push(r),C&&v.push("_quotePrefix"),r=this.getStyleId(v)||void 0,{styleId:r,data:{type:d,value:p}}}createMergedCell(r,i,o,a){let l=o??"";return{styleId:this.getStyleById(r)?r:void 0,data:{type:i,value:i==="s"?(0,P.getXlsxStringPosition)(l).toString():o},mergeAcross:a}}getCellValue(r,i){let o=!1;if(i==null||r==="s"&&i==="")return{value:"",escaped:!1};if(r==="s")i&&i[0]==="'"&&(o=!0,i=i.slice(1)),i=(0,P.getXlsxStringPosition)(i).toString();else if(r==="f")i=i.slice(1);else if(r==="n"){let a=Number(i);isNaN(a)?i="":i!==""&&(i=a.toString())}return{value:i,escaped:o}}getStyleId(r){if(!r||!r.length)return null;if(r.length===1)return r[0];let i=r.join("-");return this.mixedStyles[i]||this.addNewMixedStyle(r),this.mixedStyles[i].excelID}deepCloneObject(r){return JSON.parse(JSON.stringify(r))}addNewMixedStyle(r){this.mixedStyleCounter+=1;let i=`mixedStyle${this.mixedStyleCounter}`,o={};for(let l of r)for(let d of this.excelStyles)d.id===l&&(0,g._mergeDeep)(o,this.deepCloneObject(d));o.id=i;let a=r.join("-");this.mixedStyles[a]={excelID:i,key:a,result:o},this.excelStyles.push(o),this.stylesByIds[i]=o}isFormula(r){return r==null?!1:this.config.autoConvertFormulas&&r.toString().startsWith("=")}isNumerical(r){return typeof r=="bigint"?!0:isFinite(r)&&r!==""&&!isNaN(parseFloat(r))}getStyleById(r){return r==null?null:this.stylesByIds[r]||null}}h.ExcelSerializingSession=f},7165:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createXlsxRelationships=h.createXlsxVmlDrawingRel=h.createXlsxVmlDrawing=h.createXlsxDrawingRel=h.createXlsxDrawing=h.createXlsxWorkbookRels=h.createXlsxTable=h.createXlsxTheme=h.createXlsxRels=h.createXlsxContentTypes=h.createXlsxCore=h.createXlsxSharedStrings=h.createXlsxStylesheet=h.createXlsxWorkbook=h.resetXlsxFactory=h.getXlsxStringPosition=h.addXlsxBodyImageToMap=h.addXlsxHeaderFooterImageToMap=h.addXlsxTableToSheet=h.getXlsxSanitizedTableName=h.showExcelTableNonCompatibleFeaturesWarning=h.createXlsxExcel=h.setXlsxFactoryMode=h.getXlsxFactoryMode=h.DEFAULT_TABLE_DISPLAY_NAME=h.XLSX_WORKSHEET_DATA_TABLES=h.XLSX_WORKSHEET_IMAGE_IDS=h.XLSX_WORKBOOK_IMAGE_IDS=h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES=h.XLSX_WORKSHEET_IMAGES=h.XLSX_IMAGES=void 0;let g=S(5608),M=S(6624),P=S(3237),f=g.__importStar(S(541)),c=g.__importDefault(S(1528)),r=g.__importDefault(S(6161)),i=g.__importDefault(S(7348)),o=g.__importDefault(S(1126)),a=g.__importStar(S(3056)),l=g.__importDefault(S(859)),d=g.__importDefault(S(6316)),p=g.__importDefault(S(5592)),C=g.__importDefault(S(2519)),v=g.__importDefault(S(559)),b=new Map,R=[];h.XLSX_IMAGES=new Map,h.XLSX_WORKSHEET_IMAGES=new Map,h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES=new Map,h.XLSX_WORKBOOK_IMAGE_IDS=new Map,h.XLSX_WORKSHEET_IMAGE_IDS=new Map,h.XLSX_WORKSHEET_DATA_TABLES=new Map,h.DEFAULT_TABLE_DISPLAY_NAME="AG-GRID-TABLE";let x="SINGLE_SHEET";function E(){return x}h.getXlsxFactoryMode=E;function T(ne){x=ne}h.setXlsxFactoryMode=T;function D(ne,ve,me){$(ve),(0,a.registerStyles)(ne,R.length);let ye=Object.assign({},me);return me.exportAsExcelTable&&(me.colModel.isPivotActive()&&(k("pivot mode"),ye.exportAsExcelTable=!1),me.gos.get("masterDetail")&&(k("master/detail"),ye.exportAsExcelTable=!1)),V(ve,ye),Ie(ve,ye)}h.createXlsxExcel=D;function k(ne){(0,M._warn)(163,{featureName:ne})}h.showExcelTableNonCompatibleFeaturesWarning=k;function O(ne){return ne.replace(/^[^a-zA-Z_]+/,"_").replace(/\s/g,"_").replace(/[^a-zA-Z0-9_]/g,"_")}h.getXlsxSanitizedTableName=O;function N(ne,ve){if(h.XLSX_WORKSHEET_DATA_TABLES.has(ne)){(0,M._warn)(164);return}h.XLSX_WORKSHEET_DATA_TABLES.set(ne,ve)}h.addXlsxTableToSheet=N;function V(ne,ve){let{exportAsExcelTable:me,prependContent:ye,appendContent:Re,colModel:Te}=ve;if(!me)return;let ke=typeof me=="boolean"?{}:me,{name:ze,showColumnStripes:Ve,showRowStripes:rt,showFilterButton:pt,highlightFirstColumn:Ds,highlightLastColumn:At}=ke,Is=O(ze||h.DEFAULT_TABLE_DISPLAY_NAME),$o=R.length-1,{table:Xo}=ne,{rows:Ui,columns:Xs}=Xo,Xt=(0,M._getHeaderRowCount)(Te),Yo=ye?ye.length:0,Zo=Re?Re.length:0,Ys=Ui.length,Zs=Xs.length,_e=[],Qs=[];for(let Tt=0;Tt<Zs;Tt++){let Dt=Xs[Tt];_e.push(Dt.displayName||""),Qs.push(pt==="match"||pt===void 0?Dt.filterAllowed??!1:pt)}if(!_e||!_e.length||!Ys||!Is){(0,M._warn)(165);return}N($o,{name:`table${h.XLSX_WORKSHEET_DATA_TABLES.size+1}`,displayName:Is,columns:_e,showFilterButtons:Qs,rowRange:[Xt+Yo,Xt+(Ys-Xt)-Zo],showRowStripes:rt??!0,showColumnStripes:Ve??!1,highlightFirstColumn:Ds??!1,highlightLastColumn:At??!1})}function j(ne,ve){let me=R.length-1,ye=ne;ye.headerFooterPosition=ve,Y({imageToAdd:ye,idx:me});let Re=h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(me);Re||(Re=[],h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.set(me,Re)),Re.find(Te=>Te.id===ne.id)||Re.push(ne)}h.addXlsxHeaderFooterImageToMap=j;function Q(ne,ve,me,ye,Re){let Te=R.length,{row:ke,column:ze}=ne.position||{},Ve=ne;ye&&(ve!=null&&me!=null&&(!ke||!ze)&&(ne.position||(ne.position={}),ne.position=Object.assign({},ne.position,{row:ve,column:ye.indexOf(me)+1})),(0,P.setExcelImageTotalWidth)(Ve,ye),(0,P.setExcelImageTotalHeight)(Ve,Re)),Y({imageToAdd:Ve,idx:Te});let rt=h.XLSX_WORKSHEET_IMAGE_IDS.get(Te);rt||(rt=new Map,h.XLSX_WORKSHEET_IMAGE_IDS.set(Te,rt));let pt=h.XLSX_WORKSHEET_IMAGES.get(Te);pt?pt.push(Ve):h.XLSX_WORKSHEET_IMAGES.set(Te,[Ve]),rt.get(ne.id)||rt.set(ne.id,{index:rt.size,type:ne.imageType})}h.addXlsxBodyImageToMap=Q;function Y(ne){let{imageToAdd:ve,idx:me}=ne,ye=h.XLSX_IMAGES.get(ve.id);if(ye){let Re=ye.find(Te=>Te.sheetId===me);Re?Re.image.push(ve):ye.push({sheetId:me,image:[ve]})}else h.XLSX_IMAGES.set(ve.id,[{sheetId:me,image:[ve]}]),h.XLSX_WORKBOOK_IMAGE_IDS.set(ve.id,{type:ve.imageType,index:h.XLSX_WORKBOOK_IMAGE_IDS.size})}function $(ne){let ve=(0,M._escapeString)(ne.name)||"",me="";for(;R.indexOf(`${ve}${me}`)!==-1;)me===""?me="_1":me=`_${parseInt(me.slice(1),10)+1}`;ne.name=`${ve}${me}`,R.push(ne.name)}function se(ne){return b.has(ne)?b.get(ne):(b.set(ne,b.size),b.size-1)}h.getXlsxStringPosition=se;function W(){b.clear(),h.XLSX_IMAGES.clear(),h.XLSX_WORKSHEET_IMAGES.clear(),h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.clear(),h.XLSX_WORKBOOK_IMAGE_IDS.clear(),h.XLSX_WORKSHEET_IMAGE_IDS.clear(),h.XLSX_WORKSHEET_DATA_TABLES.clear(),R=[],x="SINGLE_SHEET"}h.resetXlsxFactory=W;function Z(ne){return(0,P.createXmlPart)(C.default.getTemplate(R,ne))}h.createXlsxWorkbook=Z;function ee(ne){return(0,P.createXmlPart)(a.default.getTemplate(ne))}h.createXlsxStylesheet=ee;function re(){return(0,P.createXmlPart)(o.default.getTemplate(b))}h.createXlsxSharedStrings=re;function oe(ne){return(0,P.createXmlPart)(c.default.getTemplate(ne))}h.createXlsxCore=oe;function ge(ne){return(0,P.createXmlPart)(f.default.getTemplate(ne))}h.createXlsxContentTypes=ge;function ue(){let ne=i.default.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return(0,P.createXmlPart)(ne)}h.createXlsxRels=ue;function X(){return(0,P.createXmlPart)(d.default.getTemplate())}h.createXlsxTheme=X;function G(ne,ve){return(0,P.createXmlPart)(l.default.getTemplate(ne,ve))}h.createXlsxTable=G;function U(ne){let ve=new Array(ne).fill(void 0).map((ye,Re)=>({Id:`rId${Re+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:`worksheets/sheet${Re+1}.xml`})),me=i.default.getTemplate([...ve,{Id:`rId${ne+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:`rId${ne+2}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:`rId${ne+3}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return(0,P.createXmlPart)(me)}h.createXlsxWorkbookRels=U;function K(ne){return(0,P.createXmlPart)(r.default.getTemplate({sheetIndex:ne}))}h.createXlsxDrawing=K;function q(ne){let ve=h.XLSX_WORKSHEET_IMAGE_IDS.get(ne)||[],me=[];for(let[ye,Re]of ve){let{index:Te,type:ke}=Re;me.push({Id:`rId${Te+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/image${h.XLSX_WORKBOOK_IMAGE_IDS.get(ye).index+1}.${(0,f._normaliseImageExtension)(ke)}`})}return(0,P.createXmlPart)(i.default.getTemplate(me))}h.createXlsxDrawingRel=q;function ie(ne){return(0,P.createXmlPart)(p.default.getTemplate({sheetIndex:ne}),!0)}h.createXlsxVmlDrawing=ie;function fe(ne){let ve=h.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(ne)||[],me=[];for(let ye=0;ye<ve.length;ye++){let Re=ve[ye],Te=h.XLSX_WORKBOOK_IMAGE_IDS.get(Re.id);if(!Te)continue;let{index:ke,type:ze}=Te;me.push({Id:`rId${ye+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/image${ke+1}.${(0,f._normaliseImageExtension)(ze)}`})}return(0,P.createXmlPart)(i.default.getTemplate(me))}h.createXlsxVmlDrawingRel=fe;function Fe({drawingIndex:ne,vmlDrawingIndex:ve,tableName:me}={}){if(ne===void 0&&ve===void 0&&me===void 0)return"";let ye=[];ne!=null&&ye.push({Id:`rId${ye.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/drawing${ne+1}.xml`}),ve!=null&&ye.push({Id:`rId${ye.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Target:`../drawings/vmlDrawing${ve+1}.vml`}),me!=null&&ye.push({Id:`rId${ye.length+1}`,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table",Target:`../tables/${me}.xml`});let Re=i.default.getTemplate(ye);return(0,P.createXmlPart)(Re)}h.createXlsxRelationships=Fe;function Ie(ne,ve){return(0,P.createXmlPart)(v.default.getTemplate({worksheet:ne,currentSheet:R.length-1,config:ve}))}},3391:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(6624),M=S(3237),P=S(3056),f=r=>{let i=r.charAt(0).toLowerCase();return i==="s"?"inlineStr":i},c={getTemplate(r,i,o){let{ref:a,data:l,styleId:d}=r,{type:p,value:C}=l||{type:"empty",value:null},v=p;p==="f"?v="str":p.charAt(0)===p.charAt(0).toUpperCase()&&(v=f(p));let b={name:"c",properties:{rawMap:{r:a,t:v==="empty"?void 0:v,s:d?(0,P.getStyleId)(d,o):void 0}}};if(v==="empty")return b;let R;return v==="str"&&p==="f"?R=[{name:"f",textNode:(0,g._escapeString)((0,M.replaceInvisibleCharacters)(C),!1)}]:v==="inlineStr"?R=[{name:"is",children:[{name:"t",textNode:(0,g._escapeString)((0,M.replaceInvisibleCharacters)(C),!1)}]}]:R=[{name:"v",textNode:C}],Object.assign({},b,{children:R})}};h.default=c},3285:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S=M=>Math.ceil((M-12)/7+1),g={getTemplate(M){let{min:P,max:f,outlineLevel:c,s:r,width:i,hidden:o,bestFit:a}=M,l=1,d="0";return i>1&&(l=S(i),d="1"),{name:"col",properties:{rawMap:{min:P,max:f,outlineLevel:c??void 0,width:l,style:r,hidden:o?"1":"0",bestFit:a?"1":"0",customWidth:d}}}}};h.default=g},2654:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let{name:M,ContentType:P,Extension:f,PartName:c}=g;return{name:M,properties:{rawMap:{Extension:f,PartName:c,ContentType:P}}}}};h.default=S},541:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._normaliseImageExtension=void 0;let g=S(5608),M=S(7165),P=g.__importDefault(S(2654)),f=r=>r==="jpg"?"jpeg":r;h._normaliseImageExtension=f;let c={getTemplate(r){let i=new Array(r).fill(void 0).map((b,R)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:`/xl/worksheets/sheet${R+1}.xml`})),o=M.XLSX_WORKSHEET_IMAGES.size,a=M.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.size,l={};M.XLSX_WORKBOOK_IMAGE_IDS.forEach(b=>{l[(0,h._normaliseImageExtension)(b.type)]=!0});let d=new Array(o).fill(void 0).map((b,R)=>({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:`/xl/drawings/drawing${R+1}.xml`})),p=[];M.XLSX_WORKSHEET_DATA_TABLES.forEach(({name:b})=>{p.push({name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml",PartName:`/xl/tables/${b}.xml`})});let C=Object.keys(l).map(b=>({name:"Default",ContentType:`image/${b}`,Extension:b}));a&&C.push({name:"Default",Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"});let v=[...C,{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},...i,{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},...d,...p,{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map(b=>P.default.getTemplate(b));return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:v}}};h.default=c},1528:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let P=new Date().toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:g},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:P},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:P}]}}};h.default=S},6161:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(3237),M=S(7165),P=(C,v)=>({name:`xdr:${C}`,children:[{name:"xdr:col",textNode:v.col.toString()},{name:"xdr:colOff",textNode:v.offsetX.toString()},{name:"xdr:row",textNode:v.row.toString()},{name:"xdr:rowOff",textNode:v.offsetY.toString()}]}),f=C=>{let v=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(C.recolor&&C.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":v.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:v}},c=(C,v)=>({name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:v,name:C.id,descr:C.altText!=null?C.altText:void 0}},children:[f(C)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}),r=C=>{if(!C.saturation&&!C.tint)return;let v=[];return C.saturation&&v.push({name:"a:satMod",properties:{rawMap:{val:C.saturation*1e3}}}),C.tint&&v.push({name:"a:tint",properties:{rawMap:{val:C.tint*1e3}}}),v},i=(C,v)=>({name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:C.color}},children:r(C)},{name:"a:srgbClr",properties:{rawMap:{val:v.color}},children:r(v)}]}),o=(C,v)=>{let b;if(C.transparency){let R=Math.min(Math.max(C.transparency,0),100);b=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(R*1e3)}}}]}if(C.recolor)switch(b||(b=[]),C.recolor.toLocaleLowerCase()){case"grayscale":b.push({name:"a:grayscl"});break;case"sepia":b.push(i({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":b.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}});break;default:}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":`rId${v}`,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:b},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},a=(C,v)=>{let b={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:v.width,cy:v.height}}}]};if(C.rotation){let E=C.rotation;b.properties={rawMap:{rot:Math.min(Math.max(E,0),360)*6e4}}}return{name:"xdr:spPr",children:[b,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},l=C=>{C.fitCell=!!C.fitCell||!C.width||!C.height;let{position:v={},fitCell:b,width:R=0,height:x=0,totalHeight:E,totalWidth:T}=C,{offsetX:D=0,offsetY:k=0,row:O=1,rowSpan:N=1,column:V=1,colSpan:j=1}=v;return{from:{row:O-1,col:V-1,offsetX:(0,g.pixelsToEMU)(D),offsetY:(0,g.pixelsToEMU)(k)},to:{row:O-1+(b?1:N-1),col:V-1+(b?1:j-1),offsetX:(0,g.pixelsToEMU)(R+D),offsetY:(0,g.pixelsToEMU)(x+k)},height:(0,g.pixelsToEMU)(E||x),width:(0,g.pixelsToEMU)(T||R)}},d=(C,v,b,R)=>({name:"xdr:pic",children:[c(C,v+1),o(C,b+1),a(C,R)]}),p={getTemplate(C){let{sheetIndex:v}=C,b=M.XLSX_WORKSHEET_IMAGES.get(v),R=M.XLSX_WORKSHEET_IMAGE_IDS.get(v),x=b.map((E,T)=>{let D=l(E);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[P("from",D.from),P("to",D.to),d(E,T,R.get(E.id).index,D),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:x}}};h.default=p},1775:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){return{name:"mergeCell",properties:{rawMap:{ref:g}}}}};h.default=S},637:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let{Id:M,Type:P,Target:f}=g;return{name:"Relationship",properties:{rawMap:{Id:M,Type:P,Target:f}}}}};h.default=S},7348:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(637)),P={getTemplate(f){let c=f.map(r=>M.default.getTemplate(r));return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:c}}};h.default=P},7067:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(5608),M=S(3237),P=g.__importDefault(S(3391)),f=(i,o)=>{let a=[],l=0;for(let d=0;d<i.length;d++){let p=i[d];p.mergeAcross&&(a.push({pos:d,excelPos:l}),l+=p.mergeAcross),l++}if(a.length)for(let d=a.length-1;d>=0;d--){let p=[],C=i[a[d].pos];for(let v=1;v<=C.mergeAcross;v++)p.push({ref:`${(0,M.getExcelColumnName)(a[d].excelPos+1+v)}${o+1}`,styleId:C.styleId,data:{type:"empty",value:null}});p.length&&i.splice(a[d].pos+1,0,...p)}},c=i=>i.data?.value!==""||i.styleId!==void 0,r={getTemplate(i,o,a){let{collapsed:l,hidden:d,height:p,outlineLevel:C,cells:v=[]}=i;f(v,o);let b=v.filter(c).map((R,x)=>P.default.getTemplate(R,x,a));return{name:"row",properties:{rawMap:{r:o+1,collapsed:l?"1":"0",hidden:d?"1":"0",ht:p,customHeight:p!=null?"1":"0",spans:"1:1",outlineLevel:C||void 0}},children:b}}};h.default=r},1126:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(3237),M={getTemplate(P){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:P.size,uniqueCount:P.size}},children:(0,g.buildSharedString)(P)}}};h.default=M},7440:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g,M){let P=(M+1).toString();return{name:"sheet",properties:{rawMap:{name:g,sheetId:P,"r:id":`rId${P}`}}}}};h.default=S},2023:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(7440)),P={getTemplate(f){return{name:"sheets",children:f.map((c,r)=>M.default.getTemplate(c,r))}}};h.default=P},1951:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(1842),M=f=>{let r=["Context","LeftToRight","RightToLeft"].indexOf(f);return Math.max(r,0)},P={getTemplate(f){let{horizontal:c,indent:r,readingOrder:i,rotate:o,shrinkToFit:a,vertical:l,wrapText:d}=f;return{name:"alignment",properties:{rawMap:{horizontal:c&&(0,g.convertLegacyHorizontalAlignment)(c),indent:r,readingOrder:i&&M(i),textRotation:o,shrinkToFit:a,vertical:l&&(0,g.convertLegacyVerticalAlignment)(l),wrapText:d}}}}};h.default=P},3142:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(1842),M=f=>({name:"color",properties:{rawMap:{rgb:(0,g.convertLegacyColor)(f||"#000000")}}}),P={getTemplate(f){let{left:c,right:r,top:i,bottom:o,diagonal:a}=f,l=c?[M(c.color)]:void 0,d=r?[M(r.color)]:void 0,p=i?[M(i.color)]:void 0,C=o?[M(o.color)]:void 0,v=a?[M(a.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:c&&c.style}},children:l},{name:"right",properties:{rawMap:{style:r&&r.style}},children:d},{name:"top",properties:{rawMap:{style:i&&i.style}},children:p},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:C},{name:"diagonal",properties:{rawMap:{style:a&&a.style}},children:v}]}}};h.default=P},773:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(3142)),P={getTemplate(f){return{name:"borders",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},5271:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let{builtinId:M,name:P,xfId:f}=g;return{name:"cellStyle",properties:{rawMap:{builtinId:M,name:P,xfId:f}}}}};h.default=S},4100:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(7234)),P={getTemplate(f){return{name:"cellStyleXfs",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},3246:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(5271)),P={getTemplate(f){return{name:"cellStyles",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},4473:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(7234)),P={getTemplate(f){return{name:"cellXfs",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},3153:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let{patternType:M,fgTheme:P,fgTint:f,fgRgb:c,bgRgb:r,bgIndexed:i}=g,o={name:"patternFill",properties:{rawMap:{patternType:M}}};return(P||f||c)&&(o.children=[{name:"fgColor",properties:{rawMap:{theme:P,tint:f,rgb:c}}}]),(i||r)&&(o.children||(o.children=[]),o.children.push({name:"bgColor",properties:{rawMap:{indexed:i,rgb:r}}})),{name:"fill",children:[o]}}};h.default=S},9392:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(3153)),P={getTemplate(f){return{name:"fills",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},585:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let{size:M,colorTheme:P,color:f="FF000000",fontName:c="Calibri",family:r,scheme:i,italic:o,bold:a,strikeThrough:l,outline:d,shadow:p,underline:C,verticalAlign:v}=g,b=[{name:"sz",properties:{rawMap:{val:M}}},{name:"color",properties:{rawMap:{theme:P,rgb:f}}},{name:"name",properties:{rawMap:{val:c}}}];return r&&b.push({name:"family",properties:{rawMap:{val:r}}}),i&&b.push({name:"scheme",properties:{rawMap:{val:i}}}),o&&b.push({name:"i"}),a&&b.push({name:"b"}),l&&b.push({name:"strike"}),d&&b.push({name:"outline"}),p&&b.push({name:"shadow"}),C&&b.push({name:"u",properties:{rawMap:{val:C}}}),v&&b.push({name:"vertAlign",properties:{rawMap:{val:v}}}),{name:"font",children:b}}};h.default=S},3704:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(585)),P={getTemplate(f){return{name:"fonts",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},7282:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(6624);function M(f){let c=f.split(/(\[[^\]]*\])/);for(let r=0;r<c.length;r++){let i=c[r];i.length&&(i.startsWith("[")||(i=i.replace(/\$/g,'"$"')),c[r]=(0,g._escapeString)(i))}return c.join("")}let P={getTemplate(f){let{formatCode:c,numFmtId:r}=f;return c.length&&(c=M(c)),{name:"numFmt",properties:{rawMap:{formatCode:c,numFmtId:r}}}}};h.default=P},5305:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(7282)),P={getTemplate(f){return{name:"numFmts",properties:{rawMap:{count:f.length}},children:f.map(c=>M.default.getTemplate(c))}}};h.default=P},8187:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S={getTemplate(g){let M=g.protected===!1?0:1;return{name:"protection",properties:{rawMap:{hidden:g.hideFormula===!0?1:0,locked:M}}}}};h.default=S},3056:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.registerStyles=h.getStyleId=void 0;let g=S(5608),M=S(2805),P=S(1842),f=S(3237),c=g.__importDefault(S(773)),r=g.__importDefault(S(4100)),i=g.__importDefault(S(3246)),o=g.__importDefault(S(4473)),a=g.__importDefault(S(9392)),l=g.__importDefault(S(3704)),d=g.__importDefault(S(5305)),p,C,v,b,R,x,E,T,D,k=(Z,ee)=>(Z.indexOf("mixedStyle")!==-1&&ee>1&&(Z+=`_${ee}`),Z),O=()=>{p={base:0},C=[],v=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],b=[{patternType:"none"},{patternType:"gray125"}],R=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],x=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],E=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],T=[{builtinId:0,name:"Normal",xfId:0}]},N=Z=>{let ee=(0,P.convertLegacyPattern)(Z.pattern),re=(0,P.convertLegacyColor)(Z.color),oe=(0,P.convertLegacyColor)(Z.patternColor),ge=b.findIndex(ue=>{let{patternType:X,fgRgb:G,bgRgb:U}=ue;return!(X!=ee||G!=re||U!=oe)});return ge===-1&&(ge=b.length,b.push({patternType:ee,fgRgb:re,bgRgb:oe})),ge},V=Z=>{if(M.numberFormatMap[Z])return M.numberFormatMap[Z];let ee=C.findIndex(re=>re.formatCode===Z);return ee===-1?(ee=C.length+164,C.push({formatCode:Z,numFmtId:ee})):ee=C[ee].numFmtId,ee},j=Z=>{let{borderBottom:ee,borderTop:re,borderLeft:oe,borderRight:ge}=Z,ue,X,G,U,K,q,ie,fe;oe&&(G=(0,P.convertLegacyBorder)(oe.lineStyle,oe.weight),ie=(0,P.convertLegacyColor)(oe.color)),ge&&(U=(0,P.convertLegacyBorder)(ge.lineStyle,ge.weight),fe=(0,P.convertLegacyColor)(ge.color)),ee&&(ue=(0,P.convertLegacyBorder)(ee.lineStyle,ee.weight),K=(0,P.convertLegacyColor)(ee.color)),re&&(X=(0,P.convertLegacyBorder)(re.lineStyle,re.weight),q=(0,P.convertLegacyColor)(re.color));let Fe=R.findIndex(Ie=>{let{left:ne,right:ve,top:me,bottom:ye}=Ie;if(!ne&&(G||ie)||!ve&&(U||fe)||!me&&(X||q)||!ye&&(ue||K))return!1;let{style:Re,color:Te}=ne||{},{style:ke,color:ze}=ve||{},{style:Ve,color:rt}=me||{},{style:pt,color:Ds}=ye||{};return!(Re!=G||Te!=ie||ke!=U||ze!=fe||Ve!=X||rt!=q||pt!=ue||Ds!=K)});return Fe===-1&&(Fe=R.length,R.push({left:{style:G,color:ie},right:{style:U,color:fe},top:{style:X,color:q},bottom:{style:ue,color:K},diagonal:{style:void 0,color:void 0}})),Fe},Q=Z=>{let{fontName:ee="Calibri",color:re,size:oe,bold:ge,italic:ue,outline:X,shadow:G,strikeThrough:U,underline:K,family:q,verticalAlign:ie}=Z,fe=(0,P.convertLegacyColor)(re),Fe=(0,f.getFontFamilyId)(q),Ie=K?K.toLocaleLowerCase():void 0,ne=ie?ie.toLocaleLowerCase():void 0,ve=v.findIndex(me=>!(me.fontName!=ee||me.color!=fe||me.size!=oe||me.bold!=ge||me.italic!=ue||me.outline!=X||me.shadow!=G||me.strikeThrough!=U||me.underline!=Ie||me.verticalAlign!=ne||me.family!=Fe));return ve===-1&&(ve=v.length,v.push({fontName:ee,color:fe,size:oe,bold:ge,italic:ue,outline:X,shadow:G,strikeThrough:U,underline:Ie,verticalAlign:ne,family:Fe?.toString()})),ve},Y=Z=>{let{alignment:ee,borders:re,font:oe,interior:ge,numberFormat:ue,protection:X,quotePrefix:G}=Z,{id:U}=Z,K=0,q=0,ie=0,fe=0;U&&(U=k(U,D),p[U]==null&&(ge&&(K=N(ge)),re&&(q=j(re)),oe&&(ie=Q(oe)),ue&&(fe=V(ue.format)),p[U]=E.length,E.push({alignment:ee,borderId:q||0,fillId:K||0,fontId:ie||0,numFmtId:fe||0,protection:X,quotePrefix:G,xfId:0})))},$={getTemplate(Z){let ee=d.default.getTemplate(C),re=l.default.getTemplate(v.map(U=>({...U,size:U.size!=null?U.size:Z}))),oe=a.default.getTemplate(b),ge=c.default.getTemplate(R),ue=r.default.getTemplate(x),X=o.default.getTemplate(E),G=i.default.getTemplate(T);return O(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[ee,re,oe,ge,ue,X,G,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},se=(Z,ee)=>p[k(Z,ee)]||0;h.getStyleId=se;let W=(Z,ee)=>{D=ee,D===1&&O(),Z.forEach(Y)};h.registerStyles=W,h.default=$},7234:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(5608),M=g.__importDefault(S(1951)),P=g.__importDefault(S(8187)),f={getTemplate(c){let{alignment:r,borderId:i,fillId:o,fontId:a,numFmtId:l,protection:d,quotePrefix:p,xfId:C}=c,v=[];return r&&v.push(M.default.getTemplate(r)),d&&v.push(P.default.getTemplate(d)),{name:"xf",properties:{rawMap:{applyAlignment:r?1:void 0,applyProtection:d?1:void 0,applyBorder:i?1:void 0,applyFill:o?1:void 0,borderId:i,fillId:o,applyFont:a?1:void 0,fontId:a,applyNumberFormat:l?1:void 0,numFmtId:l,quotePrefix:p?1:void 0,xfId:C}},children:v.length?v:void 0}}};h.default=f},859:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(3237),M={getTemplate(P,f){let{name:c,columns:r,rowRange:i,displayName:o,showRowStripes:a,showColumnStripes:l,showFilterButtons:d,highlightFirstColumn:p,highlightLastColumn:C}=P||{},v=!i||i[0]-i[1]===0;if(!P||!c||!Array.isArray(r)||!r.length||v)return{name:"table"};let b=r.map((k,O)=>({name:"filterColumn",properties:{rawMap:{colId:O.toString(),hiddenButton:d[O]?0:1}}})),R=`A${i[0]}`,x=`${(0,g.getExcelColumnName)(r.length)}${i[1]}`,E=`${R}:${x}`,T=`${f+1}`,D=f?`${o}_${T}`:o;return{name:"table",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3",name:c,displayName:D,ref:E,totalsRowShown:0,id:T}},children:[{name:"autoFilter",properties:{rawMap:{ref:E}},children:b},{name:"tableColumns",properties:{rawMap:{count:r.length}},children:r.map((k,O)=>({name:"tableColumn",properties:{rawMap:{id:(O+1).toString(),name:(0,g.sanitizeTableName)(k),dataCellStyle:"Normal"}}}))},{name:"tableStyleInfo",properties:{rawMap:{name:"TableStyleLight1",showFirstColumn:p?1:0,showLastColumn:C?1:0,showRowStripes:a?1:0,showColumnStripes:l?1:0}}}]}}};h.default=M},6316:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(2119)),P={getTemplate(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[M.default.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}};h.default=P},9119:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S=M=>{let[P,f,c,r]=M;return{name:`a:${P}`,children:[{name:`a:${f}`,properties:{rawMap:{val:c,lastClr:r}}}]}},g={getTemplate(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[S(["dk1","sysClr","windowText","000000"]),S(["lt1","sysClr","window","FFFFFF"]),S(["dk2","srgbClr","44546A"]),S(["lt2","srgbClr","E7E6E6"]),S(["accent1","srgbClr","4472C4"]),S(["accent2","srgbClr","ED7D31"]),S(["accent3","srgbClr","A5A5A5"]),S(["accent4","srgbClr","FFC000"]),S(["accent5","srgbClr","5B9BD5"]),S(["accent6","srgbClr","70AD47"]),S(["hlink","srgbClr","0563C1"]),S(["folHlink","srgbClr","954F72"])]}}};h.default=g},221:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S=M=>{let[P,f,c,r]=M;return{name:`a:${P}`,properties:{rawMap:{script:c,typeface:f,panose:r}}}},g={getTemplate(){return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[S(["latin","Calibri Light",void 0,"020F0302020204030204"]),S(["ea",""]),S(["cs",""]),S(["font","\u6E38\u30B4\u30B7\u30C3\u30AF Light","Jpan"]),S(["font","\uB9D1\uC740 \uACE0\uB515","Hang"]),S(["font","\u7B49\u7EBF Light","Hans"]),S(["font","\u65B0\u7D30\u660E\u9AD4","Hant"]),S(["font","Times New Roman","Arab"]),S(["font","Times New Roman","Hebr"]),S(["font","Tahoma","Thai"]),S(["font","Nyala","Ethi"]),S(["font","Vrinda","Beng"]),S(["font","Shruti","Gujr"]),S(["font","MoolBoran","Khmr"]),S(["font","Tunga","Knda"]),S(["font","Raavi","Guru"]),S(["font","Euphemia","Cans"]),S(["font","Plantagenet Cherokee","Cher"]),S(["font","Microsoft Yi Baiti","Yiii"]),S(["font","Microsoft Himalaya","Tibt"]),S(["font","MV Boli","Thaa"]),S(["font","Mangal","Deva"]),S(["font","Gautami","Telu"]),S(["font","Latha","Taml"]),S(["font","Estrangelo Edessa","Syrc"]),S(["font","Kalinga","Orya"]),S(["font","Kartika","Mlym"]),S(["font","DokChampa","Laoo"]),S(["font","Iskoola Pota","Sinh"]),S(["font","Mongolian Baiti","Mong"]),S(["font","Times New Roman","Viet"]),S(["font","Microsoft Uighur","Uigh"]),S(["font","Sylfaen","Geor"]),S(["font","Arial","Armn"]),S(["font","Leelawadee UI","Bugi"]),S(["font","Microsoft JhengHei","Bopo"]),S(["font","Javanese Text","Java"]),S(["font","Segoe UI","Lisu"]),S(["font","Myanmar Text","Mymr"]),S(["font","Ebrima","Nkoo"]),S(["font","Nirmala UI","Olck"]),S(["font","Ebrima","Osma"]),S(["font","Phagspa","Phag"]),S(["font","Estrangelo Edessa","Syrn"]),S(["font","Estrangelo Edessa","Syrj"]),S(["font","Estrangelo Edessa","Syre"]),S(["font","Nirmala UI","Sora"]),S(["font","Microsoft Tai Le","Tale"]),S(["font","Microsoft New Tai Lue","Talu"]),S(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[S(["latin","Calibri",void 0,"020F0502020204030204"]),S(["ea",""]),S(["cs",""]),S(["font","\u6E38\u30B4\u30B7\u30C3\u30AF","Jpan"]),S(["font","\uB9D1\uC740 \uACE0\uB515","Hang"]),S(["font","\u7B49\u7EBF","Hans"]),S(["font","\u65B0\u7D30\u660E\u9AD4","Hant"]),S(["font","Arial","Arab"]),S(["font","Arial","Hebr"]),S(["font","Tahoma","Thai"]),S(["font","Nyala","Ethi"]),S(["font","Vrinda","Beng"]),S(["font","Shruti","Gujr"]),S(["font","DaunPenh","Khmr"]),S(["font","Tunga","Knda"]),S(["font","Raavi","Guru"]),S(["font","Euphemia","Cans"]),S(["font","Plantagenet Cherokee","Cher"]),S(["font","Microsoft Yi Baiti","Yiii"]),S(["font","Microsoft Himalaya","Tibt"]),S(["font","MV Boli","Thaa"]),S(["font","Mangal","Deva"]),S(["font","Gautami","Telu"]),S(["font","Latha","Taml"]),S(["font","Estrangelo Edessa","Syrc"]),S(["font","Kalinga","Orya"]),S(["font","Kartika","Mlym"]),S(["font","DokChampa","Laoo"]),S(["font","Iskoola Pota","Sinh"]),S(["font","Mongolian Baiti","Mong"]),S(["font","Arial","Viet"]),S(["font","Microsoft Uighur","Uigh"]),S(["font","Sylfaen","Geor"]),S(["font","Arial","Armn"]),S(["font","Leelawadee UI","Bugi"]),S(["font","Microsoft JhengHei","Bopo"]),S(["font","Javanese Text","Java"]),S(["font","Segoe UI","Lisu"]),S(["font","Myanmar Text","Mymr"]),S(["font","Ebrima","Nkoo"]),S(["font","Nirmala UI","Olck"]),S(["font","Ebrima","Osma"]),S(["font","Phagspa","Phag"]),S(["font","Estrangelo Edessa","Syrn"]),S(["font","Estrangelo Edessa","Syrj"]),S(["font","Estrangelo Edessa","Syre"]),S(["font","Nirmala UI","Sora"]),S(["font","Microsoft Tai Le","Tale"]),S(["font","Microsoft New Tai Lue","Talu"]),S(["font","Ebrima","Tfng"])]}]}}};h.default=g},1203:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let S=(d,p,C)=>({name:`a:${d}`,properties:{rawMap:{val:p}},children:C}),g=d=>{let[p,C,v,b,R,x]=d,E=[];return E.push(S("satMod",v)),b&&E.push(S("lumMod",b)),R&&E.push(S("tint",R)),x&&E.push(S("shade",x)),{name:"a:gs",properties:{rawMap:{pos:p}},children:[{name:"a:schemeClr",properties:{rawMap:{val:C}},children:E}]}},M=(d,p)=>({name:"a:solidFill",children:[S("schemeClr",d,p)]}),P=d=>{let[p,C,v,b,R]=d,[x,E]=R;return{name:"a:gradFill",properties:{rawMap:{rotWithShape:p}},children:[{name:"a:gsLst",children:[g(C),g(v),g(b)]},{name:"a:lin",properties:{rawMap:{ang:x,scaled:E}}}]}},f=d=>{let[p,C,v,b]=d;return{name:"a:ln",properties:{rawMap:{w:p,cap:C,cmpd:v,algn:b}},children:[M("phClr"),S("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},c=d=>{let p=[];if(d){let[C,v,b,R,x]=d;p.push({name:"a:outerShdw",properties:{rawMap:{blurRad:C,dist:v,dir:b,algn:R,rotWithShape:x}},children:[S("srgbClr","000000",[S("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},p.length?{children:p}:{})]}},r=()=>({name:"a:fillStyleLst",children:[M("phClr"),P(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),P(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}),i=()=>({name:"a:lnStyleLst",children:[f(["6350","flat","sng","ctr"]),f(["12700","flat","sng","ctr"]),f(["19050","flat","sng","ctr"])]}),o=()=>({name:"a:effectStyleLst",children:[c(),c(),c(["57150","19050","5400000","ctr","0"])]}),a=()=>({name:"a:bgFillStyleLst",children:[M("phClr"),M("phClr",[S("tint","95000"),S("satMod","170000")]),P(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}),l={getTemplate(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[r(),i(),o(),a()]}}};h.default=l},2119:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(5608),M=g.__importDefault(S(9119)),P=g.__importDefault(S(221)),f=g.__importDefault(S(1203)),c={getTemplate(){return{name:"a:themeElements",children:[M.default.getTemplate(),P.default.getTemplate(),f.default.getTemplate()]}}};h.default=c},5592:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(7165),M=()=>({name:"o:shapelayout",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}]},children:[{name:"o:idmap",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:{data:"1"}}}]}),P=()=>({name:"v:stroke",properties:{rawMap:{joinstyle:"miter"}}}),f=C=>({name:"v:formulas",children:C.map(v=>({name:"v:f",properties:{rawMap:{eqn:v}}}))}),c=()=>({name:"v:path",properties:{prefixedAttributes:[{prefix:"o:",map:{connecttype:"rect",extrusionok:"f"}}],rawMap:{gradientshapeok:"t"}}}),r=C=>{let{aspectratio:v,rotation:b}=C||{},R={};return v&&(R.aspectratio="t"),b&&(R.rotation="t"),{name:"o:lock",properties:{prefixedAttributes:[{prefix:"v:",map:{ext:"edit"}}],rawMap:R}}};function i(C,v,b,R,x){return(C-v)/(b-v)*(x-R)+R}let o=(C,v)=>{let b,{recolor:R,brightness:x,contrast:E,id:T}=C;if(R&&(b={},(R==="Washout"||R==="Grayscale")&&(b.gain="19661f",b.blacklevel="22938f"),(R==="Black & White"||R==="Grayscale")&&(b.grayscale="t",R==="Black & White"&&(b.bilevel="t"))),!R||R==="Grayscale"){if(b||(b={}),E!=null&&E!==50){let D="1";E>=0&&(E<50?D=String(E/50):E<100?D=String(50/(100-E)):E===100&&(D="2147483647f")),b.gain=D}x!=null&&x!==50&&(b.blacklevel=i(x,0,100,-.5,.5).toString())}return{name:"v:imagedata",properties:{prefixedAttributes:[{prefix:"o:",map:{relid:`rId${v}`,title:T}}],rawMap:b}}},a=()=>{let C=["if lineDrawn pixelLineWidth 0","sum @0 1 0","sum 0 0 @1","prod @2 1 2","prod @3 21600 pixelWidth","prod @3 21600 pixelHeight","sum @0 0 1","prod @6 1 2","prod @7 21600 pixelWidth","sum @8 21600 0","prod @7 21600 pixelHeight","sum @10 21600 0"];return{name:"v:shapetype",properties:{prefixedAttributes:[{prefix:"o:",map:{spt:"75",preferrelative:"t"}}],rawMap:{coordsize:"21600,21600",filled:"f",id:"_x0000_t75",path:"m@4@5l@4@11@9@11@9@5xe",stroked:"f"}},children:[P(),f(C),c(),r({aspectratio:!0})]}},l=C=>Math.floor((C??0)*.74999943307122),d=(C,v)=>{let{width:b=0,height:R=0,altText:x}=C,E=l(b),T=l(R);return{name:"v:shape",properties:{rawMap:{id:C.headerFooterPosition,"o:spid":"_x0000_s1025",style:`position: absolute; margin-left: 0; margin-top: 10in; margin-bottom: 0; margin-right: 0; width: ${E}pt; height: ${T}pt; z-index: ${v+1}`,type:"#_x0000_t75",alt:x}},children:[o(C,v+1),r({rotation:!0})]}},p={getTemplate(C){let v=g.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(C.sheetIndex)||[],b=[M(),a(),...v.map((R,x)=>d(R,x))];return{name:"xml",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{v:"urn:schemas-microsoft-com:vml",o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel"}}]},children:b}}};h.default=p},2519:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let M=S(5608).__importDefault(S(2023)),P={getTemplate(f,c){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[{name:"bookViews",children:[{name:"workbookView",properties:{rawMap:{activeTab:c}}}]},M.default.getTemplate(f)]}}};h.default=P},559:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0});let g=S(5608),M=S(6624),P=S(3237),f=S(7165),c=g.__importDefault(S(3285)),r=g.__importDefault(S(1775)),i=g.__importDefault(S(7067)),o=(W,Z,ee)=>{let re=[],oe=[];W.forEach((X,G)=>{let U=X.cells,K=0,q;U.forEach((ie,fe)=>{let Fe=fe+K+1,Ie=(0,P.getExcelColumnName)(Fe),ne=G+1;if(ie.mergeAcross){K+=ie.mergeAcross;let me=(0,P.getExcelColumnName)(fe+K+1);re.push(`${Ie}${ne}:${me}${ne}`)}Z[Fe-1]||(Z[Fe-1]={});let{collapsibleRanges:ve}=ie;ve&&ve.forEach(me=>{oe.push([Fe+me[0],Fe+me[1]])}),q=Z[Fe-1],q.min=Fe,q.max=Fe,ie.ref=`${Ie}${ne}`})}),oe.sort((X,G)=>X[0]!==G[0]?X[0]-G[0]:G[1]-X[1]);let ge=new Map,ue=new Map;return oe.filter(X=>{let G=X.toString();return ge.get(G)?!1:(ge.set(G,!0),!0)}).forEach(X=>{let G=Z.find(K=>K.min==X[0]&&K.max==X[1]),U=ue.get(X[0]);Z.push({min:X[0],max:X[1],outlineLevel:ee?void 0:U||1,width:(G||{width:100}).width}),ue.set(X[0],(U||0)+1)}),re},a=W=>!W||W!=="Portrait"&&W!=="Landscape"?"portrait":W.toLocaleLowerCase(),l=W=>{if(W==null)return 1;let ee=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(W);return ee===-1?1:ee+1},d=W=>{let Z={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F","&[Picture]":"&G"};for(let ee of Object.keys(Z))W=W.replace(ee,Z[ee]);return W},p=W=>W==="Center"?"C":W==="Right"?"R":"L",C=(W,Z)=>(Z&&(W+="&amp;&quot;",W+=Z.fontName||"Calibri",Z.bold!==Z.italic?W+=Z.bold?",Bold":",Italic":Z.bold?W+=",Bold Italic":W+=",Regular",W+="&quot;",Z.size&&(W+=`&amp;${Z.size}`),Z.strikeThrough&&(W+="&amp;S"),Z.underline&&(W+=`&amp;${Z.underline==="Double"?"E":"U"}`),Z.color&&(W+=`&amp;K${Z.color.replace("#","").toUpperCase()}`)),W),v=(W,Z,ee)=>W.reduce((re,oe,ge)=>{let ue=p(oe.position),X=C(`${re}&amp;${ue}`,oe.font),G=["Left","Center","Right"];oe.position||(oe.position=G[ge]);let{image:U}=oe;if(oe.value==="&[Picture]"&&U){let K=`${ue}${Z}${ee}`;(0,f.addXlsxHeaderFooterImageToMap)(U,K)}return`${X}${(0,M._escapeString)(d(oe.value))}`},""),b=W=>{let Z=["all","first","even"],ee=[];return Z.forEach(re=>{let oe=W[re],ge=re==="all"?"odd":re;if(oe)for(let ue of Object.keys(oe)){let X=oe[ue],G=`${ue.charAt(0).toUpperCase()}${ue.slice(1)}`,U=ue[0].toUpperCase();if(X){let K=re==="all"?"":re.toUpperCase();ee.push({name:`${ge}${G}`,properties:{rawMap:{"xml:space":"preserve"}},textNode:v(X,U,K)})}}}),ee},R=W=>Z=>(W.length&&Z.children.push({name:"cols",children:W.map(ee=>c.default.getTemplate(ee))}),Z),x=(W,Z)=>ee=>(W.length&&ee.children.push({name:"sheetData",children:W.map((re,oe)=>i.default.getTemplate(re,oe,Z))}),ee),E=W=>Z=>(W.length&&Z.children.push({name:"mergeCells",properties:{rawMap:{count:W.length}},children:W.map(ee=>r.default.getTemplate(ee))}),Z),T=W=>Z=>{let{top:ee=.75,right:re=.7,bottom:oe=.75,left:ge=.7,header:ue=.3,footer:X=.3}=W;return Z.children.push({name:"pageMargins",properties:{rawMap:{bottom:oe,footer:X,header:ue,left:ge,right:re,top:ee}}}),Z},D=W=>Z=>(W&&Z.children.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:a(W.orientation),paperSize:l(W.pageSize)}}}),Z),k=W=>Z=>{if(!W)return Z;let ee=W.first!=null?1:0,re=W.even!=null?1:0;return Z.children.push({name:"headerFooter",properties:{rawMap:{differentFirst:ee,differentOddEven:re}},children:b(W)}),Z},O=W=>Z=>(W&&Z.children.push({name:"tableParts",properties:{rawMap:{count:"1"}},children:[{name:"tablePart",properties:{rawMap:{"r:id":`rId${++Z.rIdCounter}`}}}]}),Z),N=W=>Z=>(f.XLSX_WORKSHEET_IMAGES.get(W)?.length&&Z.children.push({name:"drawing",properties:{rawMap:{"r:id":`rId${++Z.rIdCounter}`}}}),Z),V=W=>Z=>(f.XLSX_WORKSHEET_HEADER_FOOTER_IMAGES.get(W)&&Z.children.push({name:"legacyDrawingHF",properties:{rawMap:{"r:id":`rId${++Z.rIdCounter}`}}}),Z),j=(W=0,Z=0)=>{let ee=W>0||Z>0;return ee?[{name:"pane",properties:{rawMap:{state:ee?"frozen":void 0,topLeftCell:ee?`${(0,P.getExcelColumnName)(W+1)}${Z+1}`:void 0,xSplit:W===0?void 0:W,ySplit:Z===0?void 0:Z}}}]:void 0},Q=(W=!1,Z,ee)=>re=>(re.children.push({name:"sheetViews",children:[{name:"sheetView",properties:{rawMap:{rightToLeft:W===!0?"1":"0",workbookViewId:"0"}},children:j(Z,ee)}]}),re),Y=()=>W=>(W.children.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),W),$=W=>Z=>{let ee=W.reduce((re,oe)=>oe.outlineLevel&&oe.outlineLevel>re?oe.outlineLevel:re,0);return Z.children.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:ee||void 0}}}),Z},se={getTemplate(W){let{worksheet:Z,currentSheet:ee,config:re}=W,{margins:oe={},pageSetup:ge,headerFooterConfig:ue,suppressColumnOutline:X,rightToLeft:G,frozenRowCount:U,frozenColumnCount:K}=re,{table:q}=Z,{rows:ie,columns:fe}=q,Fe=fe&&fe.length?o(ie,fe,!!X):[],Ie=f.XLSX_WORKSHEET_DATA_TABLES.get(ee),{children:ne}=[Y(),Q(G,K,U),$(ie),R(fe),x(ie,ee+1),E(Fe),T(oe),D(ge),k(ue),N(ee),V(ee),O(Ie)].reduce((ve,me)=>me(ve),{children:[],rIdCounter:0});return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ne}}};h.default=se},5552:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.deflateLocalFile=void 0;let S=async M=>{let P=0,f=[],c=new WritableStream({write:o=>{f.push(o),P+=o.length}}),r=new ReadableStream({start:o=>{let a=new FileReader;a.onload=l=>{l.target?.result&&o.enqueue(l.target.result),o.close()},a.readAsArrayBuffer(M)}}),i=new window.CompressionStream("deflate-raw");return await r.pipeThrough(i).pipeTo(c),{size:P,content:new Blob(f)}},g=async M=>{let P=new Blob([M]),{size:f,content:c}=await S(P),r=new Uint8Array(await c.arrayBuffer());return{size:f,content:r}};h.deflateLocalFile=g},4557:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.convertDecToHex=h.convertDate=h.convertTime=void 0;let S=P=>{let f=P.getHours();return f<<=6,f=f|P.getMinutes(),f<<=5,f=f|P.getSeconds()/2,f};h.convertTime=S;let g=P=>{let f=P.getFullYear()-1980;return f<<=4,f=f|P.getMonth()+1,f<<=5,f=f|P.getDate(),f};h.convertDate=g;function M(P,f){let c="";for(let r=0;r<f;r++)c+=String.fromCharCode(P&255),P>>>=8;return c}h.convertDecToHex=M},758:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getCrcFromCrc32Table=void 0;let S=P=>{if(!P.length)return 0;let f=-1,c=0,r=0,i=0;for(let o=0;o<P.length;o++)c=P[o],r=(f^c)&255,i=M[r],f=f>>>8^i;return f^-1},g=P=>P.length?S(typeof P=="string"?new TextEncoder().encode(P):P):0;h.getCrcFromCrc32Table=g;let M=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])},5950:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ZipContainer=void 0;let g=S(6090);class M{constructor(){this.folders=[],this.files=[]}addFolders(f){f.forEach(this.addFolder.bind(this))}addFolder(f){this.folders.push({path:f,created:new Date,isBase64:!1,type:"folder"})}addFile(f,c,r=!1){this.files.push({path:f,created:new Date,content:r?c:new TextEncoder().encode(c),isBase64:r,type:"file"})}async getZipFile(f="application/zip"){let c=await this.buildCompressedFileStream();return this.clearStream(),new Blob([c],{type:f})}getUncompressedZipFile(f="application/zip"){let c=this.buildFileStream();return this.clearStream(),new Blob([c],{type:f})}clearStream(){this.folders=[],this.files=[]}packageFiles(f){let c=0,r=0;for(let C of f){let{localFileHeader:v,centralDirectoryHeader:b,content:R}=C;c+=v.length+R.length,r+=b.length}let i=new Uint8Array(c),o=new Uint8Array(r),a=0,l=0;for(let C of f){let{localFileHeader:v,centralDirectoryHeader:b,content:R}=C;i.set(v,a),a+=v.length,i.set(R,a),a+=R.length,o.set(b,l),l+=b.length}let d=(0,g.buildCentralDirectoryEnd)(f.length,r,c),p=new Uint8Array(i.length+o.length+d.length);return p.set(i),p.set(o,i.length),p.set(d,i.length+o.length),p}async buildCompressedFileStream(){let f=[...this.folders,...this.files],c=[],r=0;for(let i of f){let o=await(0,g.getDeflatedHeaderAndContent)(i,r),{localFileHeader:a,content:l}=o;c.push(o),r+=a.length+l.length}return this.packageFiles(c)}buildFileStream(){let f=[...this.folders,...this.files],c=[],r=0;for(let i of f){let o=(0,g.getHeaderAndContent)(i,r),{localFileHeader:a,content:l}=o;c.push(o),r+=a.length+l.length}return this.packageFiles(c)}}h.ZipContainer=M},6090:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.buildCentralDirectoryEnd=h.getHeaderAndContent=h.getDeflatedHeaderAndContent=void 0;let g=S(6624),M=S(5552),P=S(4557),f=S(758);function c(d){let p=String.fromCharCode;function C(O){let N=[];if(!O)return[];let V=O.length,j=0,Q,Y;for(;j<V;)Q=O.charCodeAt(j++),Q>=55296&&Q<=56319&&j<V?(Y=O.charCodeAt(j++),(Y&64512)==56320?N.push(((Q&1023)<<10)+(Y&1023)+65536):(N.push(Q),j--)):N.push(Q);return N}function v(O){if(O>=55296&&O<=57343)throw Error((0,g._errMsg)(255,{point:O}))}function b(O,N){return p(O>>N&63|128)}function R(O){if((O&4294967168)==0)return p(O);let N="";return(O&4294965248)==0?N=p(O>>6&31|192):(O&4294901760)==0?(v(O),N=p(O>>12&15|224),N+=b(O,6)):(O&4292870144)==0&&(N=p(O>>18&7|240),N+=b(O,12),N+=b(O,6)),N+=p(O&63|128),N}let x=C(d),E=x.length,T=-1,D,k="";for(;++T<E;)D=x[T],k+=R(D);return k}let r=(d,p,C,v,b,R)=>{let{content:x,path:E,created:T}=d,D=(0,P.convertTime)(T),k=(0,P.convertDate)(T),O=(0,f.getCrcFromCrc32Table)(b),N=R!==void 0?R:v,V=c(E),j=V!==E,Q="";if(j){let W=(0,P.convertDecToHex)(1,1)+(0,P.convertDecToHex)((0,f.getCrcFromCrc32Table)(V),4)+V;Q="up"+(0,P.convertDecToHex)(W.length,2)+W}let Y="\0"+(j?"\0\b":"\0\0")+(0,P.convertDecToHex)(p?8:0,2)+(0,P.convertDecToHex)(D,2)+(0,P.convertDecToHex)(k,2)+(0,P.convertDecToHex)(N?O:0,4)+(0,P.convertDecToHex)(R??v,4)+(0,P.convertDecToHex)(v,4)+(0,P.convertDecToHex)(V.length,2)+(0,P.convertDecToHex)(Q.length,2),$="PK"+Y+V+Q,se="PK\0"+Y+"\0\0\0\0\0\0"+(x?"\0\0\0\0":"\0\0\0")+(0,P.convertDecToHex)(C,4)+V+Q;return{localFileHeader:Uint8Array.from($,W=>W.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(se,W=>W.charCodeAt(0))}},i=d=>{let p;if(typeof d=="string"){let C=atob(d.split(";base64,")[1]);p=Uint8Array.from(C,v=>v.charCodeAt(0))}else p=d;return{size:p.length,content:p}},o=async(d,p)=>{let{content:C}=d,{size:v,content:b}=C?i(C):{size:0,content:Uint8Array.from([])},R,x,E=!1;if(d.type==="file"&&b&&v>0){let k=await(0,M.deflateLocalFile)(b);R=k.content,x=k.size,E=!0}return{...r(d,E,p,v,b,x),content:R||b,isCompressed:E}};h.getDeflatedHeaderAndContent=o;let a=(d,p)=>{let{content:C}=d,{content:v}=C?i(C):{content:Uint8Array.from([])};return{...r(d,!1,p,v.length,v,void 0),content:v,isCompressed:!1}};h.getHeaderAndContent=a;let l=(d,p,C)=>{let v="PK\0\0\0\0"+(0,P.convertDecToHex)(d,2)+(0,P.convertDecToHex)(d,2)+(0,P.convertDecToHex)(p,4)+(0,P.convertDecToHex)(C,4)+"\0\0";return Uint8Array.from(v,b=>b.charCodeAt(0))};h.buildCentralDirectoryEnd=l},5760:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.VirtualListDragFeature=void 0;let g=S(6624),M="ag-list-item-hovered";class P extends g.BeanStub{wireBeans(c){this.dragAndDrop=c.dragAndDrop}constructor(c,r,i){super(),this.comp=c,this.virtualList=r,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)}),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(c){this.currentDragValue=this.params.getCurrentDragValue(c),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){let c={isInterestedIn:r=>r===this.params.dragSourceType,getIconName:()=>this.moveBlocked?"pinned":"move",getContainer:()=>this.comp.getGui(),onDragging:r=>this.onDragging(r),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};this.dragAndDrop?.addDropTarget(c)}createAutoScrollService(){let c=this.virtualList.getGui();this.autoScrollService=new g.AutoScrollService({scrollContainer:c,scrollAxis:"y",getVerticalPosition:()=>c.scrollTop,setVerticalPosition:r=>c.scrollTop=r})}onDragging(c){if(!this.currentDragValue||this.moveBlocked)return;let r=this.getListDragItem(c),i=this.virtualList.getComponentAt(r.rowIndex);if(!i)return;let o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(c.event),this.clearHoveredItems(),this.lastHoveredListItem=r,(0,g._radioCssClass)(o,M),(0,g._radioCssClass)(o,`ag-item-highlight-${r.position}`))}getListDragItem(c){let r=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(r).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),l=Math.max(0,(c.y-i+a)/o),d=this.params.getNumRows(this.comp)-1,p=Math.min(d,l)|0;return{rowIndex:p,position:Math.round(l)>l||l>d?"bottom":"top",component:this.virtualList.getComponentAt(p)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearDragProperties())}onDragCancel(){this.clearDragProperties()}onDragLeave(){this.clearDragProperties()}clearDragProperties(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${M}`).forEach(r=>{[M,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{r.classList.remove(i)})}),this.lastHoveredListItem=null}}h.VirtualListDragFeature=P},8046:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgFiltersToolPanelHeaderSelector=h.AgFiltersToolPanelHeader=h.EXPAND_STATE=void 0;let g=S(6624);var M;(function(c){c[c.EXPANDED=0]="EXPANDED",c[c.COLLAPSED=1]="COLLAPSED",c[c.INDETERMINATE=2]="INDETERMINATE"})(M||(h.EXPAND_STATE=M={}));let P={tag:"div",cls:"ag-filter-toolpanel-search",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-filter-toolpanel-search-input"}]};class f extends g.Component{constructor(){super(...arguments),this.eExpand=g.RefPlaceholder,this.eFilterTextField=g.RefPlaceholder}postConstruct(){this.setTemplate(P,[g.AgInputTextFieldSelector]);let r=this.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(M.EXPANDED),this.addManagedElementListeners(this.eExpand,{click:this.onExpandClicked.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)})}init(r){this.params=r,this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){let{eExpand:r,beans:i}=this;r.appendChild(this.eExpandChecked=(0,g._createIconNoSpan)("accordionOpen",i)),r.appendChild(this.eExpandUnchecked=(0,g._createIconNoSpan)("accordionClosed",i)),r.appendChild(this.eExpandIndeterminate=(0,g._createIconNoSpan)("accordionIndeterminate",i))}showOrHideOptions(){let{params:r,eFilterTextField:i}=this,o=!r.suppressFilterSearch,a=!r.suppressExpandAll,l=this.getLocaleTextFunc();i.setInputPlaceholder(l("searchOoo","Search..."));let d=C=>C.getOriginalParent()&&C.isFilterAllowed(),p=this.beans.colModel.getCols().some(d);(0,g._setDisplayed)(i.getGui(),o),(0,g._setDisplayed)(this.eExpand,a&&p)}onSearchTextChanged(){this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=(0,g._debounce)(this,()=>this.dispatchLocalEvent({type:"searchChanged",searchText:this.eFilterTextField.getValue()}),300)),this.onSearchTextChangedDebounced()}onExpandClicked(){let r=this.currentExpandState===M.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchLocalEvent(r)}setExpandState(r){this.currentExpandState=r,(0,g._setDisplayed)(this.eExpandChecked,r===M.EXPANDED),(0,g._setDisplayed)(this.eExpandUnchecked,r===M.COLLAPSED),(0,g._setDisplayed)(this.eExpandIndeterminate,r===M.INDETERMINATE)}}h.AgFiltersToolPanelHeader=f,h.AgFiltersToolPanelHeaderSelector={selector:"AG-FILTERS-TOOL-PANEL-HEADER",component:f}},7291:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgFiltersToolPanelListSelector=h.AgFiltersToolPanelList=void 0;let g=S(6624),M=S(6092),P=S(8046),f=S(3905),c=S(5296);class r extends g.Component{wireBeans(o){this.colModel=o.colModel}constructor(){super({tag:"div",cls:"ag-filter-list-panel"}),this.initialised=!1,this.hasLoadedInitialState=!1,this.isInitialState=!1,this.filterGroupComps=[],this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending=!1}init(o){this.initialised=!0;let a=(0,g._addGridCommonParams)(this.gos,{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});(0,g._mergeDeep)(a,o),this.params=a,a.suppressSyncLayoutWithGrid||this.addManagedEventListeners({columnMoved:()=>this.onColumnsChanged()}),this.addManagedEventListeners({newColumnsLoaded:()=>this.onColumnsChanged(),toolPanelVisibleChanged:l=>{l.key==="filters"&&this.refreshFilters(l.visible)},dragStarted:()=>{this.suppressOnColumnsChanged=!0},dragStopped:()=>{this.suppressOnColumnsChanged=!1,this.onColumnsChangedPending&&(this.onColumnsChangedPending=!1,this.onColumnsChanged())}}),this.colModel.ready&&this.onColumnsChanged()}onColumnsChanged(){if(this.suppressOnColumnsChanged){this.onColumnsChangedPending=!0;return}let o=this.colModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!o?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs(),this.refreshAriaLabel()}syncFilterLayout(){(0,M.syncLayoutWithGrid)(this.colModel,this.setFiltersLayout.bind(this)),this.refreshAriaLabel()}buildTreeFromProvidedColumnDefs(){let o=this.colModel.getColDefColTree();this.recreateFilters(o)}setFiltersLayout(o){let a=(0,M.toolPanelCreateColumnTree)(this.colModel,o);this.recreateFilters(a)}recreateFilters(o){let a=(0,g._getActiveDomElement)(this.beans);this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);let l=this.getExpansionState();this.destroyFilters();let d=this.recursivelyAddComps(o,0,l);this.filterGroupComps=d;let p=d.length;p&&(d.forEach(v=>this.appendChild(v)),this.setFirstAndLastVisible(0,p-1));let C=this.searchFilterText;(0,g._exists)(C)&&this.searchFilters(C),this.fireExpandedEvent(),this.getGui().contains(a)&&a.focus(),this.isInitialState=!1,this.refreshAriaLabel()}recursivelyAddComps(o,a,l){return o.map(d=>{if((0,g.isProvidedColumnGroup)(d))return this.recursivelyAddFilterGroupComps(d,a,l)?.flatMap(R=>R)??[];let p=d;if(!this.shouldDisplayFilter(p))return[];let C=a===0,v=new f.ToolPanelFilterComp(C,()=>this.onFilterExpanded());if(this.createBean(v),v.setColumn(p),l.get(p.getId())&&v.expand(),a>0)return v;let b=this.createBean(new c.ToolPanelFilterGroupComp(p,[v],this.onGroupExpanded.bind(this),a,!0));return b.addCssClassToTitleBar("ag-filter-toolpanel-header"),l.get(b.getFilterGroupId())||b.collapse(),b}).flatMap(d=>d)}refreshAriaLabel(){let o=this.getLocaleTextFunc(),a=o("ariaFilterPanelList","Filter List"),l=o("filters","Filters"),R=this.getGui().querySelectorAll(".ag-filter-toolpanel-group-item:not(.ag-filter-toolpanel-group-wrapper, .ag-hidden)").length;(0,g._setAriaLabel)(this.getAriaElement(),`${a} ${R} ${l}`)}recursivelyAddFilterGroupComps(o,a,l){if(!this.filtersExistInChildren(o.getChildren()))return;let d=o.getColGroupDef();if(d&&d.suppressFiltersToolPanel)return[];let p=o.isPadding()?a:a+1,C=this.recursivelyAddComps(o.getChildren(),p,l).flatMap(R=>R);if(o.isPadding())return C;let v=new c.ToolPanelFilterGroupComp(o,C,this.onGroupExpanded.bind(this),a,!1);this.createBean(v),v.addCssClassToTitleBar("ag-filter-toolpanel-header");let b=l.get(v.getFilterGroupId());return(this.isInitialState&&!b||b===!1)&&v.collapse(),[v]}filtersExistInChildren(o){return o.some(a=>(0,g.isProvidedColumnGroup)(a)?this.filtersExistInChildren(a.getChildren()):this.shouldDisplayFilter(a))}shouldDisplayFilter(o){let a=o.getColDef()&&o.getColDef().suppressFiltersToolPanel;return o.isFilterAllowed()&&!a}getExpansionState(){let o=new Map;if(this.isInitialState){let{expandedColIds:l,expandedGroupIds:d}=this.params.initialState;return l.forEach(p=>o.set(p,!0)),d.forEach(p=>o.set(p,!0)),o}let a=l=>{o.set(l.getFilterGroupId(),l.isExpanded()),l.getChildren().forEach(d=>{d instanceof c.ToolPanelFilterGroupComp?a(d):o.set(d.getColumn().getId(),d.isExpanded())})};return this.filterGroupComps.forEach(a),o}refresh(){}setVisible(o){super.setDisplayed(o),o&&!this.initialised&&this.init(this.params)}expandFilterGroups(o,a){let l=[],d=p=>{let C=p.getFilterGroupId();(!a||a.includes(C))&&(o&&p.isColumnGroup()?p.expand():p.collapse(),l.push(C)),p.getChildren().forEach(b=>{b instanceof c.ToolPanelFilterGroupComp&&d(b)})};if(this.filterGroupComps.forEach(d),this.onGroupExpanded(),a){let p=a.filter(C=>l.indexOf(C)<0);p.length>0&&(0,g._warn)(166,{unrecognisedGroupIds:p})}}expandFilters(o,a){let l=[],d=p=>{if(p instanceof c.ToolPanelFilterGroupComp){let b=!1;return p.getChildren().forEach(R=>{d(R)&&(o?(p.expand(),b=!0):p.isColumnGroup()||p.collapse())}),b}let C=p.getColumn().getColId(),v=!a||a.includes(C);return v&&(o?p.expand():p.collapse(),l.push(C)),v};if(this.filterGroupComps.forEach(d),this.onGroupExpanded(),a){let p=a.filter(C=>l.indexOf(C)<0);p.length>0&&(0,g._warn)(167,{unrecognisedColIds:p})}}onGroupExpanded(){this.fireExpandedEvent()}onFilterExpanded(){this.dispatchLocalEvent({type:"filterExpanded"})}fireExpandedEvent(){let o=0,a=0,l=p=>{p.isColumnGroup()&&(p.isExpanded()?o++:a++,p.getChildren().forEach(C=>{C instanceof c.ToolPanelFilterGroupComp&&l(C)}))};this.filterGroupComps.forEach(l);let d;o>0&&a>0?d=P.EXPAND_STATE.INDETERMINATE:a>0?d=P.EXPAND_STATE.COLLAPSED:d=P.EXPAND_STATE.EXPANDED,this.dispatchLocalEvent({type:"groupExpanded",state:d})}performFilterSearch(o){this.searchFilterText=(0,g._exists)(o)?o.toLowerCase():null,this.searchFilters(this.searchFilterText)}searchFilters(o){let a=C=>!(0,g._exists)(o)||C.toLowerCase().indexOf(o)!==-1,l=(C,v)=>{if(!(C instanceof c.ToolPanelFilterGroupComp))return a(C.getColumnFilterName()||"");let b=C.getChildren(),R=a(C.getFilterGroupName()),x=v||R;if(x){C.hideGroup(!1);for(let T=0;T<b.length;T++)l(b[T],x),C.hideGroupItem(!1,T);return!0}let E=!1;return b.forEach((T,D)=>{let k=l(T,v);C.hideGroupItem(!k,D),k&&(E=!0)}),C.hideGroup(!E),E},d,p;this.filterGroupComps.forEach((C,v)=>{l(C,!1),d===void 0?C.containsCssClass("ag-hidden")||(d=v,p=v):!C.containsCssClass("ag-hidden")&&p!==v&&(p=v)}),this.setFirstAndLastVisible(d,p),this.refreshAriaLabel()}setFirstAndLastVisible(o,a){this.filterGroupComps.forEach((l,d)=>{l.removeCssClass("ag-first-group-visible"),l.removeCssClass("ag-last-group-visible"),d===o&&l.addCssClass("ag-first-group-visible"),d===a&&l.addCssClass("ag-last-group-visible")})}refreshFilters(o){this.filterGroupComps.forEach(a=>a.refreshFilters(o))}getExpandedFiltersAndGroups(){let o=[],a=new Set,l=d=>{if(d instanceof c.ToolPanelFilterGroupComp){d.getChildren().forEach(C=>l(C));let p=d.getFilterGroupId();d.isExpanded()&&!a.has(p)&&o.push(p)}else d.isExpanded()&&a.add(d.getColumn().getColId())};return this.filterGroupComps.forEach(l),{expandedGroupIds:o,expandedColIds:Array.from(a)}}destroyFilters(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),(0,g._clearElement)(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}}h.AgFiltersToolPanelList=r,h.AgFiltersToolPanelListSelector={selector:"AG-FILTERS-TOOL-PANEL-LIST",component:r}},662:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.filtersToolPanelCSS=void 0,h.filtersToolPanelCSS=".ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;color:var(--ag-header-text-color);display:flex;font-weight:var(--ag-header-font-weight);padding:0 var(--ag-spacing);>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing);position:relative;&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}:where(.ag-ltr) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-ltr) .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-instance-header-icon,:where(.ag-rtl) .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-search{min-height:var(--ag-header-height);padding-bottom:var(--ag-spacing);padding-top:var(--ag-widget-container-vertical-padding)}:where(.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar) .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}:where(.ag-ltr) .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}:where(.ag-ltr) .ag-filter-toolpanel-group-title-bar,:where(.ag-ltr) .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-filter-toolpanel-group-title-bar,:where(.ag-rtl) .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}:where(.ag-ltr) .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}:where(.ag-rtl) .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}"},983:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FiltersToolPanel=void 0;let g=S(6624),M=S(8046),P=S(7291),f=S(662),c={tag:"div",cls:"ag-filter-toolpanel",children:[{tag:"ag-filters-tool-panel-header",ref:"filtersToolPanelHeaderPanel"},{tag:"ag-filters-tool-panel-list",ref:"filtersToolPanelListPanel"}]};class r extends g.Component{constructor(){super(c,[M.AgFiltersToolPanelHeaderSelector,P.AgFiltersToolPanelListSelector]),this.filtersToolPanelHeaderPanel=g.RefPlaceholder,this.filtersToolPanelListPanel=g.RefPlaceholder,this.initialised=!1,this.listenerDestroyFuncs=[],this.registerCSS(f.filtersToolPanelCSS)}init(o){this.initialised&&(this.listenerDestroyFuncs.forEach(b=>b()),this.listenerDestroyFuncs=[]),this.initialised=!0;let l={...(0,g._addGridCommonParams)(this.gos,{suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1}),...o};this.params=l;let{filtersToolPanelHeaderPanel:d,filtersToolPanelListPanel:p}=this;d.init(l),p.init(l);let C=l.suppressExpandAll,v=l.suppressFilterSearch;C&&v&&d.setDisplayed(!1),this.listenerDestroyFuncs.push(...this.addManagedListeners(d,{expandAll:()=>p.expandFilterGroups(!0),collapseAll:()=>p.expandFilterGroups(!1),searchChanged:b=>p.performFilterSearch(b.searchText)}),...this.addManagedListeners(p,{filterExpanded:l.onStateUpdated,groupExpanded:b=>{d.setExpandState(b.state),l.onStateUpdated()}}))}setVisible(o){super.setDisplayed(o),o&&!this.initialised&&this.init(this.params)}setFilterLayout(o){this.filtersToolPanelListPanel.setFiltersLayout(o)}expandFilterGroups(o){this.filtersToolPanelListPanel.expandFilterGroups(!0,o)}collapseFilterGroups(o){this.filtersToolPanelListPanel.expandFilterGroups(!1,o)}expandFilters(o){this.filtersToolPanelListPanel.expandFilters(!0,o)}collapseFilters(o){this.filtersToolPanelListPanel.expandFilters(!1,o)}syncLayoutWithGrid(){this.filtersToolPanelListPanel.syncFilterLayout()}refresh(o){return this.init(o),!0}getState(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()}}h.FiltersToolPanel=r},2515:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FiltersToolPanelModule=void 0;let g=S(6624),M=S(9206),P=S(6358),f=S(7205),c=S(983);h.FiltersToolPanelModule={moduleName:"FiltersToolPanel",version:f.VERSION,userComponents:{agFiltersToolPanel:c.FiltersToolPanel},icons:{filtersToolPanel:"filter"},dependsOn:[P.SideBarModule,M.EnterpriseCoreModule,g._ColumnFilterModule]}},3905:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelFilterComp=void 0;let g=S(6624),M={tag:"div",cls:"ag-filter-toolpanel-instance",children:[{tag:"div",ref:"eFilterToolPanelHeader",cls:"ag-filter-toolpanel-header ag-filter-toolpanel-instance-header",role:"button",attrs:{"aria-expanded":"false"},children:[{tag:"div",ref:"eExpand",cls:"ag-filter-toolpanel-expand"},{tag:"span",ref:"eFilterName",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilterIcon",cls:"ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon",attrs:{"aria-hidden":"true"}}]},{tag:"div",ref:"agFilterToolPanelBody",cls:"ag-filter-toolpanel-instance-body ag-filter"}]};class P extends g.Component{constructor(c,r){super(M),this.hideHeader=c,this.expandedCallback=r,this.eFilterToolPanelHeader=g.RefPlaceholder,this.eFilterName=g.RefPlaceholder,this.agFilterToolPanelBody=g.RefPlaceholder,this.eFilterIcon=g.RefPlaceholder,this.eExpand=g.RefPlaceholder,this.expanded=!1}postConstruct(){let{beans:c,eExpand:r}=this,i=(0,g._createIconNoSpan)("accordionOpen",c);this.eExpandChecked=i;let o=(0,g._createIconNoSpan)("accordionClosed",c);this.eExpandUnchecked=o,r.appendChild(i),r.appendChild(o)}setColumn(c){this.column=c;let{beans:r,eFilterToolPanelHeader:i,eFilterIcon:o,eExpandChecked:a,hideHeader:l}=this;this.eFilterName.innerText=r.colNames.getDisplayNameForColumn(c,"filterToolPanel",!1)||"",this.addManagedListeners(i,{click:this.toggleExpanded.bind(this),keydown:this.onKeyDown.bind(this)}),this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)}),this.addInIcon("filterActive",o,c),(0,g._setDisplayed)(o,this.isFilterActive(),{skipAriaHidden:!0}),(0,g._setDisplayed)(a,!1),l?((0,g._setDisplayed)(i,!1),i.removeAttribute("tabindex")):i.setAttribute("tabindex","0"),this.addManagedListeners(c,{filterChanged:this.onFilterChanged.bind(this)})}onKeyDown(c){let{key:r}=c,{ENTER:i,SPACE:o,LEFT:a,RIGHT:l}=g.KeyCode;r!==i&&r!==o&&r!==a&&r!==l||(c.preventDefault(),r===i||r===o?this.toggleExpanded():r===g.KeyCode.LEFT?this.collapse():this.expand())}getColumn(){return this.column}getColumnFilterName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"filterToolPanel",!1)}addCssClassToTitleBar(c){this.eFilterToolPanelHeader.classList.add(c)}addInIcon(c,r,i){if(r==null)return;let o=(0,g._createIconNoSpan)(c,this.beans,i);r.appendChild(o)}isFilterActive(){return!!this.beans.filterManager?.isFilterActive(this.column)}onFilterChanged(){(0,g._setDisplayed)(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchLocalEvent({type:"filterChanged"})}toggleExpanded(){this.expanded?this.collapse():this.expand()}expand(){this.expanded||(this.expanded=!0,(0,g._setAriaExpanded)(this.eFilterToolPanelHeader,!0),(0,g._setDisplayed)(this.eExpandChecked,!0),(0,g._setDisplayed)(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())}addFilterElement(c){let r=(0,g._createElement)({tag:"div",cls:"ag-filter-toolpanel-instance-filter"}),i=this.createManagedBean(new g.FilterWrapperComp(this.column,"TOOLBAR"));this.filterWrapperComp=i,i.hasFilter()&&i.getFilter()?.then(o=>{this.underlyingFilter=o,o&&(r.appendChild(i.getGui()),this.agFilterToolPanelBody.appendChild(r),i.afterGuiAttached({container:"toolPanel",suppressFocus:c}))})}collapse(){if(!this.expanded)return;this.expanded=!1,(0,g._setAriaExpanded)(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),(0,g._setDisplayed)(this.eExpandChecked,!1),(0,g._setDisplayed)(this.eExpandUnchecked,!0);let c=this.filterWrapperComp;c?.afterGuiDetached(),this.destroyBean(c),this.expandedCallback()}removeFilterElement(){(0,g._clearElement)(this.agFilterToolPanelBody)}isExpanded(){return this.expanded}refreshFilter(c){if(!this.expanded)return;let r=this.underlyingFilter;r&&(c?typeof r.refreshVirtualList=="function"&&r.refreshVirtualList():r.afterGuiDetached?.())}onFilterOpened(c){c.source==="COLUMN_MENU"&&c.column===this.column&&this.expanded&&this.collapse()}}h.ToolPanelFilterComp=P},5296:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelFilterGroupComp=void 0;let g=S(6624),M=S(1421),P=S(3905);class f extends g.Component{constructor(r,i,o,a,l){super(),this.columnGroup=r,this.childFilterComps=i,this.expandedCallback=o,this.depth=a,this.showingColumn=l,this.filterGroupComp=g.RefPlaceholder}postConstruct(){let r={cssIdentifier:"filter-toolpanel",direction:"vertical"};this.setTemplate({tag:"div",cls:"ag-filter-toolpanel-group-wrapper",children:[{tag:"ag-group-component",ref:"filterGroupComp"}]},[M.AgGroupComponentSelector],{filterGroupComp:r}),this.setGroupTitle();let{filterGroupComp:i,depth:o,childFilterComps:a,gos:l}=this;i.setAlignItems("stretch"),i.addCssClass(`ag-filter-toolpanel-group-level-${o}`),i.getGui().style.setProperty("--ag-indentation-level",String(o)),i.addCssClassToTitleBar(`ag-filter-toolpanel-group-level-${o}-header`),a.forEach(d=>{i.addItem(d),d.addCssClassToTitleBar(`ag-filter-toolpanel-group-level-${o+1}-header`),d.getGui().style.setProperty("--ag-indentation-level",String(o+1))}),this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"filterToolPanelColumnGroup",shouldDisplayTooltip:(0,g._getShouldDisplayTooltip)(l,()=>i.getGui().querySelector(".ag-group-title"))})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip(),this.addInIcon("filterActive")}setupTooltip(){if(!this.showingColumn)return;let r=()=>{this.tooltipFeature?.setTooltipAndRefresh(this.columnGroup.getColDef().headerTooltip)};r(),this.addManagedEventListeners({newColumnsLoaded:r})}addCssClassToTitleBar(r){this.filterGroupComp.addCssClassToTitleBar(r)}refreshFilters(r){this.childFilterComps.forEach(i=>{i instanceof f?i.refreshFilters(r):i.refreshFilter(r)})}isColumnGroup(){return(0,g.isProvidedColumnGroup)(this.columnGroup)}isExpanded(){return this.filterGroupComp.isExpanded()}getChildren(){return this.childFilterComps}getFilterGroupName(){return this.filterGroupName??""}getFilterGroupId(){return this.columnGroup.getId()}hideGroupItem(r,i){this.filterGroupComp.hideItem(r,i)}hideGroup(r){this.setDisplayed(!r)}addInIcon(r){let i=(0,g._createIconNoSpan)(r,this.beans);i&&i.classList.add("ag-filter-toolpanel-group-instance-header-icon"),this.filterGroupComp.addTitleBarWidget(i)}forEachToolPanelFilterChild(r){this.childFilterComps.forEach(i=>{i instanceof P.ToolPanelFilterComp&&r(i)})}addExpandCollapseListeners(){let r=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(o=>o.expand()),i=this.isColumnGroup()?()=>this.expandedCallback():()=>this.forEachToolPanelFilterChild(o=>o.collapse());this.addManagedListeners(this.filterGroupComp,{expanded:r,collapsed:i})}getColumns(){return(0,g.isProvidedColumnGroup)(this.columnGroup)?this.columnGroup.getLeafColumns():[this.columnGroup]}addFilterChangedListeners(){this.getColumns().forEach(r=>{this.addManagedListeners(r,{filterChanged:()=>this.refreshFilterClass()})}),(0,g.isProvidedColumnGroup)(this.columnGroup)||this.addManagedEventListeners({filterOpened:this.onFilterOpened.bind(this)})}refreshFilterClass(){let r=this.getColumns(),i=()=>r.some(o=>o.isFilterActive());this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",i())}onFilterOpened(r){r.source==="COLUMN_MENU"&&r.column===this.columnGroup&&this.isExpanded()&&this.collapse()}expand(){this.filterGroupComp.toggleGroupExpand(!0)}collapse(){this.filterGroupComp.toggleGroupExpand(!1)}setGroupTitle(){let r=this.columnGroup,i=(0,g.isProvidedColumnGroup)(r)?this.getColumnGroupName(r):this.getColumnName(r);this.filterGroupName=i,this.filterGroupComp.setTitle(i||"")}getColumnGroupName(r){return this.beans.colNames.getDisplayNameForProvidedColumnGroup(null,r,"filterToolPanel")}getColumnName(r){return this.beans.colNames.getDisplayNameForColumn(r,"filterToolPanel",!1)}destroyFilters(){this.childFilterComps=this.destroyBeans(this.childFilterComps),(0,g._clearElement)(this.getGui())}destroy(){this.destroyFilters(),super.destroy()}}h.ToolPanelFilterGroupComp=f},855:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.findCSS=void 0,h.findCSS=".ag-find-cell{display:block;overflow:hidden;text-overflow:ellipsis}.ag-find-match{background-color:var(--ag-find-match-background-color);color:var(--ag-find-match-color)}.ag-find-active-match{background-color:var(--ag-find-active-match-background-color);color:var(--ag-find-active-match-color)}"},436:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.findRefresh=h.findGetParts=h.findGetNumMatches=h.findGetActiveMatch=h.findClearActive=h.findGoTo=h.findGetTotalMatches=h.findPrevious=h.findNext=void 0;function S(a){a.findSvc?.next()}h.findNext=S;function g(a){a.findSvc?.previous()}h.findPrevious=g;function M(a){return a.findSvc?.totalMatches??0}h.findGetTotalMatches=M;function P(a,l,d){a.findSvc?.goTo(l,d)}h.findGoTo=P;function f(a){a.findSvc?.clearActive()}h.findClearActive=f;function c(a){return a.findSvc?.activeMatch}h.findGetActiveMatch=c;function r(a,l){let{node:d,column:p}=l;return a.findSvc?.getNumMatches(d,p)??0}h.findGetNumMatches=r;function i(a,l){return a.findSvc?.getParts(l)??[]}h.findGetParts=i;function o(a){return a.findSvc?.refresh(!0)}h.findRefresh=o},5637:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FindCellRenderer=void 0;let g=S(6624),M={tag:"span",cls:"ag-find-cell"};class P extends g.Component{constructor(){super(M)}init(c){this.refresh(c)}refresh(c){let{node:r,column:i}=c,o=this.beans.findSvc,a=o?.getDisplayValue(c)??"",l=this.getGui();(0,g._clearElement)(l);let d=o?.getParts({value:a,node:r,column:i??null});if(!d)return l.textContent=(0,g._escapeString)(a,!0)??"",l.classList.remove("ag-find-cell-active-match"),!0;let p=!1;for(let{value:C,match:v,activeMatch:b}of d){let R=(0,g._escapeString)(C,!0)??"";if(v){let x=(0,g._createElement)({tag:"mark",cls:"ag-find-match"});x.textContent=R,b&&(x.classList.add("ag-find-active-match"),p=!0),l.appendChild(x)}else l.appendChild(document.createTextNode(R))}return l.classList.toggle("ag-find-cell-active-match",p),!0}}h.FindCellRenderer=P},7546:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FindModule=void 0;let g=S(7205),M=S(855),P=S(436),f=S(5637),c=S(963),r={moduleName:"FindCore",version:g.VERSION,rowModels:["clientSide"],beans:[c.FindService],userComponents:{agFindCellRenderer:f.FindCellRenderer},css:[M.findCSS]};h.FindModule={moduleName:"Find",version:g.VERSION,apiFunctions:{findGetTotalMatches:P.findGetTotalMatches,findGoTo:P.findGoTo,findNext:P.findNext,findPrevious:P.findPrevious,findGetActiveMatch:P.findGetActiveMatch,findGetNumMatches:P.findGetNumMatches,findGetParts:P.findGetParts,findClearActive:P.findClearActive,findRefresh:P.findRefresh},dependsOn:[r]}},963:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FindService=void 0;let g=S(6624),M=S(9130),P=S(6897);function f(i){return i?.toLocaleLowerCase()}function c(i,o,a){let l=o((0,g._escapeString)(a,!0)),d=0;if(l?.length){let p=-1;for(;p=l.indexOf(i,p+1),p!=-1;)d++}return d}class r extends g.BeanStub{constructor(){super(...arguments),this.beanName="findSvc",this.active=!1,this.topMatches=new Map,this.topNodes=[],this.topNumMatches=0,this.centerMatches=new Map,this.centerNodes=[],this.centerNumMatches=0,this.bottomMatches=new Map,this.bottomNodes=[],this.caseFormat=f,this.scrollOnRefresh=!1,this.totalMatches=0}postConstruct(){if(!(0,g._isClientSideRowModel)(this.gos))return;let o=this.refresh.bind(this,!1),a=this.refresh.bind(this,!0),l=(0,g._debounce)(this,()=>{this.isAlive()&&a()},0);this.refreshDebounced=l,this.addManagedPropertyListener("findSearchValue",o),this.addManagedPropertyListener("findOptions",({currentValue:p,previousValue:C})=>{(0,g._jsonEquals)(p,C)||o()}),this.addManagedPropertyListeners(["groupSuppressBlankHeader","showOpenedGroup"],a),this.addManagedEventListeners({modelUpdated:a,displayedColumnsChanged:a,pinnedRowDataChanged:a,cellValueChanged:l,rowNodeDataChanged:l});let d=this.beans.rowSpanSvc;d&&this.addManagedListeners(d,{spannedCellsUpdated:l}),o()}next(){this.findAcrossContainers(!1,["top",null,"bottom"],1,1)}previous(){this.findAcrossContainers(!0,["bottom",null,"top"],this.totalMatches,-1)}goTo(o,a){if(!a&&o===this.activeMatch?.numOverall)return;let{topMatches:l,topNumMatches:d,centerMatches:p,centerNumMatches:C,bottomMatches:v}=this;if(o<=d){this.goToInContainer(l,o,0);return}if(o<=C){this.goToInContainer(p,o,d);return}this.goToInContainer(v,o,d+C)}clearActive(){this.activeMatch&&this.setActive(void 0)}isMatch(o,a){return this.active&&!!this.getMatches(o.rowPinned).get(o)?.some(([l])=>l===a)}getNumMatches(o,a){return this.getMatches(o.rowPinned).get(o)?.find(([l])=>l===a)?.[1]??0}getParts(o){let{value:a,node:l,column:d,precedingNumMatches:p}=o,C=this.findSearchValue,v=(0,g._escapeString)(a,!0)??"";if((0,g._missing)(C))return[{value:v}];let b=this.caseFormat(v)??"",R=this.getActiveMatchNum(l,d)-(p??0),x=0,E=0,T=C.length,D=[];for(;;){let k=b.indexOf(C,x);if(k!=-1){E++,k>x&&D.push({value:v.slice(x,k)});let O=k+T;D.push({value:v.slice(k,O),match:!0,activeMatch:E===R}),x=O}else return x<v.length&&D.push({value:v.slice(x)}),D}}setupGroupCol(o){o.getFindText=this.createGroupFindText()}registerDetailGrid(o,a){let l=this.gos;if(!(0,g._isClientSideRowModel)(l))return;let d=()=>l.get("findOptions")?.searchDetail,p=C=>{let b=this.centerMatches.get(o)?.[0]?.[1]??0;C!==b&&this.refreshDebounced()};a.addEventListener("findChanged",C=>{a.isDestroyed()||!this.isAlive()||!this.active||!d()||p(C.totalMatches)}),a.addEventListener("gridPreDestroyed",()=>{if(!this.isAlive()||!this.active||!d())return;let C=o.parent,v=this.findSearchValue;if(!C||!v)return;let b=l.get("detailCellRendererParams")?.getFindMatches?.({node:C,data:C.data,findSearchValue:l.get("findSearchValue"),updateMatches:this.refreshDebounced,getMatchesForValue:R=>c(v,this.caseFormat,R)})??0;p(b)}),d()&&a.setGridOption("findSearchValue",l.get("findSearchValue"))}getDisplayValue(o){let{node:a,valueFormatted:l,value:d,column:p}=o,C=this.beans;if(a.footer)return C.footerSvc?.getTotalValue(l??d);if(l!=null)return l;if(p?.getColDef().cellRenderer==="agGroupCellRenderer"||!p&&a.group){let v=(p?C.valueSvc.getDisplayedNode(a,p):a)??a;return(0,P._getGroupValue)(p,a,v,C)??d}return d}refresh(o){let a=new Set([...this.topNodes,...this.centerNodes,...this.bottomNodes]);this.topNodes=[],this.centerNodes=[],this.bottomNodes=[];let{topNodes:l,topMatches:d,centerMatches:p,centerNodes:C,bottomNodes:v,bottomMatches:b,beans:{gos:R,visibleCols:x,rowModel:E,valueSvc:T,pinnedRowModel:D,pagination:k,rowSpanSvc:O,masterDetailSvc:N,colModel:V},findSearchValue:j}=this,Q=R.get("findOptions"),Y=Q?.caseSensitive?ne=>ne??void 0:f;this.caseFormat=Y;let $=R.get("findSearchValue"),se=Y($?.trim());this.findSearchValue=se,d.clear(),p.clear(),b.clear();let W=o?this.activeMatch:void 0;this.activeMatch=void 0;let Z=R.get("masterDetail")&&Q?.searchDetail&&N;if((0,g._missing)(se)){if(this.active=!1,this.topNumMatches=0,this.centerNumMatches=0,this.totalMatches=0,this.refreshRows(a),Z){let ne=N.store;for(let ve of Object.keys(ne))ne[ve]?.api?.findClearActive()}(0,g._missing)(j)||this.dispatchFindChanged();return}let ee=x.allCols,re=R.getCallback("isFullWidthRow"),oe=R.get("detailCellRendererParams"),ge=R.get("fullWidthCellRendererParams"),ue=R.get("groupRowRendererParams"),X=(0,M._getFlattenDetails)(R),G=V.isPivotMode(),U=0,K,q,ie=!1,fe=(ne,ve,me,ye)=>{if(!me)return;let Re=K.get(ne);Re||(Re=[],K.set(ne,Re),q.push(ne),ye||a.add(ne)),Re.push([ve,me]),U+=me},Fe=ne=>{if(ie){let ye=ne.rowIndex,Re=ne.parent;for(;ye==null&&Re;)ye=Re.rowIndex,Re=Re.parent;if(ye==null||!k.isRowInPage(ye))return}let ve=ne.hasChildren();if(!(0,M._shouldRowBeRendered)(X,ne,ve,G,(0,M._isRemovedSingleChildrenGroup)(X,ne,ve),(0,M._isRemovedLowestSingleChildrenGroup)(X,ne,ve)))return;let me=ne.data;if(re?.({rowNode:ne})){if(ge){let ye=ge.getFindMatches?.({node:ne,data:me,findSearchValue:$,updateMatches:this.refreshDebounced,getMatchesForValue:Re=>c(se,Y,Re)})??0;fe(ne,null,ye)}return}if(ne.group&&!ne.footer&&(0,g._isGroupUseEntireRow)(R,G)){let{groupValue:ye,rowGroupColumn:Re}=ne,Te;Re?Te=(ue?.getFindText??this.createGroupFindText())((0,g._addGridCommonParams)(R,{value:ye,node:ne,data:me,column:null,colDef:null,getValueFormatted:()=>T.formatValue(Re,ne,ye)})):Te=ye;let ke=c(se,Y,Te);fe(ne,null,ke);return}for(let ye of ee){if((0,g.isRowNumberCol)(ye)||(0,g.isColumnSelectionCol)(ye))continue;let Re=O?.getCellSpan(ye,ne);if(Re&&Re.firstNode!==ne)continue;let Te=ne.displayed?T.getValueForDisplay(ye,ne):T.getValue(ye,ne),ke,ze=ye.colDef,Ve=ze.getFindText;Ve?ke=Ve((0,g._addGridCommonParams)(R,{value:Te,node:ne,data:me,column:ye,colDef:ze,getValueFormatted:()=>T.formatValue(ye,ne,Te)})):ke=T.formatValue(ye,ne,Te)??Te;let rt=c(se,Y,ke);fe(ne,ye,rt)}if(ne.master&&Z){let ye=ne.detailNode;if(ye){let Re=ye.detailGridInfo?.api;if(Re){Re.setGridOption("findSearchValue",$);let Te=Re.findGetTotalMatches();fe(ye,null,Te);return}}if(oe){let Re=oe.getFindMatches?.({node:ne,data:me,findSearchValue:$,updateMatches:this.refreshDebounced,getMatchesForValue:Te=>c(se,Y,Te)})??0;fe(ye??{parent:ne,dummy:!0},null,Re,!ye)}}};K=d,q=l,D?.forEachPinnedRow("top",Fe),this.topNumMatches=U;let Ie=U;K=p,q=C,U=0,ie=!!k&&!!Q?.currentPageOnly,E.forEachNodeAfterFilterAndSort(Fe,!0),this.centerNumMatches=U,Ie+=U,K=b,q=v,U=0,ie=!1,D?.forEachPinnedRow("bottom",Fe),Ie+=U,this.totalMatches=Ie,this.active=!0,this.refreshRows(a),W&&this.resetActiveMatch(W),this.dispatchFindChanged()}resetActiveMatch(o){let{column:a,numInMatch:l}=o,d=o.node;if(d.dummy){let x=d.parent?.detailNode;if(!x)return;d=x}let p=d.rowPinned??null;if(!this.getMatches(p)?.get(d)?.some(([x,E])=>x===a&&E>=l))return;let v=0;p==null?v=this.topNumMatches:p==="bottom"&&(v=this.topNumMatches+this.centerNumMatches),(()=>{let x=this.getMatches(p);for(let E of x.keys()){let T=E===d,D=x.get(E);for(let[k,O]of D){if(T&&k===a){v+=l;return}v+=O}}})();let R={...o,node:d,numOverall:v};this.activeMatch=R,this.refreshRows(new Set([d]),a==null?void 0:new Set([a])),this.scrollOnRefresh&&(this.scrollOnRefresh=!1,this.scrollToActive(R)),this.setDetailActive(R)}refreshRows(o,a){o.size&&this.beans.rowRenderer.refreshCells({rowNodes:[...o],columns:a?[...a]:void 0,force:!0,suppressFlash:!0})}findAcrossContainers(o,a,l,d){if(!this.totalMatches){this.setActive();return}let p=this.activeMatch,C=a;if(p){let{column:v,node:b,numInMatch:R,numOverall:x}=p,E=b.rowPinned??null,T=x+d;if(this.findInContainer(E,o,T,b,v,R))return;let k=a.indexOf(E),O=a.length;if(a.slice(k+1,O).some(V=>this.findInContainer(V,o,T)))return;C=a.slice(0,k+1)}C.some(v=>this.findInContainer(v,o,l))}findInContainer(o,a,l,d,p,C){let v=this.getMatches(o),b=this.getRowNodes(o),R=a?-1:1;if(d!=null){let D=v.get(d),k=D?.findIndex(([N])=>N===p);if(k!=null&&k!=-1){let[N,V]=D[k];if(a?C>1:C<V)return this.setActive({column:N,node:d,numInMatch:C+R,numOverall:l}),!0}let O=k!=null&&k!=-1?D?.[k+R]:void 0;if(O){let[N,V]=O;return this.setActive({column:N,node:d,numInMatch:a?V:1,numOverall:l}),!0}}let x;if(d==null)x=b[a?b.length-1:0];else{let D=b.findIndex(k=>k===d);x=b[D+R]}if(x==null)return!1;let E=v.get(x),T=E?.[a?E.length-1:0];if(T){let[D,k]=T;return this.setActive({column:D,node:x,numInMatch:a?k:1,numOverall:l}),!0}return!1}dispatchFindChanged(){let{eventSvc:o,activeMatch:a,totalMatches:l,findSearchValue:d}=this;o.dispatchEvent({type:"findChanged",activeMatch:a,totalMatches:l,findSearchValue:d})}setActive(o){if(o&&o.node.rowIndex==null){let l=o.node,d=l.footer?l.sibling:l.parent;for(;d&&d.level!==-1;)d.expanded=!0,d=d.parent;this.activeMatch=o,this.scrollOnRefresh=!0,this.beans.expansionSvc?.onGroupExpandedOrCollapsed();return}let a=this.activeMatch;this.activeMatch=o,this.refreshAndScrollToActive(o,a),o&&this.setDetailActive(o),this.dispatchFindChanged()}setDetailActive({node:o,numInMatch:a}){o.detail&&o.detailGridInfo?.api?.findGoTo(a)}refreshAndScrollToActive(o,a){if(o||a){let l=new Set,d=new Set,p=!1,C=v=>{if(!v)return;let{node:b,column:R}=v;l.add(b),R==null?p=!0:d.add(R)};C(o),C(a),this.refreshRows(l,p?void 0:d)}o&&this.scrollToActive(o)}scrollToActive({node:{rowPinned:o,rowIndex:a},column:l}){let{ctrlsSvc:d,pagination:p,gos:C}=this.beans,v=d.getScrollFeature();o==null&&a!=null&&(p&&!C.get("findOptions")?.currentPageOnly&&!p.isRowInPage(a)&&p.goToPageWithIndex(a),v.ensureIndexVisible(a)),v.ensureColumnVisible(l)}goToInContainer(o,a,l){let d=l;for(let p of o.keys()){let C=o.get(p);for(let[v,b]of C){if(a<=d+b){this.setActive({column:v,node:p,numInMatch:a-d,numOverall:a});return}d+=b}}}getMatches(o){return o==="top"?this.topMatches:o==="bottom"?this.bottomMatches:this.centerMatches}getRowNodes(o){return o==="top"?this.topNodes:o==="bottom"?this.bottomNodes:this.centerNodes}getActiveMatchNum(o,a){let l=this.activeMatch;return l!=null&&l.node===o&&l.column===a?l.numInMatch:0}createGroupFindText(){let o=this.beans;return a=>{let{node:l,column:d,value:p}=a,C=(d?o.valueSvc.getDisplayedNode(l,d):l)??l,v=C.rowGroupColumn,b=v&&d?.isRowGroupDisplayed(v.getId())?v:d,R=b?o.valueSvc.formatValue(b,C,p):void 0;return l.footer?o.footerSvc?.getTotalValue(R??p):R??(0,P._getGroupValue)(d,l,C,o)??p}}destroy(){this.topMatches.clear(),this.topNodes.length=0,this.centerMatches.clear(),this.centerNodes.length=0,this.bottomMatches.clear(),this.bottomNodes.length=0,this.activeMatch=void 0,super.destroy()}}h.FindService=r},3159:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GridLicenseManager=void 0;let g=S(6624),M=S(6565),P=S(3879);class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new M.LicenseManager((0,g._getDocument)(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(r){return new M.LicenseManager(null).getLicenseDetails(r)}getWatermarkSelector(){return P.AgWatermarkSelector}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(r){M.LicenseManager.setLicenseKey(r)}static setChartsLicenseManager(r){M.LicenseManager.setChartsLicenseManager(r)}}h.GridLicenseManager=f},6565:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LicenseManager=void 0;let g=S(1555),M={"01":"GRID","02":"CHARTS","0102":"BOTH"},P="https://www.ag-grid.com/licensing/";class f{constructor(r){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=r,this.md5=new g.MD5,this.md5.init()}validateLicense(){let r=this.getLicenseDetails(f.licenseKey),i=`AG Grid ${r.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,o=r.suppliedLicenseType===void 0?"":`AG ${r.suppliedLicenseType==="BOTH"?"Grid and AG Charts":r.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(r.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(i);else if(r.expired){let a=f.getGridReleaseDate(),l=f.formatDate(a);this.outputExpiredKey(r.expiry,l,i,o)}else r.valid?r.isTrial&&r.trialExpired&&this.outputExpiredTrialKey(r.expiry,i,o):this.outputInvalidLicenseKey(!!r.incorrectLicenseType,i,o)}static extractExpiry(r){let i=r.substring(r.lastIndexOf("_")+1,r.length);return new Date(parseInt(f.decode(i),10))}static extractLicenseComponents(r){let i=r.replace(/[\u200B-\u200D\uFEFF]/g,"");if(i=i.replace(/\r?\n|\r/g,""),r.length<=32)return{md5:null,license:r,version:null,isTrial:null};let o=i.length-32,a=i.substring(o),l=i.substring(0,o),[d,p,C]=f.extractBracketedInformation(i);return{md5:a,license:l,version:d,isTrial:p,type:C}}getLicenseDetails(r){let i=f.chartsLicenseManager?"BOTH":"GRID";if(!r?.length)return{licenseKey:r,valid:!1,missing:!0,currentLicenseType:i};let o=f.getGridReleaseDate(),{md5:a,license:l,version:d,isTrial:p,type:C}=f.extractLicenseComponents(r),v=a===this.md5.md5(l)&&r.indexOf("For_Trialing_ag-Grid_Only")===-1,b,R,x=null,E=!1,T;function D(){b=x<new Date,R=void 0}if(v&&(x=f.extractExpiry(l),v=!isNaN(x.getTime()),v))switch(R=o>x,d){case"legacy":case"2":{p&&D();break}case"3":C?.length?(T=C,C!==M["01"]&&C!==M["0102"]||i==="BOTH"&&T!=="BOTH"?(v=!1,E=!0):p&&D()):v=!1}return v?{licenseKey:r,valid:v,expiry:f.formatDate(x),expired:R,version:d,isTrial:p,trialExpired:b,incorrectLicenseType:E,currentLicenseType:i,suppliedLicenseType:T}:{licenseKey:r,valid:v,incorrectLicenseType:E,currentLicenseType:i,suppliedLicenseType:T}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!this.watermarkMessage?.length}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){let i=(this.document.defaultView||window).location,{hostname:o=""}=i;return o}isForceWatermark(){let i=(this.document.defaultView||window).location,{pathname:o}=i;return o?o.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(r){let i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=r.getDate(),a=r.getMonth(),l=r.getFullYear();return o+" "+i[a]+" "+l}static getGridReleaseDate(){return new Date(parseInt(f.decode(f.RELEASE_INFORMATION),10))}static decode(r){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",a,l,d,p,C,v,b,R=0,x=r.replace(/[^A-Za-z0-9+/=]/g,"");for(;R<x.length;)p=i.indexOf(x.charAt(R++)),C=i.indexOf(x.charAt(R++)),v=i.indexOf(x.charAt(R++)),b=i.indexOf(x.charAt(R++)),a=p<<2|C>>4,l=(C&15)<<4|v>>2,d=(v&3)<<6|b,o=o+String.fromCharCode(a),v!=64&&(o=o+String.fromCharCode(l)),b!=64&&(o=o+String.fromCharCode(d));return o=f.utf8_decode(o),o}static utf8_decode(r){r=r.replace(/rn/g,"n");let i="";for(let o=0;o<r.length;o++){let a=r.charCodeAt(o);a<128?i+=String.fromCharCode(a):a>127&&a<2048?(i+=String.fromCharCode(a>>6|192),i+=String.fromCharCode(a&63|128)):(i+=String.fromCharCode(a>>12|224),i+=String.fromCharCode(a>>6&63|128),i+=String.fromCharCode(a&63|128))}return i}static setChartsLicenseManager(r){this.chartsLicenseManager=r}static setLicenseKey(r){this.licenseKey=r,this.chartsLicenseManager?.setLicenseKey(r,!0)}static extractBracketedInformation(r){if(!r.includes("["))return["legacy",!1,void 0];let i=r.match(/\[(.*?)\]/g).map(p=>p.replace("[","").replace("]",""));if(!i||i.length===0)return["legacy",!1,void 0];let o=i.filter(p=>p==="TRIAL").length===1,a=i.filter(p=>p.indexOf("v")===0)[0],l=a?a.replace("v",""):"legacy",d=M[i.filter(p=>M[p])[0]];return[l,o,d]}centerPadAndOutput(r){let i=this.totalMessageLength-r.length;console.error(r.padStart(i/2+r.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(r,i="*",o=""){console.error(r.padEnd(this.totalMessageLength-o.length,i)+o)}outputInvalidLicenseKey(r,i,o){r?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${o} only and does not cover you for ${i}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${P}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${P}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(r,i,o){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${o} expired on ${r}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(r){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${r} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${r} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(r,i,o,a){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${o} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${a} released before ${r}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${i}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}}h.LicenseManager=f,f.RELEASE_INFORMATION="MTc0MjU0ODYxMzc0Nw=="},1555:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MD5=void 0;class S{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(M,P){let f=M[0],c=M[1],r=M[2],i=M[3];f=this.ff(f,c,r,i,P[0],7,-680876936),i=this.ff(i,f,c,r,P[1],12,-389564586),r=this.ff(r,i,f,c,P[2],17,606105819),c=this.ff(c,r,i,f,P[3],22,-1044525330),f=this.ff(f,c,r,i,P[4],7,-176418897),i=this.ff(i,f,c,r,P[5],12,1200080426),r=this.ff(r,i,f,c,P[6],17,-1473231341),c=this.ff(c,r,i,f,P[7],22,-45705983),f=this.ff(f,c,r,i,P[8],7,1770035416),i=this.ff(i,f,c,r,P[9],12,-1958414417),r=this.ff(r,i,f,c,P[10],17,-42063),c=this.ff(c,r,i,f,P[11],22,-1990404162),f=this.ff(f,c,r,i,P[12],7,1804603682),i=this.ff(i,f,c,r,P[13],12,-40341101),r=this.ff(r,i,f,c,P[14],17,-1502002290),c=this.ff(c,r,i,f,P[15],22,1236535329),f=this.gg(f,c,r,i,P[1],5,-165796510),i=this.gg(i,f,c,r,P[6],9,-1069501632),r=this.gg(r,i,f,c,P[11],14,643717713),c=this.gg(c,r,i,f,P[0],20,-373897302),f=this.gg(f,c,r,i,P[5],5,-701558691),i=this.gg(i,f,c,r,P[10],9,38016083),r=this.gg(r,i,f,c,P[15],14,-660478335),c=this.gg(c,r,i,f,P[4],20,-405537848),f=this.gg(f,c,r,i,P[9],5,568446438),i=this.gg(i,f,c,r,P[14],9,-1019803690),r=this.gg(r,i,f,c,P[3],14,-187363961),c=this.gg(c,r,i,f,P[8],20,1163531501),f=this.gg(f,c,r,i,P[13],5,-1444681467),i=this.gg(i,f,c,r,P[2],9,-51403784),r=this.gg(r,i,f,c,P[7],14,1735328473),c=this.gg(c,r,i,f,P[12],20,-1926607734),f=this.hh(f,c,r,i,P[5],4,-378558),i=this.hh(i,f,c,r,P[8],11,-2022574463),r=this.hh(r,i,f,c,P[11],16,1839030562),c=this.hh(c,r,i,f,P[14],23,-35309556),f=this.hh(f,c,r,i,P[1],4,-1530992060),i=this.hh(i,f,c,r,P[4],11,1272893353),r=this.hh(r,i,f,c,P[7],16,-155497632),c=this.hh(c,r,i,f,P[10],23,-1094730640),f=this.hh(f,c,r,i,P[13],4,681279174),i=this.hh(i,f,c,r,P[0],11,-358537222),r=this.hh(r,i,f,c,P[3],16,-722521979),c=this.hh(c,r,i,f,P[6],23,76029189),f=this.hh(f,c,r,i,P[9],4,-640364487),i=this.hh(i,f,c,r,P[12],11,-421815835),r=this.hh(r,i,f,c,P[15],16,530742520),c=this.hh(c,r,i,f,P[2],23,-995338651),f=this.ii(f,c,r,i,P[0],6,-198630844),i=this.ii(i,f,c,r,P[7],10,1126891415),r=this.ii(r,i,f,c,P[14],15,-1416354905),c=this.ii(c,r,i,f,P[5],21,-57434055),f=this.ii(f,c,r,i,P[12],6,1700485571),i=this.ii(i,f,c,r,P[3],10,-1894986606),r=this.ii(r,i,f,c,P[10],15,-1051523),c=this.ii(c,r,i,f,P[1],21,-2054922799),f=this.ii(f,c,r,i,P[8],6,1873313359),i=this.ii(i,f,c,r,P[15],10,-30611744),r=this.ii(r,i,f,c,P[6],15,-1560198380),c=this.ii(c,r,i,f,P[13],21,1309151649),f=this.ii(f,c,r,i,P[4],6,-145523070),i=this.ii(i,f,c,r,P[11],10,-1120210379),r=this.ii(r,i,f,c,P[2],15,718787259),c=this.ii(c,r,i,f,P[9],21,-343485551),M[0]=this.add32(f,M[0]),M[1]=this.add32(c,M[1]),M[2]=this.add32(r,M[2]),M[3]=this.add32(i,M[3])}cmn(M,P,f,c,r,i){return P=this.add32(this.add32(P,M),this.add32(c,i)),this.add32(P<<r|P>>>32-r,f)}ff(M,P,f,c,r,i,o){return this.cmn(P&f|~P&c,M,P,r,i,o)}gg(M,P,f,c,r,i,o){return this.cmn(P&c|f&~c,M,P,r,i,o)}hh(M,P,f,c,r,i,o){return this.cmn(P^f^c,M,P,r,i,o)}ii(M,P,f,c,r,i,o){return this.cmn(f^(P|~c),M,P,r,i,o)}md51(M){let P=M.length,f=[1732584193,-271733879,-1732584194,271733878],c;for(c=64;c<=M.length;c+=64)this.md5cycle(f,this.md5blk(M.substring(c-64,c)));M=M.substring(c-64);let r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(c=0;c<M.length;c++)r[c>>2]|=M.charCodeAt(c)<<(c%4<<3);if(r[c>>2]|=128<<(c%4<<3),c>55)for(this.md5cycle(f,r),c=0;c<16;c++)r[c]=0;return r[14]=P*8,this.md5cycle(f,r),f}md5blk(M){let P=[];for(let f=0;f<64;f+=4)P[f>>2]=M.charCodeAt(f)+(M.charCodeAt(f+1)<<8)+(M.charCodeAt(f+2)<<16)+(M.charCodeAt(f+3)<<24);return P}rhex(M){let P="0123456789abcdef".split(""),f="",c=0;for(;c<4;c++)f+=P[M>>c*8+4&15]+P[M>>c*8&15];return f}hex(M){for(let P=0;P<M.length;P++)M[P]=this.rhex(M[P]);return M.join("")}md5(M){return this.hex(this.md51(M))}add32(M,P){return this.ieCompatibility?this.add32Compat(M,P):this.add32Std(M,P)}add32Std(M,P){return M+P&4294967295}add32Compat(M,P){let f=(M&65535)+(P&65535);return(M>>16)+(P>>16)+(f>>16)<<16|f&65535}}h.MD5=S},454:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.watermarkCSS=void 0,h.watermarkCSS='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}'},3879:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgWatermarkSelector=h.AgWatermark=void 0;let g=S(6624),M=S(454),P={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]};class f extends g.Component{wireBeans(r){this.licenseManager=r.licenseManager}constructor(){super(P),this.eLicenseTextRef=g.RefPlaceholder,this.registerCSS(M.watermarkCSS)}postConstruct(){let r=this.shouldDisplayWatermark();this.setDisplayed(r),r&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}h.AgWatermark=f,h.AgWatermarkSelector={selector:"AG-WATERMARK",component:f}},4769:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createGrid=void 0;let g=S(5608),M=S(6624),P=S(12);(0,M._setUmd)(),M.ModuleRegistry.registerModules([P.AllEnterpriseModule]),g.__exportStar(S(6624),h),g.__exportStar(S(12),h);var f=S(6825);Object.defineProperty(h,"createGrid",{enumerable:!0,get:function(){return f.createGrid}})},6825:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.createGrid=void 0;let g=S(6624),M=S(6624),P=S(12);function f(){let r=globalThis?.agCharts,i=r?.AgChartsEnterpriseModule??r?.AgChartsCommunityModule;i&&g.ModuleRegistry.registerModules([P.IntegratedChartsModule.with(i),P.SparklinesModule.with(i)])}function c(r,i,o){return f(),(0,M.createGrid)(r,i,o)}h.createGrid=c},12:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AllEnterpriseModule=h.IntegratedChartsModule=h.GridChartsModule=h.FindModule=h.PivotModule=h.AggregationModule=h.TreeDataModule=h.SparklinesModule=h.ServerSideRowModelApiModule=h.ServerSideRowModelModule=h.RangeSelectionModule=h.CellSelectionModule=h.MasterDetailModule=h.FiltersToolPanelModule=h.RowNumbersModule=h.ClipboardModule=h.ViewportRowModelModule=h.SideBarModule=h.RowGroupingModule=h.RowGroupingPanelModule=h.GroupFilterModule=h.MultiFilterModule=h.ExcelExportModule=h.StatusBarModule=h.SetFilterModule=h.RichSelectModule=h.ContextMenuModule=h.ColumnMenuModule=h.MenuModule=h.ColumnsToolPanelModule=h.AdvancedFilterModule=h.exportMultipleSheetsAsExcel=h.getMultipleSheetsAsExcel=h.LicenseManager=void 0;let g=S(5608);var M=S(3159);Object.defineProperty(h,"LicenseManager",{enumerable:!0,get:function(){return M.GridLicenseManager}});var P=S(1790);Object.defineProperty(h,"getMultipleSheetsAsExcel",{enumerable:!0,get:function(){return P.getMultipleSheetsAsExcel}}),Object.defineProperty(h,"exportMultipleSheetsAsExcel",{enumerable:!0,get:function(){return P.exportMultipleSheetsAsExcel}});var f=S(7976);Object.defineProperty(h,"AdvancedFilterModule",{enumerable:!0,get:function(){return f.AdvancedFilterModule}});var c=S(6455);Object.defineProperty(h,"ColumnsToolPanelModule",{enumerable:!0,get:function(){return c.ColumnsToolPanelModule}});var r=S(7130);Object.defineProperty(h,"MenuModule",{enumerable:!0,get:function(){return r.MenuModule}}),Object.defineProperty(h,"ColumnMenuModule",{enumerable:!0,get:function(){return r.ColumnMenuModule}}),Object.defineProperty(h,"ContextMenuModule",{enumerable:!0,get:function(){return r.ContextMenuModule}});var i=S(9327);Object.defineProperty(h,"RichSelectModule",{enumerable:!0,get:function(){return i.RichSelectModule}});var o=S(9002);Object.defineProperty(h,"SetFilterModule",{enumerable:!0,get:function(){return o.SetFilterModule}});var a=S(8450);Object.defineProperty(h,"StatusBarModule",{enumerable:!0,get:function(){return a.StatusBarModule}});var l=S(2886);Object.defineProperty(h,"ExcelExportModule",{enumerable:!0,get:function(){return l.ExcelExportModule}});var d=S(5434);Object.defineProperty(h,"MultiFilterModule",{enumerable:!0,get:function(){return d.MultiFilterModule}});var p=S(1442);Object.defineProperty(h,"GroupFilterModule",{enumerable:!0,get:function(){return p.GroupFilterModule}}),Object.defineProperty(h,"RowGroupingPanelModule",{enumerable:!0,get:function(){return p.RowGroupingPanelModule}}),Object.defineProperty(h,"RowGroupingModule",{enumerable:!0,get:function(){return p.RowGroupingModule}});var C=S(6358);Object.defineProperty(h,"SideBarModule",{enumerable:!0,get:function(){return C.SideBarModule}});var v=S(7794);Object.defineProperty(h,"ViewportRowModelModule",{enumerable:!0,get:function(){return v.ViewportRowModelModule}});var b=S(3766);Object.defineProperty(h,"ClipboardModule",{enumerable:!0,get:function(){return b.ClipboardModule}});var R=S(976);Object.defineProperty(h,"RowNumbersModule",{enumerable:!0,get:function(){return R.RowNumbersModule}});var x=S(2515);Object.defineProperty(h,"FiltersToolPanelModule",{enumerable:!0,get:function(){return x.FiltersToolPanelModule}});var E=S(1594);Object.defineProperty(h,"MasterDetailModule",{enumerable:!0,get:function(){return E.MasterDetailModule}});var T=S(266);Object.defineProperty(h,"CellSelectionModule",{enumerable:!0,get:function(){return T.CellSelectionModule}}),Object.defineProperty(h,"RangeSelectionModule",{enumerable:!0,get:function(){return T.RangeSelectionModule}});var D=S(9074);Object.defineProperty(h,"ServerSideRowModelModule",{enumerable:!0,get:function(){return D.ServerSideRowModelModule}}),Object.defineProperty(h,"ServerSideRowModelApiModule",{enumerable:!0,get:function(){return D.ServerSideRowModelApiModule}});var k=S(2949);Object.defineProperty(h,"SparklinesModule",{enumerable:!0,get:function(){return k.SparklinesModule}});var O=S(9428);Object.defineProperty(h,"TreeDataModule",{enumerable:!0,get:function(){return O.TreeDataModule}});var N=S(7032);Object.defineProperty(h,"AggregationModule",{enumerable:!0,get:function(){return N.AggregationModule}});var V=S(5470);Object.defineProperty(h,"PivotModule",{enumerable:!0,get:function(){return V.PivotModule}});var j=S(7546);Object.defineProperty(h,"FindModule",{enumerable:!0,get:function(){return j.FindModule}});var Q=S(1527);Object.defineProperty(h,"GridChartsModule",{enumerable:!0,get:function(){return Q.GridChartsModule}}),Object.defineProperty(h,"IntegratedChartsModule",{enumerable:!0,get:function(){return Q.IntegratedChartsModule}});var Y=S(1809);Object.defineProperty(h,"AllEnterpriseModule",{enumerable:!0,get:function(){return Y.AllEnterpriseModule}}),g.__exportStar(S(6624),h)},3763:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DetailCellRenderer=void 0;let g=S(6624),M=S(3210),P=S(7324),f={tag:"div",cls:"ag-details-row"},c={tag:"div",cls:"ag-details-row",role:"gridcell",children:[{tag:"div",ref:"eDetailGrid",cls:"ag-details-grid",role:"presentation"}]};class r extends g.Component{constructor(){super(...arguments),this.eDetailGrid=g.RefPlaceholder}wireBeans(o){this.context=o.context}init(o){this.params=o,this.selectAndSetTemplate();let a={addOrRemoveCssClass:(l,d)=>this.addOrRemoveCssClass(l,d),addOrRemoveDetailGridCssClass:(l,d)=>this.eDetailGrid.classList.toggle(l,d),setDetailGrid:l=>this.setDetailGrid(l),setRowData:l=>this.setRowData(l),getGui:()=>this.eDetailGrid};this.ctrl=this.createManagedBean(new M.DetailCellRendererCtrl),this.ctrl.init(a,o)}refresh(){return this.ctrl?.refresh()??!1}selectAndSetTemplate(){let o=this.params;if(o.pinned){this.setTemplate(f);return}let a=()=>{this.setTemplate(c)};if((0,g._missing)(o.template))a();else if(typeof o.template=="string")this.setTemplate(o.template,[]);else if(typeof o.template=="function"){let l=o.template,d=l(o);this.setTemplate(d,[])}else(0,g._warn)(168),a();this.eDetailGrid==null&&(0,g._warn)(169)}setDetailGrid(o){if(!this.eDetailGrid)return;let a=this.context.getBean("frameworkCompWrapper"),l=new P.DetailFrameworkComponentWrapper(a),{frameworkOverrides:d}=this.beans,p=(0,g.createGrid)(this.eDetailGrid,o,{frameworkOverrides:d,providedBeanInstances:{frameworkCompWrapper:l},modules:(0,g._getGridRegisteredModules)(this.params.api.getGridId(),o.rowModelType??"clientSide")});this.detailApi=p,this.ctrl?.registerDetailWithMaster(p),this.addDestroyFunc(()=>{p.destroy()})}setRowData(o){this.detailApi?.setGridOption("rowData",o)}}h.DetailCellRenderer=r},3210:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DetailCellRendererCtrl=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.loadRowDataVersion=0}wireBeans(f){this.environment=f.environment}init(f,c){this.params=c,this.comp=f,c.pinned==null&&(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.createDetailGrid(),this.loadRowData(),this.addManagedEventListeners({fullWidthRowFocused:this.onFullWidthRowFocused.bind(this)}))}onFullWidthRowFocused(f){let c=this.params,r={rowIndex:c.node.rowIndex,rowPinned:c.node.rowPinned},i={rowIndex:f.rowIndex,rowPinned:f.rowPinned};(0,g._isSameRow)(r,i)&&(0,g._focusInto)(this.comp.getGui(),f.fromBelow)}setAutoHeightClasses(){let f=this.gos.get("detailRowAutoHeight"),c=f?"ag-details-row-auto-height":"ag-details-row-fixed-height",r=f?"ag-details-grid-auto-height":"ag-details-grid-fixed-height",i=this.comp;i.addOrRemoveCssClass(c,!0),i.addOrRemoveDetailGridCssClass(r,!0)}setupRefreshStrategy(){let f=this.params.refreshStrategy;if(f=="everything"||f=="nothing"||f=="rows"){this.refreshStrategy=f;return}f!=null&&(0,g._warn)(170,{providedStrategy:f}),this.refreshStrategy="rows"}createDetailGrid(){let{params:f,gos:c}=this;if((0,g._missing)(f.detailGridOptions)){(0,g._warn)(171);return}let r=c.get("theme"),i=f.detailGridOptions.theme;i&&i!==r&&(0,g._warn)(267);let o={themeStyleContainer:this.environment.eStyleContainer,...f.detailGridOptions,theme:r};c.get("detailRowAutoHeight")&&(o.domLayout="autoHeight"),this.comp.setDetailGrid(o)}registerDetailWithMaster(f){let{params:c,beans:{selectionSvc:r,findSvc:i}}=this,o=c.node.id,a=c.api,l={id:o,api:f},d=c.node;if(a.isDestroyed())return;a.addDetailGridInfo(o,l),d.detailGridInfo=l;let p=d.parent;i?.registerDetailGrid(d,f);function C(){p&&r?.refreshMasterNodeState(p)}function v({node:b,source:R}){b!==p||R==="masterDetail"||f.isDestroyed()||r?.setDetailSelectionState(p,c.detailGridOptions,f)}f.addEventListener("firstDataRendered",()=>{f.isDestroyed()||a.isDestroyed()||(r?.setDetailSelectionState(p,c.detailGridOptions,f),f.addEventListener("selectionChanged",C),a.addEventListener("rowSelected",v))}),this.addDestroyFunc(()=>{d.detailGridInfo===l&&(a.isDestroyed()||a.removeDetailGridInfo(o),d.detailGridInfo=null)})}loadRowData(){this.loadRowDataVersion++;let f=this.loadRowDataVersion,c=this.params;if(c.detailGridOptions?.rowModelType==="serverSide"){c.node.detailGridInfo?.api?.refreshServerSide({purge:!0});return}let r=c.getDetailRowData;if(!r){(0,g._warn)(172);return}let i=a=>{this.loadRowDataVersion===f&&this.comp.setRowData(a)},o={node:c.node,data:c.node.data,successCallback:i,context:(0,g._addGridCommonParams)(this.gos,{}).context};r(o)}refresh(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0}}h.DetailCellRendererCtrl=M},7324:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DetailFrameworkComponentWrapper=void 0;class S{constructor(M){this.parentWrapper=M}wrap(M,P,f,c){return this.parentWrapper.wrap(M,P,f,c)}}h.DetailFrameworkComponentWrapper=S},4276:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.forEachDetailGridInfo=h.getDetailGridInfo=h.removeDetailGridInfo=h.addDetailGridInfo=void 0;function S(c,r){let i=c.masterDetailSvc?.store;return i?r(i):void 0}function g(c,r,i){S(c,o=>{o[r]=i})}h.addDetailGridInfo=g;function M(c,r){S(c,i=>{delete i[r]})}h.removeDetailGridInfo=M;function P(c,r){return S(c,i=>i[r])}h.getDetailGridInfo=P;function f(c,r){S(c,i=>{let o=0;Object.values(i).forEach(a=>{a&&r(a,o++)})})}h.forEachDetailGridInfo=f},2283:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.masterDetailModuleCSS=void 0,h.masterDetailModuleCSS=".ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}"},1594:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MasterDetailModule=h.SharedMasterDetailModule=void 0;let g=S(6624),M=S(9206),P=S(6858),f=S(7205),c=S(3763),r=S(3210),i=S(4276),o=S(2283),a=S(2771);h.SharedMasterDetailModule={moduleName:"SharedMasterDetail",version:f.VERSION,beans:[a.MasterDetailService],userComponents:{agDetailCellRenderer:c.DetailCellRenderer},dynamicBeans:{detailCellRendererCtrl:r.DetailCellRendererCtrl},apiFunctions:{addDetailGridInfo:i.addDetailGridInfo,removeDetailGridInfo:i.removeDetailGridInfo,getDetailGridInfo:i.getDetailGridInfo,forEachDetailGridInfo:i.forEachDetailGridInfo},dependsOn:[M.EnterpriseCoreModule,P.GroupCellRendererModule,P.StickyRowModule],css:[o.masterDetailModuleCSS]},h.MasterDetailModule={moduleName:"MasterDetail",version:f.VERSION,dependsOn:[h.SharedMasterDetailModule,P.ClientSideRowModelHierarchyModule,g.EventApiModule]}},2771:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MasterDetailService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="masterDetailSvc",this.store={}}isEnabled(){let f=this.gos;return f.get("masterDetail")&&!f.get("treeData")}postConstruct(){(0,g._isClientSideRowModel)(this.gos)&&(this.enabled=this.isEnabled(),this.addManagedEventListeners({beforeRefreshModel:this.beforeRefreshModel.bind(this)}))}beforeRefreshModel({params:f}){if(f.changedProps){let c=this.isEnabled();if(this.enabled!==c){this.setMasters(null);return}}f.rowDataUpdated&&this.setMasters(f.changedRowNodes)}setMasters(f){let c=this.isEnabled();this.enabled=c;let r=this.gos,i=r.get("isRowMaster"),o=r.get("groupDefaultExpanded"),a=(l,d,p)=>{let C=l.master,v=c;if(c)if(d||p){if(i){let b=l.data;v=!!b&&!!i(b)}}else v=C;if(v&&d)if(o===-1)l.expanded=!0;else{let b=this.beans.rowGroupColsSvc?.columns.length??0;l.expanded=b<o}else!v&&C&&(l.expanded=!1);v!==C&&(l.master=v,l.dispatchRowEvent("masterChanged"))};if(f){for(let l of f.updates)a(l,!1,!0);for(let l of f.adds)a(l,!0,!1)}else{let l=(0,g._getClientSideRowModel)(this.beans)?.rootNode?.allLeafChildren;if(l)for(let d=0,p=l.length;d<p;++d)a(l[d],!0,!1)}}getDetail(f){if(!f.master||!f.expanded)return null;let c=f.detailNode;return c||(c=new g.RowNode(this.beans),c.detail=!0,c.selectable=!1,c.parent=f,(0,g._exists)(f.id)&&(c.id="detail_"+f.id),c.data=f.data,c.level=f.level+1,f.detailNode=c,c)}setupDetailRowAutoHeight(f,c){let{gos:r,beans:i}=this;if(!r.get("detailRowAutoHeight"))return;let o=()=>{let l=c.clientHeight;if(l!=null&&l>0){let d=()=>{let{rowModel:p}=this.beans,{rowNode:C}=f;C.setRowHeight(l),((0,g._isClientSideRowModel)(r,p)||(0,g._isServerSideRowModel)(r,p))&&p.onRowHeightChanged()};window.setTimeout(d,0)}},a=(0,g._observeResize)(i,c,o);f.addDestroyFunc(a),o()}destroy(){this.store={},super.destroy()}}h.MasterDetailService=M},5636:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ChartMenuItemMapper=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="chartMenuItemMapper"}getChartItems(r){let i=this.beans,o=i.chartSvc,a=r==="pivotChart";if(!o)return null;let l=this.getLocaleTextFunc.bind(this),d=a?new P(i,o,l):new f(i,o,l),p=o.isEnterprise(),C=d.getMenuItem();if(C&&C.subMenu&&!p){let b=R=>({...R,subMenu:R.subMenu?.filter(x=>!x._enterprise).map(x=>b(x))});C=b(C)}let v=this.gos.get("chartToolPanelsDef")?.settingsPanel?.chartGroupsDef;return v&&(C=this.filterAndOrderChartMenu(C,v,d.getConfigLookup())),this.cleanInternals(C)}cleanInternals(r){if(!r)return r;let i=o=>(delete o?._key,delete o?._enterprise,o?.subMenu?.forEach(a=>i(a)),o);return i(r)}buildLookup(r){let i={},o=a=>{i[a._key]=a,a.subMenu&&a.subMenu.forEach(l=>o(l))};return o(r),i}filterAndOrderChartMenu(r,i,o){let a=this.buildLookup(r),l={...r,subMenu:[]};for(let d of Object.keys(i)){let p=i[d],C=o[d];if(C===null)continue;if(C==null){(0,g._warn)(173,{group:d});continue}let v=a[C._key];if(v)if(v.subMenu){let b=p.map(R=>{let x=C[R];if(x==null){(0,g._warn)(174,{group:d,chartType:R});return}return a[x]}).filter(R=>R!==void 0);b.length>0&&(v.subMenu=b,l.subMenu?.push(v))}else l.subMenu?.push(v)}return l.subMenu?.length==0?null:l}}h.ChartMenuItemMapper=M;class P{constructor(r,i,o){this.beans=r,this.chartSvc=i,this.getLocaleTextFunc=o}getMenuItem(){let r=this.getLocaleTextFunc(),i=(o,a,l,d,p=!1)=>({name:r(o,a+"\u200E"),action:()=>this.chartSvc.createPivotChart({chartType:l}),_key:d,_enterprise:p});return{name:r("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:r("columnChart","Column"),subMenu:[i("groupedColumn","Grouped","groupedColumn","pivotGroupedColumn"),i("stackedColumn","Stacked","stackedColumn","pivotStackedColumn"),i("normalizedColumn","100% Stacked","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:r("barChart","Bar"),subMenu:[i("groupedBar","Grouped","groupedBar","pivotGroupedBar"),i("stackedBar","Stacked","stackedBar","pivotStackedBar"),i("normalizedBar","100% Stacked","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:r("pieChart","Pie"),subMenu:[i("pie","Pie","pie","pivotPie"),i("donut","Donut","donut","pivotDonut")]},{_key:"pivotLineChart",name:r("lineChart","Line"),subMenu:[i("lineChart","Line","line","pivotLineChart"),i("stackedLine","Stacked","stackedLine","pivotStackedLine"),i("normalizedLine","100% Stacked","normalizedLine","pivotNormalizedLine")]},{_key:"pivotAreaChart",name:r("areaChart","Area"),subMenu:[i("areaChart","Area","area","pivotArea"),i("stackedArea","Stacked","stackedArea","pivotStackedArea"),i("normalizedArea","100% Stacked","normalizedArea","pivotNormalizedArea")]},{_key:"pivotXYChart",name:r("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter","scatter","pivotScatter"),i("bubble","Bubble","bubble","pivotBubble")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:r("statisticalChart","Statistical"),subMenu:[i("histogramChart","Histogram","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:r("hierarchicalChart","Hierarchical"),subMenu:[i("treemapChart","Treemap","treemap","pivotTreemap",!0),i("sunburstChart","Sunburst","sunburst","pivotSunburst",!0)]},{_key:"pivotFunnel",name:r("funnel","Funnel"),subMenu:[i("funnel","Funnel","funnel","pivotFunnel"),i("coneFunnel","Cone Funnel","coneFunnel","pivotConeFunnel"),i("pyramid","Pyramid","pyramid","pivotPyramid")]},{_key:"pivotCombinationChart",name:r("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line","columnLineCombo","pivotColumnLineCombo"),i("AreaColumnCombo","Area & Column","areaColumnCombo","pivotAreaColumnCombo")]}],icon:(0,g._createIconNoSpan)("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart",stackedLine:"pivotStackedLine",normalizedLine:"pivotNormalizedLine"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},funnelGroup:{_key:"pivotFunnel",funnel:"pivotFunnel",coneFunnel:"pivotConeFunnel",pyramid:"pivotPyramid"},polarGroup:null,specializedGroup:null}}}class f{constructor(r,i,o){this.beans=r,this.chartSvc=i,this.getLocaleTextFunc=o}getMenuItem(){let r=this.getLocaleTextFunc(),i=(o,a,l,d,p=!1)=>({name:r(o,a),action:()=>this.chartSvc.createChartFromCurrentRange(l),_key:d,_enterprise:p});return{name:r("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:r("columnChart","Column"),subMenu:[i("groupedColumn","Grouped","groupedColumn","rangeGroupedColumn"),i("stackedColumn","Stacked","stackedColumn","rangeStackedColumn"),i("normalizedColumn","100% Stacked","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:r("barChart","Bar"),subMenu:[i("groupedBar","Grouped","groupedBar","rangeGroupedBar"),i("stackedBar","Stacked","stackedBar","rangeStackedBar"),i("normalizedBar","100% Stacked","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:r("pieChart","Pie"),subMenu:[i("pie","Pie","pie","rangePie"),i("donut","Donut","donut","rangeDonut")],_key:"rangePieChart"},{name:r("lineChart","Line"),subMenu:[i("lineChart","Line","line","rangeLineChart"),i("stackedLine","Stacked","stackedLine","rangeStackedLine"),i("normalizedLine","100% Stacked","normalizedLine","rangeNormalizedLine")],_key:"rangeLineChart"},{name:r("areaChart","Area"),subMenu:[i("areaChart","Area","area","rangeArea"),i("stackedArea","Stacked","stackedArea","rangeStackedArea"),i("normalizedArea","100% Stacked","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:r("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter","scatter","rangeScatter"),i("bubble","Bubble","bubble","rangeBubble")],_key:"rangeXYChart"},{name:r("polarChart","Polar"),subMenu:[i("radarLine","Radar Line","radarLine","rangeRadarLine"),i("radarArea","Radar Area","radarArea","rangeRadarArea"),i("nightingale","Nightingale","nightingale","rangeNightingale"),i("radialColumn","Radial Column","radialColumn","rangeRadialColumn"),i("radialBar","Radial Bar","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:r("statisticalChart","Statistical"),subMenu:[i("boxPlot","Box Plot","boxPlot","rangeBoxPlot",!0),i("histogramChart","Histogram","histogram","rangeHistogram",!1),i("rangeBar","Range Bar","rangeBar","rangeRangeBar",!0),i("rangeArea","Range Area","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:r("hierarchicalChart","Hierarchical"),subMenu:[i("treemap","Treemap","treemap","rangeTreemap"),i("sunburst","Sunburst","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:r("specializedChart","Specialized"),subMenu:[i("heatmap","Heatmap","heatmap","rangeHeatmap"),i("waterfall","Waterfall","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:r("funnel","Funnel"),subMenu:[i("funnel","Funnel","funnel","rangeFunnel"),i("coneFunnel","Cone Funnel","coneFunnel","rangeConeFunnel"),i("pyramid","Pyramid","pyramid","rangePyramid")],_key:"rangeFunnel",_enterprise:!0},{name:r("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line","columnLineCombo","rangeColumnLineCombo"),i("AreaColumnCombo","Area & Column","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:(0,g._createIconNoSpan)("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart",stackedLine:"rangeStackedLine",normalizedLine:"rangeNormalizedLine"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},funnelGroup:{_key:"rangeFunnel",funnel:"rangeFunnel",coneFunnel:"rangeConeFunnel",pyramid:"rangePyramid"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}}}},9262:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnChooserFactory=void 0;let g=S(6624),M=S(1269),P=S(8775);class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="colChooserFactory"}createColumnSelectPanel(r,i,o,a){let l=r.createManagedBean(new M.AgPrimaryCols),d=a??i?.getColDef().columnChooserParams??{},{contractColumnSelection:p,suppressColumnExpandAll:C,suppressColumnFilter:v,suppressColumnSelectAll:b,suppressSyncLayoutWithGrid:R,columnLayout:x}=d;return l.init(!!o,(0,g._addGridCommonParams)(this.gos,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!p,suppressColumnExpandAll:!!C,suppressColumnFilter:!!v,suppressColumnSelectAll:!!b,suppressSyncLayoutWithGrid:!!x||!!R,onStateUpdated:()=>{}}),"columnMenu"),x&&l.setColumnLayout(x),l}showColumnChooser({column:r,chooserParams:i,eventSource:o,headerPosition:a}){this.hideActiveColumnChooser();let l=this.createColumnSelectPanel(this,r,!0,i),d=this.getLocaleTextFunc(),p=this.beans,{visibleCols:C,focusSvc:v,menuUtils:b}=p,R=C.allCols.indexOf(r),x=r?v.focusedHeader??a??null:null;this.activeColumnChooserDialog=this.createBean(new P.AgDialog({title:d("chooseColumns","Choose Columns"),component:l,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{(0,g._findNextFocusableElement)(p,l.getGui())?.focus({preventScroll:!0}),this.dispatchVisibleChangedEvent(!0,r)},closedCallback:E=>{let T=this.activeColumnChooser.getGui();this.destroyBean(this.activeColumnChooser),this.activeColumnChooser=void 0,this.activeColumnChooserDialog=void 0,this.dispatchVisibleChangedEvent(!1,r),r&&b.restoreFocusOnClose({column:r,headerPosition:x,columnIndex:R,eventSource:o},T,E,!0)},postProcessPopupParams:{type:"columnChooser",column:r,eventSource:o}})),this.activeColumnChooser=l}hideActiveColumnChooser(){this.destroyBean(this.activeColumnChooserDialog)}dispatchVisibleChangedEvent(r,i){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:r,switchingTab:!1,key:"columnChooser",column:i??null})}}h.ColumnChooserFactory=f},5884:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColumnMenuFactory=void 0;let g=S(6624),M=S(8105),P=S(9476),f=S(1708);class c extends g.BeanStub{constructor(){super(...arguments),this.beanName="colMenuFactory"}createMenu(i,o,a,l){let d=i.createManagedBean(new P.AgMenuList(0,{column:a??null,node:null,value:null})),p=this.beans.menuItemMapper.mapWithStockItems(o,a??null,l,"columnMenu");return d.addMenuItems(p),d}getMenuItems(i=null,o=null){let a=this.getDefaultMenuOptions(i),l,d=(i?.getColDef()??o?.getColGroupDef())?.mainMenuItems;if(Array.isArray(d))l=d;else if(typeof d=="function")l=d((0,g._addGridCommonParams)(this.gos,{column:i,columnGroup:o,defaultItems:a}));else{let p=this.gos.getCallback("getMainMenuItems");p?l=p({column:i,columnGroup:o,defaultItems:a}):l=a}return(0,f._removeRepeatsFromArray)(l,f.MENU_ITEM_SEPARATOR),l}getDefaultMenuOptions(i){let o=[],{beans:a,gos:l}=this,{colChooserFactory:d,rowGroupColsSvc:p,colModel:C,expansionSvc:v,sortSvc:b,menuSvc:R,pinnedCols:x,aggFuncSvc:E,colAutosize:T}=a,D=(0,g._isLegacyMenuEnabled)(l),k=()=>{!D&&d&&o.push("columnChooser"),o.push("resetColumns")};if(!i)return k(),o;let{colDef:O}=i,N=x&&!O.lockPinned,V=p?.columns.length??0,j=V>0,Q=i.isPrimary(),Y=E&&Q&&j&&i.isAllowValue()||!Q;if(b&&!D&&i.isSortable()){let $=i.getSort();$!=="asc"&&o.push("sortAscending"),$!=="desc"&&o.push("sortDescending"),$&&o.push("sortUnSort"),o.push(f.MENU_ITEM_SEPARATOR)}if(R?.isFilterMenuItemEnabled(i)&&(o.push("columnFilter"),o.push(f.MENU_ITEM_SEPARATOR)),N&&o.push("pinSubMenu"),Y&&o.push("valueAggSubMenu"),(N||Y)&&o.push(f.MENU_ITEM_SEPARATOR),T&&(o.push("autoSizeThis"),o.push("autoSizeAll"),o.push(f.MENU_ITEM_SEPARATOR)),p&&l.isModuleRegistered("SharedRowGrouping")){let $=o.length;O.showRowGroup?o.push("rowUnGroup"):i.isAllowRowGroup()&&Q&&(i.isRowGroupActive()?(0,M.isRowGroupColLocked)(i,a)||o.push("rowUnGroup"):o.push("rowGroup")),o.length>$&&o.push(f.MENU_ITEM_SEPARATOR)}return k(),v&&(0,g._isClientSideRowModel)(l)&&(l.get("treeData")||V>(C.isPivotMode()?1:0))&&(o.push("expandAll"),o.push("contractAll")),o}}h.ColumnMenuFactory=c},3461:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ContextMenuService=void 0;let g=S(6624),M=S(9476),P="ag-menu",f="ag-context-menu-open",c="ag-context-menu-loading-icon";class r extends g.BeanStub{constructor(){super(...arguments),this.beanName="contextMenuSvc",this.destroyLoadingSpinner=null,this.lastPromise=0}hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(a,l,d,p){let C=[],{clipboardSvc:v,chartSvc:b,csvCreator:R,excelCreator:x,colModel:E,rangeSvc:T,gos:D}=this.beans;if((0,g._exists)(a)&&v&&l&&(D.get("suppressCutToClipboard")||C.push("cut"),C.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),D.get("enableCharts")&&b&&(E.isPivotMode()&&C.push("pivotChart"),T&&!T.isEmpty()&&C.push("chartRange")),(0,g._exists)(a)){let V=D.get("suppressExcelExport")||!x,j=D.get("suppressCsvExport")||!R;!(0,g._isIOSUserAgent)()&&(!V||!j)&&C.push("export")}let k=C.length?C:void 0,O=l?.getColDef().contextMenuItems;return Array.isArray(O)?O:typeof O=="function"?O((0,g._addGridCommonParams)(D,{column:l,node:a,value:d,defaultItems:k,event:p})):D.getCallback("getContextMenuItems")?.({column:l,node:a,value:d,defaultItems:k,event:p})??C}getContextMenuPosition(a,l){let d=this.getRowCtrl(a),p=this.getCellGui(d,l);if(!p)return{x:0,y:d?.getRowYPosition()??0};let C=p.getBoundingClientRect();return{x:C.x+C.width/2,y:C.y+C.height/2}}showContextMenu(a){let l=a.rowNode??null,d=a.column??null,{anchorToElement:p,value:C,source:v}=a;l&&d&&C==null&&(C=this.beans.valueSvc.getValueForDisplay(d,l)),p==null&&(p=this.getContextMenuAnchorElement(l,d)),this.beans.menuUtils.onContextMenu({mouseEvent:a.mouseEvent??null,touchEvent:a.touchEvent??null,showMenuCallback:b=>this.showMenu(l,d,C,b,p),source:v})}handleContextMenuMouseEvent(a,l,d,p){let C=p?.rowNode??d?.rowNode??null,v=p?.column??d?.findFullWidthInfoForEvent(a||l)?.column??null,{valueSvc:b,ctrlsSvc:R}=this.beans,x=v?b.getValue(v,C):null,E=R.getGridBodyCtrl(),T=p?p.eGui:E.eGridBody;this.showContextMenu({mouseEvent:a,touchEvent:l,rowNode:C,column:v,value:x,anchorToElement:T,source:"ui"})}showMenu(a,l,d,p,C){let v=this.getMenuItems(a,l,d,p);if((0,g._isPromise)(v)){let b=this.lastPromise+1;return this.lastPromise=b,this.destroyLoadingSpinner||this.createLoadingIcon(p),v.then(R=>{if(this.lastPromise!==b)return;let{target:x}=p,E=!x;R&&R.length&&(E||(0,g._isVisible)(x))&&!this.beans.overlays?.isExclusive()&&this.createContextMenu({menuItems:R,node:a,column:l,value:d,mouseEvent:p,anchorToElement:C}),this.destroyLoadingSpinner?.()}),!0}return v===void 0||!v?.length?!1:(this.createContextMenu({menuItems:v,node:a,column:l,value:d,mouseEvent:p,anchorToElement:C}),!0)}createLoadingIcon(a){let{beans:l}=this,d=this.getLocaleTextFunc(),p=(0,g._createIconNoSpan)("loadingMenuItems",l),C=(0,g._createElement)({tag:"div",cls:c});C.appendChild(p);let v=(0,g._getRootNode)(l),b=(0,g._getPageBody)(l);if(!b){(0,g._warn)(54);return}b.appendChild(C),l.ariaAnnounce?.announceValue(d("ariaLabelLoadingContextMenu","Loading Context Menu"),"contextmenu"),l.environment.applyThemeClasses(C),(0,g._anchorElementToMouseMoveEvent)(C,a,l);let R=x=>{(0,g._anchorElementToMouseMoveEvent)(C,x,l)};v.addEventListener("mousemove",R),this.destroyLoadingSpinner=()=>{v.removeEventListener("mousemove",R),b.removeChild(C),this.destroyLoadingSpinner=null}}createContextMenu(a){let{menuItems:l,node:d,column:p,value:C,mouseEvent:v,anchorToElement:b}=a,{ctrlsSvc:R,focusSvc:x,popupSvc:E}=this.beans,T=R.getGridBodyCtrl().eGridBody,D=new i(l,p,d,C);this.createBean(D);let k=D.getGui();p||x.clearFocusedCell();let O={column:p,rowNode:d,type:"contextMenu",mouseEvent:v,ePopup:k,nudgeY:1},N=this.getLocaleTextFunc(),V=E?.addPopup({modal:!0,eChild:k,closeOnEsc:!0,closedCallback:Q=>{(0,g._preserveRangesWhile)(this.beans,()=>{T.classList.remove(f),this.destroyBean(D),this.dispatchVisibleChangedEvent(!1,Q===void 0?"api":"ui")})},click:v,positionCallback:()=>{let Q=this.gos.get("enableRtl");E?.positionPopupUnderMouseEvent({...O,nudgeX:Q?(k.offsetWidth+1)*-1:1})},anchorToElement:b,ariaLabel:N("ariaLabelContextMenu","Context Menu")});V&&(T.classList.add(f),D.afterGuiAttached({container:"contextMenu",hidePopup:V.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=D,D.addEventListener("destroyed",()=>{this.activeMenu===D&&(this.activeMenu=null)}),V&&D.addEventListener("closeMenu",Q=>V.hideFunc({mouseEvent:Q.mouseEvent??void 0,keyboardEvent:Q.keyboardEvent??void 0,forceHide:!0}));let j=v&&v instanceof MouseEvent&&v.type==="mousedown";this.dispatchVisibleChangedEvent(!0,j?"api":"ui")}dispatchVisibleChangedEvent(a,l="ui"){this.eventSvc.dispatchEvent({type:"contextMenuVisibleChanged",visible:a,source:l})}getRowCtrl(a){let{rowIndex:l,rowPinned:d}=a||{};if(l!=null)return this.beans.rowRenderer.getRowByPosition({rowIndex:l,rowPinned:d})||void 0}getCellGui(a,l){return!a||!l?void 0:a.getCellCtrl(l)?.eGui||void 0}getContextMenuAnchorElement(a,l){let d=this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody,p=this.getRowCtrl(a);if(!p)return d;let C=this.getCellGui(p,l);return C||(p.isFullWidth()?p.getFullWidthElement():d)}destroy(){this.destroyLoadingSpinner?.(),super.destroy()}}h.ContextMenuService=r;class i extends g.Component{constructor(a,l,d,p){super({tag:"div",cls:P,role:"presentation"}),this.menuItems=a,this.column=l,this.node=d,this.value=p,this.menuList=null,this.focusedCell=null}postConstruct(){let a=this.createManagedBean(new M.AgMenuList(0,{column:this.column,node:this.node,value:this.value})),l=this.beans.menuItemMapper.mapWithStockItems(this.menuItems,null,()=>this.getGui(),"contextMenu");a.addMenuItems(l),this.appendChild(a),this.menuList=a,a.addEventListener("closeMenu",d=>this.dispatchLocalEvent(d))}afterGuiAttached({hidePopup:a}){a&&this.addDestroyFunc(a),this.focusedCell=this.beans.focusSvc.getFocusedCell();let l=this.menuList;l&&(0,g._preserveRangesWhile)(this.beans,()=>(0,g._focusInto)(l.getGui()))}restoreFocusedCell(){let{beans:a,focusedCell:l}=this,d=a.focusSvc,p=d.getFocusedCell();if(p&&l&&(0,g._areCellsEqual)(p,l)){let{rowIndex:C,rowPinned:v,column:b}=l;(0,g._isNothingFocused)(a)&&d.setFocusedCell({rowIndex:C,column:b,rowPinned:v,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!(0,g._isKeyboardMode)()})}}destroy(){super.destroy(),this.restoreFocusedCell()}}},6345:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.EnterpriseMenuFactory=void 0;let g=S(6624),M=S(5875),P="filterMenuTab",f="generalMenuTab",c="columnsMenuTab",r=[f,P,c];class i extends g.BeanStub{constructor(){super(...arguments),this.beanName="enterpriseMenuFactory"}hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(d,p,C,v,b){let{column:R,columnGroup:x}=this.splitColumnOrGroup(d),E=b?"filterMenuTab":void 0;this.showMenu(R,x,T=>{let D=T.getGui();this.beans.popupSvc.positionPopupUnderMouseEvent({type:C,column:R,mouseEvent:p,ePopup:D}),E&&T.showTab?.(E),this.dispatchVisibleChangedEvent(!0,!1,R,x,E)},C,E,void 0,p.target,v)}splitColumnOrGroup(d){let p=d&&(0,g.isColumn)(d);return{column:p?d:void 0,columnGroup:p?void 0:d}}showMenuAfterButtonClick(d,p,C,v,b){let R=-1,x="left";this.gos.get("enableRtl")&&(R=1,x="right");let E=b?"filterMenuTab":void 0,T=E?[E]:void 0,D=(0,g._isLegacyMenuEnabled)(this.gos),k=(D?9:4)*R,O=D?-23:4,{column:N,columnGroup:V}=this.splitColumnOrGroup(d);this.showMenu(N,V,j=>{let Q=j.getGui();this.beans.popupSvc.positionPopupByComponent({type:C,column:N,eventSource:p,ePopup:Q,alignSide:x,nudgeX:k,nudgeY:O,position:"under",keepWithinBounds:!0}),E&&j.showTab?.(E),this.dispatchVisibleChangedEvent(!0,!1,N,V,E)},C,E,T,p,v)}showMenu(d,p,C,v,b,R,x,E){let T=this.getMenuParams(d,p,R,x);if(!T)return;let{menu:D,eMenuGui:k,anchorToElement:O,restoreFocusParams:N}=T,V=[],{menuUtils:j,popupSvc:Q}=this.beans;V.push($=>{let se=D.getGui();this.destroyBean(D),d&&((0,g._setColMenuVisible)(d,!1,"contextMenu"),j.restoreFocusOnClose(N,se,$)),E?.()});let Y=this.getLocaleTextFunc();if(Q.addPopup({modal:!0,eChild:k,closeOnEsc:!0,closedCallback:$=>{V.forEach(se=>se($)),this.dispatchVisibleChangedEvent(!1,!1,d,p,b)},afterGuiAttached:$=>D.afterGuiAttached(Object.assign({},{container:v},$)),positionCallback:b?()=>C(D):void 0,ariaLabel:Y("ariaLabelColumnMenu","Column Menu")}),b||(D.showTabBasedOnPreviousSelection?.(),C(D)),(0,g._isColumnMenuAnchoringEnabled)(this.gos)){let $=Q.setPopupPositionRelatedToElement(k,O);$&&d&&this.addStopAnchoring($,d,V)}D.addEventListener("tabSelected",$=>{this.dispatchVisibleChangedEvent(!1,!0,d),this.lastSelectedTab=$.key,this.dispatchVisibleChangedEvent(!0,!0,d)}),d&&(0,g._setColMenuVisible)(d,!0,"contextMenu"),this.activeMenu=D,D.addEventListener("destroyed",()=>{this.activeMenu===D&&(this.activeMenu=null)})}addStopAnchoring(d,p,C){d.then(v=>{p.__addEventListener("leftChanged",v),p.__addEventListener("visibleChanged",v),C.push(()=>{p.__removeEventListener("leftChanged",v),p.__removeEventListener("visibleChanged",v)})})}getMenuParams(d,p,C,v){let{focusSvc:b,visibleCols:R,ctrlsSvc:x}=this.beans,E={column:d,headerPosition:b.focusedHeader,columnIndex:R.allCols.indexOf(d),eventSource:v},T=this.createMenu(d,p,E,C,v);return T?{menu:T,eMenuGui:T.getGui(),anchorToElement:v||x.getGridBodyCtrl().eGridBody,restoreFocusParams:E}:void 0}createMenu(d,p,C,v,b){if((0,g._isLegacyMenuEnabled)(this.gos))return this.createBean(new o(d,C,this.lastSelectedTab,v,b));{let R=this.beans.colMenuFactory.getMenuItems(d,p);return R.length?this.createBean(new a(R,d,C,b)):void 0}}dispatchVisibleChangedEvent(d,p,C,v,b){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:d,switchingTab:p,key:this.lastSelectedTab??b??((0,g._isLegacyMenuEnabled)(this.gos)?f:"columnMenu"),column:C??null,columnGroup:v??null})}isMenuEnabled(d){if(!(0,g._isLegacyMenuEnabled)(this.gos))return!0;let p=!this.beans.filterManager?.isFilterAllowed(d),C=d.getColDef().menuTabs??r;return(p&&C.includes(P)?C.length-1:C.length)>0}showMenuAfterContextMenuEvent(d,p,C){this.beans.menuUtils.onContextMenu({mouseEvent:p,touchEvent:C,source:"ui",showMenuCallback:v=>(this.showMenuAfterMouseEvent(d,v,"columnMenu"),!0)})}}h.EnterpriseMenuFactory=i;class o extends g.BeanStub{constructor(d,p,C,v,b){super(),this.column=d,this.restoreFocusParams=p,this.initialSelection=C,this.restrictTo=v,this.sourceElement=b,this.tabFactories={},this.includeChecks={};let{tabFactories:R,includeChecks:x}=this;R[f]=this.createMainPanel.bind(this),R[P]=this.createFilterPanel.bind(this),R[c]=this.createColumnsPanel.bind(this),x[f]=()=>!0,x[P]=()=>d?!!this.beans.filterManager?.isFilterAllowed(d):!1,x[c]=()=>!0}postConstruct(){let d=this.getTabsToCreate().map(C=>this.createTab(C)),p=new M.TabbedLayout({items:d,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)});this.tabbedLayout=this.createBean(p),this.mainMenuList?.setParentComponent(p),this.addDestroyFunc(()=>this.destroyBean(p))}getTabsToCreate(){return this.restrictTo?this.restrictTo:(this.column?.getColDef().menuTabs??r).filter(d=>this.isValidMenuTabItem(d)&&this.isNotSuppressed(d))}isValidMenuTabItem(d){let p=!0,C=r;return this.restrictTo!=null&&(p=this.restrictTo.indexOf(d)>-1,C=this.restrictTo),p=p&&r.indexOf(d)>-1,p||(0,g._warn)(175,{menuTabName:d,itemsToConsider:C}),p}isNotSuppressed(d){return this.includeChecks[d]()}createTab(d){return this.tabFactories[d]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(d){let{tabItemColumns:p,tabbedLayout:C,tabItemFilter:v,tabItemGeneral:b}=this;p&&d===c?C.showItem(p):v&&d===P?C.showItem(v):b&&d===f?C.showItem(b):C.showFirstItem()}onTabItemClicked(d){let p=null;switch(d.item){case this.tabItemColumns:p=c;break;case this.tabItemFilter:p=P;break;case this.tabItemGeneral:p=f;break}p&&this.activateTab(p)}activateTab(d){let p={type:"tabSelected",key:d};this.dispatchLocalEvent(p)}createMainPanel(){let{beans:d,column:p}=this,C=d.colMenuFactory,v=C.createMenu(this,C.getMenuItems(p),this.column,()=>this.sourceElement??this.getGui());this.mainMenuList=v,v.addEventListener("closeMenu",this.onHidePopup.bind(this));let b={title:(0,g._createIconNoSpan)("legacyMenu",d,p),titleLabel:f.replace("MenuTab",""),bodyPromise:g.AgPromise.resolve(v.getGui()),name:f};return this.tabItemGeneral=b,b}onHidePopup(d){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,d)}createFilterPanel(){let d=this.column?this.createBean(new g.FilterWrapperComp(this.column,"COLUMN_MENU")):null;this.filterComp=d,d?.hasFilter()||(0,g._error)(119);let p=v=>d?.afterGuiAttached(v),C=()=>d?.afterGuiDetached();return this.tabItemFilter={title:(0,g._createIconNoSpan)("filterTab",this.beans,this.column),titleLabel:P.replace("MenuTab",""),bodyPromise:g.AgPromise.resolve(d?.getGui()),afterAttachedCallback:p,afterDetachedCallback:C,name:P},this.tabItemFilter}createColumnsPanel(){let d=(0,g._createElement)({tag:"div",cls:"ag-menu-column-select-wrapper"}),{beans:p,column:C}=this,b=p.colChooserFactory.createColumnSelectPanel(this,C).getGui();b.classList.add("ag-menu-column-select"),d.appendChild(b);let R={title:(0,g._createIconNoSpan)("columns",p,C),titleLabel:c.replace("MenuTab",""),bodyPromise:g.AgPromise.resolve(d),name:c};return this.tabItemColumns=R,R}afterGuiAttached(d){let{container:p,hidePopup:C}=d;this.tabbedLayout.setAfterAttachedParams({container:p,hidePopup:C}),C&&(this.hidePopupFunc=C,this.addDestroyFunc(C))}getGui(){return this.tabbedLayout.getGui()}destroy(){super.destroy(),this.destroyBean(this.filterComp)}}class a extends g.Component{constructor(d,p,C,v){super({tag:"div",ref:"eColumnMenu",cls:"ag-menu ag-column-menu",role:"presentation"}),this.menuItems=d,this.column=p,this.restoreFocusParams=C,this.sourceElement=v,this.eColumnMenu=g.RefPlaceholder}postConstruct(){let d=this.beans.colMenuFactory.createMenu(this,this.menuItems,this.column,()=>this.sourceElement??this.getGui());this.mainMenuList=d,d.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(d.getGui())}onHidePopup(d){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,d)}afterGuiAttached({hidePopup:d}){d&&(this.hidePopupFunc=d,this.addDestroyFunc(d)),(0,g._focusInto)(this.mainMenuList.getGui())}}},8228:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.hideColumnChooser=h.showColumnChooser=h.showContextMenu=void 0;function S(P,f){let{contextMenuSvc:c}=P;if(!c)return;let{rowNode:r,column:i,value:o,x:a,y:l}=f||{},{x:d,y:p}=c.getContextMenuPosition(r,i);a!=null&&(d=a),l!=null&&(p=l),c.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:d,clientY:p}),rowNode:r,column:i,value:o,source:"api"})}h.showContextMenu=S;function g(P,f){P.colChooserFactory?.showColumnChooser({chooserParams:f})}h.showColumnChooser=g;function M(P){P.colChooserFactory?.hideActiveColumnChooser()}h.hideColumnChooser=M},1708:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MenuItemMapper=h._removeRepeatsFromArray=h.MENU_ITEM_SEPARATOR=void 0;let g=S(6624),M=S(8105);h.MENU_ITEM_SEPARATOR="separator";function P(r,i){if(r)for(let o=r.length-2;o>=0;o--){let a=r[o]===i,l=r[o+1]===i;a&&l&&r.splice(o+1,1)}}h._removeRepeatsFromArray=P;class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="menuItemMapper"}mapWithStockItems(i,o,a,l){if(!i)return[];let d=[],p=this.getLocaleTextFunc(),{beans:C,gos:v}=this,{validation:b,pinnedCols:R,colAutosize:x,aggFuncSvc:E,rowGroupColsSvc:T,colNames:D,colModel:k,clipboardSvc:O,expansionSvc:N,focusSvc:V,csvCreator:j,excelCreator:Q,menuSvc:Y,colChooserFactory:$,sortSvc:se,chartMenuItemMapper:W,valueColsSvc:Z}=C,ee=(re,oe,ge,ue)=>{switch(b?.validateMenuItem(re),re){case"pinSubMenu":return R&&oe?{name:p("pinColumn","Pin Column"),icon:(0,g._createIconNoSpan)("menuPin",C,null),subMenu:["clearPinned","pinLeft","pinRight"]}:null;case"pinLeft":return R&&oe?{name:p("pinLeft","Pin Left"),action:()=>R.setColsPinned([oe],"left",ue),checked:!!oe&&oe.isPinnedLeft()}:null;case"pinRight":return R&&oe?{name:p("pinRight","Pin Right"),action:()=>R.setColsPinned([oe],"right",ue),checked:!!oe&&oe.isPinnedRight()}:null;case"clearPinned":return R&&oe?{name:p("noPin","No Pin"),action:()=>R.setColsPinned([oe],null,ue),checked:!!oe&&!oe.isPinned()}:null;case"valueAggSubMenu":return E&&Z&&(oe?.isPrimary()||oe?.getColDef().pivotValueColumn)?{name:p("valueAggregation","Value Aggregation"),icon:(0,g._createIconNoSpan)("menuValue",C,null),subMenu:c(oe,E,Z,p),disabled:v.get("functionsReadOnly")}:null;case"autoSizeThis":return x?{name:p("autosizeThisColumn","Autosize This Column"),action:()=>x.autoSizeColumn(oe,ue,v.get("skipHeaderOnAutoSize"))}:null;case"autoSizeAll":return x?{name:p("autosizeAllColumns","Autosize All Columns"),action:()=>x.autoSizeAllColumns(ue,v.get("skipHeaderOnAutoSize"))}:null;case"rowGroup":return T?{name:p("groupBy","Group by")+" "+(0,g._escapeString)(D.getDisplayNameForColumn(oe,"header")),disabled:v.get("functionsReadOnly")||oe?.isRowGroupActive()||!oe?.getColDef().enableRowGroup,action:()=>T.addColumns([oe],ue),icon:(0,g._createIconNoSpan)("menuAddRowGroup",C,null)}:null;case"rowUnGroup":if(T&&v.isModuleRegistered("SharedRowGrouping")){let X=oe?.getColDef().showRowGroup,G=v.get("groupLockGroupColumns"),U,K,q;if(X===!0)U=p("ungroupAll","Un-Group All"),K=v.get("functionsReadOnly")||G===-1||G>=(T.columns.length??0),q=()=>T.setColumns(T.columns.slice(0,G),ue);else if(typeof X=="string"){let ie=k.getColDefCol(X),fe=ie!=null?(0,g._escapeString)(D.getDisplayNameForColumn(ie,"header")):X;U=p("ungroupBy","Un-Group by")+" "+fe,K=v.get("functionsReadOnly")||(0,M.isRowGroupColLocked)(ie,C),q=()=>{T.removeColumns([X],ue)}}else U=p("ungroupBy","Un-Group by")+" "+(0,g._escapeString)(D.getDisplayNameForColumn(oe,"header")),K=v.get("functionsReadOnly")||!oe?.isRowGroupActive()||!oe?.getColDef().enableRowGroup||(0,M.isRowGroupColLocked)(oe,C),q=()=>T.removeColumns([oe],ue);return{name:U,disabled:K,action:q,icon:(0,g._createIconNoSpan)("menuRemoveRowGroup",C,null)}}else return null;case"resetColumns":return{name:p("resetColumns","Reset Columns"),action:()=>(0,g._resetColumnState)(C,ue)};case"expandAll":return N?{name:p("expandAll","Expand All Row Groups"),action:()=>N.expandAll(!0)}:null;case"contractAll":return N?{name:p("collapseAll","Collapse All Row Groups"),action:()=>N.expandAll(!1)}:null;case"copy":return O?{name:p("copy","Copy"),shortcut:p("ctrlC","Ctrl+C"),icon:(0,g._createIconNoSpan)("clipboardCopy",C,null),action:()=>O.copyToClipboard()}:null;case"copyWithHeaders":return O?{name:p("copyWithHeaders","Copy with Headers"),icon:(0,g._createIconNoSpan)("clipboardCopy",C,null),action:()=>O.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return O?{name:p("copyWithGroupHeaders","Copy with Group Headers"),icon:(0,g._createIconNoSpan)("clipboardCopy",C,null),action:()=>O.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(O){let X=V.getFocusedCell(),G=X?(0,g._getRowNode)(C,X):null,U=G?X?.column.isCellEditable(G):!1;return{name:p("cut","Cut"),shortcut:p("ctrlX","Ctrl+X"),icon:(0,g._createIconNoSpan)("clipboardCut",C,null),disabled:!U||v.get("suppressCutToClipboard"),action:()=>O.cutToClipboard(void 0,"contextMenu")}}else return null;case"paste":return O?{name:p("paste","Paste"),shortcut:p("ctrlV","Ctrl+V"),disabled:!0,icon:(0,g._createIconNoSpan)("clipboardPaste",C,null),action:()=>O.pasteFromClipboard()}:null;case"export":{let X=[];return!v.get("suppressCsvExport")&&j&&X.push("csvExport"),!v.get("suppressExcelExport")&&Q&&X.push("excelExport"),X.length?{name:p("export","Export"),subMenu:X,icon:(0,g._createIconNoSpan)("save",C,null)}:null}case"csvExport":return j?{name:p("csvExport","CSV Export"),icon:(0,g._createIconNoSpan)("csvExport",C,null),action:()=>j.exportDataAsCsv()}:null;case"excelExport":return Q?{name:p("excelExport","Excel Export"),icon:(0,g._createIconNoSpan)("excelExport",C,null),action:()=>Q.exportDataAsExcel()}:null;case"separator":return"separator";case"pivotChart":case"chartRange":return W.getChartItems(re);case"columnFilter":return Y&&oe?{name:p("columnFilter","Column Filter"),icon:(0,g._createIconNoSpan)("filter",C,null),action:()=>Y.showFilterMenu({column:oe,buttonElement:ge(),containerType:"columnFilter",positionBy:"button"})}:null;case"columnChooser":{let X=V.focusedHeader;return $?{name:p("columnChooser","Choose Columns"),icon:(0,g._createIconNoSpan)("columns",C,null),action:()=>$.showColumnChooser({column:oe,eventSource:ge(),headerPosition:X})}:null}case"sortAscending":return se?{name:p("sortAscending","Sort Ascending"),icon:(0,g._createIconNoSpan)("sortAscending",C,null),action:()=>se.setSortForColumn(oe,"asc",!1,ue)}:null;case"sortDescending":return se?{name:p("sortDescending","Sort Descending"),icon:(0,g._createIconNoSpan)("sortDescending",C,null),action:()=>se.setSortForColumn(oe,"desc",!1,ue)}:null;case"sortUnSort":return se?{name:p("sortUnSort","Clear Sort"),icon:(0,g._createIconNoSpan)("sortUnSort",C,null),action:()=>se.setSortForColumn(oe,null,!1,ue)}:null;default:return(0,g._warn)(176,{key:re}),null}};return i.forEach(re=>{let oe;if(typeof re=="string"?oe=ee(re,o,a,l):oe={...re},!oe)return;let ge=oe,{subMenu:ue}=ge;ue&&ue instanceof Array&&(ge.subMenu=this.mapWithStockItems(ue,o,a,l)),oe!=null&&d.push(oe)}),P(d,h.MENU_ITEM_SEPARATOR),d}}h.MenuItemMapper=f;function c(r,i,o,a){let l;if(r.isPrimary())l=r;else{let p=r.getColDef().pivotValueColumn;l=(0,g._exists)(p)?p:void 0}let d=[];if(l){let p=l.isValueActive(),C=i.getFuncNames(l);d.push({name:a("noAggregation","None"),action:()=>{o.removeColumns([l],"contextMenu"),o.setColumnAggFunc(l,void 0,"contextMenu")},checked:!p}),C.forEach(v=>{d.push({name:a(v,i.getDefaultFuncLabel(v)),action:()=>{o.setColumnAggFunc(l,v,"contextMenu"),o.addColumns([l],"contextMenu")},checked:p&&l.getAggFunc()===v})})}return d}},7130:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MenuModule=h.ContextMenuModule=h.ColumnMenuModule=h.MenuCoreModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(3375),c=S(5636),r=S(9262),i=S(5884),o=S(3461),a=S(6345),l=S(8228),d=S(1708),p=S(3569);h.MenuCoreModule={moduleName:"MenuCore",version:P.VERSION,beans:[d.MenuItemMapper,c.ChartMenuItemMapper,p.MenuUtils],icons:{chart:"chart",columns:"columns",loadingMenuItems:"loading",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",save:"save",csvExport:"csv",excelExport:"excel",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},dependsOn:[M.EnterpriseCoreModule,g._PopupModule,g._SharedMenuModule,f.MenuItemModule]},h.ColumnMenuModule={moduleName:"ColumnMenu",version:P.VERSION,beans:[a.EnterpriseMenuFactory,i.ColumnMenuFactory,r.ColumnChooserFactory],icons:{legacyMenu:"menu",filterTab:"filter",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},apiFunctions:{showColumnChooser:l.showColumnChooser,hideColumnChooser:l.hideColumnChooser},dependsOn:[h.MenuCoreModule,g._SharedDragAndDropModule,g._ColumnMoveModule]},h.ContextMenuModule={moduleName:"ContextMenu",version:P.VERSION,beans:[o.ContextMenuService],apiFunctions:{showContextMenu:l.showContextMenu},dependsOn:[h.MenuCoreModule]},h.MenuModule={moduleName:"Menu",version:P.VERSION,dependsOn:[h.ColumnMenuModule,h.ContextMenuModule]}},3569:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MenuUtils=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="menuUtils"}restoreFocusOnClose(f,c,r,i){let{eventSource:o}=f,a=r instanceof KeyboardEvent;if(!i&&!a||!o)return;let l=(0,g._getActiveDomElement)(this.beans);!c.contains(l)&&!(0,g._isNothingFocused)(this.beans)||this.focusHeaderCell(f)}closePopupAndRestoreFocusOnSelect(f,c,r){let i;r&&r.keyboardEvent&&(i=r.keyboardEvent),f(i&&{keyboardEvent:i});let o=this.beans,a=o.focusSvc,l=a.getFocusedCell();if((0,g._isNothingFocused)(o))if(l){let{rowIndex:d,rowPinned:p,column:C}=l;a.setFocusedCell({rowIndex:d,column:C,rowPinned:p,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(c)}onContextMenu(f){let{mouseEvent:c,touchEvent:r,showMenuCallback:i,source:o}=f;if(!this.gos.get("allowContextMenuWithControlKey")&&c&&(c.ctrlKey||c.metaKey)||(c&&this.blockMiddleClickScrollsIfNeeded(c),o==="ui"&&this.gos.get("suppressContextMenu")))return;let a=c??r.touches[0];if(i(a)){let l=c??r;l&&l.cancelable&&l.preventDefault()}}async focusHeaderCell(f){let{column:c,columnIndex:r,headerPosition:i,eventSource:o}=f,{visibleCols:a,headerNavigation:l,focusSvc:d}=this.beans,p=await a.allCols.some(C=>C===c);if(this.isAlive()){if(c?.isAlive()&&p&&o&&(0,g._isVisible)(o)){let C=(0,g._findTabbableParent)(o);C&&(l?.scrollToColumn(c),C.focus())}else if(i&&r!==-1){let C=a.allCols,v=C[r]||(0,g._last)(C);v&&d.focusHeaderPosition({headerPosition:{headerRowIndex:i.headerRowIndex,column:v}})}}}blockMiddleClickScrollsIfNeeded(f){this.gos.get("suppressMiddleClickScrolls")&&f.which===2&&f.preventDefault()}}h.MenuUtils=M},6242:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.isTargetUnderManagedComponent=h.findFocusableElementBeforeTabGuard=void 0;let g=S(6624);function M(f,c){if(!c)return null;let r=(0,g._findFocusableElements)(f),i=r.indexOf(c);if(i===-1)return null;let o=-1;for(let a=i-1;a>=0;a--)if(r[a].classList.contains(g.TabGuardClassNames.TAB_GUARD_TOP)){o=a;break}return o<=0?null:r[o-1]}h.findFocusableElementBeforeTabGuard=M;function P(f,c){if(!c)return!1;let r=f.querySelectorAll(`.${g._FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let i=0;i<r.length;i++)if(r[i].contains(c))return!0;return!1}h.isTargetUnderManagedComponent=P},9038:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MultiFilter=h.getMultiFilterDefs=void 0;let g=S(6624),M=S(1421),P=S(7040),f=S(3360);function c(a){let{filters:l}=a;return l&&l.length>0?l:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]}h.getMultiFilterDefs=c;function r(a,l){if(a!=null)for(let d=a.length-1;d>=0;d--)l(a[d],d)}function i(a,l){return l.title!=null?l.title:a instanceof g.ProvidedFilter?a.getFilterTitle():"Filter"}class o extends g.TabGuardComp{constructor(){super({tag:"div",cls:"ag-multi-filter ag-menu-list-compact"}),this.filterType="multi",this.filterDefs=[],this.filters=[],this.guiDestroyFuncs=[],this.filterGuis=[],this.activeFilterIndices=[],this.lastActivatedMenuItem=null,this.afterFiltersReadyFuncs=[]}postConstruct(){this.initialiseTabGuard({onFocusIn:l=>this.onFocusIn(l)})}init(l){this.params=l,this.filterDefs=c(l);let{column:d,filterChangedCallback:p}=l;this.column=d,this.filterChangedCallback=p;let C=[];return this.filterDefs.forEach((v,b)=>{let R=this.createFilter(v,b);R!=null&&C.push(R)}),new g.AgPromise(v=>{g.AgPromise.all(C).then(b=>{this.filters=b,this.refreshGui("columnMenu").then(()=>{v()})})}).then(()=>{this.afterFiltersReadyFuncs.forEach(v=>v()),this.afterFiltersReadyFuncs.length=0})}refreshGui(l){return l===this.lastOpenedInContainer?g.AgPromise.resolve():(this.tabGuardFeature.removeAllChildrenExceptTabGuards(),this.destroyChildren(),g.AgPromise.all(this.filters.map((d,p)=>{let C=this.filterDefs[p],v=i(d,C),b;if(C.display==="subMenu"&&l!=="toolPanel")b=this.insertFilterMenu(d,v).then(R=>R.getGui());else if(C.display==="subMenu"||C.display==="accordion"){let R=this.insertFilterGroup(d,v);b=g.AgPromise.resolve(R.getGui())}else b=g.AgPromise.resolve(d.getGui());return b})).then(d=>{d.forEach((p,C)=>{C>0&&this.appendChild((0,g._createElement)({tag:"div",cls:"ag-filter-separator"})),this.appendChild(p)}),this.filterGuis=d,this.lastOpenedInContainer=l}))}destroyChildren(){this.guiDestroyFuncs.forEach(l=>l()),this.guiDestroyFuncs.length=0,this.filterGuis.length=0}insertFilterMenu(l,d){let p=this.createBean(new P.AgMenuItemComponent);return p.init({menuItemDef:{name:d,subMenu:[],subMenuRole:"dialog",cssClasses:["ag-multi-filter-menu-item"],menuItem:f.AgMenuItemRenderer,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:()=>!1,childComponent:l,contextParams:{column:null,node:null,value:null}}).then(()=>{p.setParentComponent(this),this.guiDestroyFuncs.push(()=>this.destroyBean(p)),this.addManagedListeners(p,{menuItemActivated:v=>{this.lastActivatedMenuItem&&this.lastActivatedMenuItem!==v.menuItem&&this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=v.menuItem}});let C=p.getGui();return p.addManagedElementListeners(C,{keydown:v=>{let{key:b}=v;switch(b){case g.KeyCode.UP:case g.KeyCode.RIGHT:case g.KeyCode.DOWN:case g.KeyCode.LEFT:v.preventDefault(),b===g.KeyCode.RIGHT&&p.openSubMenu(!0);break}},focusin:()=>p.activate(),focusout:()=>{!p.isSubMenuOpen()&&!p.isSubMenuOpening()&&p.deactivate()}}),p})}insertFilterGroup(l,d){let p=this.createBean(new M.AgGroupComponent({title:d,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(()=>this.destroyBean(p)),p.addItem(l.getGui()),p.toggleGroupExpand(!1),l.afterGuiAttached&&p.addManagedListeners(p,{expanded:()=>l.afterGuiAttached({container:this.lastOpenedInContainer,suppressFocus:!0,hidePopup:this.hidePopup})}),p}isFilterActive(){return this.filters.some(l=>l.isFilterActive())}getLastActiveFilterIndex(){let l=this.activeFilterIndices;return l.length>0?l[l.length-1]:null}doesFilterPass(l,d){let p=!0;return this.filters.forEach(C=>{!p||C===d||!C.isFilterActive()||(p=C.doesFilterPass(l))}),p}getModelFromUi(){return{filterType:this.filterType,filterModels:this.filters.map(d=>{let p=d;return typeof p.getModelFromUi=="function"?p.getModelFromUi():null})}}getModel(){return this.isFilterActive()?{filterType:this.filterType,filterModels:this.filters.map(d=>d.isFilterActive()?d.getModel():null)}:null}setModel(l){let d=(C,v)=>new g.AgPromise(b=>{let R=C.setModel(v);R?R.then(()=>b()):b()}),p=[];return l==null?p=this.filters.map((C,v)=>d(C,null).then(()=>{this.updateActiveList(v)})):this.filters.forEach((C,v)=>{let b=l.filterModels.length>v?l.filterModels[v]:null,R=d(C,b).then(()=>{this.updateActiveList(v)});p.push(R)}),g.AgPromise.all(p).then(()=>{})}applyModel(l="api"){let d=!1;return this.filters.forEach(p=>{p instanceof g.ProvidedFilter&&(d=p.applyModel(l)||d)}),d}getChildFilterInstance(l){return this.filters[l]}afterGuiAttached(l){let d;l?(this.hidePopup=l.hidePopup,d=this.refreshGui(l.container)):(this.hidePopup=void 0,d=g.AgPromise.resolve());let p=l?.suppressFocus;d.then(()=>{let{filterDefs:C,filters:v,filterGuis:b,beans:R}=this,x=!!p;C&&r(C,(T,D)=>{let k=D===0,O=T.display&&T.display!=="inline",N=p||!k||O,V={...l??{},suppressFocus:N},j=v?.[D];if(j&&(this.executeFunctionIfExistsOnFilter(j,"afterGuiAttached",V),k&&!N&&(x=!0)),!p&&k&&O){let Q=b[D];Q&&((0,g._focusInto)(Q)||Q.focus({preventScroll:!0}),x=!0)}});let E=(0,g._getActiveDomElement)(R);!x&&((0,g._isNothingFocused)(R)||this.getGui().contains(E))&&this.forceFocusOutOfContainer(!0)})}afterGuiDetached(){this.executeFunctionIfExists("afterGuiDetached")}onAnyFilterChanged(){this.executeFunctionIfExists("onAnyFilterChanged")}onNewRowsLoaded(){this.executeFunctionIfExists("onNewRowsLoaded")}destroy(){this.filters.forEach(l=>this.destroyBean(l)),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,super.destroy()}executeFunctionIfExists(l,...d){r(this.filters,p=>{this.executeFunctionIfExistsOnFilter(p,l,d)})}executeFunctionIfExistsOnFilter(l,d,...p){let C=l[d];typeof C=="function"&&C.apply(l,p)}createFilter(l,d){let{filterModifiedCallback:p,doesRowPassOtherFilter:C}=this.params,{filterManager:v,userCompFactory:b}=this.beans,R,x={...v.createFilterParams(this.column,this.column.getColDef()),filterModifiedCallback:p,filterChangedCallback:D=>{this.executeWhenAllFiltersReady(()=>this.filterChanged(d,D))},doesRowPassOtherFilter:D=>C(D)&&this.doesFilterPass({node:D,data:D.data},R)},E=(0,g._getFilterDetails)(b,l,x,"agTextColumnFilter");if(!E)return null;let T=E.newAgStackInstance();return T.then(D=>{if(D&&(R=D,l.display==="subMenu")){let k=D.getGui();(0,g._setAriaRole)(k,"dialog")}}),T}executeWhenAllFiltersReady(l){(this.filters?.length??0)>0?l():this.afterFiltersReadyFuncs.push(l)}updateActiveList(l){let{filters:d,activeFilterIndices:p}=this,C=d[l];(0,g._removeFromArray)(p,l),C.isFilterActive()&&p.push(l)}filterChanged(l,d){this.updateActiveList(l),this.filterChangedCallback(d);let p=this.filters[l];this.filters.forEach(C=>{C!==p&&typeof C.onAnyFilterChanged=="function"&&C.onAnyFilterChanged()})}onFocusIn(l){let d=this.lastActivatedMenuItem;d!=null&&!d.getGui().contains(l.target)&&(d.deactivate(),this.lastActivatedMenuItem=null)}getModelAsString(l){if(!this.filters||!l?.filterModels?.length)return"";let d=this.getLastActiveFilterIndex()??0;return this.filters[d].getModelAsString?.(l.filterModels[d])??""}}h.MultiFilter=o},5434:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MultiFilterModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(3375),c=S(9038),r=S(2335);h.MultiFilterModule={moduleName:"MultiFilter",version:P.VERSION,userComponents:{agMultiColumnFilter:c.MultiFilter,agMultiColumnFloatingFilter:r.MultiFloatingFilterComp},dependsOn:[M.EnterpriseCoreModule,g._ColumnFilterModule,f.MenuItemModule]}},2335:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MultiFloatingFilterComp=void 0;let g=S(6624),M=S(9038),P={tag:"div",cls:"ag-multi-floating-filter ag-floating-filter-input"};class f extends g.Component{constructor(){super(P),this.floatingFilters=[],this.compDetailsList=[]}init(r){this.params=r;let{compDetailsList:i}=this.getCompDetailsList(r);return this.setParams(i)}setParams(r){let i=[];return r.forEach(o=>{let a=o?.newAgStackInstance();a!=null&&(this.compDetailsList.push(o),i.push(a))}),g.AgPromise.all(i).then(o=>{o.forEach((a,l)=>{this.floatingFilters.push(a);let d=a.getGui();this.appendChild(d),l>0&&(0,g._setDisplayed)(d,!1)})})}refresh(r){this.params=r;let{compDetailsList:i,floatingFilterParamsList:o}=this.getCompDetailsList(r);i.length===this.compDetailsList.length&&i.every((l,d)=>!this.beans.filterManager?.areFilterCompsDifferent(this.compDetailsList[d],l))?o.forEach((l,d)=>{this.floatingFilters[d].refresh?.(l)}):((0,g._clearElement)(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(i))}getCompDetailsList(r){let i=[],o=[],a=r.filterParams,l=r.currentParentModel;return(0,M.getMultiFilterDefs)(a).forEach((d,p)=>{let C={...r,parentFilterInstance:b=>{this.parentMultiFilterInstance(R=>{let x=R.getChildFilterInstance(p);x!=null&&b(x)})},currentParentModel:()=>l()?.filterModels?.[p]??null};(0,g._mergeDeep)(C.filterParams,d.filterParams);let v=this.getCompDetails(d,C);v&&(i.push(v),o.push(C))}),{compDetailsList:i,floatingFilterParamsList:o}}onParentModelChanged(r,i){i&&i.afterFloatingFilter||this.parentMultiFilterInstance(o=>{if(r==null)this.floatingFilters.forEach((a,l)=>{a.onParentModelChanged(null,i),(0,g._setDisplayed)(a.getGui(),l===0)});else{let a=o.getLastActiveFilterIndex();this.floatingFilters.forEach((l,d)=>{let p=r.filterModels.length>d?r.filterModels[d]:null;l.onParentModelChanged(p,i);let C=a==null?d===0:d===a;(0,g._setDisplayed)(l.getGui(),C)})}})}destroy(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,super.destroy()}getCompDetails(r,i){let{filterManager:o,frameworkOverrides:a,userCompFactory:l}=this.beans,d=(0,g._getDefaultFloatingFilterType)(a,r,()=>o.getDefaultFloatingFilter(this.params.column))??"agReadOnlyFloatingFilter";return(0,g._getFloatingFilterCompDetails)(l,r,i,d)}parentMultiFilterInstance(r){this.params.parentFilterInstance(i=>{i instanceof M.MultiFilter||(0,g._error)(120),r(i)})}}h.MultiFloatingFilterComp=f},5792:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getPivotResultColumns=h.setPivotResultColumns=h.getPivotColumns=h.addPivotColumns=h.removePivotColumns=h.setPivotColumns=h.addValueColumns=h.removeValueColumns=h.getValueColumns=h.setValueColumns=h.getPivotResultColumn=h.isPivotMode=void 0;function S(p){return p.colModel.isPivotMode()}h.isPivotMode=S;function g(p,C,v){return p.pivotResultCols?.lookupPivotResultCol(C,v)??null}h.getPivotResultColumn=g;function M(p,C){p.valueColsSvc?.setColumns(C,"api")}h.setValueColumns=M;function P(p){return p.valueColsSvc?.columns??[]}h.getValueColumns=P;function f(p,C){p.valueColsSvc?.removeColumns(C,"api")}h.removeValueColumns=f;function c(p,C){p.valueColsSvc?.addColumns(C,"api")}h.addValueColumns=c;function r(p,C){p.pivotColsSvc?.setColumns(C,"api")}h.setPivotColumns=r;function i(p,C){p.pivotColsSvc?.removeColumns(C,"api")}h.removePivotColumns=i;function o(p,C){p.pivotColsSvc?.addColumns(C,"api")}h.addPivotColumns=o;function a(p){return p.pivotColsSvc?.columns??[]}h.getPivotColumns=a;function l(p,C){p.pivotResultCols?.setPivotResultCols(C,"api")}h.setPivotResultColumns=l;function d(p){let C=p.pivotResultCols?.getPivotResultCols();return C?C.list:null}h.getPivotResultColumns=d},6616:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotColDefService=void 0;let g=S(6624),M="PivotRowTotal_",P=({headerName:r},{headerName:i})=>r&&!i?1:!r&&i?-1:!r&&!i?0:r<i?-1:r>i?1:0,f=r=>(i,o)=>r(i.headerName,o.headerName);class c extends g.BeanStub{constructor(){super(...arguments),this.beanName="pivotColDefSvc"}wireBeans(i){this.colModel=i.colModel,this.pivotColsSvc=i.pivotColsSvc,this.valueColsSvc=i.valueColsSvc,this.colNames=i.colNames}postConstruct(){let i=()=>this.gos.get("serverSidePivotResultFieldSeparator")??"_";this.fieldSeparator=i(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",()=>{this.fieldSeparator=i()});let o=()=>this.gos.get("pivotDefaultExpanded");this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",()=>{this.pivotDefaultExpanded=o()})}createPivotColumnDefs(i){let o=this.createPivotColumnsFromUniqueValues(i);function a(p,C=[]){return p.forEach(v=>{v.children!==void 0?a(v.children,C):C.push(v)}),C}let l=a(o);this.addRowGroupTotals(o,l),this.addExpandablePivotGroups(o,l),this.addPivotTotalsToGroups(o,l);let d=l.map(p=>({...p}));return{pivotColumnGroupDefs:o,pivotColumnDefs:d}}createPivotColumnsFromUniqueValues(i){let o=this.pivotColsSvc?.columns??[],a=o.length;return this.recursivelyBuildGroup(0,i,[],a,o)}recursivelyBuildGroup(i,o,a,l,d){if(i>=l)return this.buildMeasureCols(a);let{pivotComparator:p}=d[i].getColDef(),C=p?f(p):P,v=this.valueColsSvc?.columns;if(v?.length===1&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&i===l-1){let R=[];for(let x of o.keys()){let E=[...a,x],T=this.createColDef(v[0],x,E);T.columnGroupShow="open",R.push(T)}return R.sort(C),R}let b=[];for(let R of o.keys()){let x=this.pivotDefaultExpanded===-1||i<this.pivotDefaultExpanded,E=[...a,R];b.push({children:this.recursivelyBuildGroup(i+1,o.get(R),E,l,d),headerName:R,pivotKeys:E,columnGroupShow:"open",openByDefault:x,groupId:this.generateColumnGroupId(E)})}return b.sort(C),b}buildMeasureCols(i){let o=this.valueColsSvc?.columns??[];return o.length===0?[this.createColDef(null,"-",i)]:o.map(a=>{let l=this.colNames.getDisplayNameForColumn(a,"header");return{...this.createColDef(a,l,i),columnGroupShow:"open"}})}addExpandablePivotGroups(i,o){let a=this.gos.get("suppressExpandablePivotGroups");if(a||this.gos.get("pivotColumnGroupTotals"))return;let l=(d,p,C)=>{if("children"in d){let{valueColsSvc:R}=this,{columns:x=[]}=R??{},E=new Map;d.children.forEach(k=>{l(k,p,E)});let T=!d.children.some(k=>k.children),D=T&&x.length===1&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn");x.forEach(k=>{let O=this.colNames.getDisplayNameForColumn(k,"header"),N=this.createColDef(k,O,d.pivotKeys);N.pivotTotalColumnIds=E.get(k.getColId()),N.columnGroupShow=a?"open":"closed",N.aggFunc=k.getAggFunc(),(!T||D)&&(d.children.push(N),p.push(N))}),this.merge(C,E);return}if(!d.pivotValueColumn)return;let v=d.pivotValueColumn.getColId();C.has(v)?C.get(v).push(d.colId):C.set(v,[d.colId])};i.forEach(d=>{l(d,o,new Map)})}addPivotTotalsToGroups(i,o){if(!this.gos.get("pivotColumnGroupTotals"))return;let a=this.gos.get("pivotColumnGroupTotals")==="after",l=this.valueColsSvc?.columns,d=l?.map(p=>p.getAggFunc());if(!(!d||d.length<1||!this.sameAggFuncs(d))&&l){let p=l[0];i.forEach(C=>{this.recursivelyAddPivotTotal(C,o,p,a)})}}recursivelyAddPivotTotal(i,o,a,l){let d=i;if(!d.children){let C=i;return C.colId?[C.colId]:null}let p=[];if(d.children.forEach(C=>{let v=this.recursivelyAddPivotTotal(C,o,a,l);v&&(p=p.concat(v))}),d.children.length>1){let v=this.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),b=this.createColDef(a,v,i.pivotKeys,!0);b.pivotTotalColumnIds=p,b.aggFunc=a.getAggFunc(),b.columnGroupShow=this.gos.get("suppressExpandablePivotGroups")?"open":void 0;let R=i.children;l?R.push(b):R.unshift(b),o.push(b)}return p}addRowGroupTotals(i,o){if(!this.gos.get("pivotRowTotals"))return;let a=this.gos.get("pivotRowTotals")==="after",d=(this.valueColsSvc?.columns??[]).slice();a||d.reverse();let p=d.length>1||!this.gos.get("removePivotHeaderRowWhenSingleValueColumn");for(let C=0;C<d.length;C++){let v=d[C],b=this.colNames.getDisplayNameForColumn(v,"header"),R=this.createColDef(v,b,[]),x=[];for(let T=0;T<o.length;T++){let D=o[T];D.pivotValueColumn===v&&x.push(D.colId)}R.pivotTotalColumnIds=x,R.colId=M+R.colId;let E=p?{children:[R],pivotKeys:[],groupId:`${M}_pivotGroup_${v.getColId()}`}:R;o.push(R),a?i.push(E):i.unshift(E)}}createColDef(i,o,a,l=!1){let d={};if(i){let p=i.getColDef();Object.assign(d,p),d.hide=!1}return d.headerName=o,d.colId=this.generateColumnId(a||[],i&&!l?i.getColId():""),d.field=d.colId,d.valueGetter=p=>p.data?.[p.colDef.field],d.pivotKeys=a,d.pivotValueColumn=i,d.filter===!0&&(d.filter="agNumberColumnFilter"),d}sameAggFuncs(i){if(i.length==1)return!0;for(let o=1;o<i.length;o++)if(i[o]!==i[0])return!1;return!0}merge(i,o){o.forEach((a,l)=>{let p=[...i.has(l)?i.get(l):[],...a];i.set(l,p)})}generateColumnGroupId(i){return`pivotGroup_${(this.pivotColsSvc?.columns??[]).map(a=>a.getColId()).join("-")}_${i.join("-")}`}generateColumnId(i,o){return`pivot_${(this.pivotColsSvc?.columns??[]).map(l=>l.getColId()).join("-")}_${i.join("-")}_${o}`}createColDefsFromFields(i){let o={};for(let d=0;d<i.length;d++){let C=i[d].split(this.fieldSeparator),v=o;for(let b=0;b<C.length;b++){let R=C[b];v[R]==null&&(v[R]={}),v=v[R]}}let a=(d,p,C,v)=>{let b=[];for(let E of Object.keys(C)){let T=C[E],D=a(`${d}${this.fieldSeparator}${E}`,E,T,v+1);b.push(D)}if(b.length===0){let E=this.colModel.getColDefCol(p);if(E){let D=this.colNames.getDisplayNameForColumn(E,"header")??p,k=this.createColDef(E,D,void 0,!1);return k.colId=d,k.aggFunc=E.getAggFunc(),k.valueGetter=O=>O.data?.[d],k}return{colId:d,headerName:p,valueGetter:D=>D.data?.[d]}}return this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&b.length===1&&"colId"in b[0]?(b[0].headerName=p,b[0]):{openByDefault:this.pivotDefaultExpanded===-1||v<this.pivotDefaultExpanded,groupId:d,headerName:p,children:b}},l=[];for(let d of Object.keys(o)){let p=o[d],C=a(d,d,p,0);l.push(C)}return l}}h.PivotColDefService=c},3227:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotColsSvc=void 0;let g=S(6624);class M extends g.BaseColsService{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(f,c,r)=>this.setColPivotActive(f,c,r),add:(f,c,r)=>this.setColPivotActive(f,!0,r),remove:(f,c,r)=>this.setColPivotActive(f,!1,r)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(f,c,r)=>this.setColPivotActive(f,c,r),getIndexFunc:f=>f.pivotIndex,getInitialIndexFunc:f=>f.initialPivotIndex,getValueFunc:f=>f.pivot,getInitialValueFunc:f=>f.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:f=>this.columns.push(f),removeCol:f=>(0,g._removeFromArray)(this.columns,f)}}syncColumnWithState(f,c,r,i){let{value1:o,value2:a}=r("pivot","pivotIndex");(o!==void 0||a!==void 0)&&(typeof a=="number"||o?(f.isPivotActive()||(this.setColPivotActive(f,!0,c),this.modifyColumnsNoEventsCallbacks.addCol(f)),i&&typeof a=="number"&&(i[f.getId()]=a)):f.isPivotActive()&&(this.setColPivotActive(f,!1,c),this.modifyColumnsNoEventsCallbacks.removeCol(f)))}setColPivotActive(f,c,r){f.pivotActive!==c&&(f.pivotActive=c,f.dispatchColEvent("columnPivotChanged",r)),f.dispatchStateUpdatedEvent("pivot")}}h.PivotColsSvc=M},5470:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotModule=h.SharedPivotModule=void 0;let g=S(6624),M=S(1442),P=S(6858),f=S(7205),c=S(5792),r=S(6616),i=S(3227),o=S(6465),a=S(5374);h.SharedPivotModule={moduleName:"SharedPivot",version:f.VERSION,beans:[o.PivotResultColsService,r.PivotColDefService,i.PivotColsSvc],apiFunctions:{isPivotMode:c.isPivotMode,getPivotResultColumn:c.getPivotResultColumn,setValueColumns:c.setValueColumns,getValueColumns:c.getValueColumns,removeValueColumns:c.removeValueColumns,addValueColumns:c.addValueColumns,setPivotColumns:c.setPivotColumns,removePivotColumns:c.removePivotColumns,addPivotColumns:c.addPivotColumns,getPivotColumns:c.getPivotColumns,setPivotResultColumns:c.setPivotResultColumns,getPivotResultColumns:c.getPivotResultColumns},dependsOn:[M.SharedRowGroupingModule,g._ColumnGroupModule]},h.PivotModule={moduleName:"Pivot",version:f.VERSION,rowModels:["clientSide"],beans:[a.PivotStage],dependsOn:[h.SharedPivotModule,M.RowGroupingModule,P.ClientSideRowModelHierarchyModule]}},6465:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotResultColsService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="pivotResultCols"}wireBeans(f){this.colModel=f.colModel,this.visibleCols=f.visibleCols}destroy(){(0,g._destroyColumnTree)(this.beans,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(f,c){if(this.pivotResultCols==null)return null;let r=this.colModel.getColDefCol(c),i=null;return this.pivotResultCols.list.forEach(o=>{let a=o.getColDef().pivotKeys,l=o.getColDef().pivotValueColumn;(0,g._areEqual)(a,f)&&l===r&&(i=o)}),i}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(f){return this.pivotResultCols?this.colModel.getColFromCollection(f,this.pivotResultCols):null}setPivotResultCols(f,c){if(this.colModel.ready&&!(f==null&&this.pivotResultCols==null)){if(f){this.processPivotResultColDef(f);let r=(0,g._createColumnTree)(this.beans,f,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,c);(0,g._destroyColumnTree)(this.beans,this.pivotResultCols?.tree,r.columnTree);let i=r.columnTree,o=r.treeDept,a=(0,g._getColumnsFromTree)(i),l={};this.pivotResultCols={tree:i,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(p=>this.pivotResultCols.map[p.getId()]=p);let d=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.colModel.refreshCols(!d)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.colModel.refreshCols(!1);this.visibleCols.refresh(c)}}processPivotResultColDef(f){let c=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!c&&!r)return;let i=o=>{o.forEach(a=>{if((0,g._exists)(a.children)){let d=a;r&&r(d),i(d.children)}else c&&c(a)})};f&&i(f)}}h.PivotResultColsService=M},5374:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotStage=void 0;let g=S(6624),M="Exceeded maximum allowed pivot column count.",P=c=>{let r={};return c.forEach((i,o)=>r[o]=i instanceof Map?P(i):i),r};class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="pivotStage",this.refreshProps=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),this.step="pivot",this.uniqueValues=new Map,this.lastTimeFailed=!1,this.maxUniqueValues=-1,this.currentUniqueCount=0}wireBeans(r){this.valueSvc=r.valueSvc,this.colModel=r.colModel,this.pivotResultCols=r.pivotResultCols,this.rowGroupColsSvc=r.rowGroupColsSvc,this.valueColsSvc=r.valueColsSvc,this.pivotColsSvc=r.pivotColsSvc,this.pivotColDefSvc=r.pivotColDefSvc}execute(r){let i=r.changedPath;this.colModel.isPivotActive()?this.executePivotOn(i):this.executePivotOff(i)}executePivotOff(r){this.aggregationColumnsHashLastTime=null,this.uniqueValues=new Map,this.pivotResultCols.isPivotResultColsPresent()&&(this.pivotResultCols.setPivotResultCols(null,"rowModelUpdated"),r&&(r.active=!1))}executePivotOn(r){let i=this.valueColsSvc?.columns.length??1,o=this.gos.get("pivotMaxGeneratedColumns");this.maxUniqueValues=o===-1?-1:o/i;let a;try{a=this.bucketUpRowNodes(r)}catch(N){if(N.message===M){this.pivotResultCols.setPivotResultCols([],"rowModelUpdated"),this.eventSvc.dispatchEvent({type:"pivotMaxColumnsExceeded",message:N.message}),this.lastTimeFailed=!0;return}throw N}let l=this.setUniqueValues(a),d=this.valueColsSvc?.columns??[],p=d.map(N=>`${N.getId()}-${N.getColDef().headerName}`).join("#"),C=d.map(N=>N.getAggFunc().toString()).join("#"),v=this.aggregationColumnsHashLastTime!==p,b=this.aggregationFuncsHashLastTime!==C;this.aggregationColumnsHashLastTime=p,this.aggregationFuncsHashLastTime=C;let R=(this.rowGroupColsSvc?.columns??[]).map(N=>N.getId()).join("#"),x=R!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=R;let E=this.gos.get("pivotRowTotals"),T=this.gos.get("pivotColumnGroupTotals"),D=this.gos.get("suppressExpandablePivotGroups"),k=this.gos.get("removePivotHeaderRowWhenSingleValueColumn"),O=E!==this.pivotRowTotalsLastTime||T!==this.pivotColumnGroupTotalsLastTime||D!==this.suppressExpandablePivotGroupsLastTime||k!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=E,this.pivotColumnGroupTotalsLastTime=T,this.suppressExpandablePivotGroupsLastTime=D,this.removePivotHeaderRowWhenSingleValueColumnLastTime=k,this.lastTimeFailed||l||v||x||b||O){let{pivotColumnGroupDefs:N,pivotColumnDefs:V}=this.pivotColDefSvc.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=V,this.pivotResultCols.setPivotResultCols(N,"rowModelUpdated"),r&&(r.active=!1)}this.lastTimeFailed=!1}setUniqueValues(r){let i=JSON.stringify(P(this.uniqueValues)),o=JSON.stringify(P(r));return i!==o?(this.uniqueValues=r,!0):!1}bucketUpRowNodes(r){this.currentUniqueCount=0;let i=new Map;r.forEachChangedNodeDepthFirst(a=>{a.leafGroup&&(a.childrenMapped=null)});let o=a=>{a.leafGroup?this.bucketRowNode(a,i):a.childrenAfterFilter?.forEach(o)};return r.executeFromRootNode(o),i}bucketRowNode(r,i){let o=this.pivotColsSvc?.columns;o?.length===0?r.childrenMapped=null:r.childrenMapped=P(this.bucketChildren(r.childrenAfterFilter,o,0,i)),r.sibling&&(r.sibling.childrenMapped=r.childrenMapped)}bucketChildren(r,i=[],o,a){let l=new Map,d=i[o];if(r.forEach(C=>{let v=this.valueSvc.getKeyForNode(d,C);if((0,g._missing)(v)&&(v=""),!a.get(v)){this.currentUniqueCount+=1,a.set(v,new Map);let b=this.maxUniqueValues!==-1,R=this.currentUniqueCount>this.maxUniqueValues;if(b&&R)throw Error(M)}l.has(v)||l.set(v,[]),l.get(v).push(C)}),o===i.length-1)return l;let p=new Map;for(let C of l.keys())p.set(C,this.bucketChildren(l.get(C),i,o+1,a.get(C)));return p}getPivotColumnDefs(){return this.pivotColumnDefs}}h.PivotStage=f},1037:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AbstractSelectionHandle=h.SelectionHandleType=void 0;let g=S(6624);var M;(function(f){f[f.FILL=0]="FILL",f[f.RANGE=1]="RANGE"})(M||(h.SelectionHandleType=M={}));class P extends g.Component{constructor(){super(...arguments),this.changedCalculatedValues=!1,this.dragging=!1,this.shouldDestroyOnEndDragging=!1}postConstruct(){let{dragSvc:c,rangeSvc:r}=this.beans;c.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:i=>{this.dragging=!0,r.autoScrollService.check(i),this.changedCalculatedValues&&(this.onDrag(i),this.changedCalculatedValues=!1)},onDragStop:i=>{this.dragging=!1,this.onDragEnd(i),this.clearDragProperties(),this.shouldDestroyOnEndDragging&&this.destroy()},onDragCancel:()=>{this.dragging=!1,this.onDragCancel(),this.clearDragProperties()}}),this.addManagedElementListeners(this.getGui(),{mousedown:this.preventRangeExtension.bind(this)})}getLastCellHovered(){return this.lastCellHovered}preventRangeExtension(c){c.stopPropagation()}onDragStart(c){[this.cellHoverListener]=this.addManagedElementListeners(this.beans.ctrlsSvc.get("gridCtrl").getGui(),{mousemove:this.updateValuesOnMove.bind(this)}),document.body.classList.add(this.getDraggingCssClass())}getDraggingCssClass(){return`ag-dragging-${this.type===M.FILL?"fill":"range"}-handle`}updateValuesOnMove(c){let r=(0,g._getCellPositionForEvent)(this.gos,c);!r||this.shouldSkipCell(r)||this.lastCellHovered&&(0,g._areCellsEqual)(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)}clearDragProperties(){this.clearValues(),this.beans.rangeSvc.autoScrollService.ensureCleared(),document.body.classList.remove(this.getDraggingCssClass())}getType(){return this.type}refresh(c){let r=this.cellCtrl,i=this.getGui(),o=(0,g._last)(this.beans.rangeSvc.getCellRanges()),a=o.startRow,l=o.endRow;if(a&&l&&((0,g._isRowBefore)(l,a)?(this.rangeStartRow=l,this.rangeEndRow=a):(this.rangeStartRow=a,this.rangeEndRow=l)),r!==c||!(0,g._isVisible)(i)){this.cellCtrl=c;let d=c.comp.getParentOfValue();d&&d.appendChild(i)}this.cellRange=o}clearValues(){this.lastCellHovered=void 0,this.removeListeners()}removeListeners(){let c=this.cellHoverListener;c&&(c(),this.cellHoverListener=void 0)}destroy(){if(!this.shouldDestroyOnEndDragging&&this.dragging){(0,g._setDisplayed)(this.getGui(),!1),this.shouldDestroyOnEndDragging=!0;return}this.shouldDestroyOnEndDragging=!1,super.destroy(),this.removeListeners();let c=this.getGui();c.parentElement?.removeChild(c)}}h.AbstractSelectionHandle=P},9236:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgFillHandle=void 0;let g=S(6624),M=S(1037),P=S(3978),f={tag:"div",cls:"ag-fill-handle"};class c extends M.AbstractSelectionHandle{constructor(){super(f),this.markedCells=[],this.cellValues=[],this.isUp=!1,this.isLeft=!1,this.isReduce=!1,this.type=M.SelectionHandleType.FILL}updateValuesOnMove(i){super.updateValuesOnMove(i),this.initialXY||(this.initialXY=(0,g._getNormalisedMousePosition)(this.beans,i));let{x:o,y:a}=this.initialXY,{x:l,y:d}=(0,g._getNormalisedMousePosition)(this.beans,i),p=Math.abs(o-l),C=Math.abs(a-d),v=this.getFillHandleDirection(),b;v==="xy"?b=p>C?"x":"y":b=v,b!==this.dragAxis&&(this.dragAxis=b,this.changedCalculatedValues=!0)}shouldSkipCell(i){return(0,g.isRowNumberCol)(i.column)}onDrag(i){if(!this.initialPosition){let a=this.cellCtrl;if(!a)return;this.initialPosition=a.cellPosition}let o=this.getLastCellHovered();o&&this.markPathFrom(this.initialPosition,o)}onDragEnd(i){if(this.initialXY=null,!this.markedCells.length)return;let o=this.dragAxis==="x",{cellRange:a,rangeStartRow:l,rangeEndRow:d,beans:p}=this,C=a.columns.length,v,{rangeSvc:b,eventSvc:R}=p;if(!this.isUp&&!this.isLeft)v=b.createCellRangeFromCellRangeParams({rowStartIndex:l.rowIndex,rowStartPinned:l.rowPinned,columnStart:a.columns[0],rowEndIndex:o?d.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:o?d.rowPinned:this.lastCellMarked.rowPinned,columnEnd:o?this.lastCellMarked.column:a.columns[C-1]});else{let x=o?l:this.lastCellMarked;v=b.createCellRangeFromCellRangeParams({rowStartIndex:x.rowIndex,rowStartPinned:x.rowPinned,columnStart:o?this.lastCellMarked.column:a.columns[0],rowEndIndex:d.rowIndex,rowEndPinned:d.rowPinned,columnEnd:a.columns[C-1]})}v&&(R.dispatchEvent({type:"fillStart"}),this.handleValueChanged(a,v,i),b.setCellRanges([v]),R.dispatchEvent({type:"fillEnd",initialRange:a,finalRange:v}))}onDragCancel(){this.initialXY=null,this.markedCells.length&&this.clearMarkedPath()}getFillHandleDirection(){let i=(0,g._getFillHandle)(this.gos)?.direction;return i?i!=="x"&&i!=="y"&&i!=="xy"?((0,g._warn)(177),"xy"):i:"xy"}handleValueChanged(i,o,a){let{beans:l}=this,{rangeSvc:d,gos:p,valueSvc:C}=l,v=d.getRangeEndRow(i),b=d.getRangeStartRow(i),R=d.getRangeEndRow(o),x=d.getRangeStartRow(o),E=this.dragAxis==="y";if(this.isReduce&&!(0,g._getFillHandle)(p)?.suppressClearOnFillReduction){let $=E?i.columns:i.columns.filter(W=>o.columns.indexOf(W)<0),se=E?(0,g._getRowBelow)(l,R):x;se&&this.clearCellsInRange(se,v,$);return}let T=[],D=[],k=[],O=[],N=!0,V=0,j=()=>{T.length=0,D.length=0,k.length=0,O.length=0,V=0},Q=($,se)=>{let W=this.isUp?v:b,Z=!1;for(E&&(N=!0,j());!Z&&W;){let ee=(0,g._getRowNode)(l,W);if(!ee)break;E&&$?Y(T,$,ee,()=>!(0,g._isSameRow)(W,this.isUp?b:v)):se&&(N=!0,j(),se.forEach(re=>Y(T,re,ee,()=>re!==(this.isLeft?i.columns[0]:(0,g._last)(i.columns))))),Z=(0,g._isSameRow)(W,this.isUp?x:R),W=this.isUp?(0,g._getRowAbove)(this.beans,W):(0,g._getRowBelow)(l,W)}},Y=($,se,W,Z)=>{let ee,re=!1;if(N)ee=C.getValue(se,W),D.push(ee),k.push(C.getValue(se,W,!0)),O.push(C.formatValue(se,W,ee)),N=Z();else{let{value:oe,fromUserFunction:ge,sourceCol:ue,sourceRowNode:X}=this.processValues({event:a,values:$,initialValues:D,initialNonAggregatedValues:k,initialFormattedValues:O,col:se,rowNode:W,idx:V++});if(ee=oe,se.isCellEditable(W)){let G=C.getValue(se,W);if(!ge){if(ue){let U=ue.getColDef();if(U.useValueFormatterForExport!==!1&&U.valueFormatter){let K=C.formatValue(ue,X,ee);K!=null&&(ee=K)}}se.getColDef().useValueParserForImport!==!1&&(ee=C.parseValue(se,W,ue?ee:(0,g._toStringOrNull)(ee),G))}!ge||G!==ee?W.setDataValue(se,ee,"rangeSvc"):re=!0}}re||$.push({value:ee,column:se,rowNode:W})};if(E)i.columns.forEach($=>{Q($)});else{let $=this.isLeft?[...o.columns].reverse():o.columns;Q(void 0,$)}}clearCellsInRange(i,o,a){let l={startRow:i,endRow:o,columns:a,startColumn:a[0]};this.beans.rangeSvc.clearCellRangeCellValues({cellRanges:[l]})}processValues(i){let{event:o,values:a,initialValues:l,initialNonAggregatedValues:d,initialFormattedValues:p,col:C,rowNode:v,idx:b}=i,R=(0,g._getFillHandle)(this.gos)?.setFillValue,x=this.dragAxis==="y",E;if(x?E=this.isUp?"up":"down":E=this.isLeft?"left":"right",R){let D=(0,g._addGridCommonParams)(this.gos,{event:o,values:a.map(({value:O})=>O),initialValues:l,initialNonAggregatedValues:d,initialFormattedValues:p,currentIndex:b,currentCellValue:this.beans.valueSvc.getValue(C,v),direction:E,column:C,rowNode:v}),k=R(D);if(k!==!1)return{value:k,fromUserFunction:!0}}let T=!a.some(({value:D})=>{let k=parseFloat(D);return isNaN(k)||k.toString()!==D.toString()});if(o.altKey||!T){if(T&&l.length===1){let N=this.isUp||this.isLeft?-1:1;return{value:parseFloat((0,g._last)(a).value)+1*N,fromUserFunction:!1}}let{value:D,column:k,rowNode:O}=a[b%a.length];return{value:D,fromUserFunction:!1,sourceCol:k,sourceRowNode:O}}return{value:(0,g._last)((0,P.findLineByLeastSquares)(a.map(({value:D})=>Number(D)))),fromUserFunction:!1}}clearValues(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,super.clearValues()}clearMarkedPath(){this.markedCells.forEach(i=>{if(!i.isAlive())return;let{comp:o}=i;o.addOrRemoveCssClass("ag-selection-fill-top",!1),o.addOrRemoveCssClass("ag-selection-fill-right",!1),o.addOrRemoveCssClass("ag-selection-fill-bottom",!1),o.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1}clearCellValues(){this.cellValues.length=0}markPathFrom(i,o){if(this.clearMarkedPath(),this.clearCellValues(),this.dragAxis==="y"){if((0,g._isSameRow)(o,i))return;let a=(0,g._isRowBefore)(o,i),{rangeStartRow:l,rangeEndRow:d}=this;a&&(o.rowPinned==l.rowPinned&&o.rowIndex>=l.rowIndex||l.rowPinned!=d.rowPinned&&o.rowPinned==d.rowPinned&&o.rowIndex<=d.rowIndex)?(this.reduceVertical(i,o),this.isReduce=!0):(this.extendVertical(i,o,a),this.isReduce=!1)}else{let a=i.column,l=o.column;if(a===l)return;let d=this.beans.visibleCols.allCols,p=d.indexOf(a),C=d.indexOf(l);C<=p&&C>=d.indexOf(this.cellRange.columns[0])?(this.reduceHorizontal(i,o),this.isReduce=!0):(this.extendHorizontal(i,o,C<p),this.isReduce=!1)}this.lastCellMarked=o}extendVertical(i,o,a){let l=this.beans,{rangeSvc:d}=l,p=i;do{let C=this.cellRange,v=C.columns.length;for(let b=0;b<v;b++){let R=C.columns[b],E={...{rowIndex:p.rowIndex,rowPinned:p.rowPinned},column:R},T=d.isCellInSpecificRange(E,C),D=(0,g._isSameRow)(p,i);if(a&&(this.isUp=!0),!D){let k=(0,g._getCellByPosition)(l,E);if(k){this.markedCells.push(k);let O=k.comp;T||(O.addOrRemoveCssClass("ag-selection-fill-left",b===0),O.addOrRemoveCssClass("ag-selection-fill-right",b===v-1)),O.addOrRemoveCssClass(a?"ag-selection-fill-top":"ag-selection-fill-bottom",(0,g._isSameRow)(p,o))}}}if((0,g._isSameRow)(p,o))break}while(p=a?(0,g._getRowAbove)(this.beans,p):(0,g._getRowBelow)(l,p))}reduceVertical(i,o){let a=i,l=this.beans;do{let d=this.cellRange,p=d.columns.length,C=(0,g._isSameRow)(a,o);for(let v=0;v<p;v++){let R={...{rowIndex:a.rowIndex,rowPinned:a.rowPinned},column:d.columns[v]},x=(0,g._getCellByPosition)(l,R);x&&(this.markedCells.push(x),x.comp.addOrRemoveCssClass("ag-selection-fill-bottom",(0,g._isSameRow)(a,o)))}if(C)break}while(a=(0,g._getRowAbove)(l,a))}extendHorizontal(i,o,a){let l=this.beans,{visibleCols:d}=l,p=d.allCols,C=p.indexOf(a?o.column:i.column),v=p.indexOf(a?this.cellRange.columns[0]:o.column),b=a?0:1,R=p.slice(C+b,v+b),{rangeStartRow:x,rangeEndRow:E}=this;R.forEach(T=>{let D=x,k=!1;do{k=(0,g._isSameRow)(D,E);let O=(0,g._getCellByPosition)(l,{rowIndex:D.rowIndex,rowPinned:D.rowPinned,column:T});if(O){this.markedCells.push(O);let N=O.comp;N.addOrRemoveCssClass("ag-selection-fill-top",(0,g._isSameRow)(D,x)),N.addOrRemoveCssClass("ag-selection-fill-bottom",(0,g._isSameRow)(D,E)),a?(this.isLeft=!0,N.addOrRemoveCssClass("ag-selection-fill-left",T===R[0])):N.addOrRemoveCssClass("ag-selection-fill-right",T===(0,g._last)(R))}D=(0,g._getRowBelow)(l,D)}while(!k)})}reduceHorizontal(i,o){let a=this.beans,{visibleCols:l}=a,d=l.allCols,p=d.indexOf(o.column),C=d.indexOf(i.column),v=d.slice(p,C),{rangeStartRow:b,rangeEndRow:R}=this;v.forEach(x=>{let E=b,T=!1;do{T=(0,g._isSameRow)(E,R);let D=(0,g._getCellByPosition)(this.beans,{rowIndex:E.rowIndex,rowPinned:E.rowPinned,column:x});D&&(this.markedCells.push(D),D.comp.addOrRemoveCssClass("ag-selection-fill-right",x===v[0])),E=(0,g._getRowBelow)(a,E)}while(!T)})}refresh(i){let o=this.beans.rangeSvc.getCellRanges()[0];if(!o.startRow||!o.endRow){this.destroy();return}super.refresh(i)}}h.AgFillHandle=c},7724:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgRangeHandle=void 0;let g=S(6624),M=S(1037);class P extends M.AbstractSelectionHandle{constructor(){super({tag:"div",cls:"ag-range-handle"}),this.type=M.SelectionHandleType.RANGE,this.rangeFixed=!1}onDrag(c){let r=this.getLastCellHovered();if(!r)return;let i=this.beans.rangeSvc,o=i.getCellRanges(),a=(0,g._last)(o);this.rangeFixed||(this.fixRangeStartEnd(a),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},o.length===2&&o[0].type===g.CellRangeType.DIMENSION&&a.type===g.CellRangeType.VALUE&&!(0,g._isSameRow)(this.endPosition,i.getRangeEndRow(a))&&i.updateRangeEnd(o[0],{...this.endPosition,column:o[0].columns[0]},!0),i.extendLatestRangeToCell(this.endPosition)}shouldSkipCell(c){return!1}onDragEnd(c){let r=(0,g._last)(this.beans.rangeSvc.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1}onDragCancel(){this.rangeFixed=!1}fixRangeStartEnd(c){let r=this.beans.rangeSvc,i=r.getRangeStartRow(c),o=r.getRangeEndRow(c),a=c.columns[0];c.startRow=i,c.endRow=o,c.startColumn=a}}h.AgRangeHandle=P},4870:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.CellRangeFeature=void 0;let g=S(6624),M=S(1037),P="ag-cell-range-selected",f="ag-cell-range-chart",c="ag-cell-range-single-cell",r="ag-cell-range-chart-category",i="ag-cell-range-handle",o="ag-cell-range-top",a="ag-cell-range-right",l="ag-cell-range-bottom",d="ag-cell-range-left";function p(b){let R=b.get("cellSelection");return R!==void 0?typeof R!="boolean"?R.handle?.mode==="range":!1:b.get("enableRangeHandle")}function C(b){let R=b.get("cellSelection");return R!==void 0?typeof R!="boolean"?R.handle?.mode==="fill":!1:b.get("enableFillHandle")}class v{constructor(R,x){this.beans=R,this.cellCtrl=x,this.rangeSvc=R.rangeSvc}setComp(R){this.cellComp=R,this.eGui=this.cellCtrl.eGui,this.onCellSelectionChanged()}onCellSelectionChanged(){let R=this.cellComp;if(!R)return;let{rangeSvc:x,cellCtrl:E,eGui:T}=this,D=x.getCellRangeCount(E.cellPosition);this.rangeCount=D;let k=this.getHasChartRange();this.hasChartRange=k,R.addOrRemoveCssClass(P,D!==0),R.addOrRemoveCssClass(`${P}-1`,D===1),R.addOrRemoveCssClass(`${P}-2`,D===2),R.addOrRemoveCssClass(`${P}-3`,D===3),R.addOrRemoveCssClass(`${P}-4`,D>=4),R.addOrRemoveCssClass(f,k),(0,g._setAriaSelected)(T,D>0?!0:void 0),R.addOrRemoveCssClass(c,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle()}updateRangeBorders(){let R=this.getRangeBorders(),x=this.isSingleCell(),E=!x&&R.top,T=!x&&R.right,D=!x&&R.bottom,k=!x&&R.left,O=this.cellComp;O.addOrRemoveCssClass(o,E),O.addOrRemoveCssClass(a,T),O.addOrRemoveCssClass(l,D),O.addOrRemoveCssClass(d,k)}isSingleCell(){let{rangeSvc:R}=this;return this.rangeCount===1&&!!R&&!R.isMoreThanOneCell()}getHasChartRange(){let{rangeSvc:R}=this;if(!this.rangeCount||!R)return!1;let x=R.getCellRanges();return x.length>0&&x.every(E=>[g.CellRangeType.DIMENSION,g.CellRangeType.VALUE].includes(E.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){let R=this.beans.gos.get("enableRtl"),x=!1,E=!1,T=!1,D=!1,{rangeSvc:k,beans:{visibleCols:O},cellCtrl:{cellPosition:N}}=this,V=N.column,j=k.getCellRanges().filter($=>k.isCellInSpecificRange(N,$));if(!j.length)return{top:x,right:E,bottom:T,left:D};let Q,Y;R?(Q=O.getColAfter(V),Y=O.getColBefore(V)):(Q=O.getColBefore(V),Y=O.getColAfter(V)),Q||(D=!0),Y||(E=!0);for(let $=0;$<j.length&&!(x&&E&&T&&D);$++){let se=j[$],W=k.getRangeStartRow(se),Z=k.getRangeEndRow(se);!x&&(0,g._isSameRow)(W,N)&&(x=!0),!T&&(0,g._isSameRow)(Z,N)&&(T=!0),!D&&Q&&se.columns.indexOf(Q)<0&&(D=!0),!E&&Y&&se.columns.indexOf(Y)<0&&(E=!0)}return{top:x,right:E,bottom:T,left:D}}refreshHandle(){if(this.beans.context.isDestroyed())return;let R=this.shouldHaveSelectionHandle();this.selectionHandle&&!R&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),R&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(i,!!this.selectionHandle)}shouldHaveSelectionHandle(){let R=this.beans.gos,x=this.rangeSvc,E=x.getCellRanges(),T=E.length;if(this.rangeCount<1||T<1)return!1;let D=(0,g._last)(E),{cellPosition:k}=this.cellCtrl,O=C(R)&&!this.cellCtrl.column.isSuppressFillHandle(),N=p(R),V=T===1&&!this.cellCtrl.editing&&(O||N);if(this.hasChartRange){let Q=E[0].type===g.CellRangeType.DIMENSION&&x.isCellInSpecificRange(k,E[0]);this.cellComp.addOrRemoveCssClass(r,Q),V=D.type===g.CellRangeType.VALUE}return V&&D.endRow!=null&&x.isContiguousRange(D)&&x.isBottomRightCell(D,k)}addSelectionHandle(){let{beans:R,rangeSvc:x}=this,E=(0,g._last)(x.getCellRanges()).type,D=C(R.gos)&&(0,g._missing)(E)?M.SelectionHandleType.FILL:M.SelectionHandleType.RANGE;if(this.selectionHandle&&this.selectionHandle.getType()!==D&&(this.selectionHandle=R.context.destroyBean(this.selectionHandle)),!this.selectionHandle){let k=R.registry.createDynamicBean(D===M.SelectionHandleType.FILL?"fillHandle":"rangeHandle",!1);k&&(this.selectionHandle=R.context.createBean(k))}this.selectionHandle?.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}h.CellRangeFeature=v},6527:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DragListenerFeature=void 0;let g=S(6624);class M extends g.BeanStub{constructor(f){super(),this.eContainer=f}postConstruct(){let{beans:f,gos:c,eContainer:r}=this,i=f.rangeSvc,o={eElement:r,onDragStart:i.onDragStart.bind(i),onDragStop:i.onDragStop.bind(i),onDragging:i.onDragging.bind(i)},a=f.dragSvc,l=a.addDragSource.bind(a,o),d=a.removeDragSource.bind(a,o);this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{(0,g._isCellSelectionEnabled)(c)?l():d()}),this.addDestroyFunc(d),(0,g._isCellSelectionEnabled)(c)&&l()}}h.DragListenerFeature=M},1361:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RangeHeaderHighlightFeature=void 0;let g=S(6624);class M extends g.BeanStub{constructor(f,c){super(),this.column=f,this.comp=c,this.columnMap=new Map,this.isActive=!1,this.resetColumnMap()}postConstruct(){this.addManagedPropertyListener("cellSelection",()=>{this.refreshActive()}),this.refreshActive(),this.setupRangeHeaderHighlight()}resetColumnMap(){this.columnMap.clear();let f;this.column.isColumn?f=[this.column]:f=this.column.getDisplayedLeafColumns();for(let c of f)this.columnMap.set(c,!1)}refreshActive(){let{gos:f,rangeSvc:c}=this.beans,r=f.get("cellSelection");this.isActive=!!(r&&c&&typeof r=="object"&&r.enableHeaderHighlight)}setupRangeHeaderHighlight(){let f=this.onRangeSelectionChanged.bind(this);this.addManagedEventListeners({rangeSelectionChanged:f,columnPinned:f,columnMoved:f,columnGroupOpened:f}),f()}onRangeSelectionChanged(){if(!this.isActive)return;this.resetColumnMap();let f=this.beans.rangeSvc.getCellRanges(),c=!1,r=!0;for(let i of f){if(c)break;for(let o of i.columns)this.columnMap.has(o)&&(this.columnMap.set(o,!0),c||(c=!0))}for(let i of Array.from(this.columnMap.values()))if(i===!1){r=!1;break}this.comp.addOrRemoveCssClass("ag-header-range-highlight",c&&r)}destroy(){super.destroy(),this.comp=null,this.column=null}}h.RangeHeaderHighlightFeature=M},3799:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.rangeSelectionCSS=void 0,h.rangeSelectionCSS=".ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected.ag-cell-range-chart,.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1.ag-cell-range-chart,.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2.ag-cell-range-chart,.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3.ag-cell-range-chart,.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4.ag-cell-range-chart,.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-right,:where(.ag-ltr) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-right,:where(.ag-rtl) .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}:where(.ag-ltr) .ag-cell.ag-selection-fill-left,:where(.ag-ltr) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}:where(.ag-rtl) .ag-cell.ag-selection-fill-left,:where(.ag-rtl) .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}:where(.ag-ltr) .ag-fill-handle,:where(.ag-ltr) .ag-range-handle{right:-1px}:where(.ag-rtl) .ag-fill-handle,:where(.ag-rtl) .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}:where(.ag-ltr) .ag-range-handle{cursor:nwse-resize}:where(.ag-rtl) .ag-range-handle{cursor:nesw-resize}"},7876:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.clearRangeSelection=h.addCellRange=h.getCellRanges=void 0;function S(P){return P.rangeSvc?.getCellRanges()??null}h.getCellRanges=S;function g(P,f){P.rangeSvc?.addCellRange(f)}h.addCellRange=g;function M(P){P.rangeSvc?.removeAllCellRanges()}h.clearRangeSelection=M},266:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RangeSelectionModule=h.CellSelectionModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(9236),c=S(7724),r=S(3799),i=S(7876),o=S(1455);h.CellSelectionModule={moduleName:"CellSelection",version:P.VERSION,beans:[o.RangeService],dynamicBeans:{fillHandle:f.AgFillHandle,rangeHandle:c.AgRangeHandle},apiFunctions:{getCellRanges:i.getCellRanges,addCellRange:i.addCellRange,clearRangeSelection:i.clearRangeSelection,clearCellSelection:i.clearRangeSelection},dependsOn:[M.EnterpriseCoreModule,g._KeyboardNavigationModule,g._DragModule],css:[r.rangeSelectionCSS]},h.RangeSelectionModule={moduleName:"RangeSelection",version:P.VERSION,dependsOn:[h.CellSelectionModule]}},1455:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RangeService=void 0;let g=S(6624),M=S(4870),P=S(6527),f=S(1361);var c;(function(i){i[i.NORMAL=0]="NORMAL",i[i.ALL_COLUMNS=1]="ALL_COLUMNS"})(c||(c={}));class r extends g.BeanStub{constructor(){super(...arguments),this.beanName="rangeSvc",this.cellRanges=[],this.bodyScrollListener=this.onBodyScroll.bind(this),this.dragging=!1,this.intersectionRange=!1}wireBeans(o){this.rowModel=o.rowModel,this.dragSvc=o.dragSvc,this.colModel=o.colModel,this.visibleCols=o.visibleCols,this.cellNavigation=o.cellNavigation,this.pinnedRowModel=o.pinnedRowModel,this.ctrlsSvc=o.ctrlsSvc,this.valueSvc=o.valueSvc}postConstruct(){let o=this.onColumnsChanged.bind(this),a=()=>this.removeAllCellRanges(),l=this.refreshLastRangeStart.bind(this);this.addManagedEventListeners({newColumnsLoaded:o,columnVisible:o,columnValueChanged:o,columnPivotModeChanged:a,columnRowGroupChanged:a,columnPivotChanged:a,columnGroupOpened:l,columnMoved:l,columnPinned:l}),this.ctrlsSvc.whenReady(this,d=>{let p=d.gridBodyCtrl;this.autoScrollService=new g.AutoScrollService({scrollContainer:p.eBodyViewport,scrollAxis:"xy",getVerticalPosition:()=>p.scrollFeature.getVScrollPosition().top,setVerticalPosition:C=>p.scrollFeature.setVerticalScrollPosition(C),getHorizontalPosition:()=>p.scrollFeature.getHScrollPosition().left,setHorizontalPosition:C=>p.scrollFeature.setHorizontalScrollPosition(C),shouldSkipVerticalScroll:()=>!(0,g._isDomLayout)(this.gos,"normal"),shouldSkipHorizontalScroll:()=>!p.scrollFeature.isHorizontalScrollShowing()})})}onDragStart(o){if(!(0,g._isCellSelectionEnabled)(this.gos))return;let{ctrlKey:a,metaKey:l,shiftKey:d}=o,p=a||l,v=!(0,g._getSuppressMultiRanges)(this.gos)?p:!1,b=d&&!!this.cellRanges?.length;!v&&(!b||(0,g._exists)((0,g._last)(this.cellRanges).type))&&this.removeAllCellRanges(!0);let R=this.dragSvc.startTarget;if(R&&this.updateValuesOnMove(R),!!this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=o,this.intersectionRange=v&&this.getCellRangeCount(this.lastCellHovered)>1,b||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=(0,g._last)(this.cellRanges);else{let x={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned},E=this.getColumnsFromModel([this.lastCellHovered.column]);if(!E||!E.length)return;this.draggingRange={startRow:x,endRow:x,columns:E,startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.addEventListener("scroll",this.bodyScrollListener,{passive:!0}),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}onDragging(o){let{dragging:a,lastCellHovered:l,newestRangeStartCell:d,autoScrollService:p,cellHasChanged:C}=this;if(!a||!o)return;this.updateValuesOnMove(o.target),this.lastMouseEvent=o;let v=k=>l&&l.rowPinned===k&&d.rowPinned===k,b=v("top")||v("bottom");if(p.check(o,b),!C||!l)return;let R=d?.column,x=l?.column,E=this.calculateColumnsBetween(R,x);if(!E)return;let{rowIndex:T,rowPinned:D}=l;this.draggingRange.endRow={rowIndex:T,rowPinned:D},this.draggingRange.columns=E,this.dispatchChangedEvent(!1,!1,this.draggingRange.id)}onDragStop(){if(!this.dragging)return;let{id:o}=this.draggingRange;this.autoScrollService.ensureCleared(),this.ctrlsSvc.getGridBodyCtrl().eBodyViewport.removeEventListener("scroll",this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,o)}onColumnsChanged(){this.refreshLastRangeStart();let o=this.visibleCols.allCols;this.cellRanges.forEach(l=>{let d=l.columns;l.columns=l.columns.filter(C=>C.isVisible()&&o.indexOf(C)!==-1),!(0,g._areEqual)(d,l.columns)&&this.dispatchChangedEvent(!1,!0,l.id)});let a=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(l=>l.columns.length>0),a>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)}refreshLastRangeStart(){let o=(0,g._last)(this.cellRanges);o&&this.refreshRangeStart(o)}isContiguousRange(o){let a=o.columns;if(!a.length)return!1;let l=this.visibleCols.allCols,d=a.map(p=>l.indexOf(p)).sort((p,C)=>p-C);return(0,g._last)(d)-d[0]+1===a.length}getRangeStartRow(o){return o.startRow&&o.endRow?(0,g._isRowBefore)(o.startRow,o.endRow)?o.startRow:o.endRow:{rowIndex:0,rowPinned:(this.pinnedRowModel?.getPinnedTopRowCount()??0)>0?"top":null}}getRangeEndRow(o){if(o.startRow&&o.endRow)return(0,g._isRowBefore)(o.startRow,o.endRow)?o.endRow:o.startRow;let a=this.pinnedRowModel?.getPinnedBottomRowCount()??0;return a>0?{rowIndex:a-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}}setRangeToCell(o,a=!1){let{gos:l}=this;if(!(0,g._isCellSelectionEnabled)(l))return;let d=l.get("rowNumbers"),p=(0,g.isRowNumberCol)(o.column);d&&this.setSelectionMode(p);let C=this.calculateColumnsBetween(o.column,o.column);if(!C)return;((0,g._getSuppressMultiRanges)(this.gos)||!a||(0,g._missing)(this.cellRanges))&&this.removeAllCellRanges(!0);let b={rowIndex:o.rowIndex,rowPinned:o.rowPinned},R={startRow:b,endRow:b,columns:C,startColumn:o.column};this.cellRanges.push(R),this.setNewestRangeStartCell(o),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}extendLatestRangeToCell(o){if(this.isEmpty()||!this.newestRangeStartCell)return;let a=(0,g._last)(this.cellRanges);this.setSelectionMode((0,g.isRowNumberCol)(o.column)),this.updateRangeEnd(a,o)}updateRangeEnd(o,a,l=!1){let d=a.column,p=this.calculateColumnsBetween(o.startColumn,d);!p||this.isLastCellOfRange(o,a)||(o.columns=p,o.endRow={rowIndex:a.rowIndex,rowPinned:a.rowPinned},l||this.dispatchChangedEvent(!0,!0,o.id))}getRangeEdgeColumns(o){let a=this.visibleCols.allCols,l=o.columns.map(d=>a.indexOf(d)).filter(d=>d>-1).sort((d,p)=>d-p);return{left:a[l[0]],right:a[(0,g._last)(l)]}}extendLatestRangeInDirection(o){if(this.isEmpty()||!this.newestRangeStartCell)return;let a=o.key,l=o.ctrlKey||o.metaKey,d=(0,g._last)(this.cellRanges),p=this.newestRangeStartCell,C=d.columns[0],v=(0,g._last)(d.columns),b=d.endRow.rowIndex,R=d.endRow.rowPinned,E={column:p.column===C?v:C,rowIndex:b,rowPinned:R},T=this.cellNavigation.getNextCellToFocus(a,E,l);if(T)return this.setCellRange({rowStartIndex:p.rowIndex,rowStartPinned:p.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:p.column,columnEnd:T.column}),T}setCellRange(o){(0,g._isCellSelectionEnabled)(this.gos)&&(this.removeAllCellRanges(!0),this.addCellRange(o))}setCellRanges(o){if(!(0,g._areEqual)(this.cellRanges,o)&&this.verifyCellRanges(this.gos)){this.removeAllCellRanges(!0);for(let a of o){if(a.columns&&a.startRow){let l=this.getColumnsFromModel(a.columns);if(!l||l.length===0)continue;a.columns=l;let{startRow:d}=a;this.setNewestRangeStartCell({rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:a.columns[0]})}this.cellRanges.push(a)}this.dispatchChangedEvent(!1,!0)}}clearCellRangeCellValues(o){let{beans:a,valueSvc:l,eventSvc:d}=this,{cellEventSource:p="rangeSvc",dispatchWrapperEvents:C,wrapperEventSource:v="deleteKey"}=o,{cellRanges:b}=o;C&&(d.dispatchEvent({type:"cellSelectionDeleteStart",source:v}),d.dispatchEvent({type:"rangeDeleteStart",source:v})),b||(b=this.cellRanges),b.forEach(R=>{this.forEachRowInRange(R,x=>{let E=(0,g._getRowNode)(a,x);if(E)for(let T=0;T<R.columns.length;T++){let D=this.getColumnFromModel(R.columns[T]);if(!D||!D.isCellEditable(E))continue;let k=l.getDeleteValue(D,E);E.setDataValue(D,k,p)}})}),C&&(d.dispatchEvent({type:"cellSelectionDeleteEnd",source:v}),d.dispatchEvent({type:"rangeDeleteEnd",source:v}))}createCellRangeFromCellRangeParams(o){return this.createPartialCellRangeFromRangeParams(o,!1)}createPartialCellRangeFromRangeParams(o,a){let{columns:l,columnStart:d,columnEnd:p,rowStartIndex:C,rowStartPinned:v,rowEndIndex:b,rowEndPinned:R}=o,x=this.getColumnsFromParams(l,d,p);if(!x||!a&&x.columns.length===0)return;let{columns:E,startsOnTheRight:T}=x,D=this.createRowPosition(C,v),k=this.createRowPosition(b,R);return{startRow:D,endRow:k,columns:E,startColumn:this.getColumnFromModel(d)??(T?(0,g._last)(E):E[0])}}addCellRange(o){let a=this.gos;if(!(0,g._isCellSelectionEnabled)(a)||!this.verifyCellRanges(a))return;let l=this.createCellRangeFromCellRangeParams(o);l&&(l.startRow&&this.setNewestRangeStartCell({rowIndex:l.startRow.rowIndex,rowPinned:l.startRow.rowPinned,column:l.startColumn}),this.cellRanges.push(l),this.dispatchChangedEvent(!1,!0,l.id))}getCellRanges(){return this.cellRanges}isEmpty(){return this.cellRanges.length===0}isMoreThanOneCell(){let o=this.cellRanges.length;if(o===0)return!1;if(o>1)return!0;let a=this.cellRanges[0],l=this.getRangeStartRow(a),d=this.getRangeEndRow(a);return l.rowPinned!==d.rowPinned||l.rowIndex!==d.rowIndex||a.columns.length!==1}areAllRangesAbleToMerge(){let o=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(d=>{this.forEachRowInRange(d,p=>{let C=`${p.rowPinned||"normal"}_${p.rowIndex}`,v=o.get(C),b=d.columns.map(R=>R.getId());if(v){let R=b.filter(x=>v.indexOf(x)===-1);v.push(...R)}else o.set(C,b)})});let l;for(let d of o.values()){let p=d.sort().join();if(l===void 0){l=p;continue}if(l!==p)return!1}return!0}removeAllCellRanges(o){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,o||this.dispatchChangedEvent(!1,!0))}isCellInAnyRange(o){return this.getCellRangeCount(o)>0}isCellInSpecificRange(o,a){let l=a.columns!==null&&a.columns.includes(o.column),d=this.isRowInRange(o.rowIndex,o.rowPinned,a);return l&&d}isBottomRightCell(o,a){let l=this.visibleCols.allCols,d=o.columns.map(x=>l.indexOf(x)).sort((x,E)=>x-E),{startRow:p,endRow:C}=o,v=(0,g._isRowBefore)(p,C)?C:p,b=l.indexOf(a.column)===(0,g._last)(d),R=a.rowIndex===v.rowIndex&&(0,g._makeNull)(a.rowPinned)===(0,g._makeNull)(v.rowPinned);return b&&R}getCellRangeCount(o){return this.isEmpty()?0:this.cellRanges.filter(a=>this.isCellInSpecificRange(o,a)).length}isRowInRange(o,a,l){let d=this.getRangeStartRow(l),p=this.getRangeEndRow(l),C={rowIndex:o,rowPinned:a||null},v=C.rowIndex===d.rowIndex&&C.rowPinned==d.rowPinned,b=C.rowIndex===p.rowIndex&&C.rowPinned==p.rowPinned;if(v||b)return!0;let R=!(0,g._isRowBefore)(C,d),x=(0,g._isRowBefore)(C,p);return R&&x}intersectLastRange(o){if(o&&this.dragging||(0,g._getSuppressMultiRanges)(this.gos)||this.isEmpty())return;let a=(0,g._last)(this.cellRanges),l=this.getRangeStartRow(a),d=this.getRangeEndRow(a),p=[];this.cellRanges.slice(0,-1).forEach(C=>{let v=this.getRangeStartRow(C),b=this.getRangeEndRow(C),R=C.columns,x=R.filter(T=>a.columns.indexOf(T)===-1);if(x.length===R.length){p.push(C);return}if((0,g._isRowBefore)(d,v)||(0,g._isRowBefore)(b,l)){p.push(C);return}let E=p.length;if((0,g._isRowBefore)(v,l)){let T={columns:[...R],startColumn:a.startColumn,startRow:{...v},endRow:(0,g._getRowAbove)(this.beans,l)};p.push(T)}if(x.length>0){let T={columns:x,startColumn:x.includes(a.startColumn)?a.startColumn:x[0],startRow:this.rowMax([{...l},{...v}]),endRow:this.rowMin([{...d},{...b}])};p.push(T)}(0,g._isRowBefore)(d,b)&&p.push({columns:[...R],startColumn:a.startColumn,startRow:(0,g._getRowBelow)(this.beans,d),endRow:{...b}}),p.length-E===1&&(p[p.length-1].id=C.id)}),this.cellRanges=p,o&&this.dispatchChangedEvent(!1,!0)}createRangeHighlightFeature(o,a,l){o.createManagedBean(new f.RangeHeaderHighlightFeature(a,l))}setSelectionMode(o){this.selectionMode=o?c.ALL_COLUMNS:c.NORMAL}refreshRangeStart(o){let{startColumn:a,columns:l}=o,d=(R,x)=>{let E=o.columns.filter(T=>T!==R);R?(o.startColumn=R,o.columns=x?[R,...E]:[...E,R]):o.columns=E},{left:p,right:C}=this.getRangeEdgeColumns(o);if(a===l[0]&&a!==p){d(p,!0);return}if(a===(0,g._last)(l)&&a===C){d(C,!1);return}}setNewestRangeStartCell(o){this.newestRangeStartCell=o}getColumnsFromParams(o,a,l){let d=!o&&!a&&!l,p,C=!1;return d||o?p=this.getColumnsFromModel(d?void 0:o):a&&l&&(p=this.calculateColumnsBetween(a,l),p&&p.length&&(C=p[0]!==this.getColumnFromModel(a))),p?{columns:p,startsOnTheRight:C}:void 0}createRowPosition(o,a){return o!=null?{rowIndex:o,rowPinned:a}:void 0}verifyCellRanges(o){let a=(0,g._isUsingNewCellSelectionAPI)(o)&&(0,g._getSuppressMultiRanges)(o)&&this.cellRanges.length>1;return a&&(0,g._warn)(93),!a}forEachRowInRange(o,a){let l=this.getRangeStartRow(o),d=this.getRangeEndRow(o),p=l;for(;p&&(a(p),!(0,g._isSameRow)(p,d));)p=(0,g._getRowBelow)(this.beans,p)}onBodyScroll(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)}isLastCellOfRange(o,a){let{startRow:l,endRow:d}=o,p=(0,g._isRowBefore)(l,d)?d:l,C=a.rowIndex===p.rowIndex&&a.rowPinned===p.rowPinned,v=o.columns[0],b=(0,g._last)(o.columns),R=o.startColumn===v?b:v;return a.column===R&&C}rowMax(o){let a;return o.forEach(l=>{(a===void 0||(0,g._isRowBefore)(a,l))&&(a=l)}),a}rowMin(o){let a;return o.forEach(l=>{(a===void 0||(0,g._isRowBefore)(l,a))&&(a=l)}),a}updateValuesOnMove(o){let a=(0,g._getCellCtrlForEventTarget)(this.gos,o),l=a?.cellPosition;if(this.cellHasChanged=!1,!(!l||this.lastCellHovered&&(0,g._areCellsEqual)(l,this.lastCellHovered))){if(a?.editing){this.dragSvc.cancelDrag(o);return}this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=l}}shouldSkipCurrentColumn(o){return(0,g.isRowNumberCol)(o)}dispatchChangedEvent(o,a,l){this.eventSvc.dispatchEvent({type:"cellSelectionChanged",started:o,finished:a,id:l}),this.eventSvc.dispatchEvent({type:"rangeSelectionChanged",started:o,finished:a,id:l})}getColumnFromModel(o){return typeof o=="string"?this.colModel.getCol(o):o}getColumnsFromModel(o){let{gos:a,visibleCols:l}=this,d=a.get("rowNumbers");(!o||this.selectionMode===c.ALL_COLUMNS)&&(o=l.allCols);let p=[];for(let C of o){let v=this.getColumnFromModel(C);!v||d&&this.shouldSkipCurrentColumn(v)||p.push(v)}return p.length?p:void 0}calculateColumnsBetween(o,a){let l=this.visibleCols.allCols,d=this.getColumnFromModel(o),p=this.getColumnFromModel(a),C=d===p,v=l.indexOf(d);if(v<0){(0,g._warn)(178,{colId:d.getId()});return}let b=C?v:l.indexOf(p);if(b<0){(0,g._warn)(178,{colId:p.getId()});return}if(C||this.selectionMode===c.ALL_COLUMNS)return this.getColumnsFromModel([d]);let R=Math.min(v,b),x=R===v?b:v,E=[];for(let T=R;T<=x;T++)E.push(l[T]);return this.getColumnsFromModel(E)}createDragListenerFeature(o){return new P.DragListenerFeature(o)}createCellRangeFeature(o,a){return new M.CellRangeFeature(o,a)}}h.RangeService=r},3978:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.findLineByLeastSquares=void 0;function S(g){let M=g.length,P=0;if(M<=1)return g;for(let p=0;p<g.length;p++){let C=g[p],v=C.toString().split("e-");if(v.length>1){P=Math.max(P,parseInt(v[1],10));continue}Math.floor(C)!==C&&(P=Math.max(P,C.toString().split(".")[1].length))}let f=0,c=0,r=0,i=0,o=0;for(let p=0;p<M;p++)o=g[p],f+=p,c+=o,i+=p*p,r+=p*o;let a=(M*r-f*c)/(M*i-f*f),l=c/M-a*f/M,d=[];for(let p=0;p<=M;p++)d.push(parseFloat((p*a+l).toFixed(P)));return d}h.findLineByLeastSquares=S},9617:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RichSelectCellEditor=void 0;let g=S(6624),M=S(2005);class P extends g.PopupComponent{constructor(){super({tag:"div",cls:"ag-cell-edit-wrapper"}),this.isAsync=!1}init(c){this.params=c;let{cellStartedEdit:r,values:i,eventKey:o}=c;(0,g._missing)(i)&&(0,g._warn)(180);let{params:a,valuesPromise:l}=this.buildRichSelectParams(),d=this.createManagedBean(new M.AgRichSelect(a));this.richSelect=d,d.addCssClass("ag-cell-editor"),this.appendChild(d),l&&(this.isAsync=!0,l.then(p=>{d.setValueList({valueList:p,refresh:!0});let C=this.getSearchStringCallback(p);C&&d.setSearchStringCreator(C),this.processEventKey(o)})),this.addManagedListeners(d,{fieldPickerValueSelected:this.onEditorPickerValueSelected.bind(this)}),this.focusAfterAttached=r}onEditorPickerValueSelected(c){setTimeout(()=>this.params.stopEditing(!c.fromEnterKey))}buildRichSelectParams(){let c=this.params,{cellRenderer:r,cellHeight:i,value:o,values:a,formatValue:l,searchDebounceDelay:d,valueListGap:p,valueListMaxHeight:C,valueListMaxWidth:v,allowTyping:b,filterList:R,searchType:x,highlightMatch:E,valuePlaceholder:T,eventKey:D,multiSelect:k,suppressDeselectAll:O,suppressMultiSelectPillRenderer:N}=c,V={value:o,cellRenderer:r,cellRowHeight:i,searchDebounceDelay:d,valueFormatter:l,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",allowAnyText:c.allowAnyText,pickerGap:p,allowTyping:b,filterList:R,searchType:x,highlightMatch:E,maxPickerHeight:C,maxPickerWidth:v,placeholder:T,initialInputValue:D?.length===1?D:void 0,multiSelect:k,suppressDeselectAll:O,suppressMultiSelectPillRenderer:N},j,Q;return typeof a=="function"?j=a(c):j=a??[],Array.isArray(j)?(V.valueList=j,V.searchStringCreator=this.getSearchStringCallback(j)):Q=j,k&&b&&(c.allowTyping=V.allowTyping=!1,(0,g._warn)(181)),{params:V,valuesPromise:Q}}getSearchStringCallback(c){if(typeof c[0]!="object")return;let r=this.params,{colDef:i,formatValue:o}=r;if(i.cellEditorParams?.formatValue)return l=>l.map(o);let{keyCreator:a}=i;if(a){(0,g._warn)(266);let{column:l,node:d,data:p}=r;return C=>C.map(v=>{let b=(0,g._addGridCommonParams)(this.gos,{value:v,colDef:i,column:l,node:d,data:p});return a(b)})}return l=>l.map(o)}afterGuiAttached(){let{focusAfterAttached:c,params:r}=this;setTimeout(()=>{if(!this.isAlive())return;let i=this.richSelect,{allowTyping:o,eventKey:a}=r;if(c){let l=i.getFocusableElement();l.focus(),o&&(!a||a.length!==1)&&l.select()}i.showPicker(),this.isAsync||this.processEventKey(a)})}processEventKey(c){c&&c?.length===1&&this.richSelect.searchTextFromString(c)}focusIn(){this.richSelect.getFocusableElement().focus()}getValue(){let{params:c}=this,r=c.allowAnyText?this.richSelect.getGui().querySelector("input").value:this.richSelect.getValue();return c.parseValue?.(r)??r}isPopup(){return!1}}h.RichSelectCellEditor=P},9327:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RichSelectModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(9617);h.RichSelectModule={moduleName:"RichSelect",version:P.VERSION,beans:[],userComponents:{agRichSelect:f.RichSelectCellEditor,agRichSelectCellEditor:f.RichSelectCellEditor},icons:{richSelectOpen:"small-down",richSelectRemove:"cancel"},dependsOn:[M.EnterpriseCoreModule,g._EditCoreModule]}},9449:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgGridHeaderDropZonesSelector=h.AgGridHeaderDropZones=void 0;let g=S(6624),M=S(6491),P=S(4552);class f extends g.Component{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel());let r=this.onRowGroupChanged.bind(this);this.addManagedEventListeners({columnRowGroupChanged:r,newColumnsLoaded:r}),this.addManagedPropertyListener("rowGroupPanelShow",r),this.addManagedPropertyListener("pivotPanelShow",()=>this.onPivotPanelShow()),this.onRowGroupChanged()}createNorthPanel(){let r=(0,g._createElement)({tag:"div",cls:"ag-column-drop-wrapper",role:"presentation"}),i=new P.RowGroupDropZonePanel(!0);this.rowGroupComp=this.createManagedBean(i);let o=new M.PivotDropZonePanel(!0);this.pivotComp=this.createManagedBean(o),r.appendChild(i.getGui()),r.appendChild(o.getGui());let a=this.onDropPanelVisible.bind(this);return this.addManagedListeners(i,{displayChanged:a}),this.addManagedListeners(o,{displayChanged:a}),this.onDropPanelVisible(),r}onDropPanelVisible(){let{rowGroupComp:r,pivotComp:i}=this,o=r.isDisplayed()&&i.isDisplayed(),a="ag-column-drop-horizontal-half-width";r.addOrRemoveCssClass(a,o),i.addOrRemoveCssClass(a,o)}onRowGroupChanged(){let r=this.rowGroupComp;if(!r)return;let i=this.gos.get("rowGroupPanelShow");if(i==="always")r.setDisplayed(!0);else if(i==="onlyWhenGrouping"){let o=this.beans.rowGroupColsSvc?.columns?.length!==0;r.setDisplayed(o)}else r.setDisplayed(!1)}onPivotPanelShow(){let r=this.pivotComp;if(!r)return;let i=this.gos.get("pivotPanelShow");if(i==="always")r.setDisplayed(!0);else if(i==="onlyWhenPivoting"){let o=this.beans.colModel.isPivotActive();r.setDisplayed(o)}else r.setDisplayed(!1)}}h.AgGridHeaderDropZones=f,h.AgGridHeaderDropZonesSelector={selector:"AG-GRID-HEADER-DROP-ZONES",component:f}},8322:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BaseDropZonePanel=void 0;let g=S(6624),M=S(9733),P=S(3154);class f extends M.PillDropZonePanel{constructor(r,i){super(r),this.dropZonePurpose=i,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(r){super.init(r),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(r){return r.columns??[]}isInterestedIn(r){return r===g.DragSourceType.HeaderCell||r===g.DragSourceType.ToolPanel}minimumAllowedNewInsertIndex(){let{gos:r,rowGroupColsSvc:i}=this.beans,o=r.get("groupLockGroupColumns"),a=i?.columns.length??0;return o===-1?a:Math.min(o,a)}showOrHideColumnOnExit(r){return this.isRowGroupPanel()&&(0,g._shouldUpdateColVisibilityAfterGroup)(this.gos,!0)&&!r.fromNudge}handleDragEnterEnd(r){if(this.showOrHideColumnOnExit(r)){let a=r.dragSource.getDragItem().columns;this.setColumnsVisible(a,!1,"uiColumnDragged")}}handleDragLeaveEnd(r){if(this.showOrHideColumnOnExit(r)){let o=r.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}}setColumnsVisible(r,i,o){if(r){let a=r.filter(l=>!l.getColDef().lockVisible);this.beans.colModel.setColsVisible(a,i,o)}}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}createPillComponent(r,i,o,a){return new P.DropZoneColumnComp(r,i,o,this.dropZonePurpose,a)}}h.BaseDropZonePanel=f},3154:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DropZoneColumnComp=void 0;let g=S(6624),M=S(3173),P=S(7904),f=S(8105);class c extends M.PillDragComp{constructor(o,a,l,d,p){super(a,l,p),this.column=o,this.dropZonePurpose=d,this.eSortIndicator=g.RefPlaceholder,this.popupShowing=!1}postConstruct(){let{sortSvc:o,colNames:a}=this.beans;this.template={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},o?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:void 0,{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},o&&(this.agComponents=[o.getSortIndicatorSelector()]),this.displayName=a.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),o&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(o,a){let l=this.gos.get("rowGroupPanelSuppressSort"),d=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!d){let p=a("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");o.push(p)}if(this.isGroupingZone()&&this.column.isSortable()&&!l){let p=a("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");o.push(p)}super.addAdditionalAriaInstructions(o,a)}isMovable(){return this.isDraggable()}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){let o=this.getLocaleTextFunc(),{name:a,aggFuncName:l}=this.getColumnAndAggFuncName(),d=o("ariaDropZoneColumnComponentAggFuncSeparator"," of "),p={asc:o("ariaDropZoneColumnComponentSortAscending","ascending"),desc:o("ariaDropZoneColumnComponentSortDescending","descending")},C=this.column.getSort(),v=this.gos.get("rowGroupPanelSuppressSort");return[l&&`${l}${d}`,a,this.isGroupingZone()&&!v&&C&&`, ${p[C]}`].filter(b=>!!b).join("")}getColumnAndAggFuncName(){let o=this.displayName,a="";if(this.isAggregationZone()){let l=this.column.getAggFunc(),d=typeof l=="string"?l:"agg";a=this.getLocaleTextFunc()(d,d)}return{name:o,aggFuncName:a}}setupSort(){if(!(!this.column.isSortable()||!this.isGroupingZone())&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);let o=a=>{a.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,a)};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",a=>{a.key===g.KeyCode.ENTER&&this.isGroupingZone()&&o(a)})}}getDefaultIconName(){return"hide"}createGetDragItem(){let{column:o}=this;return()=>{let a={};return a[o.getId()]=o.isVisible(),{columns:[o],visibleState:a}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(o){super.onKeyDown(o),o.key===g.KeyCode.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(o.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){let{name:o,aggFuncName:a}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${a}(${o})`:o}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;let{aggFuncSvc:o,popupSvc:a}=this.beans,l=new P.VirtualList({cssIdentifier:"select-agg-func"}),d=o.getFuncNames(this.column),p=this.getGui(),C=l.getGui();l.setModel({getRow:function(D){return d[D]},getRowCount:function(){return d.length}}),this.createBean(l);let v=(0,g._createElement)({tag:"div",cls:"ag-select-agg-func-popup"});v.style.top="0px",v.style.left="0px",v.appendChild(C),v.style.width=`${p.clientWidth}px`;let[b]=this.addManagedElementListeners(v,{focusout:D=>{!v.contains(D.relatedTarget)&&E&&E.hideFunc()}}),R=D=>{this.destroyBean(l),this.popupShowing=!1,D?.key==="Escape"&&p.focus(),b&&b()},x=this.getLocaleTextFunc(),E=a.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:R,ariaLabel:x("ariaLabelAggregationFunction","Aggregation Function")});E&&l.setComponentCreator(this.createAggSelect.bind(this,E.hideFunc)),l.addGuiEventListener("keydown",D=>{if(D.key===g.KeyCode.ENTER||D.key===g.KeyCode.SPACE){let k=l.getLastFocusedRow();if(k==null)return;let O=l.getComponentAt(k);O&&O.selectItem()}}),a.positionPopupByComponent({type:"aggFuncSelect",eventSource:p,ePopup:v,keepWithinBounds:!0,column:this.column,position:"under"}),l.refresh();let T=d.findIndex(D=>D===this.column.getAggFunc());T===-1&&(T=0),l.focusRow(T)}createAggSelect(o,a){let l=()=>{o(),this.getGui().focus(),this.beans.valueColsSvc?.setColumnAggFunc?.(this.column,a,"toolPanelDragAndDrop")},d=this.getLocaleTextFunc(),p=a.toString(),C=d(p,p);return new r(l,C)}isGroupingAndLocked(){return this.isGroupingZone()&&(0,f.isRowGroupColLocked)(this.column,this.beans)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}getDragSourceType(){return g.DragSourceType.ToolPanel}destroy(){super.destroy(),this.column=null}}h.DropZoneColumnComp=c;class r extends g.Component{constructor(o,a){super({tag:"div",cls:"ag-select-agg-func-item"}),this.selectItem=o,this.getGui().innerText=a,this.addGuiEventListener("click",this.selectItem)}}},6491:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PivotDropZonePanel=void 0;let g=S(6624),M=S(8322);class P extends M.BaseDropZonePanel{constructor(c){super(c,"pivot")}postConstruct(){let c=this.getLocaleTextFunc(),r=c("pivotColumnsEmptyMessage","Drag here to set column labels"),i=c("pivots","Column Labels");super.init({icon:(0,g._createIconNoSpan)("pivotPanel",this.beans,null),emptyMessage:r,title:i}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){let c=this.beans.colModel,r=c.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(r);break;case"onlyWhenPivoting":{let i=c.isPivotActive();this.setDisplayed(r&&i);break}default:this.setDisplayed(!1);break}else this.setDisplayed(r)}isItemDroppable(c,r){return this.gos.get("functionsReadOnly")||!c.isPrimary()?!1:c.isAllowPivot()&&(!c.isPivotActive()||this.isSourceEventFromTarget(r))}updateItems(c){this.beans.pivotColsSvc?.setColumns(c,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){return this.beans.pivotColsSvc?.columns??[]}}h.PivotDropZonePanel=P},4552:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RowGroupDropZonePanel=void 0;let g=S(6624),M=S(8322);class P extends M.BaseDropZonePanel{constructor(c){super(c,"rowGroup")}postConstruct(){let c=this.getLocaleTextFunc(),r=c("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=c("groups","Row Groups");super.init({icon:(0,g._createIconNoSpan)("rowGroupPanel",this.beans,null),emptyMessage:r,title:i}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(c,r){return this.gos.get("functionsReadOnly")||!c.isPrimary()||c.colDef.showRowGroup?!1:c.isAllowRowGroup()&&(!c.isRowGroupActive()||this.isSourceEventFromTarget(r))}updateItems(c){this.beans.rowGroupColsSvc?.setColumns(c,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){return this.beans.rowGroupColsSvc?.columns??[]}}h.RowGroupDropZonePanel=P},3392:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ValuesDropZonePanel=void 0;let g=S(6624),M=S(8322);class P extends M.BaseDropZonePanel{constructor(c){super(c,"aggregation")}postConstruct(){let c=this.getLocaleTextFunc(),r=c("valueColumnsEmptyMessage","Drag here to aggregate"),i=c("values","Values");super.init({icon:(0,g._createIconNoSpan)("valuePanel",this.beans,null),emptyMessage:r,title:i}),this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getIconName(){return this.isPotentialDndItems()?"aggregate":"notAllowed"}isItemDroppable(c,r){return this.gos.get("functionsReadOnly")||!c.isPrimary()?!1:c.isAllowValue()&&(!c.isValueActive()||this.isSourceEventFromTarget(r))}updateItems(c){this.beans.valueColsSvc?.setColumns(c,"toolPanelUi")}getExistingItems(){return this.beans.valueColsSvc?.columns??[]}}h.ValuesDropZonePanel=P},4700:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupFilter=void 0;let g=S(6624),M={tag:"div",cls:"ag-group-filter",children:[{tag:"div",ref:"eGroupField"},{tag:"div",ref:"eUnderlyingFilter"}]};class P extends g.TabGuardComp{wireBeans(c){this.filterManager=c.filterManager,this.showRowGroupCols=c.showRowGroupCols}constructor(){super(M),this.filterType="group",this.eGroupField=g.RefPlaceholder,this.eUnderlyingFilter=g.RefPlaceholder}postConstruct(){this.initialiseTabGuard({})}init(c){return this.updateParams(c).then(()=>{this.addManagedEventListeners({columnRowGroupChanged:()=>this.onColumnRowGroupChanged(),filterDestroyed:r=>this.onFilterDestroyed(r)})})}refresh(c){return this.updateParams(c),!0}updateParams(c){return this.params=c,this.validateParams(),this.updateGroups()}validateParams(){let{colDef:c}=this.params;c.field&&(0,g._warn)(234),c.filterValueGetter&&(0,g._warn)(235),c.filterParams&&(0,g._warn)(236)}updateGroups(){let c=this.updateGroupField();return this.getUnderlyingFilters(c)}getSourceColumns(){if(this.groupColumn=this.params.column,this.gos.get("treeData"))return(0,g._warn)(237),[];let c=this.showRowGroupCols?.getSourceColumnsForGroupColumn(this.groupColumn);return c||((0,g._warn)(183),[])}updateGroupField(){let c=this.eGroupField;(0,g._clearElement)(c),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);let r=this.getSourceColumns(),i=r.filter(o=>o.isFilterAllowed());return i.length?(r.length===1?(this.selectedColumn=i[0],(0,g._setDisplayed)(c,!1)):((!this.selectedColumn||!i.some(o=>o.getId()===this.selectedColumn.getId()))&&(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),c.appendChild(this.eGroupFieldSelect.getGui()),c.appendChild((0,g._createElement)({tag:"div",cls:"ag-filter-separator"})),(0,g._setDisplayed)(c,!0)),i):(this.selectedColumn=void 0,(0,g._setDisplayed)(c,!1),null)}createGroupFieldSelectElement(c){let r=this.createManagedBean(new g.AgSelect);this.eGroupFieldSelect=r;let i=this.getLocaleTextFunc();r.setLabel(i("groupFilterSelect","Select field:")),r.setLabelAlignment("top"),r.addOptions(c.map(o=>({value:o.getId(),text:this.beans.colNames.getDisplayNameForColumn(o,"groupFilter",!1)??void 0}))),r.setValue(this.selectedColumn.getId()),r.onValueChange(o=>this.updateSelectedColumn(o)),r.addCssClass("ag-group-filter-field-select-wrapper"),c.length===1&&r.setDisabled(!0)}getUnderlyingFilters(c){if(!c)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.beans.colFilter?.setColFilterActive(this.groupColumn,!1,"columnRowGroupChanged"),g.AgPromise.resolve();let r=[],i=[];return c.forEach(o=>{let a=this.filterManager.getOrCreateFilterWrapper(o);a?.filterPromise&&r.push(a.filterPromise.then(l=>(l&&i.push({filter:l,column:o}),o.getId()===this.selectedColumn.getId()&&(this.selectedFilter=l??void 0),l)))}),g.AgPromise.all(r).then(()=>{this.filterColumnPairs=i,this.beans.colFilter?.setColFilterActive(this.groupColumn,this.isFilterActive(),"columnRowGroupChanged")})}addUnderlyingFilterElement(){if((0,g._clearElement)(this.eUnderlyingFilter),!this.selectedColumn)return g.AgPromise.resolve();let c=this.createManagedBean(new g.FilterWrapperComp(this.selectedColumn,"COLUMN_MENU"));return this.filterWrapperComp=c,c.hasFilter()?(this.eUnderlyingFilter.appendChild(c.getGui()),c.getFilter()?.then(()=>{c.afterGuiAttached?.(this.afterGuiAttachedParams),!this.afterGuiAttachedParams?.suppressFocus&&this.eGroupFieldSelect&&!this.eGroupFieldSelect.isDisabled()&&this.eGroupFieldSelect.getFocusableElement().focus()})??g.AgPromise.resolve()):g.AgPromise.resolve()}updateSelectedColumn(c){if(!c)return;this.filterWrapperComp?.afterGuiDetached(),this.destroyBean(this.filterWrapperComp);let r=this.getFilterColumnPair(c);this.selectedColumn=r?.column,this.selectedFilter=r?.filter,this.dispatchLocalEvent({type:"selectedColumnChanged"}),this.addUnderlyingFilterElement()}isFilterActive(){return!!this.filterColumnPairs?.some(({filter:c})=>c.isFilterActive())}doesFilterPass(){return!0}getModel(){return null}setModel(){return g.AgPromise.resolve()}afterGuiAttached(c){this.afterGuiAttachedParams=c,this.addUnderlyingFilterElement()}afterGuiDetached(){(0,g._clearElement)(this.eUnderlyingFilter),this.selectedFilter?.afterGuiDetached?.()}onColumnRowGroupChanged(){this.updateGroups().then(()=>{this.dispatchLocalEvent({type:"columnRowGroupChanged"})})}onFilterDestroyed({column:c,source:r}){if(r==="gridDestroyed")return;let i=c.getColId();this.filterColumnPairs?.some(({column:o})=>o.getColId()===i)&&setTimeout(()=>{this.isAlive()&&this.updateGroups()})}getFilterColumnPair(c){if(c)return this.filterColumnPairs?.find(({column:r})=>r.getId()===c)}getSelectedFilter(){return this.selectedFilter}getSelectedColumn(){return this.selectedColumn}isFilterAllowed(){return!!this.selectedColumn}}h.GroupFilter=P},7250:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupFloatingFilterComp=void 0;let g=S(6624),M={tag:"div",ref:"eFloatingFilter",cls:"ag-group-floating-filter ag-floating-filter-input",role:"presentation"};class P extends g.Component{wireBeans(c){this.filterManager=c.filterManager}constructor(){super(M),this.eFloatingFilter=g.RefPlaceholder,this.haveAddedColumnListeners=!1}init(c){this.params=c;let r=this.gos.get("groupDisplayType")==="multipleColumns";return new g.AgPromise(i=>{this.params.parentFilterInstance(o=>{this.parentFilterInstance=o,r?this.setupUnderlyingFloatingFilterElement().then(()=>i()):(this.setupReadOnlyFloatingFilterElement(),i())})}).then(()=>{let i=this.onColChange.bind(this);this.addManagedListeners(this.parentFilterInstance,{selectedColumnChanged:i,columnRowGroupChanged:i})})}refresh(c){this.params=c,this.setParams()}setParams(){let c=this.beans.colNames.getDisplayNameForColumn(this.params.column,"header",!0),r=this.getLocaleTextFunc();this.eFloatingFilterText?.setInputAriaLabel(`${c} ${r("ariaFilterInput","Filter Input")}`)}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new g.AgInputTextField),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,(0,g._clearElement)(this.eFloatingFilter);let c=this.parentFilterInstance.getSelectedColumn();if(c&&!c.isVisible()){let r=this.filterManager.getFloatingFilterCompDetails(c,this.params.showParentFilter);if(r)return this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListeners(c,{visibleChanged:this.onColumnVisibleChanged.bind(this),colDefChanged:this.onColDefChanged.bind(this)})),r.newAgStackInstance().then(i=>{this.underlyingFloatingFilter=i,this.underlyingFloatingFilter?.onParentModelChanged(this.parentFilterInstance.getSelectedFilter()?.getModel()),this.appendChild(i.getGui()),this.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),g.AgPromise.resolve()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(c){if(!c.column)return;let r=this.filterManager.getFloatingFilterCompDetails(c.column,this.params.showParentFilter);r&&this.underlyingFloatingFilter?.refresh?.(r.params)}onParentModelChanged(c,r){this.showingUnderlyingFloatingFilter?this.underlyingFloatingFilter?.onParentModelChanged(this.parentFilterInstance.getSelectedFilter()?.getModel(),r):this.updateDisplayedValue()}updateDisplayedValue(){let{eFloatingFilterText:c,parentFilterInstance:r}=this;if(!r||!c)return;let i=r.getSelectedFilter();if(!i){c.setValue(""),c.setDisplayed(!1);return}if(c.setDisplayed(!0),i.getModelAsString){let o=i.getModel();c.setValue(o==null?"":i.getModelAsString(o))}else c.setValue("")}onColChange(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}}h.GroupFloatingFilterComp=P},9858:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BatchRemover=void 0;class S{constructor(){this.allSets=new Map}removeFromChildrenAfterGroup(P,f){let c=this.getSet(P);(c.fromChildrenAfterGroup??(c.fromChildrenAfterGroup=new Set)).add(f)}isRemoveFromAllLeafChildren(P,f){return!!this.allSets.get(P)?.fromAllLeafChildren?.has(f)}preventRemoveFromAllLeafChildren(P,f){this.allSets.get(P)?.fromAllLeafChildren?.delete(f)}removeFromAllLeafChildren(P,f){let c=this.getSet(P);(c.fromAllLeafChildren??(c.fromAllLeafChildren=new Set)).add(f)}getSet(P){let f=this.allSets.get(P);return f||(f={fromChildrenAfterGroup:null,fromAllLeafChildren:null},this.allSets.set(P,f)),f}getAllParents(){return Array.from(this.allSets.keys())}flush(){let P=this.allSets;for(let f of P.keys()){let c=P.get(f);if(c){let{fromChildrenAfterGroup:r,fromAllLeafChildren:i}=c,{childrenAfterGroup:o,allLeafChildren:a}=f;o&&r&&(g(o,r),f.updateHasChildren()),a&&i&&g(a,i)}}P.clear()}}h.BatchRemover=S;function g(M,P){let f=0;for(let c=0,r=M.length;c<r;++c){let i=M[c];P.has(i)||(M[f++]=i)}M.length=f}},9908:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupStrategy=void 0;let g=S(6624),M=S(8105),P=S(9858),f=S(7818);class c extends g.BeanStub{wireBeans(i){this.colModel=i.colModel,this.rowGroupColsSvc=i.rowGroupColsSvc,this.valueSvc=i.valueSvc,this.selectionSvc=i.selectionSvc,this.showRowGroupCols=i.showRowGroupCols}execute(i){let o=this.createGroupingDetails(i),a=i.changedRowNodes;a?this.handleDeltaUpdate(o,a):this.shotgunResetEverything(o,!!i.afterColumnsChanged);let l=i.changedPath;this.positionLeafsAndGroups(l),this.orderGroups(o),this.selectionSvc?.updateSelectableAfterGrouping(l)}positionLeafsAndGroups(i){i.forEachChangedNodeDepthFirst(o=>{if(o.childrenAfterGroup){let a=[],l=[],d;o.childrenAfterGroup.forEach(p=>{p.childrenAfterGroup?.length?p.key===""&&!d?d=p:l.push(p):a.push(p)}),d&&l.push(d),o.childrenAfterGroup=[...a,...l]}},!1)}createGroupingDetails(i){let{rowNode:o,changedPath:a,rowNodesOrderChanged:l}=i,d=this.rowGroupColsSvc?.columns;return{expandByDefault:this.gos.get("groupDefaultExpanded"),groupedCols:d,rootNode:o,pivotMode:this.colModel.isPivotMode(),groupedColCount:d?.length??0,rowNodesOrderChanged:!!l,changedPath:a,groupAllowUnbalanced:this.gos.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gos.getCallback("initialGroupOrderComparator"),keyCreators:d?.map(C=>C.getColDef().keyCreator)??[]}}handleDeltaUpdate(i,{removals:o,updates:a,adds:l}){let d=new P.BatchRemover;o.size&&this.removeNodes(o,i,d);for(let v of a)this.moveNodeInWrongPath(v,i,d);let p=i.changedPath;for(let v of l)this.insertOneNode(v,i),p.active&&p.addParentNode(v.parent);let C=d.getAllParents();d.flush(),this.removeEmptyGroups(C,i),i.rowNodesOrderChanged&&this.sortChildren(i)}sortChildren(i){i.changedPath.forEachChangedNodeDepthFirst(o=>{(0,f.sortGroupChildren)(o.childrenAfterGroup)&&i.changedPath.addParentNode(o)},!1,!0)}orderGroups(i){let o=i.initialGroupOrderComparator;(0,g._exists)(o)&&a(i.rootNode);function a(l){(0,g._exists)(l.childrenAfterGroup)&&!l.leafGroup&&(l.childrenAfterGroup.sort((p,C)=>o({nodeA:p,nodeB:C})),l.childrenAfterGroup.forEach(p=>a(p)))}}getExistingPathForNode(i,o){let a=[],l=i.parent;for(;l&&l!==o.rootNode;)a.push({key:l.key,rowGroupColumn:l.rowGroupColumn,field:l.field}),l=l.parent;return a.reverse(),a}moveNodeInWrongPath(i,o,a){o.changedPath.active&&o.changedPath.addParentNode(i.parent);let l=v=>v.key,d=this.getExistingPathForNode(i,o).map(l),p=this.getGroupInfo(i,o).map(l);(0,g._areEqual)(d,p)||this.moveNode(i,o,a)}moveNode(i,o,a){if(this.removeNodesFromParents([i],o,a),this.insertOneNode(i,o,a),i.setData(i.data),o.changedPath.active){let l=i.parent;o.changedPath.addParentNode(l)}}removeNodes(i,o,a){if(this.removeNodesFromParents(i,o,a),o.changedPath.active)for(let l of i)o.changedPath.addParentNode(l.parent)}forEachParentGroup(i,o,a){let l=o;for(;l&&l!==i.rootNode;)a(l),l=l.parent}removeNodesFromParents(i,o,a){let l=a==null,d=a||new P.BatchRemover;for(let p of i)this.removeFromParent(p,d),this.forEachParentGroup(o,p.parent,C=>{d.removeFromAllLeafChildren(C,p)});l&&d.flush()}removeEmptyGroups(i,o){let a=!0,l=d=>{let p=this.getChildrenMappedKey(d.key,d.rowGroupColumn),C=d.parent;return(C?.childrenMapped?!C.childrenMapped[p]:!0)?!1:!!d.group&&(d.childrenAfterGroup?.length??0)===0};for(;a;){a=!1;let d=new P.BatchRemover;i.forEach(p=>{this.forEachParentGroup(o,p,C=>{l(C)&&(a=!0,this.removeFromParent(C,d),this.selectionSvc?.setNodesSelected({nodes:[C],newValue:!1,source:"rowGroupChanged"}))})}),d.flush()}}removeFromParent(i,o){i.parent&&(o?o.removeFromChildrenAfterGroup(i.parent,i):((0,g._removeFromArray)(i.parent.childrenAfterGroup,i),i.parent.updateHasChildren()));let a=this.getChildrenMappedKey(i.key,i.rowGroupColumn);i.parent?.childrenMapped&&delete i.parent.childrenMapped[a],i.setRowTop(null),i.setRowIndex(null)}addToParent(i,o){let a=this.getChildrenMappedKey(i.key,i.rowGroupColumn);o?.childrenMapped&&o.childrenMapped[a]!==i&&(o.childrenMapped[a]=i,o.childrenAfterGroup.push(i),(0,M.setRowNodeGroup)(o,this.beans,!0))}areGroupColsEqual(i,o){return i==null||o==null||i.pivotMode!==o.pivotMode?!1:(0,g._areEqual)(i.groupedCols,o.groupedCols)&&(0,g._areEqual)(i.keyCreators,o.keyCreators)}checkAllGroupDataAfterColsChanged(i){let o=a=>{a&&a.forEach(l=>{if(!l.group)return;let p={field:l.field,key:l.key,rowGroupColumn:l.rowGroupColumn,leafNode:l.allLeafChildren?.[0]};this.setGroupData(l,p),o(l.childrenAfterGroup)})};o(i.rootNode.childrenAfterGroup)}shotgunResetEverything(i,o){if(this.noChangeInGroupingColumns(i,o))return;this.selectionSvc?.filterFromSelection?.(p=>!p.group);let{groupedCols:a}=i,l=i.rootNode;l.leafGroup=a.length===0,l.childrenAfterGroup=[],l.childrenMapped={},l.updateHasChildren();let d=l.sibling;d&&(d.childrenAfterGroup=l.childrenAfterGroup,d.childrenMapped=l.childrenMapped),this.insertNodes(l.allLeafChildren,i)}noChangeInGroupingColumns(i,o){let a=!1,l=this.showRowGroupCols.getShowRowGroupCols(),d=l?l.map(p=>p.getId()).join("-"):"";return o&&(a=this.areGroupColsEqual(i,this.oldGroupingDetails),this.oldGroupDisplayColIds!==d&&this.checkAllGroupDataAfterColsChanged(i)),this.oldGroupingDetails=i,this.oldGroupDisplayColIds=d,a}insertNodes(i,o){i.forEach(a=>{this.insertOneNode(a,o),o.changedPath.active&&o.changedPath.addParentNode(a.parent)})}insertOneNode(i,o,a){let l=this.getGroupInfo(i,o),d=this.findParentForNode(i,l,o,a);d.group||(0,g._warn)(184,{parentGroupData:d.data,childNodeData:i.data}),i.parent=d,i.level=l.length,d.childrenAfterGroup.push(i),d.updateHasChildren()}findParentForNode(i,o,a,l){let d=a.rootNode;return o.forEach((p,C)=>{d=this.getOrCreateNextNode(d,p,C,a),l?.isRemoveFromAllLeafChildren(d,i)?l?.preventRemoveFromAllLeafChildren(d,i):d.allLeafChildren.push(i)}),d}getOrCreateNextNode(i,o,a,l){let d=this.getChildrenMappedKey(o.key,o.rowGroupColumn),p=i?.childrenMapped?.[d];return p||(p=this.createGroup(o,i,a,l),this.addToParent(p,i)),p}createGroup(i,o,a,l){let d=new g.RowNode(this.beans);return d.group=!0,d.field=i.field,d.rowGroupColumn=i.rowGroupColumn,this.setGroupData(d,i),d.key=i.key,d.id=this.createGroupId(d,o,a),d.level=a,d.leafGroup=a===l.groupedColCount-1,d.allLeafChildren=[],d.setAllChildrenCount(0),d.rowGroupIndex=a,d.childrenAfterGroup=[],d.childrenMapped={},d.updateHasChildren(),d.parent=o,this.setExpandedInitialValue(l,d),d}createGroupId(i,o,a){let l=(d,p)=>{if(!d.rowGroupColumn)return null;let C=p?l(p,p.parent,0):null;return`${C==null?"":C+"-"}${d.rowGroupColumn.getColId()}-${d.key}`};return g._ROW_ID_PREFIX_ROW_GROUP+l(i,o,a)}setGroupData(i,o){let a=o.rowGroupColumn;a&&o.leafNode&&(i.groupValue=this.valueSvc.getValue(a,o.leafNode)),i.groupData={},this.showRowGroupCols.getShowRowGroupCols().forEach(d=>{let p=i.rowGroupColumn;p!==null&&d.isRowGroupDisplayed(p.getId())&&(i.groupData[d.getColId()]=this.valueSvc.getValue(p,o.leafNode))})}getChildrenMappedKey(i,o){return o?o.getId()+"-"+i:i}setExpandedInitialValue(i,o){if(i.pivotMode&&o.leafGroup){o.expanded=!1;return}let a=i.isGroupOpenByDefault;if(a){let l={rowNode:o,field:o.field,key:o.key,level:o.level,rowGroupColumn:o.rowGroupColumn};o.expanded=a(l)==!0;return}if(i.expandByDefault===-1){o.expanded=!0;return}o.expanded=o.level<i.expandByDefault}getGroupInfo(i,o){let a=[];return o.groupedCols.forEach(l=>{let d=this.valueSvc.getKeyForNode(l,i),p=d!=null&&d!=="";if((o.pivotMode||!o.groupAllowUnbalanced)&&!p&&(d="",p=!0),p){let v={key:d,field:l.getColDef().field,rowGroupColumn:l,leafNode:i};a.push(v)}}),a}}h.GroupStrategy=c},7818:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sortGroupChildren=void 0;function S(M){if(!M)return!1;let P=M.length;if(P<2)return!1;let f=!1;for(let c=1;c<P;c++)if(g(M[c-1],M[c])>0){f=!0;break}return f?(M.sort(g),!0):!1}h.sortGroupChildren=S;function g(M,P){let f=M.sourceRowIndex,c=P.sourceRowIndex,r=f>=0,i=c>=0,o=r&&i,a=!r&&!i;return o?f-c:a?M.__objectId-P.__objectId:r?1:-1}},4357:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RowGroupColsSvc=void 0;let g=S(6624);class M extends g.BaseColsService{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(f,c,r)=>this.setActive(c,f,r),add:(f,c,r)=>this.setActive(!0,f,r),remove:(f,c,r)=>this.setActive(!1,f,r)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(f,c,r)=>this.setColRowGroupActive(f,c,r),getIndexFunc:f=>f.rowGroupIndex,getInitialIndexFunc:f=>f.initialRowGroupIndex,getValueFunc:f=>f.rowGroup,getInitialValueFunc:f=>f.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:f=>this.columns.push(f),removeCol:f=>(0,g._removeFromArray)(this.columns,f)}}moveColumn(f,c,r){if(this.columns.length===0)return;let i=this.columns[f],o=this.columns.slice(f,c);this.columns.splice(f,1),this.columns.splice(c,0,i),this.updateIndexMap(),this.eventSvc.dispatchEvent({type:this.eventName,columns:o,column:o.length===1?o[0]:null,source:r})}syncColumnWithState(f,c,r,i){let{value1:o,value2:a}=r("rowGroup","rowGroupIndex");(o!==void 0||a!==void 0)&&(typeof a=="number"||o?(f.isRowGroupActive()||(this.setColRowGroupActive(f,!0,c),this.modifyColumnsNoEventsCallbacks.addCol(f)),i&&typeof a=="number"&&(i[f.getId()]=a)):f.isRowGroupActive()&&(this.setColRowGroupActive(f,!1,c),this.modifyColumnsNoEventsCallbacks.removeCol(f)))}setActive(f,c,r){f!==c.isRowGroupActive()&&(this.setColRowGroupActive(c,f,r),(0,g._shouldUpdateColVisibilityAfterGroup)(this.gos,f)&&this.colModel.setColsVisible([c],!f,r))}setColRowGroupActive(f,c,r){f.rowGroupActive!==c&&(f.rowGroupActive=c,f.dispatchColEvent("columnRowGroupChanged",r)),f.dispatchStateUpdatedEvent("rowGroup")}}h.RowGroupColsSvc=M},3516:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getRowGroupColumns=h.moveRowGroupColumn=h.addRowGroupColumns=h.removeRowGroupColumns=h.setRowGroupColumns=void 0;function S(c,r){c.rowGroupColsSvc?.setColumns(r,"api")}h.setRowGroupColumns=S;function g(c,r){c.rowGroupColsSvc?.removeColumns(r,"api")}h.removeRowGroupColumns=g;function M(c,r){c.rowGroupColsSvc?.addColumns(r,"api")}h.addRowGroupColumns=M;function P(c,r,i){c.rowGroupColsSvc?.moveColumn?.(r,i,"api")}h.moveRowGroupColumn=P;function f(c){return c.rowGroupColsSvc?.columns??[]}h.getRowGroupColumns=f},1442:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupFilterModule=h.RowGroupingPanelModule=h.RowGroupingModule=h.SharedRowGroupingModule=void 0;let g=S(6624),M=S(9206),P=S(7032),f=S(6858),c=S(7205),r=S(9449),i=S(4700),o=S(7250),a=S(9908),l=S(3516);h.SharedRowGroupingModule={moduleName:"SharedRowGrouping",version:c.VERSION,apiFunctions:{setRowGroupColumns:l.setRowGroupColumns,removeRowGroupColumns:l.removeRowGroupColumns,addRowGroupColumns:l.addRowGroupColumns,getRowGroupColumns:l.getRowGroupColumns,moveRowGroupColumn:l.moveRowGroupColumn},dependsOn:[M.EnterpriseCoreModule,P.SharedAggregationModule,f.GroupColumnModule,f.StickyRowModule]},h.RowGroupingModule={moduleName:"RowGrouping",version:c.VERSION,dynamicBeans:{groupStrategy:a.GroupStrategy},rowModels:["clientSide"],dependsOn:[h.SharedRowGroupingModule,P.AggregationModule,f.ClientSideRowModelHierarchyModule]},h.RowGroupingPanelModule={moduleName:"RowGroupingPanel",version:c.VERSION,selectors:[r.AgGridHeaderDropZonesSelector],icons:{pivotPanel:"pivot",rowGroupPanel:"group",panelDelimiter:"small-right",panelDelimiterRtl:"small-left"},dependsOn:[M.EnterpriseCoreModule,g._PopupModule]},h.GroupFilterModule={moduleName:"GroupFilter",version:c.VERSION,userComponents:{agGroupColumnFilter:i.GroupFilter,agGroupColumnFloatingFilter:o.GroupFloatingFilterComp},dependsOn:[M.EnterpriseCoreModule,g._ColumnFilterModule]}},8105:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.isRowGroupColLocked=h.setRowNodeGroup=h.setRowNodeGroupValue=void 0;function S(P,f,c,r){let i=f.getCol(c);P.groupData||(P.groupData={});let o=i.getColId(),a=P.groupData[o];a!==r&&(P.groupData[o]=r,P.dispatchCellChangedEvent(i,r,a))}h.setRowNodeGroupValue=S;function g(P,f,c){P.group!==c&&(P.group&&!c&&(P.expanded=!1),P.group=c,P.updateHasChildren(),f.selectionSvc?.updateRowSelectable(P),P.dispatchRowEvent("groupChanged"))}h.setRowNodeGroup=g;function M(P,f){let{gos:c,rowGroupColsSvc:r}=f;if(!r||!P)return!1;let i=c.get("groupLockGroupColumns");if(!P.isRowGroupActive()||i===0)return!1;if(i===-1)return!0;let o=r.columns.findIndex(a=>a.getColId()===P.getColId());return i>o}h.isRowGroupColLocked=M},5995:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AutoColService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",this.updateColumns.bind(this))}addColumns(f){this.columns!=null&&(f.list=this.columns.list.concat(f.list),f.tree=this.columns.tree.concat(f.tree),(0,g._updateColsMap)(f))}createColumns(f,c){let r=this.beans,{colModel:i,gos:o,rowGroupColsSvc:a,colGroupSvc:l}=r,d=i.isPivotMode(),p=(0,g._isGroupUseEntireRow)(o,d),C=d?o.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),v=a?.columns,R=!(v&&v.length>0||o.get("treeData"))||C||p,x=()=>{this.columns&&((0,g._destroyColumnTree)(r,this.columns.tree),this.columns=null)};if(R){x();return}let E=this.generateAutoCols(v),T=(0,g._areColIdsEqual)(E,this.columns?.list||null),D=f.treeDepth,O=(this.columns?this.columns.treeDepth:-1)==D;if(T&&O)return;x();let N=l?.findDepth(f.tree)??0,V=l?.balanceTreeForAutoCols(E,N)??[];this.columns={list:E,tree:V,treeDepth:N,map:{}},c(Q=>{if(!Q)return null;let Y=Q.filter($=>!(0,g.isColumnGroupAutoCol)($));return[...E,...Y]})}updateColumns(f){let c=(0,g._convertColumnEventSourceType)(f.source);this.columns?.list.forEach((r,i)=>this.updateOneAutoCol(r,i,c))}getColumn(f){return this.columns?.list.find(c=>(0,g._columnsMatch)(c,f))??null}getColumns(){return this.columns?.list??null}generateAutoCols(f=[]){let c=[],r=this.gos.get("treeData"),i=(0,g._isGroupMultiAutoColumn)(this.gos);return r&&i&&((0,g._warn)(182),i=!1),i?f.forEach((o,a)=>{c.push(this.createOneAutoCol(o,a))}):c.push(this.createOneAutoCol()),c}isSuppressAutoCol(){let f=this.gos;return f.get("groupDisplayType")==="custom"?!0:f.get("treeDataDisplayType")==="custom"}createOneAutoCol(f,c){let r;f?r=`${g.GROUP_AUTO_COLUMN_ID}-${f.getId()}`:r=g.GROUP_AUTO_COLUMN_ID;let i=this.createAutoColDef(r,f,c);i.colId=r;let o=new g.AgColumn(i,null,r,!0);return this.createBean(o),o}updateOneAutoCol(f,c,r){let i=f.getColDef(),o=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,a=this.beans,l=o!=null?a.colModel.getColDefCol(o):void 0,d=f.getId(),p=this.createAutoColDef(d,l??void 0,c);f.setColDef(p,null,r),(0,g._applyColumnState)(a,{state:[{colId:d,...p}]},r)}createAutoColDef(f,c,r){let i=this.createBaseColDef(c),o=this.gos.get("autoGroupColumnDef");(0,g._mergeDeep)(i,o),i=(0,g._addColumnDefaultAndTypes)(this.beans,i,f,!0),this.gos.get("treeData")||(0,g._missing)(i.field)&&(0,g._missing)(i.valueGetter)&&(0,g._missing)(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter"&&(i.filter=!1),r&&r>0&&(i.headerCheckboxSelection=!1);let a=(0,g._isColumnsSortingCoupledToGroup)(this.gos),l=i.valueGetter||i.field!=null;return a&&!l&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(f){let c=this.gos.get("autoGroupColumnDef"),i={headerName:this.getLocaleTextFunc()("group","Group"),showRowGroup:f?.getColId()??!0};return c&&(c.cellRenderer||c.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer",this.beans.findSvc?.setupGroupCol(i)),f&&(i.headerName=this.beans.colNames.getDisplayNameForColumn(f,"header")??void 0,i.headerValueGetter=f.colDef.headerValueGetter),i}destroy(){(0,g._destroyColumnTree)(this.beans,this.columns?.tree),super.destroy()}}h.AutoColService=M},2560:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BaseExpansionService=void 0;let g=S(6624);class M extends g.BeanStub{addExpandedCss(f,c){c.isExpandable()&&(f.push("ag-row-group"),f.push(c.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(f){let{rowNode:c}=f,r=this.updateExpandedCss.bind(this,f,c);return{expandedChanged:r,hasChildrenChanged:r}}setExpanded(f,c,r,i){if(f.expanded===c)return;f.expanded=c,f.dispatchRowEvent("expandedChanged");let o={...(0,g._createGlobalRowEvent)(f,this.gos,"rowGroupOpened"),expanded:c,event:r||null};this.dispatchExpandedEvent(o,i),this.beans.rowRenderer.refreshCells({rowNodes:[f]})}isExpandable(f){return f.footer?!1:this.beans.colModel.isPivotMode()?f.hasChildren()&&!f.leafGroup:f.hasChildren()||f.master}updateExpandedCss(f,c){let r=c.isExpandable(),i=c.expanded==!0;f.forEachGui(void 0,o=>{let a=o.rowComp;a.addOrRemoveCssClass("ag-row-group",r),a.addOrRemoveCssClass("ag-row-group-expanded",r&&i),a.addOrRemoveCssClass("ag-row-group-contracted",r&&!i),(0,g._setAriaExpanded)(o.element,r&&i)})}}h.BaseExpansionService=M},4449:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClientSideExpansionService=void 0;let g=S(6624),M=S(2560);class P extends M.BaseExpansionService{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(c){this.rowModel=c.rowModel}expandRows(c){let r=new Set(c);this.rowModel.forEachNode(i=>{i.id&&r.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}expandAll(c){let{gos:r,colModel:i,eventSvc:o}=this.beans,a=this.rowModel,l=r.get("treeData"),d=i.isPivotActive(),p=v=>{v&&v.forEach(b=>{let R=()=>{b.expanded=c,p(b.childrenAfterGroup)};if(l){(0,g._exists)(b.childrenAfterGroup)&&R();return}if(d){!b.leafGroup&&R();return}b.group&&R()})},C=a.rootNode;C&&p(C.childrenAfterGroup),a.refreshModel({step:"map"}),o.dispatchEvent({type:"expandOrCollapseAll",source:c?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(c,r){this.events.push(c);let i=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach(o=>this.eventSvc.dispatchEvent(o)),this.events=[]};r?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.debounce(i)),this.dispatchExpandedDebounced())}debounce(c){let r=this.beans.animationFrameSvc;if(!r)return()=>window.setTimeout(c,0);let i=!1;return()=>{if(!r.active){window.setTimeout(c,0);return}i||(i=!0,r.addDestroyTask(()=>{i=!1,c()}))}}}h.ClientSideExpansionService=P},257:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FlattenStage=void 0;let g=S(6624),M=S(6432),P=S(9130);class f extends g.BeanStub{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(r){let i=r.rowNode,o=[],a=this.beans.colModel.isPivotMode(),l=a&&i.leafGroup&&i.aggData,d=l?[i]:i.childrenAfterSort,p=(0,P._getFlattenDetails)(this.gos);this.recursivelyAddToRowsToDisplay(p,d,o,a,0);let C=o.length>0;if(!l&&C&&p.grandTotalRow){(0,M._createRowNodeFooter)(i,this.beans);let b=p.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(p,i.sibling,o,0,b)}return o}recursivelyAddToRowsToDisplay(r,i,o,a,l){if(i?.length)for(let d=0;d<i.length;d++){let p=i[d],C=p.hasChildren(),v=(0,P._isRemovedSingleChildrenGroup)(r,p,C),b=(0,P._isRemovedLowestSingleChildrenGroup)(r,p,C);if((0,P._shouldRowBeRendered)(r,p,C,a,v,b)&&this.addRowNodeToRowsToDisplay(r,p,o,l),!(a&&p.leafGroup))if(C){let x=v||b;if(p.expanded||x){let E=r.groupTotalRow({node:p});E||(0,M._destroyRowNodeFooter)(p);let T=x?l:l+1;E==="top"&&((0,M._createRowNodeFooter)(p,this.beans),this.addRowNodeToRowsToDisplay(r,p.sibling,o,T)),this.recursivelyAddToRowsToDisplay(r,p.childrenAfterSort,o,a,T),E==="bottom"&&((0,M._createRowNodeFooter)(p,this.beans),this.addRowNodeToRowsToDisplay(r,p.sibling,o,T))}}else{let x=this.beans.masterDetailSvc?.getDetail(p);x&&this.addRowNodeToRowsToDisplay(r,x,o,l)}}}addRowNodeToRowsToDisplay(r,i,o,a,l){l?o.unshift(i):o.push(i),i.setUiLevel(r.isGroupMultiAutoColumn?0:a)}}h.FlattenStage=f},9130:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._shouldRowBeRendered=h._isRemovedLowestSingleChildrenGroup=h._isRemovedSingleChildrenGroup=h._getFlattenDetails=void 0;let g=S(6624);function M(r){let i=r.get("groupHideParentOfSingleChild");return i||(i=r.get("groupRemoveSingleChildren"),!i&&r.get("groupRemoveLowestSingleChildren")&&(i="leafGroupsOnly")),{groupHideParentOfSingleChild:i,isGroupMultiAutoColumn:(0,g._isGroupMultiAutoColumn)(r),hideOpenParents:r.get("groupHideOpenParents"),grandTotalRow:(0,g._getGrandTotalRow)(r),groupTotalRow:(0,g._getGroupTotalRowCallback)(r)}}h._getFlattenDetails=M;function P(r,i,o){return r.groupHideParentOfSingleChild===!0&&o&&i.childrenAfterGroup.length===1}h._isRemovedSingleChildrenGroup=P;function f(r,i,o){return r.groupHideParentOfSingleChild==="leafGroupsOnly"&&o&&i.leafGroup&&i.childrenAfterGroup.length===1}h._isRemovedLowestSingleChildrenGroup=f;function c(r,i,o,a,l,d){let p=a&&!o,C=a&&i.leafGroup,v=r.hideOpenParents&&i.expanded&&!i.master&&!C;return!p&&!v&&!l&&!d}h._shouldRowBeRendered=c},6022:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupStage=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType","treeData","treeDataChildrenField","treeDataParentIdField"]),this.step="group",this.approach=null,this.strategy=void 0}destroy(){super.destroy(),this.strategy=void 0,this.approach=null}createStrategy(){let{beans:r,approach:i}=this,o;switch(i){case"treeSelfRef":o="treeParentIdStrategy";break;case"group":o="groupStrategy";break}if(o){let a=r.registry.createDynamicBean(o,!1);return this.createOptionalManagedBean(a),a}}execute(r){let i=this.strategy,o=(0,g._getGroupingApproach)(this.gos);return this.approach!==o&&(this.approach=o,this.destroyBean(i),i&&this.approach!=="treeNested"&&this.approach!=="treePath"&&P(r.rowNode),i=this.createStrategy(),this.strategy=i),i?.execute(r),!!i}}h.GroupStage=M;let P=c=>{let r=c.allLeafChildren,i=c.sibling;c.treeNodeFlags=0,c.childrenAfterGroup=r,c.childrenMapped=null,c.groupData=null,i&&(i.childrenAfterGroup=c.childrenAfterGroup,i.childrenAfterAggFilter=c.childrenAfterAggFilter,i.childrenAfterFilter=c.childrenAfterFilter,i.childrenAfterSort=c.childrenAfterSort,i.childrenMapped=null,i.groupData=null);for(let o of r){let a=o.sibling;f(o),a&&f(a),o.parent=c,o.level=0,o.key=null,o.treeNodeFlags=0,(o.group||o.hasChildren())&&(o.group=!1,o.updateHasChildren())}c.updateHasChildren()},f=c=>{c.allLeafChildren=null,c.childrenAfterGroup=null,c.childrenAfterAggFilter=null,c.childrenAfterFilter=null,c.childrenAfterSort=null,c.childrenMapped=null,c.groupData&&(c.groupData=null)}},1982:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupCellRenderer=void 0;let g=S(6624),M=S(5471),P={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]};class f extends g.Component{constructor(){super(P),this.eExpanded=g.RefPlaceholder,this.eContracted=g.RefPlaceholder,this.eCheckbox=g.RefPlaceholder,this.eValue=g.RefPlaceholder,this.eChildCount=g.RefPlaceholder}init(r){let i={setInnerRenderer:(d,p)=>this.setRenderDetails(d,p),setChildCount:d=>this.eChildCount.textContent=d,addOrRemoveCssClass:(d,p)=>this.addOrRemoveCssClass(d,p),setContractedDisplayed:d=>(0,g._setDisplayed)(this.eContracted,d),setExpandedDisplayed:d=>(0,g._setDisplayed)(this.eExpanded,d),setCheckboxVisible:d=>this.eCheckbox.classList.toggle("ag-invisible",!d),setCheckboxSpacing:d=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",d)},o=this.createManagedBean(new M.GroupCellRendererCtrl),a=!r.colDef,l=this.getGui();o.init(i,l,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),a&&(0,g._setAriaRole)(l,o.getCellAriaRole())}setRenderDetails(r,i){r?r.newAgStackInstance().then(o=>{if(!o)return;let a=()=>this.destroyBean(o);this.isAlive()?(this.eValue.appendChild(o.getGui()),this.addDestroyFunc(a)):a()}):this.eValue.innerText=i}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}}h.GroupCellRenderer=f},5471:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupCellRendererCtrl=void 0;let g=S(6624),M=S(6897);class P extends g.BeanStub{constructor(){super(...arguments),this.indentClass=null}init(c,r,i,o,a,l,d){this.params=d,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=c,this.compClass=l;let{node:p,column:C}=d;if(this.node=p,this.displayedNode=p,!this.isEmbeddedRowMismatch()){if(p.footer){this.initFooterCell();return}if(!C){this.initFullWidthCell();return}this.displayedNode=this.beans.valueSvc.getDisplayedNode(p,C)??this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}}initFooterCell(){let{node:c,column:r}=this.params,i=c.level===-1;!(c.rowGroupColumn&&r&&r.isRowGroupDisplayed(c.rowGroupColumn.getId()))&&!i||(this.addFooterValue(),this.setupIndent(),i||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!0))}initFullWidthCell(){let c=()=>{let{rowDragSvc:r}=this.beans;if(!this.params.rowDrag||!r)return;let i=r.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(i),this.eGui.insertAdjacentElement("afterbegin",i.getGui())};this.setupExpand(),c(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){let c=this.params.colDef?.cellAriaRole,r=this.params.column?.getColDef().cellAriaRole;return c||r||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;let{visibleCols:c}=this.beans,r=this.params.pinned==="left",i=this.params.pinned==="right",o=!r&&!i;return this.gos.get("enableRtl")?c.isPinningLeft()?!i:!o:c.isPinningLeft()?!r:!o}addGroupValue(){let{params:{column:c,value:r},node:i,displayedNode:o,beans:a}=this,l=this.getFormattedValue()??(0,M._getGroupValue)(c,i,o,a),d=this.getInnerCompDetails(l);this.comp.setInnerRenderer(d,l??r??null)}getFormattedValue(){let{valueSvc:c}=this.beans,{value:r,valueFormatted:i,column:o}=this.params,{rowGroupColumn:a}=this.displayedNode;return!a||!o?i:o?.isRowGroupDisplayed(a.getId())?c.formatValue(a,this.node,r):null}addFooterValue(){let{expressionSvc:c,footerSvc:r}=this.beans,{totalValueGetter:i,column:o,node:a,value:l}=this.params,d=this.getFormattedValue()??(0,M._getGroupValue)(o,a,a,this.beans),p="";i?typeof i=="function"?p=i({...this.params,valueFormatted:d}):typeof i=="string"?p=c?.evaluate(i,{...this.params,valueFormatted:d}):(0,g._warn)(179):p=r?.getTotalValue(d??l);let C=this.getInnerCompDetails(d);this.comp.setInnerRenderer(C,p??"")}setupExpand(){let{colModel:c}=this.beans,{eGridCell:r,column:i,suppressDoubleClickExpand:o}=this.params,a=(v,b)=>{let R=(0,g._createIconNoSpan)(v,this.beans,null);R&&(b.appendChild(R),this.addDestroyFunc(()=>b.removeChild(R)))};a("groupExpanded",this.eExpanded),a("groupContracted",this.eContracted);let l=this.comp,d=()=>{if(!this.isExpandable())return;let b=this.displayedNode.expanded;l.setExpandedDisplayed(b),l.setContractedDisplayed(!b),(0,g._setAriaExpanded)(r,!!this.displayedNode.expanded)},p=()=>{let v=this.isExpandable();l.addOrRemoveCssClass("ag-cell-expandable",v),l.addOrRemoveCssClass("ag-row-group",v);let b=!v&&c.isPivotMode();l.addOrRemoveCssClass("ag-pivot-leaf-group",b);let R=!c.isPivotMode()&&(!this.displayedNode.footer||this.displayedNode.level!==-1);l.addOrRemoveCssClass("ag-row-group-leaf-indent",!v&&R);let x=this.getChildCount(),E=x>0?`(${x})`:"";l.setChildCount(E),v?d():(l.setExpandedDisplayed(!1),l.setContractedDisplayed(!1),(0,g._removeAriaExpanded)(r))};(()=>{!(i?.isCellEditable(this.displayedNode)&&this.gos.get("enableGroupEdit"))&&!o&&this.addManagedListeners(r,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(r,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:p,masterChanged:p,groupChanged:p,hasChildrenChanged:p,expandedChanged:d})})(),p()}getInnerCompDetails(c){let{userCompFactory:r,findSvc:i}=this.beans,o={...this.params,valueFormatted:c};if(o.fullWidth){let v=this.gos.get("groupRowRendererParams"),b=(0,g._getInnerCellRendererDetails)(r,v,o);return b||(i?.isMatch(o.node,null)?(0,g._getInnerCellRendererDetails)(r,{...v,innerRenderer:"agFindCellRenderer"},o):void 0)}let a=v=>v&&v.componentClass==this.compClass,l=(0,g._getInnerCellRendererDetails)(r,o,o);if(l&&!a(l))return l;let{displayedNode:{rowGroupColumn:d}}=this,p=d?.colDef,C=d&&o.column?.isRowGroupDisplayed(d.getId());if(p&&C){let v=(0,g._getCellRendererDetails)(r,p,o);if(v)if(a(v)){if(p?.cellRendererParams?.innerRenderer)return(0,g._getInnerCellRendererDetails)(r,p.cellRendererParams,o)}else return v}if(i?.isMatch(o.node,o.column))return(0,g._getCellRendererDetails)(r,{...p??o.colDef,cellRenderer:"agFindCellRenderer"},o)}getChildCount(){let{column:c,suppressCount:r}=this.params;if(r)return 0;let{allChildrenCount:i,rowGroupColumn:o}=this.displayedNode;return!((i??0)>0&&(!o||!c||c?.isRowGroupDisplayed(o.getId())))||this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!(0,M._isHiddenParent)(this.node,this.displayedNode,this.gos)?0:i??0}isExpandable(){let{node:c,column:r,colDef:i}=this.params;if(!this.displayedNode.isExpandable())return!1;if(!r)return!0;if(c.hasChildren()&&i){let{showRowGroup:l}=i;if(!l)return!1;if(l===!0)return!0}return c===this.displayedNode?c.rowGroupColumn&&r?.isRowGroupDisplayed(c.rowGroupColumn.getId())?!0:c.master?i?.showRowGroup===!0||i?.showRowGroup==null:!1:(0,M._isHiddenParent)(this.node,this.displayedNode,this.gos)}setupIndent(){let{suppressPadding:c,node:r,colDef:i}=this.params;if(c)return;let o=()=>{let a=0;i&&i.showRowGroup!==!0?a=0:a=r.uiLevel;let l="ag-row-group-indent-"+a;l!==this.indentClass&&(this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass=l,this.comp.addOrRemoveCssClass(l,!0),this.eGui.style.setProperty("--ag-indentation-level",String(a)))};this.addManagedListeners(r,{uiLevelChanged:o.bind(this)}),o()}setupCheckbox(){let{node:c}=this.params;!c.footer&&!c.rowPinned&&!c.detail&&(this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:o})=>{let a=typeof i=="object"?i:void 0,l=typeof o=="object"?o:void 0;a?.checkboxLocation!==l?.checkboxLocation&&(this.destroyCheckbox(),this.addCheckbox())}),this.addCheckbox())}addCheckbox(){let{selectionSvc:c}=this.beans;if(!c||!(0,g._isRowSelection)(this.gos))return;let{node:r,column:i}=this.params,o=this.gos.get("rowSelection"),a=(0,g._getCheckboxLocation)(o);if(a==="selectionColumn")return;if(a==="autoGroupColumn"){let v=i?.getColDef().showRowGroup!=null,b=!i&&r.group;if(!(v||b))return}let l=typeof o=="object"?(0,g._getCheckboxes)(o):this.params.checkbox;if(!(typeof l=="function"||l===!0))return;if(typeof i?.getColDef().showRowGroup=="string"&&!this.isExpandable()){this.comp.setCheckboxSpacing(!0);return}let C=c.createCheckboxSelectionComponent();this.cbComp=C,this.createBean(C),C.init({rowNode:r,column:i,overrides:{isVisible:l,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(C.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(c){(0,g._isStopPropagationForAgGrid)(c)||((0,g._stopPropagationForAgGrid)(c),this.onExpandOrContract(c))}onKeyDown(c){!(c.key===g.KeyCode.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(c)}onCellDblClicked(c){if((0,g._isStopPropagationForAgGrid)(c))return;(0,g._isElementInEventPath)(this.eExpanded,c)||(0,g._isElementInEventPath)(this.eContracted,c)||this.onExpandOrContract(c)}onExpandOrContract(c){if(!this.isExpandable())return;let r=this.displayedNode,i=!r.expanded;!i&&r.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(r.rowTop-r.stickyRowTop),r.setExpanded(i,c)}destroy(){super.destroy(),this.destroyCheckbox()}}h.GroupCellRendererCtrl=P},8034:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.groupCellStylesCSS=void 0,h.groupCellStylesCSS=".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}"},6858:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StickyRowModule=h.ClientSideRowModelHierarchyModule=h.GroupColumnModule=h.GroupCellRendererModule=void 0;let g=S(9206),M=S(7926),P=S(3227),f=S(4357),c=S(7205),r=S(5995),i=S(4449),o=S(257),a=S(6022),l=S(1982),d=S(5471),p=S(8034),C=S(4685),v=S(1998);h.GroupCellRendererModule={moduleName:"GroupCellRenderer",version:c.VERSION,userComponents:{agGroupRowRenderer:l.GroupCellRenderer,agGroupCellRenderer:l.GroupCellRenderer},dynamicBeans:{groupCellRendererCtrl:d.GroupCellRendererCtrl},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[p.groupCellStylesCSS],dependsOn:[g.EnterpriseCoreModule]},h.GroupColumnModule={moduleName:"GroupColumn",version:c.VERSION,beans:[r.AutoColService,C.ShowRowGroupColsService,f.RowGroupColsSvc,P.PivotColsSvc,M.ValueColsSvc],dependsOn:[g.EnterpriseCoreModule,h.GroupCellRendererModule]},h.ClientSideRowModelHierarchyModule={moduleName:"ClientSideRowModelHierarchy",version:c.VERSION,rowModels:["clientSide"],beans:[a.GroupStage,o.FlattenStage,i.ClientSideExpansionService],dependsOn:[g.EnterpriseCoreModule]},h.StickyRowModule={moduleName:"StickyRow",version:c.VERSION,beans:[v.StickyRowService]}},6897:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._getGroupValue=h._isHiddenParent=void 0;let g=S(6624);function M(f,c,r){let i=f,o=i.level-c.level;if(o<=0||!r.get("groupHideOpenParents"))return!1;for(let l=0;l<o;l++){if(!(i.parent?.childrenAfterSort?.[0]===i))return!1;i=i.parent}return i===c}h._isHiddenParent=M;function P(f,c,r,i){let o=r.key==="",a=!!r.rowGroupColumn&&(!f||f?.isRowGroupDisplayed(r.rowGroupColumn.getId()));if(o&&a){let l=M(c,r,i.gos);if(r===c||l)return(0,g._getLocaleTextFunc)(i.localeSvc)("blanks","(Blanks)")}return null}h._getGroupValue=P},4685:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ShowRowGroupColsService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};let{colModel:f,rowGroupColsSvc:c}=this.beans;f.getCols().forEach(r=>{let o=r.getColDef().showRowGroup,a=typeof o=="string";!a&&!(o===!0)||(this.showRowGroupCols.push(r),a?this.showRowGroupColsMap[o]=r:c&&c.columns.forEach(d=>{this.showRowGroupColsMap[d.getId()]=r}))})}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(f){return this.showRowGroupColsMap[f]}getSourceColumnsForGroupColumn(f){let c=f.getColDef().showRowGroup;if(!c)return null;let{rowGroupColsSvc:r,colModel:i}=this.beans;if(c===!0&&r)return r.columns.slice(0);let o=i.getColDefCol(c);return o?[o]:null}isRowGroupDisplayed(f,c){let{colDef:r}=f;if(r?.showRowGroup==null)return!1;let i=r.showRowGroup===!0,o=r.showRowGroup===c;return i||o}}h.ShowRowGroupColsService=M},80:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StickyRowFeature=void 0;let g=S(6624);class M extends g.BeanStub{constructor(r,i){super(),this.createRowCon=r,this.destroyRowCtrls=i,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=(0,g._isClientSideRowModel)(this.gos),this.beans.ctrlsSvc.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(r){this.extraTopHeight!==r&&(this.extraTopHeight=r,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:r}))}setOffsetBottom(r){this.extraBottomHeight!==r&&(this.extraBottomHeight=r)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(r){return this.isClientSide?f(r):P(r)}getFirstPixelOfGroup(r){return r.footer?r.sibling.rowTop+r.sibling.rowHeight-1:r.hasChildren()?r.rowTop-1:0}updateStickyRows(r){let i=r==="top",o=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(r,new Set,o);let{rowModel:a,rowRenderer:l}=this.beans,d=i?l.firstVisibleVPixel-this.extraTopHeight:l.lastVisibleVPixel-this.extraTopHeight,p=new Set,C=x=>{if(p.add(x),i){let E=this.getLastPixelOfGroup(x),T=d+o+x.rowHeight;E<T?x.stickyRowTop=o+(E-T):x.stickyRowTop=o}else{let E=this.getFirstPixelOfGroup(x),T=d-(o+x.rowHeight);E>T?x.stickyRowTop=o-(E-T):x.stickyRowTop=o}o=0,p.forEach(E=>{let T=E.stickyRowTop+E.rowHeight;o<T&&(o=T)})},v=this.areFooterRowsStickySuppressed(),b=this.gos.get("suppressGroupRowsSticky"),R=x=>{if(!x.displayed)return!1;if(x.footer){if(v===!0||v==="grand"&&x.level===-1||v==="group"&&x.level>-1)return!1;let E=x.sibling.rowIndex?x.sibling.rowIndex+1===x.rowIndex:!1;return r==="bottom"&&E?!1:!p.has(x)}return x.isExpandable()?b===!0||r==="bottom"?!1:!p.has(x)&&x.expanded:!1};for(let x=0;x<100;x++){let E=d+o;i||(E=d-o);let T=a.getRowIndexAtPixel(E),D=a.getRow(T);if(D==null)break;let O=this.getStickyAncestors(D).find(V=>(i?V.rowIndex<T:V.rowIndex>T)&&R(V));if(O){C(O);continue}if((i?D.rowTop<E:D.rowTop+D.rowHeight>E)&&R(D)){C(D);continue}break}return i||p.forEach(x=>{x.stickyRowTop=o-(x.stickyRowTop+x.rowHeight)}),this.refreshNodesAndContainerHeight(r,p,o)}areFooterRowsStickySuppressed(){let r=this.gos.get("suppressStickyTotalRow");if(r===!0)return!0;let i=r==="group",o=r==="grand";return i&&o?!0:o?"grand":i?"group":!1}canRowsBeSticky(){let r=(0,g._isGroupRowsSticky)(this.gos),i=this.areFooterRowsStickySuppressed(),o=this.gos.get("suppressGroupRowsSticky");return r&&(!i||!o)}getStickyAncestors(r){let i=[],o=r.footer?r.sibling:r.parent;for(;o;)o.sibling&&i.push(o.sibling),i.push(o),o=o.parent;return i.reverse()}checkStickyRows(){let r=this.updateStickyRows("top"),i=this.updateStickyRows("bottom");return r||i}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(r){let i=new Set;if(this.stickyTopRowCtrls.some(o=>o.rowNode===r)){for(let o=0;o<this.stickyTopRowCtrls.length;o++){let a=this.stickyTopRowCtrls[o].rowNode;a!==r&&i.add(a)}this.refreshNodesAndContainerHeight("top",i,this.topContainerHeight)&&this.checkStickyRows();return}for(let o=0;o<this.stickyBottomRowCtrls.length;o++){let a=this.stickyBottomRowCtrls[o].rowNode;a!==r&&i.add(a)}this.refreshNodesAndContainerHeight("bottom",i,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(r,i,o){let a=r==="top",l=a?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,d={},p=[];for(let T=0;T<l.length;T++){let D=l[T].rowNode;if(!i.has(D)){d[D.id]=l[T],D.sticky=!1;continue}p.push(l[T])}let C=new Set;for(let T=0;T<p.length;T++)C.add(p[T].rowNode);let v=[];i.forEach(T=>{C.has(T)||(T.sticky=!0,v.push(this.createRowCon(T,!1,!1)))});let b=!!v.length||p.length!==l.length;a?this.topContainerHeight!==o&&(this.topContainerHeight=o,this.gridBodyCtrl.setStickyTopHeight(o),b=!0):this.bottomContainerHeight!==o&&(this.bottomContainerHeight=o,this.gridBodyCtrl.setStickyBottomHeight(o),b=!0),this.destroyRowCtrls(d,!1);let R=[...p,...v];R.sort((T,D)=>D.rowNode.rowIndex-T.rowNode.rowIndex),a||R.reverse(),R.forEach(T=>T.setRowTop(T.rowNode.stickyRowTop));let x=this.beans.pageBounds,E=0;return a?(i.forEach(T=>{T.rowIndex<x.getFirstRow()&&(E+=T.rowHeight)}),E>this.topContainerHeight&&(E=this.topContainerHeight),this.setOffsetTop(E)):(i.forEach(T=>{T.rowIndex>x.getLastRow()&&(E+=T.rowHeight)}),E>this.bottomContainerHeight&&(E=this.bottomContainerHeight),this.setOffsetBottom(E)),b?(a?this.stickyTopRowCtrls=R:this.stickyBottomRowCtrls=R,!0):!1}ensureRowHeightsValid(){let r=!1,i=o=>{let a=o.rowNode;if(a.rowHeightEstimated){let l=(0,g._getRowHeightForNode)(this.beans,a);a.setRowHeight(l.height),r=!0}};return this.stickyTopRowCtrls.forEach(i),this.stickyBottomRowCtrls.forEach(i),r}}h.StickyRowFeature=M;function P(c){if(c.isExpandable()||c.footer){if(c.master&&c.detailNode)return c.detailNode.rowTop+c.detailNode.rowHeight;if(!c.sibling||Math.abs(c.sibling.rowIndex-c.rowIndex)===1){let i=c.childStore?.getStoreBounds();return c.footer&&(i=c.sibling.childStore?.getStoreBounds()),(i?.heightPx??0)+(i?.topPx??0)}return c.footer?c.rowTop+c.rowHeight:c.sibling.rowTop+c.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function f(c){if(c.isExpandable()||c.footer){if(c.footer&&c.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!c.sibling||Math.abs(c.sibling.rowIndex-c.rowIndex)===1){let o=c.footer?c.sibling:c;for(;o.isExpandable()&&o.expanded;)if(o.master&&o.detailNode)o=o.detailNode;else if(o.childrenAfterSort){if(o.childrenAfterSort.length===0)break;o=(0,g._last)(o.childrenAfterSort)}return o.rowTop+o.rowHeight}return c.footer?c.rowTop+c.rowHeight:c.sibling.rowTop+c.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}},1998:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StickyRowService=void 0;let g=S(6624),M=S(80);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(c,r,i){let o=this.gos;if((0,g._isGroupRowsSticky)(o)&&(0,g._isClientSideRowModel)(o)||(0,g._isServerSideRowModel)(o))return c.createManagedBean(new M.StickyRowFeature(r,i))}}h.StickyRowService=P},8565:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.rowNumbersCSS=void 0,h.rowNumbersCSS='.ag-row-number-cell{background-color:var(--ag-header-background-color);color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:nowrap;width:100%}:where(.ag-ltr) .ag-row-number-cell{text-align:right}:where(.ag-rtl) .ag-row-number-cell{text-align:left}:where(.ag-row-number-header.ag-row-number-selection-enabled){cursor:cell}.ag-row-number-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-row-number-range-selected{background-color:var(--ag-row-numbers-selected-color)}:where(.ag-ltr){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-last-left-pinned){border-right:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik0zLjQ0NSA4LjkxMVY3LjQwOUg5Ljc1VjYuMDE0bDIuNTM1IDIuMTQ2LTIuNTM1IDIuMTQ2VjguOTExeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}:where(.ag-rtl){.ag-row-number-header,:where(.ag-cell.ag-row-number-cell):not(.ag-cell-first-right-pinned){border-left:var(--ag-pinned-column-border)}:where(.ag-cell.ag-row-number-cell.ag-row-number-selection-enabled){cursor:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxLjUiPjxwYXRoIGQ9Ik01Ljk3OSA4LjkxMXYxLjM5NUwzLjQ0NSA4LjE2bDIuNTM0LTIuMTQ2djEuMzk1aDYuMzA2djEuNTAyeiIgc3R5bGU9InN0cm9rZTojZmZmO3N0cm9rZS13aWR0aDouNDFweCIgdHJhbnNmb3JtPSJtYXRyaXgoMS41Nzg0IDAgMCAxLjg2NDI5IC00LjQxMyAtNy4yMTIpIi8+PC9zdmc+"),auto}}'},976:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RowNumbersModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(8565),c=S(8321);h.RowNumbersModule={moduleName:"RowNumbers",version:P.VERSION,beans:[c.RowNumbersService],dependsOn:[M.EnterpriseCoreModule,g.CellStyleModule],css:[f.rowNumbersCSS]}},8321:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RowNumbersService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="rowNumbersSvc",this.isIntegratedWithSelection=!1}postConstruct(){let f=(0,g._debounce)(this,this.refreshCells.bind(this,!1,!0),10);this.addManagedEventListeners({modelUpdated:f,rangeSelectionChanged:()=>this.refreshCells(!0)}),this.addManagedPropertyListeners(["rowNumbers","cellSelection"],c=>{this.refreshSelectionIntegration(),this.updateColumns(c)}),this.refreshSelectionIntegration()}addColumns(f){this.columns!=null&&(f.list=this.columns.list.concat(f.list),f.tree=this.columns.tree.concat(f.tree),(0,g._updateColsMap)(f))}createColumns(f,c){if(!this.gos.get("rowNumbers"))return;let r=()=>{(0,g._destroyColumnTree)(this.beans,this.columns?.tree),this.columns=null},i=f.treeDepth,a=(this.columns?.treeDepth??-1)==i,l=this.generateRowNumberCols();if((0,g._areColIdsEqual)(l,this.columns?.list??[])&&a)return;r();let{colGroupSvc:p}=this.beans,C=p?.findDepth(f.tree)??0,v=p?.balanceTreeForAutoCols(l,C)??[];this.columns={list:l,tree:v,treeDepth:C,map:{}},c(R=>{if(!R)return null;let x=R.filter(E=>!(0,g.isRowNumberCol)(E));return[...l,...x]})}handleMouseDownOnCell(f,c){return this.isIntegratedWithSelection?(c.shiftKey||setTimeout(()=>{this.focusFirstRenderedCellAtRowPosition(f)}),!0):!1}updateColumns(f){let c=(0,g._convertColumnEventSourceType)(f.source);this.refreshSelectionIntegration(),this.columns?.list.forEach(r=>{let i=this.createRowNumbersColDef();r.setColDef(i,null,c),(0,g._applyColumnState)(this.beans,{state:[{colId:r.getColId(),...i}]},c)})}getColumn(){return this.columns?.list.find(g.isRowNumberCol)??null}getColumns(){return this.columns?.list??null}setupForHeader(f){let{column:c,eGridHeader:r}=f.params;(0,g.isRowNumberCol)(c)&&((0,g._setAriaLabel)(r,"Row Number"),this.addManagedElementListeners(r,{click:this.onHeaderClick.bind(this),keydown:this.onHeaderKeyDown.bind(this),focus:this.onHeaderFocus.bind(this)}))}refreshSelectionIntegration(){let{beans:f}=this,{gos:c,rangeSvc:r}=f,i=c.get("cellSelection");this.refreshRowNumberOverrides(),this.isIntegratedWithSelection=!!r&&!!i&&!this.isSuppressCellSelectionIntegration}refreshRowNumberOverrides(){let f=this.gos.get("rowNumbers");if(this.rowNumberOverrides={},!f||typeof f!="object")return;f.suppressCellSelectionIntegration&&(this.isSuppressCellSelectionIntegration=!0);let c=["contextMenuItems","context","onCellClicked","onCellContextMenu","onCellDoubleClicked","headerTooltip","headerStyle","headerComponent","headerComponentParams","suppressHeaderKeyboardEvent","tooltipField","tooltipValueGetter","tooltipComponent","tooltipComponentParams","valueGetter","valueFormatter","width","maxWidth","minWidth","resizable"];for(let r of c)f[r]!=null&&(this.rowNumberOverrides[r]=f[r])}onHeaderFocus(){this.beans.ariaAnnounce?.announceValue("Press Space to select all cells","ariaSelectAllCells")}onHeaderKeyDown(f){!this.isIntegratedWithSelection||f.key!==g.KeyCode.SPACE||(0,g._selectAllCells)(this.beans)}onHeaderClick(){this.isIntegratedWithSelection&&(0,g._selectAllCells)(this.beans)}refreshCells(f,c){let r=this.getColumn();if(r){if(c){let i=this.beans.autoWidthCalc?.getPreferredWidthForElements([this.createDummyElement(r)],2);i!=null&&this.beans.colResize?.setColumnWidths([{key:r,newWidth:i}],!1,!0,"rowNumbersService")}this.beans.rowRenderer.refreshCells({columns:[r],force:f})}}createDummyElement(f){let c=(0,g._createElement)({tag:"div",cls:"ag-cell-value ag-cell"}),r=String(this.beans.rowModel.getRowCount()+1);if(typeof this.rowNumberOverrides.valueFormatter=="function"){let i=(0,g._addGridCommonParams)(this.beans.gos,{data:void 0,value:r,node:null,column:f,colDef:f.colDef});r=this.rowNumberOverrides.valueFormatter(i)}return c.textContent=r,c}createRowNumbersColDef(){let{gos:f,contextMenuSvc:c}=this.beans,r=f.get("enableRtl");return{minWidth:60,width:60,resizable:!1,valueGetter:this.valueGetter,contextMenuItems:this.isIntegratedWithSelection||!c?void 0:()=>[],...this.rowNumberOverrides,colId:g.ROW_NUMBERS_COLUMN_ID,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPinned:!0,pinned:r?"right":"left",lockPosition:r?"right":"left",editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,suppressSizeToFit:!0,suppressHeaderContextMenu:!0,suppressNavigable:!0,headerClass:this.getHeaderClass(),cellClass:this.getCellClass.bind(this),cellAriaRole:"rowheader"}}valueGetter(f){return String((f.node?.rowIndex||0)+1)}getHeaderClass(){let f=["ag-row-number-header"];return this.isIntegratedWithSelection&&f.push("ag-row-number-selection-enabled"),f}getCellClass(f){let{beans:c}=this,{rangeSvc:r,gos:i}=c,{node:o}=f,a=["ag-row-number-cell"],l=i.get("cellSelection");if(!r||!l)return a;this.isIntegratedWithSelection&&a.push("ag-row-number-selection-enabled");let d=r.getCellRanges();if(!d.length)return a;let p=this.beans.visibleCols.allCols.length-1,C=typeof l=="object"&&l.enableHeaderHighlight;for(let v of d)r.isRowInRange(o.rowIndex,o.rowPinned,v)&&(C&&a.push("ag-row-number-range-highlight"),v.columns.length===p&&a.push("ag-row-number-range-selected"));return a}generateRowNumberCols(){let{gos:f,beans:c}=this;if(!f.get("rowNumbers"))return[];let r=this.createRowNumbersColDef(),i=r.colId;c.validation?.validateColDef(r,i,!0);let o=new g.AgColumn(r,null,i,!1);return this.createBean(o),[o]}focusFirstRenderedCellAtRowPosition(f){let{beans:c,gos:r}=this,{visibleCols:i,colViewport:o}=c,a=r.get("enableRtl")?i.rightCols:i.leftCols,l;if(a.length==1){let v=(0,g._getRowNode)(c,f);if(!v)return;l=o.getColsWithinViewport(v)}else l=a;let d=l.find(v=>!(0,g.isRowNumberCol)(v));if(!d)return;let{rowPinned:p,rowIndex:C}=f;c.focusSvc.setFocusedCell({rowIndex:C,rowPinned:p,column:d,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}destroy(){(0,g._destroyColumnTree)(this.beans,this.columns?.tree),this.rowNumberOverrides=null,super.destroy()}}h.RowNumbersService=M},1538:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BlockUtils=h.GROUP_MISSING_KEY_ID=void 0;let g=S(6624),M=S(6432);h.GROUP_MISSING_KEY_ID="ag-Grid-MissingKey";class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmBlockUtils"}wireBeans(c){this.valueSvc=c.valueSvc,this.showRowGroupCols=c.showRowGroupCols,this.nodeManager=c.ssrmNodeManager,this.expansionSvc=c.expansionSvc,this.serverSideRowModel=c.rowModel,this.storeFactory=c.ssrmStoreFactory}createRowNode(c){let r=new g.RowNode(this.beans),i=c.rowHeight!=null?c.rowHeight:(0,g._getRowHeightAsNumber)(this.beans);return r.setRowHeight(i),r.group=c.group,r.leafGroup=c.leafGroup,r.level=c.level,r.uiLevel=c.level,r.parent=c.parent,r.stub=!0,r.__needsRefreshWhenVisible=!1,r.group&&(r.expanded=!1,r.field=c.field,r.rowGroupColumn=c.rowGroupColumn,r.rowGroupIndex=c.level),r}destroyRowNode(c,r=!1){c.childStore&&!r&&(this.destroyBean(c.childStore),c.childStore=null),c.sibling&&!c.footer&&this.destroyRowNode(c.sibling,!1),c.clearRowTopAndRowIndex(),c.id!=null&&this.nodeManager.removeNode(c)}setTreeGroupInfo(c){c.updateHasChildren();let r=this.gos.get("getServerSideGroupKey"),i=c.hasChildren();i&&r!=null&&(c.key=r(c.data)),!i&&c.childStore!=null&&(this.destroyBean(c.childStore),c.childStore=null,c.expanded=!1)}setRowGroupInfo(c){if(c.key=this.valueSvc.getValue(c.rowGroupColumn,c),(c.key===null||c.key===void 0)&&(0,g._doOnce)(()=>{(0,g._warn)(190,{rowGroupId:c.rowGroupColumn?.getId(),data:c.data})},"SSBlock-BadKey"),this.gos.get("groupAllowUnbalanced")&&c.key===""){let a=this.serverSideRowModel.getParams();c.childStore=this.createBean(this.storeFactory.createStore(a,c))}(0,g._getGroupTotalRowCallback)(this.beans.gos)({node:c})&&((0,M._createRowNodeFooter)(c,this.beans),c.sibling&&(c.sibling.uiLevel=c.uiLevel+1))}setMasterDetailInfo(c){let r=this.gos.get("isRowMaster");r!=null?c.master=r(c.data):c.master=!0}updateDataIntoRowNode(c,r){c.updateData(r),this.gos.get("treeData")?(this.setTreeGroupInfo(c),this.setChildCountIntoRowNode(c)):c.group?(this.setChildCountIntoRowNode(c),c.footer||((0,g._getGroupTotalRowCallback)(this.beans.gos)({node:c})?c.sibling?c.sibling.updateData(r):(0,M._createRowNodeFooter)(c,this.beans):c.sibling&&(0,M._destroyRowNodeFooter)(c))):this.gos.get("masterDetail")}setDataIntoRowNode(c,r,i,o){c.stub=!1;let a=this.gos.get("treeData");c.setDataAndId(r,i),a?this.setTreeGroupInfo(c):c.group?this.setRowGroupInfo(c):this.gos.get("masterDetail")&&this.setMasterDetailInfo(c),(a||c.group)&&(this.setGroupDataIntoRowNode(c),this.setChildCountIntoRowNode(c)),(0,g._exists)(r)&&(c.setRowHeight((0,g._getRowHeightForNode)(this.beans,c,!1,o).height),c.sibling?.setRowHeight((0,g._getRowHeightForNode)(this.beans,c.sibling,!1,o).height))}setChildCountIntoRowNode(c){let r=this.gos.get("getChildCount");r&&c.setAllChildrenCount(r(c.data))}setGroupDataIntoRowNode(c){c.groupValue=c.key;let r=this.showRowGroupCols?.getShowRowGroupCols()??[],i=this.gos.get("treeData");r.forEach(o=>{if(c.groupData==null&&(c.groupData={}),i)c.groupData[o.getColId()]=c.key;else if(o.isRowGroupDisplayed(c.rowGroupColumn.getId())){let a=this.valueSvc.getValue(c.rowGroupColumn,c);c.groupData[o.getColId()]=a}})}clearDisplayIndex(c){c.clearRowTopAndRowIndex(),c.hasChildren()&&!!c.childStore&&c.childStore?.clearDisplayIndexes(),c.master&&c.detailNode&&c.detailNode?.clearRowTopAndRowIndex()}setDisplayIndex(c,r,i,o){let a=this.gos.get("groupAllowUnbalanced")&&c.group&&c.key==="";if(this.gos.get("groupHideOpenParents")&&c.group&&c.expanded||a?(c.setRowIndex(null),c.setRowTop(null)):(c.setRowIndex(r.value++),c.setRowTop(i.value),i.value+=c.rowHeight),c.setUiLevel(o),c.footer)return;if(c.master&&(c.expanded&&c.detailNode?(c.detailNode.setRowIndex(r.value++),c.detailNode.setRowTop(i.value),i.value+=c.detailNode.rowHeight):c.detailNode&&c.detailNode.clearRowTopAndRowIndex()),c.hasChildren()&&!!c.childStore){let C=c.childStore;c.expanded||a?C.setDisplayIndexes(r,i,a?o:o+1):C.clearDisplayIndexes()}}extractRowBounds(c,r){let i=o=>({rowHeight:o.rowHeight,rowTop:o.rowTop});if(c.rowIndex===r)return i(c);if(c.hasChildren()&&c.expanded&&c.childStore){let o=c.childStore;if(o.isDisplayIndexInStore(r))return o.getRowBounds(r)}else if(c.master&&c.expanded&&c.detailNode&&c.detailNode.rowIndex===r)return i(c.detailNode)}isPixelInNodeRange(c,r){return!(0,g._exists)(c.rowTop)||!(0,g._exists)(c.rowHeight)?!1:r>=c.rowTop&&r<c.rowTop+c.rowHeight}getIndexAtPixel(c,r){if(this.isPixelInNodeRange(c,r))return c.rowIndex;let i=c.master&&c.expanded,o=c.detailNode;if(i&&o&&this.isPixelInNodeRange(o,r))return o.rowIndex;if(c.hasChildren()&&c.expanded&&c.childStore){let a=c.childStore;if(a.isPixelInRange(r))return a.getRowIndexAtPixel(r)}return null}createNodeIdPrefix(c){let r=[],i=c;for(;i&&i.level>=0;)i.key===""?r.push(h.GROUP_MISSING_KEY_ID):r.push(i.key),i=i.parent;if(r.length>0)return r.reverse().join("-")}checkOpenByDefault(c){return this.expansionSvc?.checkOpenByDefault(c)}}h.BlockUtils=P},8089:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ExpandListener=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmExpandListener"}wireBeans(f){this.serverSideRowModel=f.rowModel,this.storeFactory=f.ssrmStoreFactory}postConstruct(){(0,g._isServerSideRowModel)(this.gos)&&this.addManagedEventListeners({rowGroupOpened:this.onRowGroupOpened.bind(this)})}onRowGroupOpened(f){let c=f.node;if(c.expanded){if(c.master)this.createDetailNode(c);else if((0,g._missing)(c.childStore)){let r=this.serverSideRowModel.getParams();c.childStore=this.createBean(this.storeFactory.createStore(r,c))}}else this.gos.get("purgeClosedRowNodes")&&(0,g._exists)(c.childStore)&&(c.childStore=this.destroyBean(c.childStore));this.eventSvc.dispatchEvent({type:"storeUpdated"})}createDetailNode(f){if((0,g._exists)(f.detailNode))return f.detailNode;let c=new g.RowNode(this.beans);c.detail=!0,c.selectable=!1,c.parent=f,(0,g._exists)(f.id)&&(c.id="detail_"+f.id),c.data=f.data,c.level=f.level+1;let r=200,i=(0,g._getRowHeightForNode)(this.beans,c).height;return c.rowHeight=i||r,f.detailNode=c,c}}h.ExpandListener=M},1999:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FilterListener=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmFilterListener"}wireBeans(f){this.serverSideRowModel=f.rowModel,this.filterManager=f.filterManager,this.listenerUtils=f.ssrmListenerUtils}postConstruct(){(0,g._isServerSideRowModel)(this.gos)&&this.addManagedEventListeners({advancedFilterEnabledChanged:()=>this.onFilterChanged(!0),filterChanged:()=>this.onFilterChanged()})}onFilterChanged(f){let c=this.serverSideRowModel.getParams();if(!c)return;let r=c.filterModel,i,o;if(this.filterManager?.isAdvFilterEnabled()){i=this.filterManager.getAdvFilterModel();let p=f?Object.keys(r??{}):this.getAdvancedFilterColumns(r),C=this.getAdvancedFilterColumns(i);p.forEach(v=>C.add(v)),o=Array.from(C)}else if(i=this.filterManager?.getFilterModel()??{},f){let p=this.getAdvancedFilterColumns(r);Object.keys(i).forEach(C=>p.add(C)),o=Array.from(p)}else o=this.findChangedColumns(r,i);let a=this.listenerUtils.isSortingWithValueColumn(o),l=this.listenerUtils.isSortingWithSecondaryColumn(o),d={valueColChanged:a,secondaryColChanged:l,changedColumns:o};this.serverSideRowModel.refreshAfterFilter(i,d)}findChangedColumns(f,c){let r={};Object.keys(f).forEach(o=>r[o]=!0),Object.keys(c).forEach(o=>r[o]=!0);let i=[];return Object.keys(r).forEach(o=>{let a=JSON.stringify(f[o]),l=JSON.stringify(c[o]);a!=l&&i.push(o)}),i}getAdvancedFilterColumns(f){let c=new Set;if(!f)return c;let r=i=>{i.filterType==="join"?i.conditions.forEach(o=>r(o)):c.add(i.colId)};return r(f),c}}h.FilterListener=M},5956:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ListenerUtils=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmListenerUtils"}wireBeans(f){this.pivotResultCols=f.pivotResultCols,this.valueColsSvc=f.valueColsSvc}isSortingWithValueColumn(f){let c=(this.valueColsSvc?.columns??[]).map(r=>r.getColId());for(let r=0;r<f.length;r++)if(c.indexOf(f[r])>-1)return!0;return!1}isSortingWithSecondaryColumn(f){let c=this.pivotResultCols?.getPivotResultCols();if(!c)return!1;let r=c.list.map(i=>i.getColId());for(let i=0;i<f.length;i++)if(r.indexOf(f[i])>-1)return!0;return!1}}h.ListenerUtils=M},6533:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SortListener=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmSortSvc"}wireBeans(f){this.sortSvc=f.sortSvc,this.serverSideRowModel=f.rowModel,this.listenerUtils=f.ssrmListenerUtils}postConstruct(){(0,g._isServerSideRowModel)(this.gos)&&this.addManagedEventListeners({sortChanged:this.onSortChanged.bind(this)})}onSortChanged(){let f=this.serverSideRowModel.getParams();if(!f)return;let c=this.sortSvc.getSortModel(),r=f.sortModel,i=this.findChangedColumnsInSort(c,r),o=this.listenerUtils.isSortingWithValueColumn(i),a=this.listenerUtils.isSortingWithSecondaryColumn(i),l={valueColChanged:o,secondaryColChanged:a,changedColumns:i};this.serverSideRowModel.refreshAfterSort(c,l)}findChangedColumnsInSort(f,c){let r=[];[f,c].forEach(a=>{if(a){let l=a.map(d=>d.colId);r=r.concat(l)}});let i=(a,l)=>{let d=a?a.sort:null,p=l?l.sort:null;return d!==p},o=(a,l)=>{let d=a?c.indexOf(a):-1,p=l?f.indexOf(l):-1;return d!==p};return r.filter(a=>{let l=c.find(p=>p.colId===a),d=f.find(p=>p.colId===a);return i(l,d)||o(l,d)})}}h.SortListener=M},9140:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.NodeManager=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmNodeManager",this.rowNodes=new Map}addRowNode(f){let c=f.id;this.rowNodes.has(c)&&(0,g._warn)(187,{rowId:c,firstData:this.rowNodes.get(c).data,secondData:f.data}),this.rowNodes.set(c,f)}removeNode(f){let c=f.id;this.rowNodes.delete(c)}destroy(){this.clear(),super.destroy()}clear(){this.rowNodes.clear(),super.destroy()}}h.NodeManager=M},8646:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ServerSideRowModel=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.pauseStoreUpdateListening=!1,this.started=!1,this.managingPivotResultColumns=!1,this.onRowHeightChanged_debounced=(0,g._debounce)(this,this.onRowHeightChanged.bind(this),100)}wireBeans(f){this.colModel=f.colModel,this.colNames=f.colNames,this.pivotResultCols=f.pivotResultCols,this.rowGroupColsSvc=f.rowGroupColsSvc,this.pivotColsSvc=f.pivotColsSvc,this.valueColsSvc=f.valueColsSvc,this.filterManager=f.filterManager,this.sortSvc=f.sortSvc,this.rowRenderer=f.rowRenderer,this.nodeManager=f.ssrmNodeManager,this.storeFactory=f.ssrmStoreFactory,this.pivotColDefSvc=f.pivotColDefSvc}ensureRowHeightsValid(){return!1}start(){this.started=!0,this.updateDatasource()}destroyDatasource(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)}postConstruct(){let f=this.resetRootStore.bind(this);this.addManagedEventListeners({newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onStoreUpdated.bind(this),columnValueChanged:f,columnPivotChanged:f,columnRowGroupChanged:f,columnPivotModeChanged:f}),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","cacheBlockSize"],f),this.addManagedPropertyListener("groupAllowUnbalanced",()=>this.onStoreUpdated()),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights()),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",()=>this.updateDatasource())}updateDatasource(){let f=this.gos.get("serverSideDatasource");f&&this.setDatasource(f)}verifyProps(){(0,g._isRowSelection)(this.gos)&&!this.gos.exists("getRowId")&&(0,g._warn)(188)}setDatasource(f){this.started&&(this.destroyDatasource(),this.datasource=f,this.resetRootStore())}applyRowData(f,c,r){let i=this.getRootStore();if(!i)return;let o=i.getChildStore(r);o&&o.applyRowData(f,c,f.rowData.length)}isLastRowIndexKnown(){let f=this.getRootStore();return f?f.isLastRowIndexKnown():!1}onColumnEverything(){if(!this.storeParams){this.resetRootStore();return}let f=this.columnsToValueObjects(this.rowGroupColsSvc?.columns),c=this.columnsToValueObjects(this.valueColsSvc?.columns),r=this.columnsToValueObjects(this.pivotColsSvc?.columns),i=C=>{let v={};C.oldCols.forEach(x=>v[x.id]=x);let b=C.newCols.every(x=>{let E=v[x.id];return E&&delete v[x.id],E&&E.field===x.field&&E.aggFunc===x.aggFunc}),R=!C.allowRemovedColumns&&!!Object.values(v).length;return b&&!R},o=!(0,g._jsonEquals)(this.storeParams.sortModel,this.sortSvc?.getSortModel()??[]),a=!i({oldCols:this.storeParams.rowGroupCols,newCols:f}),l=!i({oldCols:this.storeParams.pivotCols,newCols:r}),d=!!f?.length&&!i({oldCols:this.storeParams.valueCols,newCols:c,allowRemovedColumns:!0});if(o||a||l||d)this.resetRootStore();else{let C=this.createStoreParams();this.storeParams.rowGroupCols=C.rowGroupCols,this.storeParams.pivotCols=C.pivotCols,this.storeParams.valueCols=C.valueCols}}destroyRootStore(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())}refreshAfterSort(f,c){this.storeParams&&(this.storeParams.sortModel=f);let r=this.getRootStore();r&&(r.refreshAfterSort(c),this.onStoreUpdated())}generateSecondaryColumns(f){if(!this.pivotColDefSvc){this.gos.assertModuleRegistered("SharedPivot",2);return}let c=this.pivotColDefSvc.createColDefsFromFields(f);this.managingPivotResultColumns=!0,this.pivotResultCols?.setPivotResultCols(c,"rowModelUpdated")}resetRowHeights(){let f=this.resetRowHeightsForAllRowNodes(),c=(0,g._getRowHeightForNode)(this.beans,this.rootNode);if(this.rootNode.setRowHeight(c.height,c.estimated),this.rootNode.sibling){let r=(0,g._getRowHeightForNode)(this.beans,this.rootNode.sibling);this.rootNode.sibling.setRowHeight(r.height,r.estimated)}f&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let f=!1;return this.forEachNode(c=>{let r=(0,g._getRowHeightForNode)(this.beans,c);c.setRowHeight(r.height,r.estimated);let i=c.detailNode;if(i){let o=(0,g._getRowHeightForNode)(this.beans,i);i.setRowHeight(o.height,o.estimated)}if(c.sibling){let o=(0,g._getRowHeightForNode)(this.beans,c.sibling);i?.setRowHeight(o.height,o.estimated)}f=!0}),f}resetRootStore(){this.destroyRootStore(),this.rootNode=new g.RowNode(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.pivotResultCols?.setPivotResultCols(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)}columnsToValueObjects(f=[]){return f.map(c=>({id:c.getId(),aggFunc:c.getAggFunc(),displayName:this.colNames.getDisplayNameForColumn(c,"model"),field:c.getColDef().field}))}createStoreParams(){let f=this.columnsToValueObjects(this.rowGroupColsSvc?.columns),c=this.columnsToValueObjects(this.valueColsSvc?.columns),r=this.columnsToValueObjects(this.pivotColsSvc?.columns),i=(0,g._isGetRowHeightFunction)(this.gos);return{valueCols:c,rowGroupCols:f,pivotCols:r,pivotMode:this.colModel.isPivotMode(),filterModel:this.filterManager?.isAdvFilterEnabled()?this.filterManager?.getAdvFilterModel():this.filterManager?.getFilterModel()??{},sortModel:this.sortSvc?.getSortModel()??[],datasource:this.datasource,lastAccessedSequence:{value:0},dynamicRowHeight:i}}getParams(){return this.storeParams}dispatchModelUpdated(f=!1){this.eventSvc.dispatchEvent({type:"modelUpdated",animate:!f,keepRenderedRows:!f,newPage:!1,newData:!1})}onStoreUpdated(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())}onRowHeightChanged(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()}updateRowIndexesAndBounds(){let f=this.getRootStore();f&&f.setDisplayIndexes({value:0},{value:0},0)}retryLoads(){let f=this.getRootStore();f&&(f.retryLoads(),this.onStoreUpdated())}getRow(f){let c=this.getRootStore();if(c)return c.getRowUsingDisplayIndex(f)}setPaused(f){this.pauseStoreUpdateListening=f}expandAll(f){this.pauseStoreUpdateListening=!0,this.forEachNode(c=>{c.stub||c.hasChildren()&&c.setExpanded(f)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()}refreshAfterFilter(f,c){this.storeParams&&(this.storeParams.filterModel=f);let r=this.getRootStore();r&&(r.refreshAfterFilter(c),this.onStoreUpdated())}getRootStore(){return this.rootNode?.childStore}getRowCount(){let f=this.getRootStore();return f?f.getDisplayIndexEnd():0}getTopLevelRowCount(){let f=this.getRootStore();return f?f.getRowCount():1}getTopLevelRowDisplayedIndex(f){let c=this.getRootStore();return c?c.getTopLevelRowDisplayedIndex(f):f}getRowBounds(f){let c=this.getRootStore();return c?c.getRowBounds(f):{rowTop:0,rowHeight:(0,g._getRowHeightAsNumber)(this.beans)}}getBlockStates(){let f=this.getRootStore();if(!f)return;let c={};return f.forEachStoreDeep(r=>{let i=r.getBlockStates();for(let o of Object.keys(i))c[o]=i[o]}),c}getRowIndexAtPixel(f){let c=this.getRootStore();return f<=0||!c?0:c.getRowIndexAtPixel(f)}isEmpty(){return!1}isRowsToRender(){return this.getRootStore()!=null&&this.getRowCount()>0}getType(){return"serverSide"}forEachNode(f){let c=this.getRootStore();c&&c.forEachNodeDeep(f)}forEachDisplayedNode(f){let c=(r,i)=>{r.stub||!r.displayed||f(r,i)};this.forEachNode(c)}forEachNodeAfterFilterAndSort(f,c=!1){let r=this.getRootStore();r&&r.forEachNodeDeepAfterFilterAndSort(f,void 0,c)}executeOnStore(f,c){if(!this.started)return!1;let r=this.getRootStore();if(!r)return!0;let i=r.getChildStore(f);return i&&c(i),!0}refreshStore(f={}){let c=f.route?f.route:[];this.executeOnStore(c,r=>r.refreshStore(f.purge==!0))}getStoreState(){let f=[],c=this.getRootStore();return c&&c.addStoreStates(f),f}getNodesInRangeForSelection(f,c){let r=f.rowIndex,i=c.rowIndex;if(r===null&&i===null)return[];if(i===null)return f?[f]:[];if(r===null)return[c];let o=[],[a,l]=[r,i].sort((d,p)=>d-p);return this.forEachNode(d=>{let p=d.rowIndex;p==null||d.stub||p>=a&&p<=l&&o.push(d)}),o.length!==l-a+1?null:o}getRowNode(f){let c;return this.forEachNode(r=>{r.id===f&&(c=r),r.detailNode&&r.detailNode.id===f&&(c=r.detailNode)}),c}isRowPresent(f){return!!this.getRowNode(f.id)}setRowCount(f,c){let r=this.getRootStore();r&&r.setRowCount(f,c)}destroy(){this.destroyDatasource(),this.destroyRootStore(),super.destroy()}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}}h.ServerSideRowModel=M},5868:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getServerSideGroupLevelState=h.refreshServerSide=h.flushServerSideAsyncTransactions=h.retryServerSideLoads=h.applyServerSideTransactionAsync=h.applyServerSideRowData=h.applyServerSideTransaction=h.setServerSideSelectionState=h.getServerSideSelectionState=void 0;let g=S(6624);function M(d){return d.selectionSvc?.getSelectionState()??null}h.getServerSideSelectionState=M;function P(d,p){d.selectionSvc?.setSelectionState(p,"api")}h.setServerSideSelectionState=P;function f(d,p){return d.ssrmTxnManager?.applyTransaction(p)}h.applyServerSideTransaction=f;function c(d,p){let C=p.startRow??0,v=p.route??[];if(C<0){(0,g._warn)(189,{startRow:C});return}(0,g._getServerSideRowModel)(d)?.applyRowData(p.successParams,C,v)}h.applyServerSideRowData=c;function r(d,p,C){return d.ssrmTxnManager?.applyTransactionAsync(p,C)}h.applyServerSideTransactionAsync=r;function i(d){(0,g._getServerSideRowModel)(d)?.retryLoads()}h.retryServerSideLoads=i;function o(d){return d.ssrmTxnManager?.flushAsyncTransactions()}h.flushServerSideAsyncTransactions=o;function a(d,p){(0,g._getServerSideRowModel)(d)?.refreshStore(p)}h.refreshServerSide=a;function l(d){return(0,g._getServerSideRowModel)(d)?.getStoreState()??[]}h.getServerSideGroupLevelState=l},9074:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ServerSideRowModelApiModule=h.ServerSideRowModelModule=void 0;let g=S(6624),M=S(9206),P=S(7672),f=S(5470),c=S(9428),r=S(7205),i=S(1538),o=S(8089),a=S(1999),l=S(5956),d=S(6533),p=S(9140),C=S(8646),v=S(5868),b=S(2758),R=S(8299),x=S(3803),E=S(8865),T=S(2697),D=S(2234),k=S(7332);h.ServerSideRowModelModule={moduleName:"ServerSideRowModel",version:r.VERSION,rowModels:["serverSide"],beans:[C.ServerSideRowModel,o.ExpandListener,D.StoreUtils,i.BlockUtils,p.NodeManager,k.TransactionManager,a.FilterListener,T.StoreFactory,l.ListenerUtils,R.ServerSideSelectionService,E.LazyBlockLoadingService,x.SsrmRowChildrenService,b.ServerSideExpansionService,d.SortListener],dependsOn:[M.EnterpriseCoreModule,g._SortModule,g._SharedRowSelectionModule,f.SharedPivotModule,c.SharedTreeDataModule,P.LoadingCellRendererModule,P.SkeletonCellRendererModule]},h.ServerSideRowModelApiModule={moduleName:"ServerSideRowModelApi",version:r.VERSION,apiFunctions:{getServerSideSelectionState:v.getServerSideSelectionState,setServerSideSelectionState:v.setServerSideSelectionState,applyServerSideTransaction:v.applyServerSideTransaction,applyServerSideTransactionAsync:v.applyServerSideTransactionAsync,applyServerSideRowData:v.applyServerSideRowData,retryServerSideLoads:v.retryServerSideLoads,flushServerSideAsyncTransactions:v.flushServerSideAsyncTransactions,refreshServerSide:v.refreshServerSide,getServerSideGroupLevelState:v.getServerSideGroupLevelState},dependsOn:[M.EnterpriseCoreModule,g._CsrmSsrmSharedApiModule,g._SsrmInfiniteSharedApiModule]}},2147:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DefaultStrategy=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectAllUsed=!1,this.selectedNodes={}}getSelectedState(){return{selectAll:this.selectedState.selectAll,toggledNodes:[...this.selectedState.toggledNodes]}}setSelectedState(f){if(typeof f!="object"){(0,g._error)(116);return}if(!("selectAll"in f)){(0,g._error)(116);return}if(typeof f.selectAll!="boolean"){(0,g._error)(117);return}if(!("toggledNodes"in f)||!Array.isArray(f.toggledNodes))return(0,g._warn)(197);let c={selectAll:f.selectAll,toggledNodes:new Set};f.toggledNodes.forEach(i=>{typeof i=="string"?c.toggledNodes.add(i):(0,g._warn)(196,{key:i})});let r=c.selectAll||c.toggledNodes.size>1;if((0,g._isUsingNewRowSelectionAPI)(this.gos)&&!(0,g._isMultiRowSelection)(this.gos)&&r){(0,g._warn)(130);return}this.selectedState=c}deleteSelectionStateFromParent(f,c){if(this.selectedState.toggledNodes.size===0)return!1;let r=!1;return c.forEach(i=>{this.selectedState.toggledNodes.delete(i)&&(r=!0)}),r}setNodesSelected(f){let{nodes:c,clearSelection:r,newValue:i}=f;if(c.length===0)return 0;let o=r&&i;if(!(0,g._isMultiRowSelection)(this.gos)||o){if(c.length>1)return(0,g._error)(130),0;let l=c[0],d=l.footer?l.sibling:l;return i&&d.selectable?(this.selectedNodes={[d.id]:d},this.selectedState={selectAll:!1,toggledNodes:new Set([d.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),1}let a=(l,d=i)=>{let p=l.footer?l.sibling:l;d&&p.selectable?this.selectedNodes[p.id]=p:delete this.selectedNodes[p.id],d===this.selectedState.selectAll||!p.selectable?this.selectedState.toggledNodes.delete(p.id):this.selectedState.toggledNodes.add(p.id)};return c.forEach(l=>a(l)),1}processNewRow(f){this.selectedNodes[f.id]&&(this.selectedNodes[f.id]=f)}isNodeSelected(f){let c=this.selectedState.toggledNodes.has(f.id);return this.selectedState.selectAll?!c:c}getSelectedNodes(f=!1,c=!0){let{selectedState:{selectAll:r},selectedNodes:i,selectAllUsed:o}=this;return c&&o&&(0,g._warn)(199),f&&r?null:Object.values(i)}getSelectedRows(){return(this.getSelectedNodes()??[]).map(f=>f.data)}getSelectionCount(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size}isEmpty(){return!this.selectedState.selectAll&&!this.selectedState.toggledNodes?.size}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(f){this.selectedState={selectAll:f,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed||(this.selectAllUsed=f)}getSelectAllState(){return this.selectedState.selectAll?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1}}h.DefaultStrategy=M},9149:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.GroupSelectsChildrenStrategy=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.selectedState={selectAllChildren:!1,toggledNodes:new Map}}wireBeans(f){this.rowModel=f.rowModel,this.rowGroupColsSvc=f.rowGroupColsSvc,this.filterManager=f.filterManager,this.selectionSvc=f.selectionSvc}postConstruct(){this.addManagedEventListeners({modelUpdated:()=>this.removeRedundantState(),columnRowGroupChanged:()=>this.selectionSvc.reset("rowGroupChanged")})}getSelectedState(){let{gos:f,rowGroupColsSvc:c,selectedState:r}=this,i=f.get("treeData"),o=(a,l,d)=>{let p={nodeId:d};if((i||c&&l<=c.columns.length)&&(p.selectAllChildren=a.selectAllChildren),a.toggledNodes.size){let C=[];a.toggledNodes.forEach((v,b)=>{let R=o(v,l+1,b);C.push(R)}),p.toggledNodes=C}return p};return o(r,0)}setSelectedState(f){if("selectAll"in f){(0,g._error)(111);return}let c=(r,i)=>{if(typeof r!="object")throw(0,g._error)(243),new Error;if("selectAllChildren"in r&&typeof r.selectAllChildren!="boolean")throw(0,g._error)(244),new Error;if("toggledNodes"in r){if(!Array.isArray(r.toggledNodes))throw(0,g._error)(245),new Error;if(!r.toggledNodes.every(p=>typeof p=="object"&&"nodeId"in p&&typeof p.nodeId=="string"))throw(0,g._error)(246),new Error}let o=r.selectAllChildren??!i,a=r.toggledNodes?.map(d=>[d.nodeId,c(d,o)]);if(a?.some(([,d])=>o===d.selectAllChildren&&d.toggledNodes.size===0))throw(0,g._error)(247),new Error;return{selectAllChildren:o,toggledNodes:new Map(a)}};try{this.selectedState=c(f,!!f.selectAllChildren)}catch{}}deleteSelectionStateFromParent(f,c){let r=this.selectedState,i=[...f];for(;r&&i.length;)r=r.toggledNodes.get(i.pop());if(!r)return!1;let o=!1;return c.forEach(a=>{r?.toggledNodes.delete(a)&&(o=!0)}),o&&this.removeRedundantState(),o}setNodesSelected({nodes:f,newValue:c,clearSelection:r}){if(f.length===0)return 0;let i=r&&c;if(!(0,g._isMultiRowSelection)(this.gos)||i){if(f.length>1)return(0,g._error)(130),0;this.deselectAllRowNodes()}return f.forEach(o=>{let a=o.footer?o.sibling:o,l=this.getRouteToNode(a);this.recursivelySelectNode(l,this.selectedState,c)}),this.removeRedundantState(),1}isNodeSelected(f){let c=this.getRouteToNode(f);return this.isNodePathSelected(c,this.selectedState)}isNodePathSelected([f,...c],r){if(c.length===0){let i=r.toggledNodes.has(f.id);if(f.hasChildren()){let o=r.toggledNodes.get(f.id);if(o&&o.toggledNodes.size)return}return r.selectAllChildren?!i:i}if(r.toggledNodes.has(f.id)){let i=r.toggledNodes.get(f.id);if(i)return this.isNodePathSelected(c,i)}return r.selectAllChildren}getRouteToNode(f){let c=[],r=f;for(;r.parent;)c.push(r),r=r.parent;return c.reverse()}removeRedundantState(){if(this.filterManager?.isAnyFilterPresent())return;let f=(c=this.selectedState,r,i)=>{if(c.toggledNodes.forEach((l,d)=>{f(l,d,c)}),r){let d=this.rowModel.getRowNode(r)?.childStore;if(d?.isLastRowIndexKnown()&&c.toggledNodes.size>=d.getRowCount()){for(let v of c.toggledNodes.entries()){let[b,R]=v;if(R.toggledNodes.size>0||!this.rowModel.getRowNode(b))return}c.selectAllChildren=!c.selectAllChildren,c.toggledNodes.clear()}}let o=c.toggledNodes.size===0,a=i?.selectAllChildren===c.selectAllChildren;o&&a&&i?.toggledNodes.delete(r)};f()}recursivelySelectNode([f,...c],r,i){if(!f)return;if(!c.length){let d=f.selectable;if(r.selectAllChildren===i||!d){r.toggledNodes.delete(f.id);return}let C={selectAllChildren:i,toggledNodes:new Map};r.toggledNodes.set(f.id,C);return}let a=r.toggledNodes.has(f.id),l=r.toggledNodes.get(f.id)??{selectAllChildren:r.selectAllChildren,toggledNodes:new Map};a||r.toggledNodes.set(f.id,l),this.recursivelySelectNode(c,l,i),r.selectAllChildren===l.selectAllChildren&&l.toggledNodes.size===0&&r.toggledNodes.delete(f.id)}getSelectedNodes(f=!1){if((0,g._warn)(202),this.selectedState.selectAllChildren&&f)return null;let c=[];return this.rowModel.forEachNode(r=>{r.isSelected()&&c.push(r)}),c}processNewRow(){}getSelectedRows(){return this.getSelectedNodes()?.map(f=>f.data)??[]}getSelectionCount(){return-1}isEmpty(){return!this.selectedState.selectAllChildren&&!this.selectedState.toggledNodes?.size}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(f){this.selectedState={selectAllChildren:f,toggledNodes:new Map}}getSelectAllState(){return this.selectedState.selectAllChildren?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1}}h.GroupSelectsChildrenStrategy=M},2758:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ServerSideExpansionService=void 0;let g=S(2560);class M extends g.BaseExpansionService{constructor(){super(...arguments),this.beanName="expansionSvc",this.queuedRowIds=new Set}wireBeans(f){this.serverSideRowModel=f.rowModel}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>{this.queuedRowIds.clear()}})}checkOpenByDefault(f){if(!f.isExpandable())return;if(this.queuedRowIds.has(f.id)){this.queuedRowIds.delete(f.id),f.setExpanded(!0);return}let c=this.gos.getCallback("isServerSideGroupOpenByDefault");if(!c)return;let r={data:f.data,rowNode:f};c(r)&&f.setExpanded(!0)}expandRows(f){f.forEach(c=>{let r=this.serverSideRowModel.getRowNode(c);r?r.setExpanded(!0):this.queuedRowIds.add(c)})}expandAll(f){this.serverSideRowModel.expandAll(f)}onGroupExpandedOrCollapsed(){}dispatchExpandedEvent(f){this.eventSvc.dispatchEvent(f)}}h.ServerSideExpansionService=M},8299:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ServerSideSelectionService=void 0;let g=S(6624),M=S(2147),P=S(9149);class f extends g.BaseSelectionService{constructor(){super(...arguments),this.beanName="selectionSvc"}postConstruct(){super.postConstruct(),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{let a=(0,g._getGroupSelectsDescendants)(this.gos),l=a&&this.selectionStrategy instanceof M.DefaultStrategy?P.GroupSelectsChildrenStrategy:!a&&this.selectionStrategy instanceof P.GroupSelectsChildrenStrategy?M.DefaultStrategy:void 0;l&&(this.destroyBean(this.selectionStrategy),this.selectionStrategy=this.createManagedBean(new l),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}),this.addManagedPropertyListeners(["rowSelection"],()=>{let a=(0,g._getRowSelectionMode)(this.gos);a!==this.selectionMode&&(this.selectionMode=a,this.deselectAllRowNodes({source:"api"}))}),this.selectionMode=(0,g._getRowSelectionMode)(this.gos);let o=(0,g._getGroupSelectsDescendants)(this.gos)?P.GroupSelectsChildrenStrategy:M.DefaultStrategy;this.selectionStrategy=this.createManagedBean(new o)}handleSelectionEvent(i,o,a){if(this.isRowSelectionBlocked(o))return 0;let l=0,d=this.inferNodeSelections(o,i.shiftKey,i.metaKey||i.ctrlKey,a);return d==null?0:(this.selectionCtx.selectAll=!1,"select"in d?(d.reset?this.selectionStrategy.deselectAllRowNodes({source:"api"}):this.selectionStrategy.setNodesSelected({nodes:d.deselect,newValue:!1,source:a}),l=this.selectionStrategy.setNodesSelected({nodes:d.select,newValue:!0,source:a})):l=this.selectionStrategy.setNodesSelected({nodes:[d.node],newValue:d.newValue,clearSelection:d.clearSelection,event:i,source:a}),this.shotgunResetNodeSelectionState(a),this.dispatchSelectionChanged(a),l)}getSelectionState(){return this.selectionStrategy.getSelectedState()}setSelectionState(i,o){if(!(0,g._isRowSelection)(this.gos)){(0,g._warn)(132);return}Array.isArray(i)||(this.selectionStrategy.setSelectedState(i),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged(o))}setNodesSelected(i){if(!(0,g._isRowSelection)(this.gos)&&i.newValue)return(0,g._warn)(132),0;let{nodes:o,...a}=i;if(o.length>1&&this.selectionMode!=="multiRow")return(0,g._warn)(130),0;let l={nodes:o.filter(p=>p.selectable),...a};if(!l.nodes.length)return 0;let d=this.selectionStrategy.setNodesSelected(l);return this.shotgunResetNodeSelectionState(l.source),this.dispatchSelectionChanged(l.source),d}deleteSelectionStateFromParent(i,o){this.selectionStrategy.deleteSelectionStateFromParent(i,o)&&(this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}shotgunResetNodeSelectionState(i){this.beans.rowModel.forEachNode(o=>{if(o.stub)return;let a=this.selectionStrategy.isNodeSelected(o);a!==o.isSelected()&&this.selectRowNode(o,a,void 0,i)})}getSelectedNodes(){return this.selectionStrategy.getSelectedNodes()??[]}getSelectedRows(){return this.selectionStrategy.getSelectedRows()}getSelectionCount(){return this.selectionStrategy.getSelectionCount()}syncInRowNode(i){this.selectionStrategy.processNewRow(i);let o=this.selectionStrategy.isNodeSelected(i);if(o!=!1&&!i.selectable){this.selectionStrategy.setNodesSelected({nodes:[i],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api");return}i.__selected=o}reset(){this.selectionStrategy.deselectAllRowNodes({source:"api"}),this.selectionCtx.reset()}isEmpty(){return this.selectionStrategy.isEmpty()}hasNodesToSelect(){return!0}selectAllRowNodes(i){if(!(0,g._isRowSelection)(this.gos)){(0,g._warn)(132);return}if(c(i),(0,g._isUsingNewRowSelectionAPI)(this.gos)&&!(0,g._isMultiRowSelection)(this.gos))return(0,g._warn)(130);this.selectionStrategy.selectAllRowNodes(i),this.selectionCtx.selectAll=!0,this.beans.rowModel.forEachNode(o=>{o.stub||this.selectRowNode(o,!0,void 0,i.source)}),this.dispatchSelectionChanged(i.source)}deselectAllRowNodes(i){c(i),this.selectionStrategy.deselectAllRowNodes(i),this.selectionCtx.selectAll=!1,this.beans.rowModel.forEachNode(o=>{o.stub||this.selectRowNode(o,!1,void 0,i.source)}),this.dispatchSelectionChanged(i.source)}getSelectAllState(i){return this.selectionStrategy.getSelectAllState(i)}getBestCostNodeSelection(){return(0,g._warn)(194,{method:"getBestCostNodeSelection"})}updateSelectable(){if(!(0,g._isRowSelection)(this.gos))return;let i=[];this.beans.rowModel.forEachNode(o=>{!this.updateRowSelectable(o,!0)&&o.isSelected()&&i.push(o)}),i.length&&this.setNodesSelected({nodes:i,newValue:!1,source:"selectableChanged"})}dispatchSelectionChanged(i){this.eventSvc.dispatchEvent({type:"selectionChanged",source:i,selectedNodes:this.selectionStrategy instanceof P.GroupSelectsChildrenStrategy?null:this.selectionStrategy.getSelectedNodes(!0,!1),serverSideState:this.getSelectionState()})}updateSelectableAfterGrouping(){return(0,g._error)(194,{method:"updateSelectableAfterGrouping"})}refreshMasterNodeState(){}setDetailSelectionState(){}}h.ServerSideSelectionService=f;function c({selectAll:r}){(r==="filtered"||r==="currentPage")&&(0,g._warn)(195,{justCurrentPage:r==="currentPage"})}},3803:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SsrmRowChildrenService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="rowChildrenSvc"}getHasChildrenValue(f){let c=this.gos.get("treeData"),r=this.gos.get("isServerSideGroup");return!f.stub&&!f.footer&&(c?!!r&&r(f.data):!!f.group)}}h.SsrmRowChildrenService=M},8865:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LazyBlockLoadingService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="lazyBlockLoadingSvc",this.outboundRequests=0,this.cacheLoadingNodesMap=new Map,this.isCheckQueued=!1,this.nextBlockToLoad=void 0}wireBeans(f){this.rowRenderer=f.rowRenderer,this.rowModel=f.rowModel}postConstruct(){this.maxOutboundRequests=(0,g._getMaxConcurrentDatasourceRequests)(this.gos)}subscribe(f){this.cacheLoadingNodesMap.set(f,new Set)}unsubscribe(f){this.cacheLoadingNodesMap.delete(f)}queueLoadCheck(){this.isCheckQueued||(this.isCheckQueued=!0,window.queueMicrotask(()=>{this.queueLoadAction(),this.isCheckQueued=!1}))}onLoadComplete(){this.outboundRequests-=1,this.queueLoadCheck()}hasAvailableLoadBandwidth(){return this.maxOutboundRequests===void 0?!0:this.outboundRequests<this.maxOutboundRequests}queueLoadAction(){let f=this.getBlockToLoad();if(!f)return;let c=this.nextBlockToLoad&&this.nextBlockToLoad.cache===f.cache&&this.nextBlockToLoad.index===f.index;if(!c&&(!this.nextBlockToLoad||!c)){this.nextBlockToLoad=f,window.clearTimeout(this.loaderTimeout);let r=Number(this.nextBlockToLoad.index),i=this.nextBlockToLoad.cache,o=f.index+f.cache.getBlockSize();this.loaderTimeout=window.setTimeout(()=>{i.isAlive()&&(this.loaderTimeout=void 0,this.attemptLoad(i,r,o),this.nextBlockToLoad=void 0)},this.gos.get("blockLoadDebounceMillis"))}}attemptLoad(f,c,r){this.hasAvailableLoadBandwidth()&&(this.executeLoad(f,c,r),this.queueLoadCheck())}executeLoad(f,c,r){let i=f.getSsrmParams(),o={startRow:c,endRow:r,rowGroupCols:i.rowGroupCols,valueCols:i.valueCols,pivotCols:i.pivotCols,pivotMode:i.pivotMode,groupKeys:f.store.getParentNode().getRoute()??[],filterModel:i.filterModel,sortModel:i.sortModel},a=this.cacheLoadingNodesMap.get(f),l=()=>{for(let b=0;b<r-c;b++)a.delete(c+b)},d=()=>{for(let b=0;b<r-c;b++)a.add(c+b)},p=b=>{this.onLoadComplete(),f.onLoadSuccess(c,r-c,b),l()},C=()=>{this.onLoadComplete(),f.onLoadFailed(c,r-c),l()},v=(0,g._addGridCommonParams)(this.gos,{request:o,success:p,fail:C,parentNode:f.store.getParentNode()});d(),this.outboundRequests+=1,f.getSsrmParams().datasource?.getRows(v)}getBlockToLoad(){let f=this.rowRenderer.firstRenderedRow,c=this.rowRenderer.lastRenderedRow;for(let d=f;d<=c;d++){let p=this.rowModel.getRow(d);if(!p)continue;let C=p.parent?.childStore;if(!C)continue;let v=C.getCache(),b=v.getNodes().getBy("node",p);if(!(!b||this.cacheLoadingNodesMap.get(v)?.has(b.index))&&(p.__needsRefreshWhenVisible||p.stub&&!p.failedLoad))return{cache:v,index:v.getBlockStartIndex(b.index)}}let r=null,i=null,o=Number.MAX_SAFE_INTEGER;for(let d of this.cacheLoadingNodesMap.keys())d.getNodesToRefresh().forEach(C=>{if(C.rowIndex==null){i=C,r=d;return}let v=d.getNodes().getBy("node",C);if(!v||this.cacheLoadingNodesMap.get(d)?.has(v.index))return;let R=Math.abs(f-C.rowIndex),x=Math.abs(C.rowIndex-c);R<o&&(i=C,o=R,r=d),x<o&&(i=C,o=x,r=d)});if(!r)return;let a=r,l=a.getNodes().getBy("node",i)?.index;return l==null?void 0:{cache:a,index:a.getBlockStartIndex(l)}}isRowLoading(f,c){return this.cacheLoadingNodesMap.get(f)?.has(c)??!1}}h.LazyBlockLoadingService=M},4905:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LazyCache=void 0;let g=S(6624),M=S(8105),P=S(2314),f=100;class c extends g.BeanStub{wireBeans(i){this.rowRenderer=i.rowRenderer,this.blockUtils=i.ssrmBlockUtils,this.focusSvc=i.focusSvc,this.nodeManager=i.ssrmNodeManager,this.serverSideRowModel=i.rowModel,this.rowNodeSorter=i.rowNodeSorter,this.sortSvc=i.sortSvc,this.lazyBlockLoadingSvc=i.lazyBlockLoadingSvc,this.colModel=i.colModel}constructor(i,o,a,l){super(),this.live=!0,this.removedNodeCache=new Map,this.store=i,this.numberOfRows=o,this.isLastRowKnown=a,this.storeParams=l}postConstruct(){this.lazyBlockLoadingSvc.subscribe(this),this.nodeMap=new P.MultiIndexMap("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.getRowIdFunc=(0,g._getRowIdCallback)(this.gos),this.isMasterDetail=this.gos.get("masterDetail")}destroy(){this.lazyBlockLoadingSvc.unsubscribe(this),this.numberOfRows=0,this.nodeMap.forEach(i=>this.blockUtils.destroyRowNode(i.node)),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1,super.destroy()}getRowByDisplayIndex(i){if(!this.store.isDisplayIndexInStore(i))return;let o=this.nodeDisplayIndexMap.get(i);if(o)return(o.stub||o.__needsRefreshWhenVisible)&&this.lazyBlockLoadingSvc.queueLoadCheck(),o;if(this.gos.get("groupHideOpenParents")||this.gos.get("groupAllowUnbalanced")){let b=this.nodeMap.find(R=>!!R.node.childStore?.isDisplayIndexInStore(i));if(b)return b.node.childStore?.getRowUsingDisplayIndex(i)}if(i===this.store.getDisplayIndexStart())return this.createStubNode(0,i);let l=this.nodeDisplayIndexMap.get(i-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&l.childStore?.isDisplayIndexInStore(i))return l.childStore?.getRowUsingDisplayIndex(i);let b=this.nodeMap.getBy("node",l);return this.createStubNode(b.index+1,i)}let d=this.getSurroundingNodesByDisplayIndex(i);if(d==null){let b=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-i);return this.createStubNode(b,i)}let{previousNode:p,nextNode:C}=d;if(p&&p.node.expanded&&p.node.childStore?.isDisplayIndexInStore(i))return p.node.childStore?.getRowUsingDisplayIndex(i);if(C){let b=C.node.rowIndex-i,R=C.index-b;return this.createStubNode(R,i)}let v=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-i);return this.createStubNode(v,i)}createStubNode(i,o){let a=this.store.getRowBounds(o),l=this.createRowAtIndex(i,null,d=>{d.setRowIndex(o),d.setRowTop(a.rowTop),this.nodeDisplayIndexMap.set(o,d)});if(i===0&&this.gos.get("groupHideOpenParents")){let d=this.store.getParentNode().groupData;if(d)for(let p of Object.keys(d))(0,M.setRowNodeGroupValue)(l,this.colModel,p,d[p])}return this.lazyBlockLoadingSvc.queueLoadCheck(),l}getRowByStoreIndex(i){return this.nodeMap.getBy("index",i)?.node}skipDisplayIndexes(i,o,a){if(i===0)return;let l=(0,g._getRowHeightAsNumber)(this.beans);o.value+=i,a.value+=i*l}setDisplayIndexes(i,o,a){this.nodeDisplayIndexMap.clear();let l={};this.nodeMap.forEach(C=>{l[C.index]=C.node});let d=-1;for(let C of Object.keys(l)){let v=l[C],b=Number(C),R=b-1-d;this.skipDisplayIndexes(R,i,o);let x=b===0;if(v.setFirstChild(x),x&&this.gos.get("groupHideOpenParents")){let E=this.store.getParentNode().groupData;if(E)for(let T of Object.keys(E))(0,M.setRowNodeGroupValue)(v,this.colModel,T,x?E[T]:void 0)}this.blockUtils.setDisplayIndex(v,i,o,a),v.rowIndex!=null&&this.nodeDisplayIndexMap.set(v.rowIndex,v),d=b}let p=this.numberOfRows-1-d;this.skipDisplayIndexes(p,i,o),this.purgeExcessRows()}getRowCount(){return this.numberOfRows}setRowCount(i,o){this.numberOfRows=i,o!=null&&(this.isLastRowKnown=o,o===!1&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()}getNodes(){return this.nodeMap}getNodeCachedByDisplayIndex(i){return this.nodeDisplayIndexMap.get(i)??null}getNodesToRefresh(){return this.nodesToRefresh}getSurroundingNodesByDisplayIndex(i){let o,a;return this.nodeMap.forEach(l=>{if(i>l.node.rowIndex){(a==null||a.node.rowIndex<l.node.rowIndex)&&(a=l);return}if(o==null||o.node.rowIndex>l.node.rowIndex){o=l;return}}),!a&&!o?null:{previousNode:a,nextNode:o}}getDisplayIndexFromStoreIndex(i){let o=this.nodeMap.getBy("index",i);if(o)return o.node.rowIndex;let a,l;if(this.nodeMap.forEach(C=>{if(i>C.index){(l==null||l.index<C.index)&&(l=C);return}if(a==null||a.index>C.index){a=C;return}}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-i);if(!l)return this.store.getDisplayIndexStart()+i;let d=i-l.index;return(l.node.childStore?.getDisplayIndexEnd()??l.node.rowIndex)+d}createRowAtIndex(i,o,a){let l=this.nodeMap.getBy("index",i);if(l){let{node:p}=l;if(p.__needsRefreshWhenVisible=!1,this.doesNodeMatch(o,p))return this.blockUtils.updateDataIntoRowNode(p,o),this.nodesToRefresh.delete(p),p;if(this.getRowIdFunc==null&&p.hasChildren()&&p.expanded)return this.nodesToRefresh.delete(p),p;this.destroyRowAtIndex(i)}if(o&&this.getRowIdFunc!=null){let p=this.getRowId(o),C=p&&this.removedNodeCache?.get(p);if(C)return this.removedNodeCache?.delete(p),this.blockUtils.updateDataIntoRowNode(C,o),this.nodeMap.set({id:C.id,node:C,index:i}),this.nodesToRefresh.delete(C),C.__needsRefreshWhenVisible=!1,C;let v=this.nodeMap.getBy("id",p);if(v){this.nodeMap.delete(v);let{node:b,index:R}=v;return this.blockUtils.updateDataIntoRowNode(b,o),this.nodeMap.set({id:b.id,node:b,index:i}),this.nodesToRefresh.delete(b),b.__needsRefreshWhenVisible=!1,this.getBlockStartIndex(R)===this.getBlockStartIndex(i)||this.markBlockForVerify(R),b}}let d=this.blockUtils.createRowNode(this.store.getRowDetails());if(o!=null){let p=this.getPrefixedId(this.store.getIdSequence().value++);this.blockUtils.setDataIntoRowNode(d,o,p,void 0),this.serverSideRowModel.setPaused(!0),this.blockUtils.checkOpenByDefault(d),this.serverSideRowModel.setPaused(!1),this.nodeManager.addRowNode(d)}return this.nodeMap.set({id:d.id,node:d,index:i}),a&&a(d),d}getBlockStates(){let i={},o={};this.nodeMap.forEach(({node:p,index:C})=>{let v=this.getBlockStartIndex(C);!p.stub&&!p.failedLoad&&(i[v]=(i[v]??0)+1);let b="loaded";p.failedLoad?b="failed":this.lazyBlockLoadingSvc.isRowLoading(this,v)?b="loading":(this.nodesToRefresh.has(p)||p.stub)&&(b="needsLoading"),o[v]||(o[v]=new Set),o[v].add(b)});let a={loading:4,failed:3,needsLoading:2,loaded:1},l=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),d={};for(let p of Object.keys(o)){let v=[...o[p]].sort((x,E)=>(a[x]??0)-(a[E]??0))[0],b=Number(p)/this.getBlockSize(),R=l?`${l}-${b}`:String(b);d[R]={blockNumber:b,startRow:Number(p),endRow:Number(p)+this.getBlockSize(),pageStatus:v,loadedRowCount:i[p]??0}}return d}destroyRowAtIndex(i){let o=this.nodeMap.getBy("index",i);o&&(this.nodeMap.delete(o),this.nodeDisplayIndexMap.delete(o.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(o.node.id,o.node):this.blockUtils.destroyRowNode(o.node),this.nodesToRefresh.delete(o.node))}getSsrmParams(){return this.store.getSsrmParams()}getPrefixedId(i){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+i:i.toString()}markBlockForVerify(i){let[o,a]=this.getBlockBounds(i);this.nodeMap.filter(d=>d.index>=o&&d.index<a).forEach(({node:d})=>{d.__needsRefreshWhenVisible=!0})}doesNodeMatch(i,o){if(o.stub)return!1;let a=this.getRowId(i);return a===null?o.data===i:o.id===a}purgeStubsOutsideOfViewport(){let{firstRenderedRow:i,lastRenderedRow:o}=this.rowRenderer,a=this.getBlockStartIndex(i),[,l]=this.getBlockBounds(o);this.nodeMap.forEach(d=>{this.lazyBlockLoadingSvc.isRowLoading(this,d.index)||d.node.failedLoad||d.node.stub&&(d.index<a||d.index>l)&&this.destroyRowAtIndex(d.index)})}getBlocksDistanceFromRow(i,o){let a={};return i.forEach(({node:l,index:d})=>{let[p,C]=this.getBlockBounds(d);if(p in a)return;let v=Math.abs(l.rowIndex-o),b,R=this.nodeMap.getBy("index",[C-1]);R&&(b=Math.abs(R.node.rowIndex-o));let x=b==null||v<b?v:b;a[p]=x}),Object.entries(a)}purgeExcessRows(){if(this.purgeStubsOutsideOfViewport(),this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null)return;let{firstRenderedRow:i,lastRenderedRow:o}=this.rowRenderer,a=new Set,l=new Set;this.nodeMap.forEach(({index:D,node:k})=>{let O=this.getBlockStartIndex(D);a.add(O),k.rowIndex>=i&&k.rowIndex<=o&&l.add(O)});let d=Math.max(l.size,this.storeParams.maxBlocksInCache??0),C=a.size-d;if(C<=0)return;let v=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;l.forEach(D=>{v>D&&(v=D),b<D&&(b=D)});let R=this.nodeMap.filter(({node:D,index:k})=>{let O=this.getBlockStartIndex(k);return!(O>=v&&O<=b)&&!this.isNodeCached(D)});if(R.length===0)return;let x=i+(o-i)/2,E=this.getBlocksDistanceFromRow(R,x),T=this.getBlockSize();E.sort((D,k)=>Math.sign(k[1]-D[1]));for(let D=0;D<Math.min(C,E.length);D++){let k=Number(E[D][0]);for(let O=k;O<k+T;O++){let N=this.nodeMap.getBy("index",O);!N||this.isNodeCached(N.node)||this.destroyRowAtIndex(O)}}}isNodeFocused(i){let o=this.focusSvc.getFocusCellToUseAfterRefresh();return!o||o.rowPinned!=null?!1:o.rowIndex===i.rowIndex}isNodeCached(i){let o=this.gos.get("groupAllowUnbalanced")&&i.key==="";return i.isExpandable()&&i.expanded||this.isNodeFocused(i)||o}extractDuplicateIds(i){if(this.getRowIdFunc==null)return[];let o=new Set,a=new Set;return i.forEach(l=>{let d=this.getRowId(l);if(o.has(d)){a.add(d);return}o.add(d)}),[...a]}onLoadSuccess(i,o,a){if(!this.live)return;let l=a.groupLevelInfo;if(this.store.setStoreInfo(l),this.getRowIdFunc!=null){let C=this.extractDuplicateIds(a.rowData);if(C.length>0){let v=C.join(", ");(0,g._warn)(205,{duplicateIdText:v}),this.onLoadFailed(i,o);return}}a.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(a.pivotResultFields);let d=this.nodesToRefresh.size>0;if(a.rowData.forEach((C,v)=>{let b=i+v,R=this.nodeMap.getBy("index",b);if(R?.node?.stub){this.createRowAtIndex(b,C);return}if(R&&this.doesNodeMatch(C,R.node)){this.blockUtils.updateDataIntoRowNode(R.node,C),this.nodesToRefresh.delete(R.node),R.node.__needsRefreshWhenVisible=!1;return}this.createRowAtIndex(b,C)}),a.rowCount!=null&&a.rowCount!==-1)this.numberOfRows=a.rowCount,this.isLastRowKnown=!0;else if(o>a.rowData.length)this.numberOfRows=i+a.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){let C=i+a.rowData.length+1;C>this.numberOfRows&&(this.numberOfRows=C)}this.isLastRowKnown&&this.nodeMap.filter(v=>v.index>=this.numberOfRows).forEach(v=>this.destroyRowAtIndex(v.index)),this.fireStoreUpdatedEvent();let p=this.nodesToRefresh.size===0;d&&p&&this.fireRefreshFinishedEvent()}fireRefreshFinishedEvent(){this.nodesToRefresh.size===0&&(this.removedNodeCache.forEach(o=>{this.blockUtils.destroyRowNode(o)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())}isStoreFullyLoaded(){let i=this.isLastRowKnown,o=this.nodeMap.getSize()===this.numberOfRows;if(!i||!o||this.nodesToRefresh.size>0)return;let a=-1;return this.nodeMap.find(d=>(a+=1,!!(d.index!==a||d.node.__needsRefreshWhenVisible||d.node.stub)))==null}isLastRowIndexKnown(){return this.isLastRowKnown}onLoadFailed(i,o){if(!this.live)return;let a=this.nodesToRefresh.size>0;for(let d=i;d<i+o&&d<this.getRowCount();d++){let{node:p}=this.nodeMap.getBy("index",d)??{};p&&this.nodesToRefresh.delete(p),(!p||!p.stub)&&(p&&!p.stub&&this.destroyRowAtIndex(d),p=this.createRowAtIndex(d)),p.__needsRefreshWhenVisible=!1,p.failedLoad=!0}let l=this.nodesToRefresh.size===0;a&&l&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}markNodesForRefresh(){this.nodeMap.forEach(i=>{i.node.stub&&!i.node.failedLoad||this.nodesToRefresh.add(i.node)}),this.lazyBlockLoadingSvc.queueLoadCheck(),this.isLastRowKnown&&this.numberOfRows===0&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())}isNodeInCache(i){return!!this.nodeMap.getBy("id",i)}fireStoreUpdatedEvent(){this.live&&this.store.fireStoreUpdatedEvent()}getRowId(i){if(this.getRowIdFunc==null)return null;let{level:o}=this.store.getRowDetails(),a=this.store.getParentNode().getRoute()??[];return this.getRowIdFunc({data:i,parentKeys:a.length>0?a:void 0,level:o})}getOrderedNodeMap(){let i={};return this.nodeMap.forEach(o=>i[o.index]=o),i}clearDisplayIndexes(){this.nodeDisplayIndexMap.clear()}clientSideSortRows(){let i=this.sortSvc?.getSortOptions()??[];if(!i.some(d=>d.sort!=null)||!this.rowNodeSorter)return;let a=new Array(this.nodeMap.getSize());this.nodeMap.forEach(d=>a[d.index]=d.node),this.nodeMap.clear(),this.rowNodeSorter.doFullSort(a,i).forEach((d,p)=>{this.nodeMap.set({id:d.id,node:d,index:p})})}updateRowNodes(i){let o=[];return i.forEach(a=>{let l=this.getRowId(a),d=this.nodeMap.getBy("id",l);d&&(this.blockUtils.updateDataIntoRowNode(d.node,a),o.push(d.node))}),o}insertRowNodes(i,o){let a=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),l=o==null&&this.isLastRowKnown?a:o;if(l==null||a<l)return[];let d={};i.forEach(b=>{let R=this.getRowId(b);R&&this.isNodeInCache(R)||(d[R]=b)});let p=Object.values(d),C=p.length;if(C===0)return[];let v=this.nodeMap.filter(b=>b.index>=l);return v.forEach(b=>this.nodeMap.delete(b)),v.forEach(b=>{this.nodeMap.set({node:b.node,index:b.index+C,id:b.id})}),this.numberOfRows+=C,p.map((b,R)=>this.createRowAtIndex(l+R,b))}removeRowNodes(i){let o=[],a=[],l=0,d=[...i],p=this.getOrderedNodeMap(),C=-1;for(let v of Object.keys(p)){C+=1;let b=p[v],R=d.findIndex(E=>E===b.id);if(R!==-1){d.splice(R,1),this.destroyRowAtIndex(Number(v)),o.push(b.node),l+=1;continue}if(l===0)continue;let x=Number(v);C!==x&&a.push(b.node),this.nodeMap.delete(b),this.nodeMap.set({id:b.id,node:b.node,index:x-l})}return this.numberOfRows-=this.isLastRowIndexKnown()?i.length:l,d.length>0&&a.length>0&&(a.forEach(v=>v.__needsRefreshWhenVisible=!0),this.lazyBlockLoadingSvc.queueLoadCheck()),o}getBlockSize(){return this.storeParams.cacheBlockSize||f}getBlockStartIndex(i){let o=this.getBlockSize();return i-i%o}getBlockBounds(i){let o=this.getBlockStartIndex(i),a=this.getBlockSize();return[o,o+a]}}h.LazyCache=c},5330:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.LazyStore=void 0;let g=S(6624),M=S(6432),P=S(4905);class f extends g.BeanStub{wireBeans(r){this.blockUtils=r.ssrmBlockUtils,this.storeUtils=r.ssrmStoreUtils,this.selectionSvc=r.selectionSvc,this.rowGroupColsSvc=r.rowGroupColsSvc}constructor(r,i,o){super(),this.idSequence={value:0},this.ssrmParams=r,this.parentRowNode=o,this.storeParams=i,this.level=o.level+1,this.group=r.rowGroupCols?this.level<r.rowGroupCols.length:!1,this.leafGroup=r.rowGroupCols?this.level===r.rowGroupCols.length-1:!1,this.info={}}postConstruct(){let r=1;if(this.level===0&&(r=this.storeUtils.getServerSideInitialRowCount()??1,this.eventSvc.dispatchEventOnce({type:"rowCountReady"})),this.cache=this.createManagedBean(new P.LazyCache(this,r,!1,this.storeParams)),!this.gos.get("treeData")&&this.group&&this.rowGroupColsSvc){let o=this.ssrmParams.rowGroupCols[this.level];this.groupField=o.field,this.rowGroupColumn=this.rowGroupColsSvc.columns[this.level]}}destroy(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache),super.destroy()}applyRowData(r,i,o){this.cache.onLoadSuccess(i,o,r)}applyTransaction(r){let i=(0,g._getRowIdCallback)(this.gos);if(!i)return(0,g._warn)(206),{status:g.ServerSideTransactionResultStatus.Cancelled};let o=this.gos.getCallback("isApplyServerSideTransaction");if(o){let R={transaction:r,parentNode:this.parentRowNode,groupLevelInfo:this.info};if(!o(R))return{status:g.ServerSideTransactionResultStatus.Cancelled}}let a=this.cache.isStoreFullyLoaded(),l;r.update?.length&&(l=this.cache.updateRowNodes(r.update));let d;if(r.add?.length){let R=r.addIndex;R!=null&&R<0&&(R=void 0),d=this.cache.insertRowNodes(r.add,R)}let p;if(r.remove?.length){let R=r.remove.map(E=>i({level:this.level,parentKeys:this.parentRowNode.getRoute()??[],data:E})),x=[...new Set(R)];p=this.cache.removeRowNodes(x)}let C=this.gos.get("serverSideEnableClientSideSort"),v=l?.length||d?.length;return a&&C&&v&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(l,p),{status:g.ServerSideTransactionResultStatus.Applied,update:l,add:d,remove:p}}updateSelectionAfterTransaction(r,i){if(!this.selectionSvc)return;let o=[];r?.forEach(a=>{a.isSelected()&&!a.selectable&&o.push(a)}),i?.forEach(a=>{a.isSelected()&&o.push(a)}),o.length&&this.selectionSvc.setNodesSelected({newValue:!1,clearSelection:!1,nodes:o,source:"rowDataChanged"})}clearDisplayIndexes(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(r=>this.blockUtils.clearDisplayIndex(r.node)),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()}getDisplayIndexStart(){return this.displayIndexStart}getDisplayIndexEnd(){return this.displayIndexEnd}getRowCount(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()}setRowCount(r,i){this.cache.setRowCount(r,i)}isDisplayIndexInStore(r){return this.cache.getRowCount()===0?!1:this.displayIndexStart<=r&&r<this.getDisplayIndexEnd()}setDisplayIndexes(r,i,o){this.displayIndexStart=r.value,this.topPx=i.value;let a=this.parentRowNode.level>-1&&(0,g._getGroupTotalRowCallback)(this.gos)({node:this.parentRowNode});a||(0,M._destroyRowNodeFooter)(this.parentRowNode),a==="top"&&((0,M._createRowNodeFooter)(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,r,i,o)),this.cache.setDisplayIndexes(r,i,o),a==="bottom"&&((0,M._createRowNodeFooter)(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,r,i,o)),this.displayIndexEnd=r.value,this.heightPx=i.value-this.topPx}forEachStoreDeep(r,i={value:0}){r(this,i.value++),this.cache.getNodes().forEach(o=>{let a=o.node.childStore;a&&a.forEachStoreDeep(r,i)})}forEachNodeDeep(r,i={value:0}){this.cache.getNodes().forEach(o=>{r(o.node,i.value++);let a=o.node.childStore;a&&a.forEachNodeDeep(r,i)})}forEachNodeDeepAfterFilterAndSort(r,i={value:0},o=!1){let a=this.parentRowNode.level>-1&&(0,g._getGroupTotalRowCallback)(this.gos)({node:this.parentRowNode});a==="top"&&r(this.parentRowNode.sibling,i.value++);let l=this.cache.getOrderedNodeMap();for(let d of Object.values(l)){r(d.node,i.value++);let p=d.node.childStore;p&&p.forEachNodeDeepAfterFilterAndSort(r,i,o)}a==="bottom"&&r(this.parentRowNode.sibling,i.value++)}retryLoads(){this.cache.getNodes().forEach(({node:r})=>{r.failedLoad&&(r.failedLoad=!1,r.__needsRefreshWhenVisible=!0,r.stub=!0)}),this.forEachChildStoreShallow(r=>r.retryLoads()),this.fireStoreUpdatedEvent()}getRowUsingDisplayIndex(r){return this.parentRowNode.sibling&&r===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(r)}getRowBounds(r){if(!this.isDisplayIndexInStore(r))return null;let i=this.cache.getNodeCachedByDisplayIndex(r);if(i){let C=this.blockUtils.extractRowBounds(i,r);if(C)return C}let{previousNode:o,nextNode:a}=this.cache.getSurroundingNodesByDisplayIndex(r)??{};if(o){let C=this.blockUtils.extractRowBounds(o.node,r);if(C!=null)return C}let l=(0,g._getRowHeightAsNumber)(this.beans);if(a){let C=(a.node.rowIndex-r)*l;return{rowTop:a.node.rowTop-C,rowHeight:l}}let d=this.topPx+this.heightPx,p=(this.getDisplayIndexEnd()-r)*l;return{rowTop:d-p,rowHeight:l}}isPixelInRange(r){return r>=this.topPx&&r<this.topPx+this.heightPx}getRowIndexAtPixel(r){if(r<this.topPx)return this.getDisplayIndexStart();if(r>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;if(this.parentRowNode.sibling&&r>this.parentRowNode.sibling.rowTop&&r<this.parentRowNode.sibling.rowTop+this.parentRowNode.sibling.rowHeight)return this.parentRowNode.sibling.rowIndex;let i=Number.MAX_SAFE_INTEGER,o=null,a=Number.MAX_SAFE_INTEGER,l=null;if(this.cache.getNodes().forEach(({node:v})=>{let b=Math.abs(r-v.rowTop);if(v.rowTop<r){b<i&&(i=b,o=v);return}b<a&&(a=b,l=v)}),o=o,l=l,o){let v=this.blockUtils.getIndexAtPixel(o,r);if(v!=null)return v}let d=(0,g._getRowHeightAsNumber)(this.beans);if(l){let v=l.rowTop,b=Math.ceil((v-r)/d);return l.rowIndex-b}let p=this.topPx+this.heightPx,C=Math.floor((p-r)/d);return this.getDisplayIndexEnd()-C}getChildStore(r){return this.storeUtils.getChildStore(r,this,i=>{let o=this.cache.getNodes().find(a=>a.node.key==i);return o?o.node:null})}forEachChildStoreShallow(r){this.cache.getNodes().forEach(({node:i})=>{i.childStore&&r(i.childStore)})}refreshAfterSort(r){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,r)){let o=this.cache.isStoreFullyLoaded(),a=this.gos.get("serverSideEnableClientSideSort");if(!(o&&a)){let d=this.cache.getRowCount(),p=this.cache.isLastRowIndexKnown();this.destroyBean(this.cache),this.cache=this.createManagedBean(new P.LazyCache(this,d,p,this.storeParams));return}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(o=>o.refreshAfterSort(r))}refreshAfterFilter(r){if(!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,r)){this.refreshStore(!0);return}this.forEachChildStoreShallow(o=>o.refreshAfterFilter(r))}refreshStore(r){if(r){this.destroyBean(this.cache),this.cache=this.createManagedBean(new P.LazyCache(this,1,!1,this.storeParams)),this.fireStoreUpdatedEvent();return}this.cache.markNodesForRefresh()}getTopLevelRowDisplayedIndex(r){return this.cache.getDisplayIndexFromStoreIndex(r)??r}isLastRowIndexKnown(){return this.cache.isLastRowIndexKnown()}getRowNodesInRange(r,i){return this.cache.getNodes().filter(({node:o})=>o.rowIndex>=r.rowIndex&&o.rowIndex<=i.rowIndex).map(({node:o})=>o)}addStoreStates(r){r.push({route:this.parentRowNode.getRoute()??[],rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(i=>i.addStoreStates(r))}getIdSequence(){return this.idSequence}getParentNode(){return this.parentRowNode}getRowDetails(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}}getSsrmParams(){return this.ssrmParams}setStoreInfo(r){r&&Object.assign(this.info,r)}fireStoreUpdatedEvent(){this.eventSvc.dispatchEvent({type:"storeUpdated"})}fireRefreshFinishedEvent(){this.eventSvc.dispatchEvent({type:"storeRefreshed",route:this.parentRowNode.getRoute()})}getBlockStates(){return this.cache.getBlockStates()}getStoreBounds(){return{topPx:this.topPx,heightPx:this.heightPx}}getCache(){return this.cache}}h.LazyStore=f},2314:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MultiIndexMap=void 0;class S{constructor(...M){this.indexes=M,this.maps=new Map(this.indexes.map(P=>[P,new Map]))}getSize(){return this.maps.get(this.indexes[0]).size}getBy(M,P){return this.maps.get(M).get(P)}set(M){this.indexes.forEach(P=>{this.maps.get(P).set(M[P],M)})}delete(M){this.indexes.forEach(P=>{this.maps.get(P).delete(M[P])})}clear(){this.maps.forEach(M=>M.clear())}getIterator(M){return this.maps.get(M).values()}forEach(M){let P=this.getIterator(this.indexes[0]),f;for(;(f=P.next())&&!f.done;)M(f.value)}find(M){let P=this.getIterator(this.indexes[0]),f;for(;(f=P.next())&&!f.done;)if(M(f.value))return f.value}filter(M){let P=this.getIterator(this.indexes[0]),f,c=[];for(;(f=P.next())&&!f.done;)M(f.value)&&c.push(f.value);return c}}h.MultiIndexMap=S},2697:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StoreFactory=void 0;let g=S(6624),M=S(5330);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmStoreFactory"}wireBeans(c){this.colModel=c.colModel,this.rowGroupColsSvc=c.rowGroupColsSvc,this.pivotColsSvc=c.pivotColsSvc,this.rowAutoHeight=c.rowAutoHeight}createStore(c,r){let i=this.getStoreParams(c,r);return new M.LazyStore(c,i,r)}getStoreParams(c,r){let i=this.getLevelSpecificParams(r),o=this.getBlockSize(i),a=this.getMaxBlocksInCache(c,i);return{cacheBlockSize:o,maxBlocksInCache:a}}getMaxBlocksInCache(c,r){let i=r&&r.maxBlocksInCache!=null?r.maxBlocksInCache:this.gos.get("maxBlocksInCache");if(i!=null&&i>=0){if(c.dynamicRowHeight){(0,g._warn)(203);return}if(this.rowAutoHeight?.active){(0,g._warn)(204);return}return i}}getBlockSize(c){let r=c&&c.cacheBlockSize!=null?c.cacheBlockSize:this.gos.get("cacheBlockSize");return r!=null&&r>0?r:100}getLevelSpecificParams(c){let r=this.gos.getCallback("getServerSideGroupLevelParams");if(!r)return;let i={level:c.level+1,parentRowNode:c.level>=0?c:void 0,rowGroupColumns:this.rowGroupColsSvc?.columns??[],pivotColumns:this.pivotColsSvc?.columns??[],pivotMode:this.colModel.isPivotMode()};return r(i)}}h.StoreFactory=P},2234:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StoreUtils=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmStoreUtils"}wireBeans(f){this.colModel=f.colModel,this.serverSideRowModel=f.rowModel,this.storeFactory=f.ssrmStoreFactory}getChildStore(f,c,r){if(!f?.length)return c;let i=f[0],o=r(i);if(o){if(f.length===1&&!o.childStore){let d=this.serverSideRowModel.getParams();o.childStore=this.createBean(this.storeFactory.createStore(d,o))}let a=f.slice(1,f.length),l=o.childStore;return l?l.getChildStore(a):null}return null}isServerRefreshNeeded(f,c,r){if(r.valueColChanged||r.secondaryColChanged)return!0;let i=f.level+1;if(!(i<c.length))return!0;let l=c[i].id;return r.changedColumns.indexOf(l)>-1?!0:this.colModel.getCols().filter(v=>v.getColDef().showRowGroup&&r.changedColumns.includes(v.getId())).map(v=>v.getColDef().showRowGroup).some(v=>v===!0||v===l)}getServerSideInitialRowCount(){return this.gos.get("serverSideInitialRowCount")}isServerSideSortAllLevels(){return this.gos.get("serverSideSortAllLevels")&&(0,g._isServerSideRowModel)(this.gos)}isServerSideOnlyRefreshFilteredGroups(){return this.gos.get("serverSideOnlyRefreshFilteredGroups")&&(0,g._isServerSideRowModel)(this.gos)}}h.StoreUtils=M},7332:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TransactionManager=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="ssrmTxnManager",this.asyncTransactions=[]}wireBeans(f){this.valueCache=f.valueCache,this.serverSideRowModel=f.rowModel,this.selectionSvc=f.selectionSvc}postConstruct(){(0,g._isServerSideRowModel)(this.gos)}applyTransactionAsync(f,c){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:f,callback:c})}scheduleExecuteAsync(){let f=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimeout=window.setTimeout(()=>{this.executeAsyncTransactions()},f)}executeAsyncTransactions(){if(!this.asyncTransactions)return;let f=[],c=[],r=[],i=!1;this.asyncTransactions.forEach(o=>{let a;if(this.serverSideRowModel.executeOnStore(o.transaction.route,p=>{a=p.applyTransaction(o.transaction)})?a==null&&(a={status:g.ServerSideTransactionResultStatus.StoreNotFound}):a={status:g.ServerSideTransactionResultStatus.StoreNotStarted},c.push(a),a.status==g.ServerSideTransactionResultStatus.StoreLoading){r.push(o);return}o.callback&&f.push(()=>o.callback(a)),a.status===g.ServerSideTransactionResultStatus.Applied&&(i=!0)}),f.length>0&&window.setTimeout(()=>{f.forEach(o=>o())},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=r,i&&(this.valueCache?.onDataChanged(),this.eventSvc.dispatchEvent({type:"storeUpdated"})),c.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:c})}flushAsyncTransactions(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()}applyTransaction(f){let c;if(this.serverSideRowModel.executeOnStore(f.route,i=>{c=i.applyTransaction(f)}))if(c){if(this.valueCache?.onDataChanged(),c.remove&&this.selectionSvc){let i=c.remove.map(o=>o.id);this.selectionSvc.deleteSelectionStateFromParent(f.route||[],i)}return this.eventSvc.dispatchEvent({type:"storeUpdated"}),c}else return{status:g.ServerSideTransactionResultStatus.StoreNotFound};else return{status:g.ServerSideTransactionResultStatus.StoreNotStarted}}}h.TransactionManager=M},4737:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClientSideValuesExtractor=void 0;let g=S(6624),M=S(2270);class P{constructor(c,r,i,o,a,l,d,p,C,v){this.rowModel=c,this.filterParams=r,this.createKey=i,this.caseFormat=o,this.valueSvc=a,this.treeDataOrGrouping=l,this.treeData=d,this.groupAllowUnbalanced=p,this.addManagedEventListeners=C,this.rowGroupColsSvc=v}extractUniqueValuesAsync(c,r){return new g.AgPromise(i=>{if(this.rowModel.isRowDataLoaded())i(this.extractUniqueValues(c,r));else{let[o]=this.addManagedEventListeners({rowCountReady:()=>{o?.(),i(this.extractUniqueValues(c,r))}})}})}extractUniqueValues(c,r){let i=new Map,o=this.extractExistingFormattedKeys(r),a=new Set,l=this.treeData,d=this.rowGroupColsSvc?.columns,p=(C,v)=>{let b=this.caseFormat(C);if(!a.has(b)){a.add(b);let R=C,x=(0,g._makeNull)(v),E=o?.get(b);E!=null&&(R=E,x=r.get(E)),i.set(R,x)}};return this.rowModel.forEachLeafNode(C=>{if(!C.data||!c(C))return;if(this.treeDataOrGrouping){this.addValueForTreeDataOrGrouping(C,l,d,p);return}let v=this.getValue(C);v!=null&&Array.isArray(v)?(v.forEach(b=>{p(this.createKey(b,C),b)}),v.length===0&&p(null,null)):p(this.createKey(v,C),v)}),i}addValueForTreeDataOrGrouping(c,r,i=[],o){let a;if(r){if(c.childrenAfterGroup?.length)return;a=c.getRoute()??[c.key??c.id]}else a=i.map(d=>this.valueSvc.getKeyForNode(d,c)),a.push(this.getValue(c));let l=(0,M.processDataPath)(a,r,this.groupAllowUnbalanced);o(this.createKey(l),l)}getValue(c){return this.filterParams.getValue(c)}extractExistingFormattedKeys(c){if(!c)return null;let r=new Map;return c.forEach((i,o)=>{r.set(this.caseFormat(o),o)}),r}}h.ClientSideValuesExtractor=P},4510:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetValueModelFilteringKeys=void 0;class S{constructor({caseFormat:M}){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=M}allFilteringKeys(){return this.filteringKeys}allFilteringKeysCaseFormatted(){return this.filteringKeysCaseFormatted}setFilteringKeys(M){this.filteringKeys=new Set(M),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(P=>this.filteringKeysCaseFormatted.add(this.caseFormat(P)))}addFilteringKey(M){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(M),this.filteringKeysCaseFormatted.add(this.caseFormat(M)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)}hasCaseFormattedFilteringKey(M){return this.filteringKeysCaseFormatted.has(this.caseFormat(M))}hasFilteringKey(M){return this.filteringKeys.has(M)}reset(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1}}h.SetValueModelFilteringKeys=S},8053:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FlatSetDisplayValueModel=void 0;let g=S(3335);class M{constructor(f,c,r,i){this.valueSvc=f,this.valueFormatter=c,this.formatter=r,this.column=i,this.displayedKeys=[]}updateDisplayedValuesToAllAvailable(f,c,r){this.displayedKeys=Array.from(r)}updateDisplayedValuesToMatchMiniFilter(f,c,r,i,o){this.displayedKeys=[];for(let a of r)if(a==null)o&&this.displayedKeys.push(a);else{let l=f(a),d=this.valueSvc.formatValue(this.column,null,l,this.valueFormatter,!1),p=this.formatter(d);i(p)&&this.displayedKeys.push(a)}}getDisplayedValueCount(){return this.displayedKeys.length}getDisplayedItem(f){return this.displayedKeys[f]}getSelectAllItem(){return g.SET_FILTER_SELECT_ALL}getAddSelectionToFilterItem(){return g.SET_FILTER_ADD_SELECTION_TO_FILTER}getDisplayedKeys(){return this.displayedKeys}forEachDisplayedKey(f){this.displayedKeys.forEach(f)}someDisplayedKey(f){return this.displayedKeys.some(f)}hasGroups(){return!1}refresh(){}}h.FlatSetDisplayValueModel=M},3335:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SET_FILTER_ADD_SELECTION_TO_FILTER=h.SET_FILTER_SELECT_ALL=void 0,h.SET_FILTER_SELECT_ALL="__AG_SELECT_ALL__",h.SET_FILTER_ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__"},3003:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DEFAULT_LOCALE_TEXT=void 0,h.DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."}},2734:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetFilter=void 0;let g=S(6624),M=S(7904),P=S(3335),f=S(3003),c=S(105),r=S(5355),i=S(2270),o=S(4366);class a extends g.ProvidedFilter{wireBeans(v){this.rowGroupColsSvc=v.rowGroupColsSvc,this.valueSvc=v.valueSvc,this.dataTypeSvc=v.dataTypeSvc}constructor(){super("setFilter"),this.filterType="set",this.eMiniFilter=g.RefPlaceholder,this.eFilterLoading=g.RefPlaceholder,this.eFilterLoadingIcon=g.RefPlaceholder,this.eSetFilterList=g.RefPlaceholder,this.eFilterNoMatches=g.RefPlaceholder,this.caseSensitive=!1,this.treeDataTreeList=!1,this.groupingTreeList=!1,this.hardRefreshVirtualList=!1,this.noValueFormatterSupplied=!1,this.filterModelFormatter=new r.SetFilterModelFormatter,this.updateSetFilterOnParamsChange=v=>{this.setFilterParams=v,this.caseSensitive=!!v.caseSensitive;let b=v.keyCreator??v.colDef.keyCreator;this.setValueFormatter(v.valueFormatter,b,!!v.treeList,!!v.colDef.refData);let R=v.column.getId().startsWith(g.GROUP_AUTO_COLUMN_ID);this.treeDataTreeList=this.gos.get("treeData")&&!!v.treeList&&R,this.groupingTreeList=!!this.rowGroupColsSvc?.columns.length&&!!v.treeList&&R,this.createKey=this.generateCreateKey(b,this.treeDataTreeList||this.groupingTreeList)}}postConstruct(){super.postConstruct()}updateUiVisibility(){}createBodyTemplate(){return{tag:"div",cls:"ag-set-filter",children:[{tag:"div",ref:"eFilterLoading",cls:"ag-filter-loading ag-loading ag-hidden",children:[{tag:"span",ref:"eFilterLoadingIcon",cls:"ag-loading-icon"},{tag:"span",cls:"ag-loading-text",children:this.translateForSetFilter("loadingOoo")}]},{tag:"ag-input-text-field",ref:"eMiniFilter",cls:"ag-mini-filter"},{tag:"div",ref:"eFilterNoMatches",cls:"ag-filter-no-matches ag-hidden",children:this.translateForSetFilter("noMatches")},{tag:"div",ref:"eSetFilterList",cls:"ag-set-filter-list",role:"presentation"}]}}getAgComponents(){return[g.AgInputTextFieldSelector]}handleKeyDown(v){if(super.handleKeyDown(v),!v.defaultPrevented)switch(v.key){case g.KeyCode.SPACE:this.handleKeySpace(v);break;case g.KeyCode.ENTER:this.handleKeyEnter(v);break;case g.KeyCode.LEFT:this.handleKeyLeft(v);break;case g.KeyCode.RIGHT:this.handleKeyRight(v);break}}handleKeySpace(v){this.getComponentForKeyEvent(v)?.toggleSelected()}handleKeyEnter(v){let{excelMode:b,readOnly:R}=this.setFilterParams;!b||R||(v.preventDefault(),this.onBtApply(!1,!1,v),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}handleKeyLeft(v){this.getComponentForKeyEvent(v)?.setExpanded(!1)}handleKeyRight(v){this.getComponentForKeyEvent(v)?.setExpanded(!0)}getComponentForKeyEvent(v){if(!this.eSetFilterList.contains((0,g._getActiveDomElement)(this.beans)))return;let b=this.virtualList.getLastFocusedRow();if(b==null)return;let R=this.virtualList.getComponentAt(b);if(R==null)return;v.preventDefault();let{readOnly:x}=this.setFilterParams;if(!x)return R}getCssIdentifier(){return"set-filter"}setModel(v){return v==null&&this.valueModel.getModel()==null?(this.setMiniFilter(null),g.AgPromise.resolve()):super.setModel(v)}refresh(v){if(this.applyExcelModeOptions(v),!super.refresh(v))return!1;let b=this.setFilterParams;return["treeList","treeListPathGetter","caseSensitive","comparator","excelMode"].some(x=>v[x]!==b?.[x])||this.haveColDefParamsChanged(v)?!1:(super.updateParams(v),this.updateSetFilterOnParamsChange(v),this.updateMiniFilter(),v.suppressSelectAll!==b?.suppressSelectAll&&this.createVirtualListModel(v),this.valueModel.updateOnParamsChange(v).then(()=>{this.isAlive()&&this.refreshFilterValues()}),!0)}haveColDefParamsChanged(v){let{colDef:b,keyCreator:R}=v,{colDef:x,keyCreator:E}=this.setFilterParams,T=R??b.keyCreator,D=E??x?.keyCreator,k=b.filterValueGetter!==x?.filterValueGetter,O=T!==D,N=!!this.dataTypeSvc&&!!T&&this.dataTypeSvc.getFormatValue(b.cellDataType)===T&&b.valueFormatter!==x?.valueFormatter;return k||O||N}setModelAndRefresh(v){return this.valueModel.setModel(v).then(()=>{this.isAlive()&&this.checkAndRefreshVirtualList()})}resetUiToDefaults(){return this.setMiniFilter(null),this.setModelAndRefresh(null)}setModelIntoUi(v){this.setMiniFilter(null);let b=v==null?null:v.values;return this.setModelAndRefresh(b)}getModelFromUi(){let v=this.valueModel.getModel();return v?{values:v,filterType:this.filterType}:null}getValueModel(){return this.valueModel}areModelsEqual(v,b){return v==null&&b==null?!0:v!=null&&b!=null&&(0,g._areEqual)(v.values,b.values)}setParams(v){this.applyExcelModeOptions(v),super.setParams(v),this.updateSetFilterOnParamsChange(v);let b=v.keyCreator??v.colDef.keyCreator;this.valueModel=new o.SetValueModel({filterParams:v,setIsLoading:R=>this.setIsLoading(R),translate:R=>this.translateForSetFilter(R),caseFormat:R=>this.caseFormat(R),createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!b,gos:this.gos,rowGroupColsSvc:this.rowGroupColsSvc,valueSvc:this.valueSvc,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedEventListeners:R=>this.addManagedEventListeners(R)}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()}onAddCurrentSelectionToFilterChange(v){this.valueModel.setAddCurrentSelectionToFilter(v)}setValueFormatter(v,b,R,x){let E=v;if(!E){if(b&&!R){(0,g._error)(249);return}this.noValueFormatterSupplied=!0,x||(E=T=>(0,g._toStringOrNull)(T.value))}this.valueFormatter=E}generateCreateKey(v,b){return b&&!v?((0,g._error)(250),()=>null):v?(R,x=null)=>{let E=this.getKeyCreatorParams(R,x);return(0,g._makeNull)(v(E))}:R=>(0,g._makeNull)((0,g._toStringOrNull)(R))}getFormattedValue(v){let b=this.valueModel.getValue(v);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(b)&&(b=(0,g._last)(b));let R=this.valueSvc.formatValue(this.setFilterParams.column,null,b,this.valueFormatter,!1);return R??(0,g._toStringOrNull)(b)??this.translateForSetFilter("blanks")}applyExcelModeOptions(v){v.excelMode==="windows"?(v.buttons||(v.buttons=["apply","cancel"]),v.closeOnApply==null&&(v.closeOnApply=!0)):v.excelMode==="mac"&&(v.buttons||(v.buttons=["reset"]),v.applyMiniFilterWhileTyping==null&&(v.applyMiniFilterWhileTyping=!0),v.debounceMs==null&&(v.debounceMs=500)),v.excelMode&&v.defaultToNothingSelected&&(v.defaultToNothingSelected=!1,(0,g._warn)(207))}addEventListenersForDataChanges(){if(!this.isValuesTakenFromGrid())return;this.addManagedPropertyListeners(["groupAllowUnbalanced"],()=>{this.syncAfterDataChange()});let v=(0,g._debounce)(this,this.syncAfterDataChange.bind(this),0);this.addManagedEventListeners({cellValueChanged:b=>{b.column===this.setFilterParams.column&&v()}})}syncAfterDataChange(){let v=!this.applyActive||this.areModelsEqual(this.getModel(),this.getModelFromUi());return this.valueModel.refreshValues().then(()=>{this.isAlive()&&(this.checkAndRefreshVirtualList(),v&&this.onBtApply(!1,!0))})}setIsLoading(v){(0,g._setDisplayed)(this.eFilterLoading,v),v||(this.hardRefreshVirtualList=!0)}initialiseFilterBodyUi(){this.initVirtualList(),this.initMiniFilter(),this.initLoading()}initLoading(){let v=(0,g._createIconNoSpan)("setFilterLoading",this.beans,this.setFilterParams.column);v&&this.eFilterLoadingIcon.appendChild(v)}initVirtualList(){let b=this.getLocaleTextFunc()("ariaFilterList","Filter List"),R=!!this.setFilterParams.treeList,x=this.virtualList=this.createBean(new M.VirtualList({cssIdentifier:"filter",ariaRole:R?"tree":"listbox",listName:b})),E=this.eSetFilterList;R&&E.classList.add("ag-set-filter-tree-list"),E&&E.appendChild(x.getGui());let{cellHeight:T}=this.setFilterParams;T!=null&&x.setRowHeight(T);let D=(O,N)=>this.createSetListItem(O,R,N);x.setComponentCreator(D);let k=(O,N)=>this.updateSetListItem(O,N);x.setComponentUpdater(k),this.createVirtualListModel(this.setFilterParams)}createVirtualListModel(v){let b;v.suppressSelectAll?b=new l(this.valueModel):b=new d(this.valueModel,()=>this.isSelectAllSelected()),v.treeList&&(b=new p(b)),this.virtualList.setModel(b)}getSelectAllLabel(){let v=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(v)}getAddSelectionToFilterLabel(){return this.translateForSetFilter("addCurrentSelectionToFilter")}createSetListItem(v,b,R){let x=this.valueModel.hasGroups(),{isSelected:E,isExpanded:T}=this.isSelectedExpanded(v),{value:D,depth:k,isGroup:O,hasIndeterminateExpandState:N,selectedListener:V,expandedListener:j}=this.newSetListItemAttributes(v),Q={focusWrapper:R,value:D,params:this.setFilterParams,translate:$=>this.translateForSetFilter($),valueFormatter:this.valueFormatter,item:v,isSelected:E,isTree:b,depth:k,groupsExist:x,isGroup:O,isExpanded:T,hasIndeterminateExpandState:N},Y=this.createBean(new c.SetFilterListItem(Q));return Y.addEventListener("selectionChanged",V),j&&Y.addEventListener("expandedChanged",j),Y}newSetTreeItemAttributes(v){let b=this.valueModel.hasGroups();return v.key===P.SET_FILTER_SELECT_ALL?{value:()=>this.getSelectAllLabel(),isGroup:b,depth:v.depth,hasIndeterminateExpandState:!0,selectedListener:R=>this.onSelectAll(R.isSelected),expandedListener:R=>this.onExpandAll(R.item,R.isExpanded)}:v.key===P.SET_FILTER_ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),depth:v.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:R=>{this.onAddCurrentSelectionToFilterChange(R.isSelected)}}:v.children?{value:this.setFilterParams.treeListFormatter?.(v.treeKey,v.depth,v.parentTreeKeys)??v.treeKey,depth:v.depth,isGroup:!0,selectedListener:R=>this.onGroupItemSelected(R.item,R.isSelected),expandedListener:R=>this.onExpandedChanged(R.item,R.isExpanded)}:{value:this.setFilterParams.treeListFormatter?.(v.treeKey,v.depth,v.parentTreeKeys)??v.treeKey,depth:v.depth,selectedListener:R=>this.onItemSelected(R.item.key,R.isSelected)}}newSetListItemAttributes(v){return this.isSetFilterModelTreeItem(v)?this.newSetTreeItemAttributes(v):v===P.SET_FILTER_SELECT_ALL?{value:()=>this.getSelectAllLabel(),selectedListener:b=>this.onSelectAll(b.isSelected)}:v===P.SET_FILTER_ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:b=>{this.onAddCurrentSelectionToFilterChange(b.isSelected)}}:{value:this.valueModel.getValue(v),selectedListener:b=>this.onItemSelected(b.item,b.isSelected)}}updateSetListItem(v,b){let{isSelected:R,isExpanded:x}=this.isSelectedExpanded(v);b.refresh(v,R,x)}isSelectedExpanded(v){let b,R;return this.isSetFilterModelTreeItem(v)?(R=v.expanded,v.key===P.SET_FILTER_SELECT_ALL?b=this.isSelectAllSelected():v.key===P.SET_FILTER_ADD_SELECTION_TO_FILTER?b=this.valueModel.isAddCurrentSelectionToFilterChecked():v.children?b=this.areAllChildrenSelected(v):b=this.valueModel.isKeySelected(v.key)):v===P.SET_FILTER_SELECT_ALL?b=this.isSelectAllSelected():v===P.SET_FILTER_ADD_SELECTION_TO_FILTER?b=this.valueModel.isAddCurrentSelectionToFilterChecked():b=this.valueModel.isKeySelected(v),{isSelected:b,isExpanded:R}}isSetFilterModelTreeItem(v){return v?.treeKey!==void 0}initMiniFilter(){let{eMiniFilter:v}=this,b=this.getLocaleTextFunc();v.setDisplayed(!this.setFilterParams.suppressMiniFilter),v.setValue(this.valueModel.getMiniFilter()),v.onValueChange(()=>this.onMiniFilterInput()),v.setInputAriaLabel(b("ariaSearchFilterValues","Search filter values")),this.addManagedElementListeners(v.getInputElement(),{keydown:R=>this.onMiniFilterKeyDown(R)})}updateMiniFilter(){let{eMiniFilter:v}=this;v.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&v.setDisplayed(!this.setFilterParams.suppressMiniFilter);let b=this.valueModel.getMiniFilter();v.getValue()!==b&&v.setValue(b)}afterGuiAttached(v){super.afterGuiAttached(v),this.resetExpansion(),this.refreshVirtualList();let{eMiniFilter:b}=this;b.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!v||!v.suppressFocus)&&(b.isDisplayed()?b.getFocusableElement().focus():this.virtualList.awaitStable(()=>this.virtualList.focusRow(0)))}afterGuiDetached(){super.afterGuiDetached(),this.setFilterParams.excelMode&&this.resetMiniFilter();let v=this.getModel();(this.setFilterParams.excelMode||!this.areModelsEqual(v,this.getModelFromUi()))&&(this.resetUiToActiveModel(v),this.showOrHideResults())}applyModel(v="api"){this.setFilterParams.excelMode&&v!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();let b=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(b&&!this.getModel())return!1;let R=super.applyModel(v),x=this.getModel();return x?(b||this.valueModel.setAppliedModelKeys(new Set),x.values.forEach(E=>{this.valueModel.addToAppliedModelKeys(E)})):b||this.valueModel.setAppliedModelKeys(null),R}isModelValid(v){return this.setFilterParams.excelMode?v==null||v.values.length>0:!0}doesFilterPass(v){if(!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;let{node:b}=v;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(b);if(this.groupingTreeList)return this.doesFilterPassForGrouping(b);let R=this.getValueFromNode(b);return R!=null&&Array.isArray(R)?R.length===0?this.valueModel.hasAppliedModelKey(null):R.some(x=>this.isInAppliedModel(this.createKey(x,b))):this.isInAppliedModel(this.createKey(R,b))}doesFilterPassForTreeData(v){return v.childrenAfterGroup?.length?!1:this.isInAppliedModel(this.createKey((0,i.processDataPath)(v.getRoute()??[v.key??v.id],!0,this.gos.get("groupAllowUnbalanced"))))}doesFilterPassForGrouping(v){let b=(this.rowGroupColsSvc?.columns??[]).map(R=>this.valueSvc.getKeyForNode(R,v));return b.push(this.getValueFromNode(v)),this.isInAppliedModel(this.createKey((0,i.processDataPath)(b,!1,this.gos.get("groupAllowUnbalanced"))))}isInAppliedModel(v){return this.valueModel.hasAppliedModelKey(v)}getValueFromNode(v){return this.setFilterParams.getValue(v)}getKeyCreatorParams(v,b=null){let{colDef:R,column:x,api:E,context:T}=this.setFilterParams;return{value:v,colDef:R,column:x,node:b,data:b?.data,api:E,context:T}}onNewRowsLoaded(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()}isValuesTakenFromGrid(){return this.valueModel.getValuesType()===o.SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES}setFilterValues(v){this.valueModel.overrideValues(v).then(()=>{this.isAlive()&&(this.checkAndRefreshVirtualList(),this.onUiChanged())})}resetFilterValues(){this.valueModel.setValuesType(o.SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()}refreshFilterValues(){this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(()=>{this.isAlive()&&(this.hardRefreshVirtualList=!0,this.checkAndRefreshVirtualList(),this.onUiChanged())})}onAnyFilterChanged(){setTimeout(()=>{this.isAlive()&&this.valueModel.refreshAfterAnyFilterChanged().then(v=>{v&&this.isAlive()&&(this.checkAndRefreshVirtualList(),this.showOrHideResults())})},0)}onMiniFilterInput(){if(!this.valueModel.setMiniFilter(this.eMiniFilter.getValue()))return;let{applyMiniFilterWhileTyping:v,readOnly:b}=this.setFilterParams;!b&&v?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}updateUiAfterMiniFilterChange(){let{excelMode:v,readOnly:b}=this.setFilterParams;v==null||b?this.checkAndRefreshVirtualList():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()}showOrHideResults(){let v=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;(0,g._setDisplayed)(this.eFilterNoMatches,v),(0,g._setDisplayed)(this.eSetFilterList,!v)}resetMiniFilter(){this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null)}resetUiToActiveModel(v,b){this.setModelAndRefresh(v==null?null:v.values).then(()=>{this.isAlive()&&(this.onUiChanged(!1,"prevent"),b?.())})}handleCancelEnd(v){this.setMiniFilter(null),super.handleCancelEnd(v)}onMiniFilterKeyDown(v){let{excelMode:b,readOnly:R}=this.setFilterParams;v.key===g.KeyCode.ENTER&&!b&&!R&&this.filterOnAllVisibleValues()}filterOnAllVisibleValues(v=!0){this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,v?"immediately":"debounce"),this.showOrHideResults()}focusRowIfAlive(v){return v==null?Promise.resolve():new Promise(b=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(v),b()},0)})}onSelectAll(v){v?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()}onGroupItemSelected(v,b){let R=x=>{x.filterPasses&&(x.children?x.children.forEach(E=>R(E)):this.selectItem(x.key,b))};R(v),this.refreshAfterSelection()}onItemSelected(v,b){this.selectItem(v,b),this.refreshAfterSelection()}selectItem(v,b){b?this.valueModel.selectKey(v):this.valueModel.deselectKey(v)}onExpandAll(v,b){let R=x=>{x.filterPasses&&x.available&&x.children&&(x.children.forEach(E=>R(E)),x.expanded=b)};R(v),this.refreshAfterExpansion()}onExpandedChanged(v,b){v.expanded=b,this.refreshAfterExpansion()}refreshAfterExpansion(){let v=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(v)}refreshAfterSelection(){let v=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(v)}setMiniFilter(v){this.eMiniFilter.setValue(v),this.onMiniFilterInput()}getMiniFilter(){return this.valueModel.getMiniFilter()}checkAndRefreshVirtualList(){this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)}getFilterKeys(){return this.valueModel.getKeys()}getFilterValues(){return this.valueModel.getValues()}getValues(){return this.getFilterKeys()}refreshVirtualList(){this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()}translateForSetFilter(v){return this.getLocaleTextFunc()(v,f.DEFAULT_LOCALE_TEXT[v])}isSelectAllSelected(){if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}}areAllChildrenSelected(v){let b=R=>{if(R.children){let x=!1,E=!1;return R.children.some(D=>{if(!D.filterPasses||!D.available)return!1;let k=b(D);return k===void 0?!0:(k?x=!0:E=!0,x&&E)})?void 0:x}else return this.valueModel.isKeySelected(R.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&b(v):b(v)}destroy(){this.virtualList=this.destroyBean(this.virtualList),super.destroy()}caseFormat(v){return v==null||typeof v!="string"||this.caseSensitive?v:v.toUpperCase()}resetExpansion(){if(!this.setFilterParams.treeList)return;let v=this.valueModel.getSelectAllItem();if(this.isSetFilterModelTreeItem(v)){let b=R=>{R.children&&(R.children.forEach(x=>b(x)),R.expanded=!1)};b(v),this.valueModel.updateDisplayedValues("expansion")}}getModelAsString(v){return this.filterModelFormatter.getModelAsString(v,this)}getPositionableElement(){return this.eSetFilterList}}h.SetFilter=a;class l{constructor(v){this.model=v}getRowCount(){return this.model.getDisplayedValueCount()}getRow(v){return this.model.getDisplayedItem(v)}areRowsEqual(v,b){return v===b}}class d{constructor(v,b){this.model=v,this.isSelectAllSelected=b}getRowCount(){let b=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+b}getRow(v){if(v===0)return this.model.getSelectAllItem();let b=this.model.showAddCurrentSelectionToFilter(),R=b?2:1;return v===1&&b?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(v-R)}areRowsEqual(v,b){return v===b}}class p{constructor(v){this.model=v}getRowCount(){return this.model.getRowCount()}getRow(v){return this.model.getRow(v)}areRowsEqual(v,b){return v==null&&b==null?!0:v!=null&&b!=null&&v.treeKey===b.treeKey&&v.depth===b.depth}}},105:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetFilterListItem=void 0;let g=S(6624),M={tag:"div",cls:"ag-set-filter-item",attrs:{"aria-hidden":"true"},children:[{tag:"span",cls:"ag-set-filter-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-set-filter-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-set-filter-group-opened-icon"},{tag:"span",ref:"eGroupIndeterminateIcon",cls:"ag-set-filter-group-indeterminate-icon"}]},{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]},P={tag:"div",cls:"ag-set-filter-item",children:[{tag:"ag-checkbox",ref:"eCheckbox",cls:"ag-set-filter-item-checkbox"}]};class f extends g.Component{constructor(r){super(r.isGroup?M:P,[g.AgCheckboxSelector]),this.eCheckbox=g.RefPlaceholder,this.eGroupOpenedIcon=g.RefPlaceholder,this.eGroupClosedIcon=g.RefPlaceholder,this.eGroupIndeterminateIcon=g.RefPlaceholder,this.formattedValue=null,this.focusWrapper=r.focusWrapper,this.value=r.value,this.params=r.params,this.translate=r.translate,this.valueFormatter=r.valueFormatter,this.item=r.item,this.isSelected=r.isSelected,this.isTree=r.isTree,this.depth=r.depth??0,this.isGroup=r.isGroup,this.groupsExist=r.groupsExist,this.isExpanded=r.isExpanded,this.hasIndeterminateExpandState=r.hasIndeterminateExpandState}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getColDef:()=>this.params.colDef,getColumn:()=>this.params.column,getLocation:()=>"setFilterValue",shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0,getValueFormatted:()=>this.formattedValue,getAdditionalParams:()=>this.isTree?{level:this.depth}:{}})),this.addDestroyFunc(()=>this.destroyCellRendererComponent?.()),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&(this.addCssClass("ag-set-filter-indent-"+this.depth),this.getGui().style.setProperty("--ag-indentation-level",String(this.depth))),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),(0,g._setAriaLevel)(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(r=>this.onCheckboxChanged(!!r))}getFocusableElement(){return this.focusWrapper}setupExpansion(){let{eGroupClosedIcon:r,eGroupOpenedIcon:i,eGroupIndeterminateIcon:o,hasIndeterminateExpandState:a,beans:l}=this;r.appendChild((0,g._createIcon)("setFilterGroupClosed",l,null)),i.appendChild((0,g._createIcon)("setFilterGroupOpen",l,null));let d=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(r,{click:d}),this.addManagedElementListeners(i,{click:d}),a&&(o.appendChild((0,g._createIcon)("setFilterGroupIndeterminate",l,null)),this.addManagedElementListeners(o,{click:d})),this.setExpandedIcons(),this.refreshAriaExpanded()}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded)}setExpanded(r,i){if(this.isGroup&&r!==this.isExpanded){this.isExpanded=r;let o={type:"expandedChanged",isExpanded:!!r,item:this.item};i||this.dispatchLocalEvent(o),this.setExpandedIcons(),this.refreshAriaExpanded()}}setExpandedIcons(){let{isExpanded:r,hasIndeterminateExpandState:i,eGroupClosedIcon:o,eGroupOpenedIcon:a,eGroupIndeterminateIcon:l}=this;(0,g._setDisplayed)(o,i?r===!1:!r),(0,g._setDisplayed)(a,r===!0),i&&(0,g._setDisplayed)(l,r===void 0)}onCheckboxChanged(r){this.isSelected=r;let i={type:"selectionChanged",isSelected:r,item:this.item};this.dispatchLocalEvent(i),this.refreshVariableAriaLabels(),this.refreshAriaChecked()}toggleSelected(){this.params.readOnly||this.setSelected(!this.isSelected)}setSelected(r,i){this.isSelected=r,this.eCheckbox.setValue(r,i),this.refreshAriaChecked()}refreshVariableAriaLabels(){if(!this.isTree)return;let r=this.getLocaleTextFunc(),i=this.eCheckbox.getValue(),o=i===void 0?r("ariaIndeterminate","indeterminate"):i?r("ariaVisible","visible"):r("ariaHidden","hidden"),a=r("ariaToggleVisibility","Press SPACE to toggle visibility");(0,g._setAriaLabelledBy)(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(`${a} (${o})`)}setupFixedAriaLabels(r){if(!this.isTree)return;let o=this.getLocaleTextFunc()("ariaFilterValue","Filter Value"),a=this.getAriaElement();(0,g._setAriaLabel)(a,`${r} ${o}`),(0,g._setAriaDescribedBy)(a,this.eCheckbox.getInputElement().id)}refreshAriaChecked(){let r=this.getAriaElement();(0,g._setAriaChecked)(r,this.eCheckbox.getValue())}refreshAriaExpanded(){(0,g._setAriaExpanded)(this.getAriaElement(),!!this.isExpanded)}refresh(r,i,o){this.item=r,i!==this.isSelected&&this.setSelected(i,!0),this.setExpanded(o,!0);let{cellRendererComponent:a,cellRendererParams:l,beans:d,params:p}=this;if(this.valueFunction){let C=this.valueFunction();this.setTooltipAndCellRendererParams(C,C),a||this.renderCellWithoutCellRenderer()}if(a){let C=(0,g._getCellRendererDetails)(d.userCompFactory,p,l);if(!a.refresh?.(C?.params??l)){let b=a;this.renderCell(),this.destroyBean(b)}}}render(){let{params:{column:r}}=this,{value:i}=this,o=null;typeof i=="function"?(this.valueFunction=i,o=this.valueFunction(),i=o):this.isTree?o=(0,g._toStringOrNull)(i):o=this.getFormattedValue(r,i),this.formattedValue=o,this.setTooltipAndCellRendererParams(i,o),this.renderCell()}setTooltipAndCellRendererParams(r,i){let o=this.gos;if(this.params.showTooltips&&(!(0,g._isShowTooltipWhenTruncated)(o)||!this.params.cellRenderer)){let a=i??(0,g._toStringOrNull)(r);this.shouldDisplayTooltip=(0,g._getShouldDisplayTooltip)(o,()=>this.eCheckbox.getGui().querySelector(".ag-label")),this.tooltipFeature?.setTooltipAndRefresh(a)}this.cellRendererParams=(0,g._addGridCommonParams)(o,{value:r,valueFormatted:i,colDef:this.params.colDef,column:this.params.column,setTooltip:(a,l)=>{o.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=l,this.tooltipFeature?.setTooltipAndRefresh(a)}})}getFormattedValue(r,i){return this.beans.valueSvc.formatValue(r,null,i,this.valueFormatter,!1)}renderCell(){let i=(0,g._getCellRendererDetails)(this.beans.userCompFactory,this.params,this.cellRendererParams)?.newAgStackInstance();if(i==null){this.renderCellWithoutCellRenderer();return}i.then(o=>{o&&(this.cellRendererComponent=o,this.eCheckbox.setLabel(o.getGui()),this.destroyCellRendererComponent=()=>this.destroyBean(o))})}renderCellWithoutCellRenderer(){let{valueFormatted:r,value:i}=this.cellRendererParams,o=r??i??this.translate("blanks");typeof o!="string"&&((0,g._warn)(208),o=""),this.eCheckbox.setLabel(o),this.setupFixedAriaLabels(o)}getComponentHolder(){return this.params.column.getColDef()}}h.SetFilterListItem=f},5355:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetFilterModelFormatter=void 0;class S{getModelAsString(M,P){let{values:f}=M||P.getModel()||{},c=P.getValueModel();if(f==null||c==null)return"";let r=f.filter(a=>c.isKeyAvailable(a)),i=r.length,o=r.slice(0,10).map(a=>P.getFormattedValue(a));return`(${i}) ${o.join(",")}${i>10?",...":""}`}}h.SetFilterModelFormatter=S},9002:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetFilterModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(2734),c=S(4716);h.SetFilterModule={moduleName:"SetFilter",version:P.VERSION,userComponents:{agSetColumnFilter:f.SetFilter,agSetColumnFloatingFilter:c.SetFloatingFilterComp},icons:{setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",setFilterLoading:"loading"},dependsOn:[M.EnterpriseCoreModule,g._ColumnFilterModule]}},2270:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.processDataPath=void 0;let g=S(6624);function M(P,f,c){let r=P;return r?(r=r.map(i=>(0,g._toStringOrNull)((0,g._makeNull)(i))),!f&&c&&r.some(i=>i==null)?(0,g._last)(r)==null?null:r.filter(i=>i!=null):r):null}h.processDataPath=M},4716:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetFloatingFilterComp=void 0;let g=S(6624),M=S(2734),P=S(5355),f={tag:"div",cls:"ag-floating-filter-input ag-set-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]};class c extends g.Component{wireBeans(i){this.colNames=i.colNames}constructor(){super(f,[g.AgInputTextFieldSelector]),this.eFloatingFilterText=g.RefPlaceholder,this.availableValuesListenerAdded=!1,this.filterModelFormatter=new P.SetFilterModelFormatter}init(i){this.params=i,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams(i)}setParams(i){let o=this.colNames.getDisplayNameForColumn(i.column,"header",!0),a=this.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel(`${o} ${a("ariaFilterInput","Filter Input")}`)}refresh(i){this.params=i,this.setParams(i)}onParentModelChanged(i){this.updateFloatingFilterText(i)}parentSetFilterInstance(i){this.params.parentFilterInstance(o=>{if(!(o instanceof M.SetFilter)){(0,g._error)(248);return}i(o)})}addAvailableValuesListener(){this.parentSetFilterInstance(i=>{let o=i.getValueModel();o&&this.addManagedListeners(o,{availableValuesChanged:()=>this.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0}updateFloatingFilterText(i){this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(o=>{this.eFloatingFilterText.setValue(this.filterModelFormatter.getModelAsString(i,o))})}}h.SetFloatingFilterComp=c},4366:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SetValueModel=h.SetFilterModelValuesType=void 0;let g=S(6624),M=S(4737),P=S(4510),f=S(8053),c=S(5546);var r;(function(o){o[o.PROVIDED_LIST=0]="PROVIDED_LIST",o[o.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",o[o.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(r||(h.SetFilterModelValuesType=r={}));class i{constructor(a){this.localEventService=new g.LocalEventService,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;let{usingComplexObjects:l,rowGroupColsSvc:d,valueSvc:p,treeDataTreeList:C,groupingTreeList:v,filterParams:b,gos:R,valueFormatter:x,addManagedEventListeners:E}=a,{column:T,colDef:D,textFormatter:k,doesRowPassOtherFilter:O,suppressSorting:N,comparator:V,rowModel:j,values:Q,caseSensitive:Y,treeList:$,treeListPathGetter:se,treeListFormatter:W}=b;this.filterParams=b,this.gos=R,this.setIsLoading=a.setIsLoading,this.translate=a.translate,this.caseFormat=a.caseFormat,this.createKey=a.createKey,this.usingComplexObjects=!!a.usingComplexObjects,this.formatter=k??(oe=>oe??null),this.doesRowPassOtherFilters=O,this.suppressSorting=N||!1,this.filteringKeys=new P.SetValueModelFilteringKeys({caseFormat:this.caseFormat});let Z=V??D.comparator,ee=!!C||!!v;this.compareByValue=!!(l&&Z||ee||$&&!se),ee&&!Z?this.entryComparator=this.createTreeDataOrGroupingComparator():$&&!se&&!Z?this.entryComparator=([oe,ge],[ue,X])=>(0,g._defaultComparator)(ge,X):this.entryComparator=([oe,ge],[ue,X])=>Z(ge,X),this.keyComparator=Z??g._defaultComparator,this.caseSensitive=!!Y;let re=R.get("groupAllowUnbalanced");(0,g._isClientSideRowModel)(R,j)&&(this.clientSideValuesExtractor=new M.ClientSideValuesExtractor(j,this.filterParams,this.createKey,this.caseFormat,p,ee,!!C,re,E,d)),Q==null?this.valuesType=r.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(Q)?r.PROVIDED_LIST:r.PROVIDED_CALLBACK,this.providedValues=Q),this.displayValueModel=$?new c.TreeSetDisplayValueModel(this.formatter,se,W,C||v):new f.FlatSetDisplayValueModel(p,x,this.formatter,T),this.updateAllValues().then(oe=>this.resetSelectionState(oe||[]))}addEventListener(a,l,d){this.localEventService.addEventListener(a,l,d)}removeEventListener(a,l,d){this.localEventService.removeEventListener(a,l,d)}updateOnParamsChange(a){return new g.AgPromise(l=>{let{values:d,textFormatter:p,suppressSorting:C,treeListFormatter:v}=a,b=this.providedValues,R=this.suppressSorting;if(this.filterParams=a,this.formatter=p??(x=>x??null),this.suppressSorting=C||!1,this.providedValues=d??null,this.displayValueModel instanceof c.TreeSetDisplayValueModel&&this.displayValueModel.updateOnParamsChange(v),this.providedValues!==b||this.suppressSorting!==R){!d||d.length===0?(this.valuesType=r.TAKEN_FROM_GRID_VALUES,this.providedValues=null):this.valuesType=Array.isArray(d)?r.PROVIDED_LIST:r.PROVIDED_CALLBACK;let x=this.getModel();this.updateAllValues().then(()=>{this.setModel(x).then(()=>l())})}else l()})}refreshValues(){return new g.AgPromise(a=>{this.allValuesPromise.then(()=>{let l=this.getModel();this.updateAllValues(),this.setModel(l).then(()=>a())})})}overrideValues(a){return new g.AgPromise(l=>{this.allValuesPromise.then(()=>{this.valuesType=r.PROVIDED_LIST,this.providedValues=a,this.refreshValues().then(()=>l())})})}refreshAfterAnyFilterChanged(){return this.showAvailableOnly()?this.allValuesPromise.then(a=>(this.updateAvailableKeys(a??[],"otherFilter"),!0)):g.AgPromise.resolve(!1)}isInitialised(){return this.initialised}updateAllValues(){return this.allValuesPromise=new g.AgPromise(a=>{switch(this.valuesType){case r.TAKEN_FROM_GRID_VALUES:this.getValuesFromRowsAsync(!1).then(l=>a(this.processAllValues(l)));break;case r.PROVIDED_LIST:{a(this.processAllValues(this.uniqueValues(this.validateProvidedValues(this.providedValues))));break}case r.PROVIDED_CALLBACK:{this.setIsLoading(!0);let l=this.providedValues,{column:d,colDef:p}=this.filterParams,C=(0,g._addGridCommonParams)(this.gos,{success:v=>{this.setIsLoading(!1),a(this.processAllValues(this.uniqueValues(this.validateProvidedValues(v))))},colDef:p,column:d});window.setTimeout(()=>l(C),0);break}}}),this.allValuesPromise.then(a=>this.updateAvailableKeys(a||[],"reload")).then(()=>this.initialised=!0),this.allValuesPromise}processAllValues(a){let l=this.sortKeys(a);return this.allValues=a??new Map,l}validateProvidedValues(a){if(this.usingComplexObjects&&a?.length){let l=a[0];l&&typeof l!="object"&&typeof l!="function"&&(this.createKey(l)==null?(0,g._warn)(209):(0,g._warn)(210))}return a}setValuesType(a){this.valuesType=a}getValuesType(){return this.valuesType}isKeyAvailable(a){return this.availableKeys.has(a)}showAvailableOnly(){return this.valuesType===r.TAKEN_FROM_GRID_VALUES}updateAvailableKeys(a,l){let d=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):a;this.availableKeys=new Set(d),this.localEventService.dispatchEvent({type:"availableValuesChanged"}),this.updateDisplayedValues(l,a)}sortKeys(a){let l=a??new Map;if(this.suppressSorting)return Array.from(l.keys());let d;return this.compareByValue?d=Array.from(l.entries()).sort(this.entryComparator).map(([p])=>p):d=Array.from(l.keys()).sort(this.keyComparator),this.filterParams.excelMode&&l.has(null)&&(d=d.filter(p=>p!=null),d.push(null)),d}getParamsForValuesFromRows(a=!1){if(!this.clientSideValuesExtractor)return(0,g._error)(113),null;let l=p=>!a||this.doesRowPassOtherFilters(p),d=a&&!this.caseSensitive?this.allValues:void 0;return{predicate:l,existingValues:d}}getValuesFromRows(a=!1){let l=this.getParamsForValuesFromRows(a);return l?this.clientSideValuesExtractor.extractUniqueValues(l.predicate,l.existingValues):null}getValuesFromRowsAsync(a=!1){let l=this.getParamsForValuesFromRows(a);return l?this.clientSideValuesExtractor.extractUniqueValuesAsync(l.predicate,l.existingValues):g.AgPromise.resolve(null)}setMiniFilter(a){return a=(0,g._makeNull)(a),this.miniFilterText===a?!1:(a===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=a,this.updateDisplayedValues("miniFilter"),!0)}getMiniFilter(){return this.miniFilterText}updateDisplayedValues(a,l){if(a==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(v=>this.getValue(v),l,this.availableKeys,a);return}let d=this.caseFormat(this.formatter(this.miniFilterText)||""),p=v=>v!=null&&this.caseFormat(v).indexOf(d)>=0,C=!!this.filterParams.excelMode&&p(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(v=>this.getValue(v),l,this.availableKeys,p,C,a)}getDisplayedValueCount(){return this.displayValueModel.getDisplayedValueCount()}getDisplayedItem(a){return this.displayValueModel.getDisplayedItem(a)}getSelectAllItem(){return this.displayValueModel.getSelectAllItem()}getAddSelectionToFilterItem(){return this.displayValueModel.getAddSelectionToFilterItem()}hasSelections(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size}getKeys(){return Array.from(this.allValues.keys())}getValues(){return Array.from(this.allValues.values())}getValue(a){return this.allValues.get(a)}setAddCurrentSelectionToFilter(a){this.addCurrentSelectionToFilter=a}isInWindowsExcelMode(){return this.filterParams.excelMode==="windows"}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&(0,g._exists)(this.miniFilterText)&&this.miniFilterText.length>0}selectAllMatchingMiniFilter(a=!1){this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(a&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(l=>this.selectedKeys.add(l)))}deselectAllMatchingMiniFilter(){this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(a=>this.selectedKeys.delete(a))}selectKey(a){this.selectedKeys.add(a)}deselectKey(a){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(a)}isKeySelected(a){return this.selectedKeys.has(a)}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(a=>!this.isKeySelected(a))}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(a=>this.isKeySelected(a))}getModel(){if(!this.hasSelections())return null;let a=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(a&&a.size>0){if(this.selectedKeys){let l=new Set([...Array.from(a),...Array.from(this.selectedKeys).filter(d=>!a.has(d))]);return Array.from(l)}return Array.from(a)}return Array.from(this.selectedKeys)}setModel(a){return this.allValuesPromise.then(l=>{if(a==null)this.resetSelectionState(l??[]);else{this.selectedKeys.clear();let d=new Map;this.allValues.forEach((p,C)=>{d.set(this.caseFormat(C),C)}),a.forEach(p=>{let C=this.caseFormat((0,g._makeNull)(p)),v=d.get(C);v!==void 0&&this.selectKey(v)})}})}uniqueValues(a){let l=new Map,d=new Set;return(a??[]).forEach(p=>{let C=(0,g._makeNull)(p),v=this.createKey(C),b=this.caseFormat(v);d.has(b)||(d.add(b),l.set(v,C))}),l}resetSelectionState(a){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(a)}hasGroups(){return this.displayValueModel.hasGroups()}createTreeDataOrGroupingComparator(){return([a,l],[d,p])=>{if(l==null)return p==null?0:-1;if(p==null)return 1;for(let C=0;C<l.length;C++){if(C>=p.length)return 1;let v=(0,g._defaultComparator)(l[C],p[C]);if(v!==0)return v}return 0}}setAppliedModelKeys(a){this.filteringKeys.setFilteringKeys(a)}addToAppliedModelKeys(a){this.filteringKeys.addFilteringKey(a)}getAppliedModelKeys(){return this.filteringKeys.allFilteringKeys()}getCaseFormattedAppliedModelKeys(){return this.filteringKeys.allFilteringKeysCaseFormatted()}hasAppliedModelKey(a){return this.filteringKeys.hasCaseFormattedFilteringKey(a)}hasAnyAppliedModelKey(){return!this.filteringKeys.hasNoAppliedFilteringKeys}}h.SetValueModel=i},5546:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TreeSetDisplayValueModel=void 0;let g=S(6624),M=S(3335),P=c=>(0,g._missing)(c)?null:!(c instanceof Date)||isNaN(c.getTime())?["NaN"]:[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())];class f{constructor(r,i,o,a){this.formatter=r,this.treeListPathGetter=i,this.treeListFormatter=o,this.treeDataOrGrouping=a,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:M.SET_FILTER_SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:M.SET_FILTER_SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:M.SET_FILTER_ADD_SELECTION_TO_FILTER,expanded:!0,key:M.SET_FILTER_ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}updateOnParamsChange(r){this.treeListFormatter=r}updateDisplayedValuesToAllAvailable(r,i,o,a){a==="reload"?this.generateItemTree(r,i,o):a==="otherFilter"?(this.updateAvailable(o),this.updateExpandAll()):a==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()}updateDisplayedValuesToMatchMiniFilter(r,i,o,a,l,d){d==="reload"?this.generateItemTree(r,i,o):d==="otherFilter"&&this.updateAvailable(o),this.updateFilter(a,l),this.updateExpandAll(),this.flattenItems()}generateItemTree(r,i,o){this.allDisplayedItemsTree=[],this.groupsExist=!1;let a=this.getTreeListPathGetter(r,o);for(let l of i){let d=r(l),p=a(d)??[null];p.length>1&&(this.groupsExist=!0);let C=o.has(l),v=this.allDisplayedItemsTree,b,R=[];p.forEach((x,E)=>{v||(v=[],b.children=v),b=v.find(T=>T.treeKey?.toUpperCase()===x?.toUpperCase()),b||(b={treeKey:x,depth:E,filterPasses:!0,expanded:!1,available:C,parentTreeKeys:R},E===p.length-1&&(b.key=l),v.push(b)),v=b.children,R=[...R,x]})}this.updateAvailable(o),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1}getTreeListPathGetter(r,i){if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return a=>a;let o=!1;for(let a of i){let l=r(a);if(l instanceof Date){o=!0;break}else if(l!=null)break}return o?P:((0,g._warn)(211),a=>[String(a)])}flattenItems(){this.activeDisplayedItemsFlat=[];let r=i=>{i.forEach(o=>{!o.filterPasses||!o.available||(this.activeDisplayedItemsFlat.push(o),o.children&&o.expanded&&r(o.children))})};r(this.allDisplayedItemsTree)}resetFilter(){let r=i=>{i.children&&i.children.forEach(o=>{r(o)}),i.filterPasses=!0};this.allDisplayedItemsTree.forEach(i=>r(i))}updateFilter(r,i){let o=a=>a.available?a.treeKey==null?i:r(this.formatter(this.treeListFormatter?this.treeListFormatter(a.treeKey,a.depth,a.parentTreeKeys):a.treeKey)):!1;this.allDisplayedItemsTree.forEach(a=>this.recursiveItemCheck(a,!1,o,"filterPasses"))}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length}getDisplayedItem(r){return this.activeDisplayedItemsFlat[r]}getSelectAllItem(){return this.selectAllItem}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem}getDisplayedKeys(){let r=[];return this.forEachDisplayedKey(i=>r.push(i)),r}forEachDisplayedKey(r){let i=(o,a)=>{o.children?(!o.expanded||!a)&&o.children.forEach(l=>{l.filterPasses&&i(l,!1)}):r(o.key)};this.activeDisplayedItemsFlat.forEach(o=>i(o,!0))}someDisplayedKey(r){let i=(o,a)=>{if(o.children){if(!o.expanded||!a)return o.children.some(l=>l.filterPasses?i(l,!1):!1)}else return r(o.key);return!1};return this.activeDisplayedItemsFlat.some(o=>i(o,!0))}hasGroups(){return this.groupsExist}refresh(){this.updateExpandAll(),this.flattenItems()}updateExpandAll(){let r=(o,a,l)=>{for(let d of o){if(!d.filterPasses||!d.available||!d.children)continue;if(a=a||!!d.expanded,l=l||!d.expanded,a&&l)return;let p=r(d.children,a,l);if(p===void 0)return;p?a=!0:l=!0}return a&&l?void 0:a},i=this.getSelectAllItem();i.expanded=r(i.children,!1,!1)}recursiveItemCheck(r,i,o,a){let l=!1;r.children&&r.children.forEach(p=>{let C=this.recursiveItemCheck(p,i||o(r),o,a);l=l||C});let d=i||l||o(r);return r[a]=d,d}updateAvailable(r){let i=o=>r.has(o.key);this.allDisplayedItemsTree.forEach(o=>this.recursiveItemCheck(o,!1,i,"available"))}}h.TreeSetDisplayValueModel=f},9172:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgHorizontalResize=void 0;let g=S(6624);class M extends g.Component{constructor(){super({tag:"div",cls:"ag-tool-panel-horizontal-resize"}),this.minWidth=100,this.maxWidth=null}postConstruct(){let f=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(f),this.inverted=this.gos.get("enableRtl")}dispatchResizeEvent(f,c,r){this.eventSvc.dispatchEvent({type:"toolPanelSizeChanged",width:r,started:f,ended:c})}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(f){return this.onResizing(f,!0)}onResizing(f,c=!1){let r=this.inverted?-1:1,i=Math.max(this.minWidth,Math.floor(this.startingWidth-f*r));this.maxWidth!=null&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=`${i}px`,this.dispatchResizeEvent(!1,c,i)}}h.AgHorizontalResize=M},911:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agSideBarCSS=void 0,h.agSideBarCSS='.ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:"";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}'},3814:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgSideBarSelector=h.AgSideBar=void 0;let g=S(6624),M=S(6242),P=S(911),f=S(7861),c=S(8124),r=S(6443),i={tag:"div",cls:"ag-side-bar ag-unselectable",children:[{tag:"ag-side-bar-buttons",ref:"sideBarButtons"}]};class o extends g.Component{constructor(){super(i,[f.AgSideBarButtonsSelector]),this.sideBarButtons=g.RefPlaceholder,this.toolPanelWrappers=[],this.registerCSS(P.agSideBarCSS)}postConstruct(){this.sideBarButtons.addEventListener("sideBarButtonClicked",this.onToolPanelButtonClicked.bind(this));let{beans:l,gos:d}=this,{sideBar:p}=d.get("initialState")??{};this.setSideBarDef({sideBarDef:(0,c.parseSideBarDef)(d.get("sideBar")),sideBarState:p}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),l.sideBar.comp=this;let C=this.getFocusableElement();this.createManagedBean(new g.ManagedFocusFeature(C,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),(0,g._addFocusableContainerListener)(l,this,C)}onTabKeyDown(l){if(l.defaultPrevented)return;let{beans:d,sideBarButtons:p}=this,C=this.getGui(),v=p.getGui(),b=(0,g._getActiveDomElement)(d),R=C.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),x=l.target,E=l.shiftKey;if(!R)return(0,g._focusNextGridCoreContainer)(d,E)?(l.preventDefault(),!0):(0,g._focusNextGridCoreContainer)(d,E,!0);if(v.contains(b)){(0,g._focusInto)(R,E)&&l.preventDefault();return}if(!E)return;let T=null;R.contains(b)?T=(0,g._findNextFocusableElement)(d,R,void 0,!0):(0,M.isTargetUnderManagedComponent)(R,x)&&E&&(T=(0,M.findFocusableElementBeforeTabGuard)(R,x)),T||(T=v.querySelector(".ag-selected button")),T&&T!==l.target&&(l.preventDefault(),T.focus())}handleKeyDown(l){let d=(0,g._getActiveDomElement)(this.beans),p=this.sideBarButtons;if(!p.getGui().contains(d))return;let C=p.getGui(),v=Array.prototype.slice.call(C.querySelectorAll(".ag-side-button")),b=v.findIndex(E=>E.contains(d)),R=null;switch(l.key){case g.KeyCode.LEFT:case g.KeyCode.UP:R=Math.max(0,b-1);break;case g.KeyCode.RIGHT:case g.KeyCode.DOWN:R=Math.min(b+1,v.length-1);break}if(R===null)return;let x=v[R].querySelector("button");x&&(x.focus(),l.preventDefault())}onToolPanelButtonClicked(l){let d=l.toolPanelId;this.openedItem()===d?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(d,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtons.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef({sideBarDef:l,sideBarState:d,existingToolPanelWrappers:p}){if(this.setDisplayed(!1),this.sideBar=l,l&&l.toolPanels){let C=l.toolPanels;if(this.createToolPanelsAndSideButtons(C,d,p),!this.toolPanelWrappers.length)return;let v=d?d.visible:!l.hiddenByDefault;if(this.setDisplayed(v),this.setSideBarPosition(d?d.position:l.position),v)if(d){let{openToolPanel:b}=d;b&&this.openToolPanel(b,"sideBarInitializing")}else this.openToolPanel(l.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(l){l||(l="right"),this.position=l;let d=l==="left",p=d?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",d),this.addOrRemoveCssClass("ag-side-bar-right",!d),this.toolPanelWrappers.forEach(C=>{C.setResizerSizerSide(p)}),this.dispatchSideBarUpdated(),this}setDisplayed(l,d){super.setDisplayed(l,d),this.dispatchSideBarUpdated()}getState(){let l={};return this.toolPanelWrappers.forEach(d=>{l[d.getToolPanelId()]=d.getToolPanelInstance()?.getState?.()}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:l}}createToolPanelsAndSideButtons(l,d,p){for(let C of l)this.createToolPanelAndSideButton(C,d?.toolPanels?.[C.id],p?.[C.id])}validateDef(l){return l.id==null?((0,g._warn)(212),!1):l.toolPanel==="agFiltersToolPanel"&&this.beans.filterManager?.isAdvFilterEnabled()?((0,g._warn)(213),!1):!0}createToolPanelAndSideButton(l,d,p){if(!this.validateDef(l))return;let C;if(p)C=p;else if(C=this.createBean(new r.ToolPanelWrapper),!C.setToolPanelDef(l,(0,g._addGridCommonParams)(this.gos,{initialState:d,onStateUpdated:()=>this.dispatchSideBarUpdated()})))return;C.setDisplayed(!1);let v=C.getGui();this.appendChild(v),this.toolPanelWrappers.push(C);let b=this.sideBarButtons.addButtonComp(l);(0,g._setAriaControls)(b.eToggleButton,v)}refresh(){this.toolPanelWrappers.forEach(l=>l.refresh())}openToolPanel(l,d="api"){let p=this.openedItem();if(p===l)return;this.toolPanelWrappers.forEach(b=>{let R=l===b.getToolPanelId();b.setDisplayed(R)});let C=this.openedItem();p!==C&&(this.sideBarButtons.setActiveButton(l),this.raiseToolPanelVisibleEvent(l,p??void 0,d))}getToolPanelInstance(l){let d=this.toolPanelWrappers.filter(p=>p.getToolPanelId()===l)[0];if(!d){(0,g._warn)(214,{key:l});return}return d.getToolPanelInstance()}raiseToolPanelVisibleEvent(l,d,p){let C=!!l&&!!d,v=this.eventSvc;d&&v.dispatchEvent({type:"toolPanelVisibleChanged",source:p,key:d,visible:!1,switchingToolPanel:C}),l&&v.dispatchEvent({type:"toolPanelVisibleChanged",source:p,key:l,visible:!0,switchingToolPanel:C})}close(l="api"){this.openToolPanel(void 0,l)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let l=null;return this.toolPanelWrappers.forEach(d=>{d.isDisplayed()&&(l=d.getToolPanelId())}),l}onSideBarUpdated(){let l=(0,c.parseSideBarDef)(this.gos.get("sideBar")),d={};l&&this.sideBar&&l.toolPanels?.forEach(p=>{let{id:C}=p;if(!C)return;let v=this.sideBar.toolPanels?.find(E=>E.id===C);if(!v||p.toolPanel!==v.toolPanel)return;let b=this.toolPanelWrappers.find(E=>E.getToolPanelId()===C);if(!b)return;let R=(0,g._addGridCommonParams)(this.gos,{...p.toolPanelParams??{},onStateUpdated:()=>this.dispatchSideBarUpdated()});b.getToolPanelInstance()?.refresh(R)===!0&&(this.toolPanelWrappers=this.toolPanelWrappers.filter(E=>E!==b),(0,g._removeFromParent)(b.getGui()),d[C]=b)}),this.clearDownUi(),this.setSideBarDef({sideBarDef:l,existingToolPanelWrappers:d})}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:"sideBarUpdated"})}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(l=>{(0,g._removeFromParent)(l.getGui()),this.destroyBean(l)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}}h.AgSideBar=o,h.AgSideBarSelector={selector:"AG-SIDE-BAR",component:o}},7861:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgSideBarButtonsSelector=h.AgSideBarButtons=void 0;let g=S(6624),M=S(3945),P={tag:"div",cls:"ag-side-buttons",role:"tablist"};class f extends g.Component{constructor(){super(P),this.buttonComps=[]}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(r){if(!(r.key!==g.KeyCode.TAB||!r.shiftKey)){if((0,g._focusNextGridCoreContainer)(this.beans,!0)){r.preventDefault();return}(0,g._stopPropagationForAgGrid)(r)}}setActiveButton(r){this.buttonComps.forEach(i=>{i.setSelected(r===i.getToolPanelId())})}addButtonComp(r){let i=this.createBean(new M.SideBarButtonComp(r));return this.buttonComps.push(i),this.appendChild(i),i.addEventListener("toggleButtonClicked",()=>{this.dispatchLocalEvent({type:"sideBarButtonClicked",toolPanelId:r.id})}),i}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),(0,g._clearElement)(this.getGui()),super.destroy()}destroy(){this.clearButtons(),super.destroy()}}h.AgSideBarButtons=f,h.AgSideBarButtonsSelector={selector:"AG-SIDE-BAR-BUTTONS",component:f}},9705:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.mergeLeafPathTrees=h.isColGroupDef=void 0;let g=S(6624);function M(r){return!!r&&typeof r.children<"u"}h.isColGroupDef=M;function P(r){return M(r)?r.groupId:r.colId}function f(r,i,o){let a=(p,C)=>{let b=p.children.map(P).includes(P(C)),R=(0,g._last)(p.children),x=R&&P(R)!==P(C);return b&&x};if(!M(r))return!0;let l=r,d=o;if(a(l,d)||l.groupId===i&&!l.children.map(P).includes(P(d)))return l.children.push(d),!0;for(let p=l.children.length-1;p>=0&&!f(l.children[p],i,o);p--);return!1}function c(r){let i=(l,d)=>M(l)&&M(d)&&P(l)===P(d),o=(l,d)=>{if(!M(d))return l;let p=l,C=d;return C.children&&C.groupId&&f(p,C.groupId,C.children[0])||C.children.forEach(v=>o(p,v)),p},a=[];for(let l=1;l<=r.length;l++){let d=r[l-1],p=r[l];i(d,p)?r[l]=o(d,p):a.push(d)}return a}h.mergeLeafPathTrees=c},6092:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.syncLayoutWithGrid=h.toolPanelCreateColumnTree=void 0;let g=S(6624),M=S(9705);function P(r,i){let o=[],a=(d,p)=>{if((0,M.isColGroupDef)(d)){let C=d,v=typeof C.groupId<"u"?C.groupId:C.headerName,b=new g.AgProvidedColumnGroup(C,v,!1,p),R=[];return C.children.forEach(x=>{let E=a(x,p+1);E&&R.push(E)}),b.setChildren(R),b}else{let C=d,v=C.colId?C.colId:C.field,b=r.getColDefCol(v);return b||o.push(C),b}},l=[];return i.forEach(d=>{let p=a(d,0);p&&l.push(p)}),o.length>0&&(0,g._warn)(217,{invalidColIds:o}),l}h.toolPanelCreateColumnTree=P;function f(r,i){let o=c(r),a=(0,M.mergeLeafPathTrees)(o);i(a)}h.syncLayoutWithGrid=f;function c(r){let i=(l,d)=>{let p;if((0,g.isProvidedColumnGroup)(l))if(l.isPadding())p=d;else{let v=Object.assign({},l.getColGroupDef());v.groupId=l.getGroupId(),v.children=[d],p=v}else{let v=Object.assign({},l.getColDef());v.colId=l.getColId(),p=v}let C=l.getOriginalParent();return C?i(C,p):p};return r.getCols().filter(l=>{let d=l.getColDef();return l.isPrimary()&&!d.showRowGroup}).map(l=>i(l,l.getColDef()))}},2024:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getSideBar=h.getToolPanelInstance=h.isToolPanelShowing=h.refreshToolPanel=h.getOpenedToolPanel=h.closeToolPanel=h.openToolPanel=h.setSideBarPosition=h.setSideBarVisible=h.isSideBarVisible=void 0;let g=S(6624);function M(p){return p.sideBar?.comp.isDisplayed()??!1}h.isSideBarVisible=M;function P(p,C){p.sideBar?.comp.setDisplayed(C)}h.setSideBarVisible=P;function f(p,C){p.sideBar?.comp.setSideBarPosition(C)}h.setSideBarPosition=f;function c(p,C){p.sideBar?.comp.openToolPanel(C,"api")}h.openToolPanel=c;function r(p){p.sideBar?.comp.close("api")}h.closeToolPanel=r;function i(p){return p.sideBar?.comp.openedItem()??null}h.getOpenedToolPanel=i;function o(p){p.sideBar?.comp.refresh()}h.refreshToolPanel=o;function a(p){return p.sideBar?.comp.isToolPanelShowing()??!1}h.isToolPanelShowing=a;function l(p,C){let v=p.sideBar?.comp.getToolPanelInstance(C);return(0,g._unwrapUserComp)(v)}h.getToolPanelInstance=l;function d(p){return p.sideBar?.comp.getDef()}h.getSideBar=d},3945:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SideBarButtonComp=void 0;let g=S(6624),M={tag:"div",cls:"ag-side-button",role:"presentation",children:[{tag:"button",ref:"eToggleButton",cls:"ag-button ag-side-button-button",role:"tab",attrs:{type:"button",tabindex:"-1","aria-expanded":"false"},children:[{tag:"div",ref:"eIconWrapper",cls:"ag-side-button-icon-wrapper",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eLabel",cls:"ag-side-button-label"}]}]};class P extends g.Component{constructor(c){super(),this.toolPanelDef=c,this.eToggleButton=g.RefPlaceholder,this.eIconWrapper=g.RefPlaceholder,this.eLabel=g.RefPlaceholder}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){this.setTemplate(M,[]),this.setLabel(),this.setIcon(),this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)}),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}setLabel(){let c=this.getLocaleTextFunc(),r=this.toolPanelDef,i=c(r.labelKey,r.labelDefault);this.eLabel.innerText=i}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",(0,g._createIconNoSpan)(this.toolPanelDef.iconKey,this.beans))}onButtonPressed(){this.dispatchLocalEvent({type:"toggleButtonClicked"})}setSelected(c){this.addOrRemoveCssClass("ag-selected",c),(0,g._setAriaExpanded)(this.eToggleButton,c)}}h.SideBarButtonComp=P},8124:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.parseSideBarDef=void 0;let g=S(6624),M={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columnsToolPanel",toolPanel:"agColumnsToolPanel"},P={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agFiltersToolPanel"},f={columns:M,filters:P};function c(i){if(!i)return;if(i===!0)return{toolPanels:[M,P],defaultToolPanel:"columns"};if(typeof i=="string")return c([i]);if(Array.isArray(i)){let a=[];return i.forEach(l=>{let d=f[l];if(!d){(0,g._warn)(215,{key:l,defaultByKey:f});return}a.push(d)}),a.length===0?void 0:{toolPanels:a,defaultToolPanel:a[0].id}}return{toolPanels:r(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}}h.parseSideBarDef=c;function r(i){let o=[];return i&&i.forEach(a=>{let l=null;if(typeof a=="string"){let d=f[a];if(!d){(0,g._warn)(215,{key:a,defaultByKey:f});return}l=d}else l=a;o.push(l)}),o}},6358:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SideBarModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(2024),c=S(6191);h.SideBarModule={moduleName:"SideBar",version:P.VERSION,beans:[c.SideBarService],apiFunctions:{isSideBarVisible:f.isSideBarVisible,setSideBarVisible:f.setSideBarVisible,setSideBarPosition:f.setSideBarPosition,openToolPanel:f.openToolPanel,closeToolPanel:f.closeToolPanel,getOpenedToolPanel:f.getOpenedToolPanel,refreshToolPanel:f.refreshToolPanel,isToolPanelShowing:f.isToolPanelShowing,getToolPanelInstance:f.getToolPanelInstance,getSideBar:f.getSideBar},dependsOn:[M.EnterpriseCoreModule,g._HorizontalResizeModule]}},6191:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SideBarService=void 0;let g=S(6624),M=S(3814);class P extends g.BeanStub{constructor(){super(...arguments),this.beanName="sideBar"}getSelector(){return M.AgSideBarSelector}}h.SideBarService=P},6443:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ToolPanelWrapper=void 0;let g=S(6624),M=S(9172);function P(i,o,a){return i.getCompDetails(o,f,void 0,a,!0)}let f={name:"toolPanel",optionalMethods:["refresh","getState"]},c={tag:"div",cls:"ag-tool-panel-wrapper",role:"tabpanel"};class r extends g.Component{constructor(){super(c)}postConstruct(){let o=this.getGui(),a=this.resizeBar=this.createManagedBean(new M.AgHorizontalResize);o.setAttribute("id",`ag-${this.getCompId()}`),a.elementToResize=o,this.appendChild(a)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(o,a){let{id:l,minWidth:d,maxWidth:p,width:C}=o;this.toolPanelId=l,this.width=C;let v=P(this.beans.userCompFactory,o,a);if(v==null)return!1;let b=v.newAgStackInstance();this.params=v.params,b.then(this.setToolPanelComponent.bind(this));let R=this.resizeBar;return d!=null&&(R.minWidth=d),p!=null&&(R.maxWidth=p),!0}setToolPanelComponent(o){this.toolPanelCompInstance=o,this.appendChild(o.getGui()),this.addDestroyFunc(()=>{this.destroyBean(o)});let a=this.width;a&&(this.getGui().style.width=`${a}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(o){let a=this.gos.get("enableRtl"),l=o==="left",d=a?l:!l;this.resizeBar.inverted=d}refresh(){this.toolPanelCompInstance?.refresh(this.params)}}h.ToolPanelWrapper=r},4087:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sparklineCSS=void 0,h.sparklineCSS=".ag-sparkline-wrapper{height:100%;line-height:normal;position:absolute;top:0;width:100%}"},2437:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SparklineCellRenderer=void 0;let g=S(6624),M=S(6464);function P(r){return{content:`${r.xValue} ${r.yValue}`}}function f(r){return{content:`${r.yValue}`}}class c extends g.Component{constructor(){super({tag:"div",cls:"ag-sparkline-wrapper",children:[{tag:"span",ref:"eSparkline"}]}),this.eSparkline=g.RefPlaceholder,this.cachedWidth=0,this.cachedHeight=0,this.dataRef=[],this.processedData=[]}postConstruct(){this.env=this.beans.environment,this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],i=>this.refresh(this.params))}createListener(i=!0){return()=>this.updateSize(this.params?.column?.getActualWidth()??0,(this.params?.node.rowHeight??0)-2,i)}initGridObserver(){let i=this.createListener(),o=this.createListener(!1),a=this.params?.column,l=this.params?.node;a.__addEventListener("columnStateUpdated",i),l.__addEventListener("heightChanged",i),this.addDestroyFunc(()=>{a.__removeEventListener("columnStateUpdated",i),l.__removeEventListener("heightChanged",i)}),o()}updateSize(i,o,a=!0){if(i-=this.env.getCellPadding(),i!==this.cachedWidth||o!==this.cachedHeight){this.cachedWidth=i,this.cachedHeight=o;let l=this.refresh.bind(this);a?(0,g._batchCall)(()=>this.isAlive()&&l()):l()}}init(i){this.params=i,this.initGridObserver()}refresh(i=this.params){this.params=i;let o=this.cachedWidth,a=this.cachedHeight;if(!this.sparklineInstance&&i&&o>0&&a>0){if(this.sparklineOptions={container:this.eSparkline,width:o,height:a,...i.sparklineOptions,data:this.processData(i.value)},this.sparklineOptions.tooltip?.renderer)this.wrapTooltipRenderer();else{let d=this.getDefaultTooltipRenderer();this.sparklineOptions.tooltip={...this.sparklineOptions.tooltip,renderer:d}}let l=this.sparklineOptions?.theme;return this.sparklineOptions.type==="bar"&&this.sparklineOptions.itemStyler?this.wrapItemStyler(this.sparklineOptions):l?.overrides?.bar?.series?.itemStyler&&this.wrapItemStyler(l.overrides.bar.series),this.sparklineInstance=i.createSparkline(this.sparklineOptions),!0}else if(this.sparklineInstance)return this.sparklineInstance.update({...this.sparklineOptions,data:this.processData(i?.value),width:o,height:a}),!0;return!1}processData(i=[]){return i.length===0?i:(this.dataRef!==i&&(this.dataRef=i,this.processedData=i.filter(o=>o!=null)),this.processedData)}createContext(){return{data:this.params?.data,cellData:this.params?.value}}getDefaultTooltipRenderer(i){let o=i?.title,a=this.sparklineOptions.xKey,l=Array.isArray(this.sparklineOptions.data?.[0]);return!o&&(a||l)?P:f}wrapItemStyler(i){i.itemStyler=(0,M.wrapFn)(i.itemStyler,(o,a)=>o({...a,context:this.createContext()}))}wrapTooltipRenderer(){this.sparklineOptions.tooltip={...this.sparklineOptions.tooltip,renderer:(0,M.wrapFn)(this.sparklineOptions.tooltip.renderer,(i,o)=>{let a=i({...o,context:this.createContext()});return typeof a=="string"?a:{...this.getDefaultTooltipRenderer(a)(o),...a}})}}destroy(){super.destroy(),this.sparklineInstance?.destroy()}}h.SparklineCellRenderer=c},2949:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SparklinesModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(4087),c=S(2437),r="Sparklines";h.SparklinesModule={moduleName:r,version:P.VERSION,dependsOn:[M.EnterpriseCoreModule],validate:()=>({isValid:!1,message:(0,g._preInitErrMsg)(258)}),with:i=>(i.setup(),{moduleName:r,version:P.VERSION,dependsOn:[M.EnterpriseCoreModule],css:[f.sparklineCSS],userComponents:{agSparklineCellRenderer:{classImp:c.SparklineCellRenderer,params:{createSparkline:i.createSparkline}}},validate:()=>({isValid:!0})})}},6464:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.wrapFn=void 0;let S=Symbol("WrappedFunctionMarker"),g=(M,P)=>{if(M[S])return M;let f=(...c)=>P(M,...c);return f[S]=S,f};h.wrapFn=g},2875:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agStatusBarCSS=void 0,h.agStatusBarCSS=".ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel,:where(.ag-status-panel.ag-status-panel-aggregations .ag-status-name-value){display:inline-flex}.ag-status-name-value{color:var(--ag-status-bar-label-color);font-weight:var(--ag-status-bar-label-font-weight);margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding);white-space:nowrap}.ag-status-name-value-value{color:var(--ag-status-bar-value-color);font-weight:var(--ag-status-bar-value-font-weight)}.ag-status-bar-left{display:inline-flex}.ag-status-bar-center{display:inline-flex;text-align:center}.ag-status-bar-right{display:inline-flex}"},1866:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgStatusBarSelector=h.AgStatusBar=void 0;let g=S(6624),M=S(2875);function P(i,o,a){return i.getCompDetails(o,f,void 0,a,!0)}let f={name:"statusPanel",optionalMethods:["refresh"]},c={tag:"div",cls:"ag-status-bar",children:[{tag:"div",ref:"eStatusBarLeft",cls:"ag-status-bar-left",role:"status"},{tag:"div",ref:"eStatusBarCenter",cls:"ag-status-bar-center",role:"status"},{tag:"div",ref:"eStatusBarRight",cls:"ag-status-bar-right",role:"status"}]};class r extends g.Component{wireBeans(o){this.userCompFactory=o.userCompFactory,this.statusBarSvc=o.statusBarSvc}constructor(){super(c),this.updateQueued=!1,this.panelsPromise=g.AgPromise.resolve(),this.eStatusBarLeft=g.RefPlaceholder,this.eStatusBarCenter=g.RefPlaceholder,this.eStatusBarRight=g.RefPlaceholder,this.compDestroyFunctions={},this.registerCSS(M.agStatusBarCSS)}postConstruct(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))}processStatusPanels(o){let a=this.gos.get("statusBar")?.statusPanels;if(a){let l=a.filter(C=>C.align==="left"),d=a.filter(C=>C.align==="center"),p=a.filter(C=>!C.align||C.align==="right");this.panelsPromise=g.AgPromise.all([this.createAndRenderComponents(l,this.eStatusBarLeft,o),this.createAndRenderComponents(d,this.eStatusBarCenter,o),this.createAndRenderComponents(p,this.eStatusBarRight,o)])}else this.setDisplayed(!1)}handleStatusBarChanged(){this.updateQueued||(this.updateQueued=!0,this.panelsPromise.then(()=>{this.updateStatusBar(),this.updateQueued=!1}))}updateStatusBar(){let o=this.gos.get("statusBar")?.statusPanels,a=Array.isArray(o)&&o.length>0;this.setDisplayed(a);let l=new Map;a&&o.forEach(d=>{let p=d.key??d.statusPanel,C=this.statusBarSvc.getStatusPanel(p);if(C?.refresh){let v=(0,g._addGridCommonParams)(this.gos,{...d.statusPanelParams??{},key:p});C.refresh(v)&&(l.set(p,C),delete this.compDestroyFunctions[p],(0,g._removeFromParent)(C.getGui()))}}),this.resetStatusBar(),a&&this.processStatusPanels(l)}resetStatusBar(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarSvc.unregisterAllComponents()}destroy(){this.destroyComponents(),super.destroy()}destroyComponents(){Object.values(this.compDestroyFunctions).forEach(o=>o()),this.compDestroyFunctions={}}createAndRenderComponents(o,a,l){let d=[];return o.forEach(p=>{let C=p.key||p.statusPanel,v=l.get(C),b;if(v)b=g.AgPromise.resolve(v);else{let R=P(this.userCompFactory,p,(0,g._addGridCommonParams)(this.gos,{key:C}));if(R==null)return;b=R.newAgStackInstance()}d.push({key:C,promise:b})}),g.AgPromise.all(d.map(p=>p.promise)).then(()=>{d.forEach(p=>{p.promise.then(C=>{let v=()=>{this.destroyBean(C)};this.isAlive()?(this.statusBarSvc.registerStatusPanel(p.key,C),a.appendChild(C.getGui()),this.compDestroyFunctions[p.key]=v):v()})})})}}h.AgStatusBar=r,h.AgStatusBarSelector={selector:"AG-STATUS-BAR",component:r}},3910:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgNameValueSelector=h.AgNameValue=void 0;let g=S(6624);class M extends g.Component{constructor(){super(`<div class="ag-status-name-value">
            <span data-ref="eLabel"></span>:&nbsp;
            <span data-ref="eValue" class="ag-status-name-value-value"></span>
        </div>`),this.eLabel=g.RefPlaceholder,this.eValue=g.RefPlaceholder}setLabel(f,c){this.setDisplayed(!1);let r=this.getLocaleTextFunc();this.eLabel.innerHTML=r(f,c)}setValue(f,c){this.eValue.textContent=this.valueFormatter((0,g._addGridCommonParams)(this.gos,{value:f,totalRows:c,key:this.key}))}}h.AgNameValue=M,h.AgNameValueSelector={selector:"AG-NAME-VALUE",component:M}},8999:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AggregationComp=void 0;let g=S(6624),M=S(3910),P=S(5675);function f(i,o){return typeof i!="number"?"":(0,g._formatNumberCommas)(Math.round(i*100)/100,o)}let c={tag:"div",cls:"ag-status-panel ag-status-panel-aggregations",children:[{tag:"ag-name-value",ref:"avgAggregationComp"},{tag:"ag-name-value",ref:"countAggregationComp"},{tag:"ag-name-value",ref:"minAggregationComp"},{tag:"ag-name-value",ref:"maxAggregationComp"},{tag:"ag-name-value",ref:"sumAggregationComp"}]};class r extends g.Component{constructor(){super(c,[M.AgNameValueSelector]),this.sumAggregationComp=g.RefPlaceholder,this.countAggregationComp=g.RefPlaceholder,this.minAggregationComp=g.RefPlaceholder,this.maxAggregationComp=g.RefPlaceholder,this.avgAggregationComp=g.RefPlaceholder}postConstruct(){if(!(0,g._isClientSideRowModel)(this.gos)&&!(0,g._isServerSideRowModel)(this.gos)){(0,g._warn)(221);return}this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedEventListeners({cellSelectionChanged:this.onCellSelectionChanged.bind(this),modelUpdated:this.onCellSelectionChanged.bind(this)})}init(o){this.refresh(o)}refresh(o){this.params=o;let a=o.valueFormatter??(({value:d})=>f(d,this.getLocaleTextFunc.bind(this))),l=["avg","count","min","max","sum"];for(let d of l){let p=this.getAllowedAggregationValueComponent(d);p&&(p.key=d,p.valueFormatter=a.bind(this))}return this.onCellSelectionChanged(),!0}setAggregationComponentValue(o,a,l){let d=this.getAllowedAggregationValueComponent(o),p=(0,P._getTotalRowCount)(this.beans.rowModel);(0,g._exists)(d)&&d?(d.setValue(a,p),d.setDisplayed(l)):this.getAggregationValueComponent(o)?.setDisplayed(!1)}getAllowedAggregationValueComponent(o){let{aggFuncs:a}=this.params;return!a||a.includes(o)?this.getAggregationValueComponent(o):null}getAggregationValueComponent(o){let a=`${o}AggregationComp`;return this[a]}onCellSelectionChanged(){let o=this.beans,{rangeSvc:a,valueSvc:l}=o,d=a?.getCellRanges(),p=0,C=0,v=0,b=null,R=null,x={};if(d?.length&&a)for(let D=0;D<d.length;D++){let k=d[D],O=a.getRangeStartRow(k),N=a.getRangeEndRow(k);for(;!((0,g._missing)(O)||!O||(0,g._isRowBefore)(N,O)||!O||!k.columns);)k.columns.forEach(j=>{if(O===null)return;let Q=(0,g._createCellId)({rowPinned:O.rowPinned,column:j,rowIndex:O.rowIndex});if(x[Q])return;x[Q]=!0;let Y=(0,g._getRowNode)(o,O);if((0,g._missing)(Y))return;let $=l.getValue(j,Y);(0,g._missing)($)||$===""||(C++,!(typeof $=="object"&&"value"in $&&($=$.value,$===""))&&(typeof $=="string"&&($=Number($)),typeof $=="number"&&!isNaN($)&&(p+=$,(R===null||$>R)&&(R=$),(b===null||$<b)&&(b=$),v++)))}),O=(0,g._getRowBelow)(o,O)}let E=C>1,T=v>1;this.setAggregationComponentValue("count",C,E),this.setAggregationComponentValue("sum",p,T),this.setAggregationComponentValue("min",b,T),this.setAggregationComponentValue("max",R,T),this.setAggregationComponentValue("avg",p/v,T)}}h.AggregationComp=r},1741:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FilteredRowsComp=void 0;let g=S(6624),M=S(3910),P=S(5675);class f extends M.AgNameValue{postConstruct(){if(this.setLabel("filteredRows","Filtered"),!(0,g._isClientSideRowModel)(this.gos)){(0,g._warn)(222);return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);let r=this.onDataChanged.bind(this);this.addManagedEventListeners({modelUpdated:r})}onDataChanged(){let{rowModel:r}=this.beans,i=(0,P._getTotalRowCount)(r),o=(0,P._getFilteredRowCount)(r);this.setValue(o,i),this.setDisplayed(i!==o)}init(r){this.refresh(r),this.onDataChanged()}updateValueFormatter(r){this.valueFormatter=r??(({value:i})=>(0,g._formatNumberCommas)(i,this.getLocaleTextFunc.bind(this)))}refresh(r){let{key:i,valueFormatter:o}=r;return this.key=i,this.updateValueFormatter(o),!0}}h.FilteredRowsComp=f},8123:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SelectedRowsComp=void 0;let g=S(6624),M=S(3910),P=S(5675);class f extends M.AgNameValue{postConstruct(){let r=this.gos;if(!(0,g._isClientSideRowModel)(r)&&!(0,g._isServerSideRowModel)(r)){(0,g._warn)(223);return}this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");let i=this.onRowSelectionChanged.bind(this);this.addManagedEventListeners({modelUpdated:i,selectionChanged:i})}onRowSelectionChanged(){let{selectionSvc:r,rowModel:i}=this.beans,o=r?.getSelectionCount()??0,a=(0,P._getTotalRowCount)(i);if(this.setValue(o,a),o<0){this.setDisplayed(!0);return}this.setDisplayed(o>0)}init(r){this.refresh(r),this.onRowSelectionChanged()}updateValueFormatter(r){this.valueFormatter=r??(({value:i})=>i==null||i>=0?(0,g._formatNumberCommas)(i,this.getLocaleTextFunc.bind(this)):this.getLocaleTextFunc()("statusBarLastRowUnknown","?"))}refresh(r){let{key:i,valueFormatter:o}=r;return this.key=i,this.updateValueFormatter(o),!0}}h.SelectedRowsComp=f},1646:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TotalAndFilteredRowsComp=void 0;let g=S(6624),M=S(3910),P=S(5675);class f extends M.AgNameValue{postConstruct(){if(!(0,g._isClientSideRowModel)(this.gos)){(0,g._warn)(224);return}this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})}onDataChanged(){let{rowModel:r}=this.beans,i=(0,P._getFilteredRowCount)(r),o=(0,P._getTotalRowCount)(r);this.setValue(i,o)}init(r){this.refresh(r),this.onDataChanged()}updateValueFormatter(r){this.valueFormatter=r??(({value:i,totalRows:o})=>{let a=this.getLocaleTextFunc.bind(this),l=(0,g._formatNumberCommas)(i,a),d=(0,g._formatNumberCommas)(o??i,a);if(i===o)return l;let p=a();return`${l} ${p("of","of")} ${d}`})}refresh(r){let{key:i,valueFormatter:o}=r;return this.key=i,this.updateValueFormatter(o),!0}}h.TotalAndFilteredRowsComp=f},2042:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TotalRowsComp=void 0;let g=S(6624),M=S(3910),P=S(5675);class f extends M.AgNameValue{postConstruct(){if(this.setLabel("totalRows","Total Rows"),!(0,g._isClientSideRowModel)(this.gos)){(0,g._warn)(225);return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedEventListeners({modelUpdated:this.onDataChanged.bind(this)})}onDataChanged(){let r=(0,P._getTotalRowCount)(this.beans.rowModel);this.setValue(r,r)}init(r){this.refresh(r),this.onDataChanged()}updateValueFormatter(r){this.valueFormatter=r??(({value:i})=>(0,g._formatNumberCommas)(i,this.getLocaleTextFunc.bind(this)))}refresh(r){let{key:i,valueFormatter:o}=r;return this.key=i,this.updateValueFormatter(o),!0}}h.TotalRowsComp=f},5675:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._getTotalRowCount=h._getFilteredRowCount=void 0;let S=M=>{let P=0;return M.forEachNodeAfterFilter(f=>{f.data&&P++}),P};h._getFilteredRowCount=S;let g=M=>{let P=0;return M.forEachNode(f=>{f.data&&P++}),P};h._getTotalRowCount=g},9516:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getStatusPanel=void 0;let g=S(6624);function M(P,f){let c=P.statusBarSvc?.getStatusPanel(f);return(0,g._unwrapUserComp)(c)}h.getStatusPanel=M},8450:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StatusBarModule=void 0;let g=S(6624),M=S(9206),P=S(7205),f=S(1866),c=S(8999),r=S(1741),i=S(8123),o=S(1646),a=S(2042),l=S(9516),d=S(7947);h.StatusBarModule={moduleName:"StatusBar",version:P.VERSION,beans:[d.StatusBarService],userComponents:{agAggregationComponent:c.AggregationComp,agTotalRowCountComponent:a.TotalRowsComp,agFilteredRowCountComponent:r.FilteredRowsComp,agTotalAndFilteredRowCountComponent:o.TotalAndFilteredRowsComp,agSelectedRowCountComponent:i.SelectedRowsComp},selectors:[f.AgStatusBarSelector],apiFunctions:{getStatusPanel:l.getStatusPanel},dependsOn:[M.EnterpriseCoreModule,g._KeyboardNavigationModule]}},7947:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.StatusBarService=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(),this.beanName="statusBarSvc",this.comps=new Map}registerStatusPanel(f,c){this.comps.set(f,c)}unregisterStatusPanel(f){this.comps.delete(f)}unregisterAllComponents(){this.comps.clear()}getStatusPanel(f){return this.comps.get(f)}destroy(){this.unregisterAllComponents(),super.destroy()}}h.StatusBarService=M},987:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AbstractClientSideTreeNodeManager=void 0;let g=S(6624),M=S(8105),P=S(5012),f=S(2546),c=(i,o,a)=>{if(o!==a&&o!==null&&o.group&&(0,f.isTreeRowExpandedInitialized)(o)&&!i.isGroupOpenByDefault)return o.expanded;let l=i.isGroupOpenByDefault;return l?l({rowNode:a,field:a.field,key:a.key,level:a.level,rowGroupColumn:a.rowGroupColumn})==!0:i.expandByDefault===-1||a.level<i.expandByDefault};class r extends g.AbstractClientSideNodeManager{constructor(){super(...arguments),this.oldGroupDisplayColIds="",this.rowsPendingDestruction=null,this.treeCommitPending=!0,this.treeRoot=null}activate(o){super.activate(o),this.treeSetRootNode(o),this.treeCommitPending=!0}treeSetRootNode(o){let a=this.treeRoot;a||(a=new P.TreeNode(null,""),a.childrenChanged=!0,this.treeRoot=a),a.row=o,o.treeNode=a}destroy(){super.destroy(),this.treeRoot=null,this.rowsPendingDestruction=null,this.oldGroupDisplayColIds=""}deactivate(){let{treeRoot:o,rootNode:a}=this;o&&(a&&o.removeRow(a),this.treeDestroy(o),o.destroy()),a&&(0,f.clearTreeRowFlags)(a),this.commitDestroyedRows(),super.deactivate(),this.treeRoot=null,this.oldGroupDisplayColIds=""}treeSetRow(o,a,l){let d=o.row;if(o===this.treeRoot)return!1;let p=!1;if(d!==a){let C=a.treeNode;C!==null&&C!==o&&(C.removeRow(a),C.invalidate()),d===null?(o.setRow(a),p=!0):d.data?o.addDuplicateRow(a)&&(p=!0):(o.setRow(a),this.destroyRow(d,!0),p=!0)}return!l&&!(0,f.isTreeRowUpdated)(a)&&((0,f.setTreeRowUpdated)(a),p=!0),p&&o.invalidate(),this.rowsPendingDestruction?.delete(a),p}treeRemove(o,a){if(o===this.treeRoot)return;let l=!1;if(o.removeRow(a)){let d=o.parent;d&&(d.childrenChanged=!0),this.destroyRow(a,!a.data),l=!0}l&&o.invalidate()}treeCommit(o){let{treeRoot:a,rootNode:l}=this;if(!a||!l)return;this.treeCommitPending=!1;let d=this.treeData,p=o?.active?o:null,C={rootNode:l,activeChangedPath:p,treeData:d,expandByDefault:this.gos.get("groupDefaultExpanded"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault")};this.treeCommitChildren(C,a,!1,0);let v=a.row;v&&(d&&(v.leafGroup=!1),a.childrenChanged&&a.updateChildrenAfterGroup(d,!0)&&(0,f.markTreeRowPathChanged)(v),(d||!p)&&(v.childrenAfterGroup=a.childrenAfterGroup),p&&(0,f.isTreeRowPathChanged)(v)&&p.addParentNode(v),(0,f.markTreeRowCommitted)(v),v.updateHasChildren()),this.commitDestroyedRows(),d&&this.beans.selectionSvc?.updateSelectableAfterGrouping(o)}treeCommitChildren(o,a,l,d){for(;;){let p=a.dequeueInvalidated();if(p===null)break;p.parent===a&&this.treeCommitChild(o,p,l||!(a.row?.expanded??!0),d)}a.childrenChanged||(a.childrenChanged=(o.treeData?a.size:0)!==a.row.childrenAfterGroup?.length)}treeCommitChild(o,a,l,d){if(a.isEmptyFillerNode()){this.treeClear(a);return}if(this.treeCommitPreOrder(o,a,d),this.treeCommitChildren(o,a,l,d+1),a.isEmptyFillerNode()){this.treeClear(a);return}this.treeCommitPostOrder(o,a,l)}treeCommitPreOrder(o,a,l){let d=a.row;if(d===null?(d=this.createFillerRow(a,l),a.setRow(d)):(d=a.sortFirstDuplicateRow(),d.allChildrenCount===void 0&&(d.allChildrenCount=null)),o.treeData){if(d.level=l,d.parent=a.parent.row,a.oldRow!==d)for(let C of a.enumChildren()){let v=C.row;v!==null&&(v.parent=d)}let p=a.key;d.key!==p?(d.key=p,(0,f.setTreeRowKeyChanged)(d),this.setGroupData(d,p)):d.groupData||this.setGroupData(d,p)}else o.activeChangedPath||(d.level=0,d.parent=o.rootNode,d.key=a.key)}treeCommitPostOrder(o,a,l){let d=a.parent,p=a.row,C=a.oldRow,v=p.group;if(a.childrenChanged&&a.updateChildrenAfterGroup(o.treeData,!1)&&(0,f.markTreeRowPathChanged)(p),a.leafChildrenChanged&&a.updateAllLeafChildren(),o.treeData||!o.activeChangedPath){p.childrenAfterGroup=a.childrenAfterGroup,p.allLeafChildren=a.allLeafChildren;let x=a.childrenAfterGroup.length>0,E=x||!p.data;v!==E?((0,f.markTreeRowPathChanged)(p),(0,M.setRowNodeGroup)(p,this.beans,E),!E&&!p.expanded&&(0,f.setTreeRowExpandedInitialized)(p,!1)):p.hasChildren()!==x&&((0,f.markTreeRowPathChanged)(p),p.updateHasChildren()),E&&!(0,f.isTreeRowExpandedInitialized)(p)&&(p.expanded=c(o,C,p),(0,f.setTreeRowExpandedInitialized)(p,!0)),(0,f.isTreeRowUpdated)(p)&&((0,f.markTreeRowPathChanged)(d.row),(0,f.isTreeRowKeyChanged)(p)&&p.setData(p.data))}C!==p&&(a.oldRow=p,C!==null&&(v||a.size!==0)&&(0,f.markTreeRowPathChanged)(p),d.childrenChanged=!0,(0,f.markTreeRowPathChanged)(d.row)),(0,f.isTreeRowPathChanged)(p)&&(this.treeData?o.activeChangedPath?.addParentNode(p):(0,f.markTreeRowPathChanged)(o.rootNode)),(0,f.markTreeRowCommitted)(p),a.duplicateRows?.size&&!a.duplicateRowsWarned&&(a.duplicateRowsWarned=!0,(0,g._warn)(186,{rowId:p.id,rowData:p.data,duplicateRowsData:Array.from(a.duplicateRows).map(x=>x.data)})),l&&p.rowIndex!==null&&p.clearRowTopAndRowIndex();let b=a.getNewSourceIdx(),R=a.sourceIdx;R!==b&&(a.sourceIdx=b,R!==-1&&(d.childrenChanged=!0))}createFillerRow(o,a){let l=new g.RowNode(this.beans);l.key=o.key,l.group=!0,l.field=null,l.leafGroup=!1,l.rowGroupIndex=null,l.allChildrenCount=null;let d=a+"-"+o.key,p=o.parent;for(;p!==null;){let C=p.parent;if(C===null)break;--a,d=`${a}-${p.key}-${d}`,p=C}return l.id=g._ROW_ID_PREFIX_ROW_GROUP+d,l}setGroupData(o,a){o.groupValue=a;let l={};o.groupData=l;let d=this.beans.showRowGroupCols?.getShowRowGroupCols();if(d)for(let p of d)l[p.getColId()]=a}treeClear(o){let{parent:a,oldRow:l}=o;if(a!==null&&l!==null&&(a.childrenChanged=!0,a.row!==null&&(0,f.markTreeRowPathChanged)(a.row)),o!==this.treeRoot){let d=o.row;for(;d!==null&&o.removeRow(d);)this.destroyRow(d,!d.data),d=o.row}for(let d of o.enumChildren())this.treeClear(d);o.destroy()}treeDestroy(o){let{row:a,duplicateRows:l}=o;if(a&&(o!==this.treeRoot&&!a.data?this.destroyRow(a,!0):(0,f.clearTreeRowFlags)(a)),l)for(let d of l)o!==this.treeRoot&&!d.data?this.destroyRow(d,!0):(0,f.clearTreeRowFlags)(d);for(let d of o.enumChildren())this.treeDestroy(d);o.destroy()}destroyRow(o,a){if(o.isSelected())a=!1;else if(!(0,f.isTreeRowCommitted)(o)){(0,f.clearTreeRowFlags)(o);return}if(!a){(this.rowsPendingDestruction??(this.rowsPendingDestruction=new Set)).add(o);return}(0,f.clearTreeRowFlags)(o),o.clearRowTopAndRowIndex(),o.groupData=null}commitDestroyedRows(){let{rowsPendingDestruction:o}=this,a=null;if(o!==null){for(let l of o)this.destroyRow(l,!0),l.isSelected()&&(a??(a=[])).push(l);this.rowsPendingDestruction=null}a&&this.deselectNodes(a)}refreshModel(o,a){if(a&&this.treeCommitPending&&this.treeCommit(o.changedPath),!!o.afterColumnsChanged)if(this.treeData){let l=this.beans.showRowGroupCols?.getShowRowGroupCols()?.map(d=>d.getId()).join("-")??"";if(this.oldGroupDisplayColIds!==l){this.oldGroupDisplayColIds=l;let d=this.rootNode?.childrenAfterGroup;if(d)for(let p=0,C=d.length??0;p<C;++p){let v=d[p],b=v.treeNode;b&&this.setGroupData(v,b.key)}}}else this.oldGroupDisplayColIds=""}}h.AbstractClientSideTreeNodeManager=r},4352:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClientSideChildrenTreeNodeManager=void 0;let g=S(6624),M=S(987),P=S(7084);class f extends M.AbstractClientSideTreeNodeManager{constructor(){super(...arguments),this.beanName="csrmChildrenTreeNodeSvc",this.childrenGetter=null}get treeData(){return this.gos.get("treeData")}extractRowData(){let r=this.treeRoot;return r&&Array.from(r.enumChildren(),i=>i.row.data)}destroy(){super.destroy(),this.childrenGetter=null}activate(r){let i=this.childrenGetter,o=this.gos.get("treeDataChildrenField");(!i||i.path!==o)&&(this.childrenGetter=(0,P.makeFieldPathGetter)(o)),super.activate(r)}updateRowData(r,i){return(0,g._warn)(268),{changedRowNodes:i,rowNodeTransaction:{add:[],remove:[],update:[]},rowsInserted:!1}}loadNewRowData(r){let i=this.treeRoot,o=this.rootNode,a=this.childrenGetter,l=new Map,d=[];o.allLeafChildren=d,this.treeClear(i),this.treeSetRootNode(o);let p=(C,v)=>{let b=l.get(v);if(b!==void 0){(0,g._error)(2,{nodeId:b.id});return}b=this.createRowNode(v,d.length),l.set(v,b),d.push(b),C=C.upsertKey(b.id),this.treeSetRow(C,b,!0);let R=a?.(v);if(R)for(let x=0,E=R.length;x<E;++x)p(C,R[x])};for(let C=0,v=r.length;C<v;++C)p(i,r[C]);this.treeCommitPending=!0}setImmutableRowData(r,i){this.dispatchRowDataUpdateStartedEvent(i);let o=this.gos,a=this.treeRoot,l=this.rootNode,d=this.childrenGetter,p=(0,g._getRowIdCallback)(o),C=!o.get("suppressMaintainUnsortedOrder"),v=new Map,b=new g.ChangedPath(!1,l);r.changedPath=b;let R=r.changedRowNodes,x=l.allLeafChildren,E=[],T=[],D=!1,k=!1,V=C?(Y,$,se)=>{let W=$?.length,Z=!0,ee=-1;for(let re=0;re<W;++re){let oe=j(Y,$[re],se);oe>=0&&(oe<ee&&(Z=!1),ee=oe)}Z||(D=!0,Y.childrenChanged||(Y.childrenChanged=!0,Y.invalidate()))}:(Y,$,se)=>{for(let W=0,Z=$.length;W<Z;++W)j(Y,$[W],se)},j=(Y,$,se)=>{let W=v.get($);if(W!==void 0)return(0,g._warn)(2,{nodeId:W.id}),-1;let Z=p({data:$,level:se}),ee=!1;W=this.getRowNode(Z),W?W.data!==$&&(R.update(W),W.updateData($),!W.selectable&&W.isSelected()&&T.push(W)):(W=this.createRowNode($,-1),R.add(W),ee=!0),v.set($,W);let re,oe;C?(oe=Y.appendKey(W.id),re=W.sourceRowIndex,W.sourceRowIndex=E.push(W)-1):(oe=Y.upsertKey(W.id),re=-1),this.treeSetRow(oe,W,ee)&&(k=!0);let ge=d?.($);return ge&&V(oe,ge,se+1),re};if(V(a,i,0),x)for(let Y=0,$=x.length;Y<$;++Y){let se=x[Y],W=se.treeNode;if(W){let Z=se.data;Z&&!v.has(Z)&&(R.remove(se),this.treeRemove(W,se))}}if(!C){let Y=$=>{for(let se of $.enumChildren()){let W=se.row;W&&(W.sourceRowIndex=E.push(W)-1,Y(se))}};Y(a)}l.allLeafChildren=E,a.allLeafChildren=E,T.length&&this.deselectNodes(T),this.treeCommitPending=!0;let Q=l.sibling;Q&&(Q.allLeafChildren=E),(k||D)&&(r.rowDataUpdated=!0,r.rowNodesOrderChanged||(r.rowNodesOrderChanged=D))}refreshModel(r,i){let o=this.rootNode;if(o&&r.changedProps?.has("treeData")&&!r.newData){this.treeSetRootNode(o);let a=this.treeRoot,l=o.allLeafChildren;if(l)for(let d=0,p=l.length;d<p;++d){let C=l[d];C.groupData=null,C.treeNode?.invalidate()}a.childrenChanged=!0,this.treeCommitPending=!0}super.refreshModel(r,i)}}h.ClientSideChildrenTreeNodeManager=f},4292:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ClientSidePathTreeNodeManager=void 0;let g=S(6624),M=S(987);class P extends M.AbstractClientSideTreeNodeManager{constructor(){super(...arguments),this.beanName="csrmPathTreeNodeSvc"}loadNewRowData(c){let r=this.rootNode,i=this.treeRoot;this.treeClear(i),this.treeSetRootNode(r),super.loadNewRowData(c);let o=r.allLeafChildren,a=this.gos.get("getDataPath");for(let l=0,d=o.length;l<d;++l)this.addOrUpdateRow(a,o[l],!0);this.treeCommitPending=!0}get treeData(){let c=this.gos;return c.get("treeData")&&!!c.get("getDataPath")}refreshModel(c,r){let i=c.changedRowNodes;i&&this.executeTransactions(i,c.rowNodesOrderChanged),super.refreshModel(c,r)}executeTransactions(c,r){let i=this.treeRoot;if(!i)return;this.treeSetRootNode(this.rootNode);for(let l of c.removals){let d=l.treeNode;d&&this.treeRemove(d,l)}let o=this.gos.get("getDataPath");for(let l of c.updates)this.addOrUpdateRow(o,l,!1);for(let l of c.adds)this.addOrUpdateRow(o,l,!0);let a=i.row?.allLeafChildren;if(r&&a)for(let l=0,d=a.length;l<d;++l){let p=a[l].treeNode;p&&p.sourceIdx!==l&&p.invalidateOrder()}this.treeCommitPending=!0}addOrUpdateRow(c,r,i){let o=this.treeRoot;if(!this.treeData){this.treeSetRow(o.upsertKey(r.id),r,i);return}let a=c?.(r.data),l=a?.length;if(!l)(0,g._warn)(185,{data:r.data});else{let d=0,p=o;do p=p.upsertKey(a[d++]);while(d<l);this.treeSetRow(p,r,i)}}}h.ClientSidePathTreeNodeManager=P},7084:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.makeFieldPathGetter=void 0;let S=M=>{if(typeof M!="string"||!M.length)return[];let P=M.split(".");return P.includes("__proto__")?[]:P},g=M=>{let P=S(M),f=null,c=P.length-1;return c===0?f=r=>r?.[M]:c>0?f=r=>{let i=r;for(let o=0;o<=c&&i!==null&&i!==void 0;++o)if(i=i[P[o]],o<c&&typeof i!="object"&&i!==void 0)return null;return i}:f=()=>{},f.path=M,f};h.makeFieldPathGetter=g},9428:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TreeDataModule=h.SharedTreeDataModule=void 0;let g=S(9206),M=S(7032),P=S(6858),f=S(7205),c=S(4352),r=S(4292),i=S(5204);h.SharedTreeDataModule={moduleName:"SharedTreeData",version:f.VERSION,dependsOn:[g.EnterpriseCoreModule,M.SharedAggregationModule,P.GroupColumnModule,P.StickyRowModule]},h.TreeDataModule={moduleName:"TreeData",version:f.VERSION,beans:[r.ClientSidePathTreeNodeManager,c.ClientSideChildrenTreeNodeManager],dynamicBeans:{treeParentIdStrategy:i.TreeParentIdStrategy},rowModels:["clientSide"],dependsOn:[h.SharedTreeDataModule,M.AggregationModule,P.ClientSideRowModelHierarchyModule]}},5012:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TreeNode=void 0;let g=S(6624),M=(c,r)=>c.treeNode.sourceIdx-r.treeNode.sourceIdx,P=g._EmptyArray.values();class f{constructor(r,i){this.parent=r,this.key=i,this.children=null,this.invalidatedHead=null,this.invalidatedNext=void 0,this.row=null,this.oldRow=null,this.duplicateRows=null,this.childrenAfterGroup=g._EmptyArray,this.allLeafChildren=null,this.childrenChanged=!1,this.leafChildrenChanged=!1,this.sourceIdx=-1}get size(){return this.children?.size??0}isEmptyFillerNode(){return!this.row?.data&&!this.children?.size}enumChildren(){return this.children?.values()??P}upsertKey(r){typeof r!="string"&&(r=String(r));let i=this.children?.get(r);return i||(i=new f(this,r),(this.children??(this.children=new Map))?.set(i.key,i)),i}appendKey(r){let i=this.children;typeof r!="string"&&(r=String(r));let o=i?.get(r);return o?(i.delete(r),i.set(r,o)):(o=new f(this,r),(this.children??(this.children=new Map))?.set(o.key,o)),o}destroy(){let{row:r,parent:i}=this;r!==null&&r.treeNode===this&&(r.treeNode=null),i!==null&&(this.parent=null,i.children?.delete(this.key))}setRow(r){let i=this.row;return i===r?!1:(i!==null&&(i.treeNode=null),r!==null&&(r.treeNode=this),this.row=r,!0)}removeRow(r){let{row:i,duplicateRows:o}=this;if(i===r){if(this.row=null,o!==null)for(let a of o){this.row=a,o.delete(a);break}}else if(!o?.delete(r))return!1;return o?.size===0&&(this.duplicateRows=null),r.treeNode=null,!0}addDuplicateRow(r){let i=this.duplicateRows;if(i===null)i=new Set,this.duplicateRows=i;else if(i.has(r))return!1;return i.add(r),r.treeNode=this,r.childrenAfterGroup=g._EmptyArray,r.allLeafChildren=null,!0}sortFirstDuplicateRow(){let r=this.duplicateRows,i=this.row;if(!i||!r)return i;let o=i;for(let a of r)a.sourceRowIndex<o.sourceRowIndex&&(o=a);return o!==i&&(r.delete(o),r.add(i),this.row=o),o}dequeueInvalidated(){for(;;){let r=this.invalidatedHead;if(!r)return null;if(this.invalidatedHead=r.invalidatedNext??null,r.parent===this)return r.invalidatedNext=void 0,r}}invalidate(){let r=this,i=this.parent;for(;i!==null&&r.invalidatedNext===void 0;)r.invalidatedNext=i.invalidatedHead,i.invalidatedHead=r,r=i,i=r.parent}invalidateOrder(){let r=this.parent;!r||r.childrenChanged||((r.children?.size??0)>1||(this.children?.size??0)>1||!r.row?.data)&&(r.childrenChanged=!0,r.invalidate())}getNewSourceIdx(){let r=this.row;return r?.data?r.sourceRowIndex:this.childrenAfterGroup[0]?.treeNode?.sourceIdx??this.sourceIdx}updateChildrenAfterGroup(r,i){this.childrenChanged=!1;let o=r&&this.children?.size;if(!o)return this.childrenAfterGroup.length===0?!1:(this.childrenAfterGroup=i?[]:g._EmptyArray,this.leafChildrenChanged=!0,!0);let a=!1,l=this.childrenAfterGroup;l===g._EmptyArray?(l=new Array(o),this.childrenAfterGroup=l,a=!0):l.length!==o&&(l.length=o,a=!0);let d=0,p=-1,C=!1;for(let v of this.enumChildren()){let b=v.getNewSourceIdx();b<p&&(C=!0),p=b,v.sourceIdx=b;let R=v.row;l[d]!==R&&(l[d]=R,a=!0),++d}return a&&(this.leafChildrenChanged=!0),C&&this.reorderChildrenList(l),a||C}reorderChildrenList(r){let i=r.length,o=this.children;r.sort(M),o.clear();for(let a=0;a<i;++a){let l=r[a].treeNode;o.set(l.key,l)}}updateAllLeafChildren(){let{parent:r,childrenAfterGroup:i}=this;this.leafChildrenChanged=!1;let o=!1,a=i.length;if(a===0)this.allLeafChildren&&(o||(o=this.allLeafChildren.length!==0),this.allLeafChildren=null);else{let l=this.allLeafChildren??(this.allLeafChildren=[]),d=l.length,p=0;for(let C=0;C<a;++C){let v=i[C],b=v.treeNode?.allLeafChildren,R=b?.length;if(v.data&&((p>=d||l[p]!==v)&&(l[p]=v,o=!0),++p),R)for(let x=0;x<R;++x){let E=b[x];(p>=d||l[p]!==E)&&(l[p]=E,o=!0),++p}}d!==p&&(l.length=p,o=!0)}o&&r&&(r.leafChildrenChanged=!0)}}h.TreeNode=f},5204:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TreeParentIdStrategy=void 0;let g=S(6624),M=S(8105),P=S(7084),f=2147483648,c=1073741824,r=536870912,i=536870911;class o extends g.BeanStub{constructor(){super(...arguments),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}destroy(){super.destroy(),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}execute(R){let x=R.rowNode,E=!R.changedRowNodes,T=x.childrenAfterGroup;(!T||T===x.allLeafChildren)&&(E=!0,x.childrenAfterGroup=T=[]);let D=!1;(R.afterColumnsChanged||this.oldGroupDisplayColIds===null)&&(D=this.updateGroupDisplayColsIds());let k=this.parentIdGetter,O=this.gos.get("treeDataParentIdField");(!k||k.path!==O)&&(k=(0,P.makeFieldPathGetter)(O));let N=!this.gos.get("getRowId");N||v(this.beans.rowModel,R,k,E),T.length=x.treeNodeFlags&i,x.treeNodeFlags=0;let V=this.gos.get("groupDefaultExpanded"),j=this.gos.getCallback("isGroupOpenByDefault"),Q=R.changedPath?.active?R.changedPath:void 0,Y=0,$=(se,W)=>{++Y;let Z=se.treeNodeFlags,ee=se.childrenAfterGroup??(se.childrenAfterGroup=g._EmptyArray),re=Z&i,oe=(Z&c)!==0;ee.length!==re&&(ee.length=re,oe=!0);let ge=oe||(Z&f)!==0,ue=oe;se.treeNodeFlags=Z&r,se.level=W++;let X=0;for(let ie=0;ie<re;++ie){let fe=ee[ie];$(fe,W)&&(ue=!0),X+=(fe.allLeafChildren?.length??0)+1}let G=se.allLeafChildren;(G===ee||G===void 0)&&(G=se.allLeafChildren=null),(ue||(G?.length??0)!==X)&&(ue=p(se,G,X));let U=se.id;(se.key!==U||!se.groupData||D)&&(ge=!0,se.key=U,this.setGroupData(se,U));let K=se.group,q=re>0;return K!==q?(ge=!0,(0,M.setRowNodeGroup)(se,this.beans,q),!q&&!se.expanded&&(Z=se.treeNodeFlags&=~r)):se.hasChildren()!==q&&(ge=!0,se.updateHasChildren()),q&&(Z&r)===0&&(se.treeNodeFlags|=r,se.expanded=C(j,V,se)),(oe||ue||E)&&d(se,ee),ge&&Q?.addParentNode(se),ue};for(let se=0,W=T.length;se<W;++se)$(T[se],0);E&&l(x,T),Y!==x.allLeafChildren.length&&!N&&a(x,$)}updateGroupDisplayColsIds(){let R=this.beans.showRowGroupCols?.getShowRowGroupCols()?.map(x=>x.getId()).join("-")??"";return this.oldGroupDisplayColIds!==R?(this.oldGroupDisplayColIds=R,!0):!1}setGroupData(R,x){let E={};R.groupData=E;let T=this.beans.showRowGroupCols?.getShowRowGroupCols();if(T)for(let D of T)E[D.getColId()]=x}}h.TreeParentIdStrategy=o;let a=(b,R)=>{let x=new Set,E=D=>{x.add(D);for(let k of D.childrenAfterGroup)E(k)};E(b);let T=b.childrenAfterGroup;T.length=0;for(let D of b.allLeafChildren)if(x.has(D))D.parent===b&&T.push(D);else{let k=D.parent;(0,g._warn)(270,{id:D.id,parentId:k.id}),k.childrenAfterGroup=k.childrenAfterGroup.filter(O=>O!==D),k.treeNodeFlags=k.treeNodeFlags-1|c|f,D.parent=b,R(D,0),E(D),T.push(D)}},l=(b,R)=>{b.childrenAfterFilter=R,b.childrenAfterAggFilter=R,b.childrenAfterSort=R;let x=b.sibling;x&&(x.childrenAfterGroup=b.childrenAfterGroup,x.childrenAfterAggFilter=b.childrenAfterAggFilter,x.childrenAfterSort=b.childrenAfterSort)},d=(b,R)=>{b.allLeafChildren??(b.allLeafChildren=null),b.childrenAfterFilter??(b.childrenAfterFilter=R),b.childrenAfterAggFilter??(b.childrenAfterAggFilter=R),b.childrenAfterSort??(b.childrenAfterSort=R);let x=b.sibling;x&&(x.allLeafChildren=b.allLeafChildren,x.childrenAfterGroup=b.childrenAfterGroup,x.childrenAfterAggFilter=b.childrenAfterAggFilter,x.childrenAfterFilter=b.childrenAfterFilter,x.childrenAfterSort=b.childrenAfterSort)},p=(b,R,x)=>{if(x===0)return R?(b.allLeafChildren=null,!!R?.length):!1;let E=!1;R?R.length!==x&&(R.length=x,E=!0):(R=b.allLeafChildren=new Array(x),E=!0);let T=0,D=b.childrenAfterGroup;if(D)for(let k of D){E||(E=R[T]!==k),R[T++]=k;let O=k.allLeafChildren;if(O)for(let N of O)E||(E=R[T]!==N),R[T++]=N}return E},C=(b,R,x)=>b?b({rowNode:x,field:x.field,key:x.key,level:x.level,rowGroupColumn:x.rowGroupColumn})==!0:R===-1||x.level<R,v=(b,{rowNode:R,changedRowNodes:x},E,T)=>{let D=x?.updates,k=x?.adds,O=R.allLeafChildren;for(let N=0,V=O.length;N<V;++N){let j=O[N],Q=D?.has(j)||k?.has(j),Y=j.parent,$;if(Q||T){let ee=E(j.data);ee==null?$=R:($=b.getRowNode(ee),$||((0,g._warn)(271,{id:j.id,parentId:ee}),$=R))}else $=j.parent??R;let se=$.treeNodeFlags,W=se&i;se=se&~i|W+1;let Z=$.childrenAfterGroup;(!Z||Z===g._EmptyArray)&&($.childrenAfterGroup=Z=[]),(Z.length<=W||Z[W]!==j)&&(Z[W]=j,se|=c),(Q||j.parent!==$)&&(j.parent=$,se|=f,Y!==$&&Y!==null&&(Y.treeNodeFlags|=f)),$.treeNodeFlags=se}}},2546:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.clearTreeRowFlags=h.markTreeRowCommitted=h.markTreeRowPathChanged=h.setTreeRowKeyChanged=h.setTreeRowUpdated=h.setTreeRowExpandedInitialized=h.isTreeRowPathChanged=h.isTreeRowKeyChanged=h.isTreeRowUpdated=h.isTreeRowExpandedInitialized=h.isTreeRowCommitted=void 0;let S=d=>(d.treeNodeFlags&1)!==0;h.isTreeRowCommitted=S;let g=d=>(d.treeNodeFlags&2)!==0;h.isTreeRowExpandedInitialized=g;let M=d=>(d.treeNodeFlags&4)!==0;h.isTreeRowUpdated=M;let P=d=>(d.treeNodeFlags&8)!==0;h.isTreeRowKeyChanged=P;let f=d=>(d.treeNodeFlags&16)!==0;h.isTreeRowPathChanged=f;let c=(d,p)=>{p?d.treeNodeFlags|=2:d.treeNodeFlags&=-3};h.setTreeRowExpandedInitialized=c;let r=d=>{let p=d.treeNodeFlags;(p&1)!==0&&(d.treeNodeFlags=p|4)};h.setTreeRowUpdated=r;let i=d=>{let p=d.treeNodeFlags;(p&1)!==0&&(d.treeNodeFlags=p|12)};h.setTreeRowKeyChanged=i;let o=d=>{d&&(d.treeNodeFlags|=16)};h.markTreeRowPathChanged=o;let a=d=>{let p=d.level<0,C=d.treeNodeFlags,v=(C&1)!==0;if(d.treeNodeFlags=1|C&-29,!v||p){let b=d.childrenAfterGroup;d.childrenAfterFilter=b,d.childrenAfterAggFilter=b,d.childrenAfterSort=b}if(p){let b=d.sibling;b&&(b.childrenAfterGroup=d.childrenAfterGroup,b.childrenMapped=d.childrenMapped)}};h.markTreeRowCommitted=a;let l=d=>{d.treeNodeFlags=0};h.clearTreeRowFlags=l},7205:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.VERSION=void 0,h.VERSION="33.2.1"},4790:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ViewportRowModel=void 0;let g=S(6624);class M extends g.BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.firstRow=-1,this.lastRow=-1,this.rowCount=-1,this.rowNodesByIndex={}}ensureRowHeightsValid(f,c,r,i){return!1}postConstruct(){let f=this.beans;this.rowHeight=(0,g._getRowHeightAsNumber)(f),this.addManagedEventListeners({viewportChanged:this.onViewportChanged.bind(this)}),this.addManagedPropertyListener("viewportDatasource",()=>this.updateDatasource()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=(0,g._getRowHeightAsNumber)(f),this.updateRowHeights()})}start(){this.updateDatasource()}isLastRowIndexKnown(){return!0}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){let f=this.datasource;f&&(f.destroy?.(),this.beans.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)}updateDatasource(){let f=this.gos.get("viewportDatasource");f&&this.setViewportDatasource(f)}getPageSize(){return this.gos.get("viewportRowModelPageSize")}getBufferSize(){return this.gos.get("viewportRowModelBufferSize")}calculateFirstRow(f){let c=this.getBufferSize(),r=this.getPageSize(),i=f-c;return i<0?0:Math.floor(i/r)*r}calculateLastRow(f){if(f===-1)return f;let c=this.getBufferSize(),r=this.getPageSize(),i=f+c,o=Math.ceil(i/r)*r,a=this.rowCount-1;return Math.min(o,a)}onViewportChanged(f){let c=this.calculateFirstRow(f.firstRow),r=this.calculateLastRow(f.lastRow);(this.firstRow!==c||this.lastRow!==r)&&(this.firstRow=c,this.lastRow=r,this.purgeRowsNotInViewport(),this.datasource?.setViewportRange(this.firstRow,this.lastRow))}purgeRowsNotInViewport(){let f=this.rowNodesByIndex;Object.keys(f).forEach(c=>{let r=parseInt(c,10);if(r<this.firstRow||r>this.lastRow){if(this.isRowFocused(r))return;delete f[r]}})}isRowFocused(f){let c=this.beans.focusSvc.getFocusCellToUseAfterRefresh();return!c||c.rowPinned!=null?!1:c.rowIndex===f}setViewportDatasource(f){this.destroyDatasource(),this.datasource=f,this.rowCount=-1,f.init?f.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):(0,g._warn)(226)}getType(){return"viewport"}getRow(f){return this.rowNodesByIndex[f]||(this.rowNodesByIndex[f]=this.createBlankRowNode(f)),this.rowNodesByIndex[f]}getRowNode(f){let c;return this.forEachNode(r=>{r.id===f&&(c=r)}),c}getRowCount(){return this.rowCount===-1?0:this.rowCount}getRowIndexAtPixel(f){return this.rowHeight!==0?Math.floor(f/this.rowHeight):0}getRowBounds(f){let c=this.rowHeight;return{rowHeight:c,rowTop:c*f}}updateRowHeights(){let f=this.rowHeight;this.forEachNode(c=>{c.setRowHeight(f),c.setRowTop(f*c.rowIndex)}),this.eventSvc.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(f){return f}isEmpty(){return this.rowCount>0}isRowsToRender(){return this.rowCount>0}getNodesInRangeForSelection(f,c){let r=f.rowIndex,i=c.rowIndex,o=r<this.firstRow||r>this.lastRow,a=i<this.firstRow||i>this.lastRow;if(o||a)return[];let l=[],d=r<=i?r:i,p=r<=i?i:r;for(let C=d;C<=p;C++)l.push(this.rowNodesByIndex[C]);return l}forEachNode(f){let c=0;Object.keys(this.rowNodesByIndex).forEach(r=>{let i=parseInt(r,10),o=this.rowNodesByIndex[i];f(o,c),c++})}setRowData(f){let c=this.rowNodesByIndex;for(let r of Object.keys(f)){let i=f[r],o=parseInt(r,10);if(o>=this.firstRow&&o<=this.lastRow){let a=c[o];(0,g._missing)(a)&&(a=this.createBlankRowNode(o),c[o]=a),a.setDataAndId(i,o.toString())}}}createBlankRowNode(f){let c=new g.RowNode(this.beans),r=this.rowHeight;return c.setRowHeight(r),c.setRowTop(r*f),c.setRowIndex(f),c}setRowCount(f,c=!1){if(f===this.rowCount)return;this.rowCount=f;let r=this.eventSvc;r.dispatchEventOnce({type:"rowCountReady"}),r.dispatchEvent({type:"modelUpdated",newData:!1,newPage:!1,keepRenderedRows:c,animate:!1})}isRowPresent(f){return!!this.getRowNode(f.id)}}h.ViewportRowModel=M},7794:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ViewportRowModelModule=void 0;let g=S(9206),M=S(7205),P=S(4790);h.ViewportRowModelModule={moduleName:"ViewportRowModel",version:M.VERSION,rowModels:["viewport"],beans:[P.ViewportRowModel],dependsOn:[g.EnterpriseCoreModule]}},7437:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPillContainer=void 0;let g=S(6624),M=S(3264),P={tag:"div",cls:"ag-pill-container"};class f extends g.Component{constructor(){super(P),this.pills=[]}init(r){this.params=r,this.refresh()}refresh(){this.clearPills();let{params:r,onPillKeyDown:i}=this,o=r.getValue();if(!Array.isArray(o)){if(o==null)return;o=[o]}let a=r.valueFormatter??(d=>String(d)),l=o.length;(0,g._setAriaRole)(this.getGui(),l===0?"presentation":"listbox");for(let d=0;d<l;d++){let p=o[d],C=this.createBean(new M.AgPill({onButtonClick:()=>this.onPillButtonClick(C),onKeyDown:i.bind(this)})),v=C.getGui();(0,g._setAriaPosInSet)(v,d+1),(0,g._setAriaSetSize)(v,l),r.onPillMouseDown&&C.addGuiEventListener("mousedown",r.onPillMouseDown),r.announceItemFocus&&C.addGuiEventListener("focus",r.announceItemFocus),C.setText(a(p)??""),C.toggleCloseButtonClass("ag-icon-cancel",!0),this.appendChild(v),this.pills.push(C)}}onNavigationKeyDown(r){let{key:i}=r;if(!this.pills.length||i!==g.KeyCode.LEFT&&i!==g.KeyCode.RIGHT)return;r.preventDefault();let{params:o,beans:a}=this,l=(0,g._getActiveDomElement)(a),d=this.getGui();if(d.contains(l)){let p=(0,g._findNextFocusableElement)(a,d,!1,i===g.KeyCode.LEFT);p?p.focus():o.eWrapper&&o.eWrapper.focus()}else{let p=(0,g._findFocusableElements)(d);p.length>0&&p[i===g.KeyCode.RIGHT?0:p.length-1].focus()}}clearPills(){let r=this.getGui();r.contains((0,g._getActiveDomElement)(this.beans))&&this.params.eWrapper&&this.params.eWrapper.focus(),(0,g._clearElement)(r),this.destroyBeans(this.pills),this.pills=[]}onPillButtonClick(r){this.deletePill(r)}onPillKeyDown(r){let i=r.key;if(i!==g.KeyCode.DELETE&&i!==g.KeyCode.BACKSPACE)return;r.preventDefault();let o=(0,g._getDocument)(this.beans),a=this.pills.findIndex(d=>d.getGui().contains(o.activeElement));if(a===-1)return;let l=this.pills[a];l&&this.deletePill(l,a)}deletePill(r,i){let o=r.getText(),a=(this.params.getValue()||[]).filter(l=>l!==o);if(this.params.setValue(a),!a.length&&this.params.eWrapper)this.params.eWrapper.focus();else if(i!=null){let l=this.pills[Math.min(i,this.pills.length-1)];l&&l.getFocusableElement().focus()}}destroy(){this.clearPills(),super.destroy()}}h.AgPillContainer=f},8775:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgDialog=void 0;let g=S(6624),M=S(7325);class P extends M.AgPanel{wireBeans(c){this.popupSvc=c.popupSvc}constructor(c){super({...c,popup:!0}),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){let c=this.getGui(),{movable:r,resizable:i,maximizable:o,modal:a,postProcessPopupParams:l}=this.config;if(this.addCssClass("ag-dialog"),super.postConstruct(),l){let{type:d,eventSource:p,column:C,mouseEvent:v,rowNode:b}=l;this.popupSvc?.callPostProcessPopup(d,c,p,v,C,b)}if(this.tabGuardFeature=this.createManagedBean(new g.TabGuardFeature(this)),this.tabGuardFeature.initialiseTabGuard({isFocusableContainer:!0,onFocusIn:()=>{this.popupSvc?.bringPopupToFront(c)},onTabKeyDown:d=>{if(a)return;let p=d.shiftKey,C=(0,g._findNextFocusableElement)(this.beans,c,!1,p);(!C||this.tabGuardFeature.getTabGuardCtrl().isTabGuard(C))&&(0,g._focusNextGridCoreContainer)(this.beans,p)&&d.preventDefault()}}),r&&this.setMovable(r),o&&this.setMaximizable(o),i&&this.setResizable(i),!this.config.modal){let d=this.beans.ctrlsSvc.get("gridCtrl");d.addFocusableContainer(this),this.addDestroyFunc(()=>d.removeFocusableContainer(this))}}setAllowFocus(c){this.tabGuardFeature.getTabGuardCtrl().setAllowFocus(c)}renderComponent(){let c=this.getGui(),{alwaysOnTop:r,modal:i,title:o,afterGuiAttached:a}=this.config,l=this.getLocaleTextFunc(),d=this.popupSvc?.addPopup({modal:i,eChild:c,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:r,ariaLabel:o||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});d&&(this.close=d.hideFunc)}onClosed(c){this.destroy(),this.config.closedCallback?.(c)}toggleMaximize(){let c=this.positionableFeature.getPosition();if(this.isMaximized){let{x:r,y:i,width:o,height:a}=this.lastPosition;this.setWidth(o),this.setHeight(a),this.positionableFeature.offsetElement(r,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=c.x,this.lastPosition.y=c.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){(0,g._setDisplayed)(this.maximizeIcon,!this.isMaximized),(0,g._setDisplayed)(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(c=>c()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(c){this.positionableFeature.setResizable(c)}setMovable(c){this.positionableFeature.setMovable(c,this.eTitleBar)}setMaximizable(c){if(!c){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}let r=this.eTitleBar;if(!r||c===this.isMaximizable)return;let i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedElementListeners(i.getGui(),{click:this.toggleMaximize.bind(this)}),this.addTitleBarButton(i,0),this.maximizeListeners.push(...this.addManagedElementListeners(r,{dblclick:this.toggleMaximize.bind(this)})),[this.resizeListenerDestroy]=this.addManagedListeners(this.positionableFeature,{resize:()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}})}buildMaximizeAndMinimizeElements(){let c=this.maximizeButtonComp=this.createBean(new g.Component({tag:"div",cls:"ag-dialog-button"})),r=c.getGui();return this.maximizeIcon=(0,g._createIconNoSpan)("maximize",this.beans),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=(0,g._createIconNoSpan)("minimize",this.beans),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),c}}h.AgDialog=P},1421:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgGroupComponentSelector=h.AgGroupComponent=void 0;let g=S(6624);function M(i){let o=i.cssIdentifier||"default",a=i.direction||"vertical";return{tag:"div",cls:`ag-group ag-${o}-group`,role:"presentation",children:[{tag:"div",ref:"eToolbar",cls:`ag-group-toolbar ag-${o}-group-toolbar`,children:[{tag:"ag-checkbox",ref:"cbGroupEnabled"}]},{tag:"div",ref:"eContainer",cls:`ag-group-container ag-group-container-${a} ag-${o}-group-container`}]}}class P extends g.Component{constructor(o={}){super(M(o),[g.AgCheckboxSelector]),this.params=o,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1,this.eToolbar=g.RefPlaceholder,this.cbGroupEnabled=g.RefPlaceholder,this.eContainer=g.RefPlaceholder;let{enabled:a,items:l,suppressEnabledCheckbox:d,expanded:p,suppressToggleExpandOnEnableChange:C,useToggle:v}=o;this.cssIdentifier=o.cssIdentifier||"default",this.enabled=a??!0,this.items=l||[],this.useToggle=v??!1,this.alignItems=o.alignItems||"center",this.expanded=p??!0,d!=null&&(this.suppressEnabledCheckbox=d),C!=null&&(this.suppressToggleExpandOnEnableChange=C)}postConstruct(){if(this.setupTitleBar(),this.items.length){let p=this.items;this.items=[],this.addItems(p)}let o=this.getLocaleTextFunc();this.cbGroupEnabled.setLabel(o("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);let{onEnableChange:a,onExpandedChange:l,suppressOpenCloseIcons:d}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(d??!1),this.refreshChildDisplay(),(0,g._setDisplayed)(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(p=>{this.setEnabled(p,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(p)}),a!=null&&this.onEnableChange(a),l!=null&&this.onExpandedChange(l)}refreshChildDisplay(){(0,g._setDisplayed)(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),this.eTitleBar?.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(o){this.alignItems!==o&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=o;let a=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(a),this}toggleGroupExpand(o,a){if(this.eTitleBar?.isSuppressCollapse()&&!this.useToggle)o=!0,a=!0;else if(o=o??!this.expanded,this.expanded===o)return this;return this.expanded=o,this.refreshChildDisplay(),(0,g._setDisplayed)(this.eContainer,o),a||this.dispatchLocalEvent({type:o?"expanded":"collapsed"}),this}addItems(o){o.forEach(a=>this.addItem(a))}prependItem(o){this.insertItem(o,!0)}addItem(o){this.insertItem(o,!1)}insertItem(o,a){let l=this.eContainer,d=o instanceof g.Component?o.getGui():o;d.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),a?(l.insertAdjacentElement("afterbegin",d),this.items.unshift(d)):(l.appendChild(d),this.items.push(d))}hideItem(o,a){let l=this.items[a];(0,g._setDisplayed)(l,!o)}getItemIndex(o){let a=o instanceof g.Component?o.getGui():o;return this.items.indexOf(a)}setTitle(o){return this.eTitleBar?.setTitle(o),this}addTitleBarWidget(o){return this.eTitleBar?.addWidget(o),this}addCssClassToTitleBar(o){this.eTitleBar?.addCssClass(o)}dispatchEnableChangeEvent(o){let a={type:"enableChange",enabled:o};this.dispatchLocalEvent(a)}setEnabled(o,a,l){return this.enabled=o,this.refreshDisabledStyles(),l||this.toggleGroupExpand(o),a||(this.cbGroupEnabled.setValue(o),this.eToggle?.setValue(o)),this}isEnabled(){return this.enabled}onEnableChange(o){return this.addManagedListeners(this,{enableChange:a=>o(a.enabled)}),this}onExpandedChange(o){return this.addManagedListeners(this,{expanded:()=>o(!0),collapsed:()=>o(!1)}),this}hideEnabledCheckbox(o){return this.suppressEnabledCheckbox=o,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(o){return this.eTitleBar?.hideOpenCloseIcons(o),this}refreshDisabledStyles(){let o=!this.enabled;this.eContainer.classList.toggle("ag-disabled",o),this.eTitleBar?.refreshDisabledStyles(this.suppressEnabledCheckbox&&o),this.eContainer.classList.toggle("ag-disabled-group-container",o)}setupTitleBar(){let o=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",o.getGui())}createDefaultTitleBar(){let o=this.createManagedBean(new r(this.params));return this.eTitleBar=o,o.refreshOnExpand(this.expanded),this.addManagedListeners(o,{expandedChanged:a=>this.toggleGroupExpand(a.expanded)}),o}createToggleTitleBar(){let o=this.createManagedBean(new g.AgToggleButton({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:a=>{this.setEnabled(a,!0),this.dispatchEnableChangeEvent(a)}}));return o.addCssClass("ag-group-title-bar"),o.addCssClass(`ag-${this.params.cssIdentifier??"default"}-group-title-bar ag-unselectable`),this.eToggle=o,this.toggleGroupExpand(this.enabled),o}}h.AgGroupComponent=P;let f="ag-disabled-group-title-bar";function c(i){let o=i.cssIdentifier??"default";return{tag:"div",cls:`ag-group-title-bar ag-${o}-group-title-bar ag-unselectable`,role:i.suppressKeyboardNavigation?"presentation":"role",children:[{tag:"span",ref:"eGroupOpenedIcon",cls:`ag-group-title-bar-icon ag-${o}-group-title-bar-icon`,role:"presentation"},{tag:"span",ref:"eGroupClosedIcon",cls:`ag-group-title-bar-icon ag-${o}-group-title-bar-icon`,role:"presentation"},{tag:"span",ref:"eTitle",cls:`ag-group-title ag-${o}-group-title`}]}}class r extends g.Component{constructor(o={}){super(c(o)),this.suppressOpenCloseIcons=!1,this.suppressKeyboardNavigation=!1,this.eGroupOpenedIcon=g.RefPlaceholder,this.eGroupClosedIcon=g.RefPlaceholder,this.eTitle=g.RefPlaceholder;let{title:a,suppressOpenCloseIcons:l,suppressKeyboardNavigation:d}=o;a&&a.length>0&&(this.title=a),l!=null&&(this.suppressOpenCloseIcons=l),this.suppressKeyboardNavigation=d??!1}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild((0,g._createIcon)("accordionClosed",this.beans,null)),this.eGroupOpenedIcon.appendChild((0,g._createIcon)("accordionOpen",this.beans,null)),this.addManagedElementListeners(this.getGui(),{click:()=>this.dispatchExpandChanged(),keydown:o=>{switch(o.key){case g.KeyCode.ENTER:case g.KeyCode.SPACE:o.preventDefault(),this.dispatchExpandChanged();break;case g.KeyCode.RIGHT:case g.KeyCode.LEFT:o.preventDefault(),this.dispatchExpandChanged(o.key===g.KeyCode.RIGHT);break}}})}refreshOnExpand(o){this.refreshAriaStatus(o),this.refreshOpenCloseIcons(o)}refreshAriaStatus(o){this.suppressOpenCloseIcons||(0,g._setAriaExpanded)(this.getGui(),o)}refreshOpenCloseIcons(o){let a=!this.suppressOpenCloseIcons;(0,g._setDisplayed)(this.eGroupOpenedIcon,a&&o),(0,g._setDisplayed)(this.eGroupClosedIcon,a&&!o)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(o){let a={type:"expandedChanged",expanded:o};this.dispatchLocalEvent(a)}setTitle(o){let a=this.getGui(),l=!!o&&o.length>0;o=l?o:void 0,this.eTitle.textContent=o??"",(0,g._setDisplayed)(a,l),o!==this.title&&(this.title=o);let d=a.classList.contains(f);return this.refreshDisabledStyles(d),this}addWidget(o){return this.getGui().appendChild(o),this}hideOpenCloseIcons(o){return this.suppressOpenCloseIcons=o,o&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(o){let a=this.getGui();o?(a.classList.add(f),a.removeAttribute("tabindex")):(a.classList.remove(f),typeof this.title=="string"&&!this.suppressKeyboardNavigation?a.setAttribute("tabindex","0"):a.removeAttribute("tabindex"))}}h.AgGroupComponentSelector={selector:"AG-GROUP-COMPONENT",component:P}},7040:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgMenuItemComponent=void 0;let g=S(6624),M=S(9476),P=S(568);function f(o,a,l){return o.getCompDetails(a,c,"agMenuItem",l,!0)}let c={name:"menuItem",optionalMethods:["setActive","select","setExpanded","configureDefaults"]},r={tag:"div",cls:"ag-menu",role:"presentation"};class i extends g.BeanStub{constructor(){super(...arguments),this.ACTIVATION_DELAY=80,this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}wireBeans(a){this.popupSvc=a.popupSvc,this.userCompFactory=a.userCompFactory,this.registry=a.registry}init(a){let{menuItemDef:l,isAnotherSubMenuOpen:d,level:p,childComponent:C,contextParams:v}=a;return this.params=a.menuItemDef,this.level=p,this.isAnotherSubMenuOpen=d,this.childComponent=C,this.contextParams=v,this.cssClassPrefix=this.params.menuItemParams?.cssClassPrefix??"ag-menu-option",f(this.userCompFactory,this.params,(0,g._addGridCommonParams)(this.gos,{...l,level:p,isAnotherSubMenuOpen:d,openSubMenu:R=>this.openSubMenu(R),closeSubMenu:()=>this.closeSubMenu(),closeMenu:R=>this.closeMenu(R),updateTooltip:(R,x)=>this.refreshTooltip(R,x),onItemActivated:()=>this.onItemActivated()}))?.newAgStackInstance().then(R=>{this.menuItemComp=R;let x=R.configureDefaults?.();x&&this.configureDefaults(x===!0?void 0:x)})??g.AgPromise.resolve()}addListeners(a,l){l?.suppressClick||this.addManagedElementListeners(a,{click:d=>this.onItemSelected(d)}),l?.suppressKeyboardSelect||this.addManagedElementListeners(a,{keydown:d=>{(d.key===g.KeyCode.ENTER||d.key===g.KeyCode.SPACE)&&(d.preventDefault(),this.onItemSelected(d))}}),l?.suppressMouseDown||this.addManagedElementListeners(a,{mousedown:d=>{d.stopPropagation(),d.preventDefault()}}),l?.suppressMouseOver||this.addManagedElementListeners(a,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()})}isDisabled(){return!!this.params.disabled}openSubMenu(a=!1,l){if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;let d=(0,g._createElement)(r);this.eSubMenuGui=d;let p,C=()=>{this.subMenuIsOpening=!1};if(this.childComponent){let E=this.createBean(new P.AgMenuPanel(this.childComponent));E.setParentComponent(this);let T=E.getGui(),D="mouseenter",k=()=>this.cancelDeactivate();T.addEventListener(D,k),p=()=>{T.removeEventListener(D,k),this.destroyBean(E)},d.appendChild(T),this.childComponent.afterGuiAttached&&(C=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){let E=this.createBean(new M.AgMenuList(this.level+1,this.contextParams));E.setParentComponent(this),E.addMenuItems(this.params.subMenu),d.appendChild(E.getGui()),this.addManagedListeners(E,{closeMenu:T=>this.dispatchLocalEvent(T)}),E.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),p=()=>this.destroyBean(E),a&&(C=()=>{E.activateFirstItem(),this.subMenuIsOpening=!1})}let{popupSvc:v}=this,b=()=>{let E=this.eGui,{column:T,node:D}=this.contextParams;v?.positionPopupForMenu({eventSource:E,ePopup:d,event:l instanceof MouseEvent?l:void 0,column:T,node:D})},R=this.getLocaleTextFunc(),x=v?.addPopup({modal:!0,eChild:d,positionCallback:b,anchorToElement:this.eGui,ariaLabel:R("ariaLabelSubMenu","SubMenu"),afterGuiAttached:C});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{x&&x.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),p(),this.menuItemComp.setExpanded?.(!1),this.eSubMenuGui=void 0},this.menuItemComp.setExpanded?.(!0)}setAriaExpanded(a){this.suppressAria||(0,g._setAriaExpanded)(this.eGui,a)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(a,l){this.cancelActivate(),!(this.params.disabled&&!l)&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!0),this.suppressFocus||(0,g._preserveRangesWhile)(this.beans,()=>this.eGui.focus({preventScroll:!l})),a&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!1),this.isActive=!1,this.subMenuIsOpen&&this.closeSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(a){this.parentComponent=a}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(a){this.menuItemComp.select?.(),this.params.action?this.beans.frameworkOverrides.wrapOutgoing(()=>this.params.action((0,g._addGridCommonParams)(this.gos,{...this.contextParams}))):this.openSubMenu(a&&a.type==="keydown",a),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(a)}closeMenu(a){let l={type:"closeMenu"};a&&(a instanceof MouseEvent?l.mouseEvent=a:l.keyboardEvent=a),this.dispatchLocalEvent(l)}onItemActivated(){let a={type:"menuItemActivated",menuItem:this};this.dispatchLocalEvent(a)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),this.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),this.ACTIVATION_DELAY):this.deactivate()}configureDefaults(a){if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(a));return}let l=this.menuItemComp.getGui(),{suppressRootStyles:d,suppressTooltip:p,suppressAria:C,suppressTabIndex:v,suppressFocus:b}=a||{},R=this.menuItemComp.getRootElement?.();R&&(d||l.classList.add("ag-menu-option-custom"),l=R),this.eGui=l,this.suppressRootStyles=!!d,this.suppressRootStyles||(l.classList.add(this.cssClassPrefix),this.params.cssClasses?.forEach(x=>l.classList.add(x)),this.params.disabled&&l.classList.add(`${this.cssClassPrefix}-disabled`)),p||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!C,this.suppressAria||((0,g._setAriaRole)(l,"menuitem"),this.params.subMenu&&(0,g._setAriaHasPopup)(l,this.params.subMenuRole??"menu"),this.params.disabled&&(0,g._setAriaDisabled)(l,!0)),v||l.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(l,a),this.suppressFocus=!!b}refreshTooltip(a,l){if(this.tooltip=a,this.tooltipFeature=this.destroyBean(this.tooltipFeature),!a||!this.menuItemComp)return;let d=this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:l});d&&(this.tooltipFeature=this.createBean(d))}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),this.menuItemComp?.destroy?.(),super.destroy()}}h.AgMenuItemComponent=i},3360:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgMenuItemRenderer=void 0;let g=S(6624),M={tag:"div"};class P extends g.Component{constructor(){super(M)}init(c){this.params=c,this.cssClassPrefix=this.params.cssClassPrefix??"ag-menu-option",this.addAriaAttributes(),this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addAriaAttributes(){let{checked:c,subMenu:r}=this.params,i=this.getGui();c&&(0,g._setAriaChecked)(i,c),r&&(0,g._setAriaExpanded)(i,!1)}addIcon(){if(this.params.isCompact)return;let c=(0,g._createElement)({tag:"span",ref:"eIcon",cls:`${this.getClassName("part")} ${this.getClassName("icon")}`,role:"presentation"}),{checked:r,icon:i}=this.params;r?c.appendChild((0,g._createIconNoSpan)("check",this.beans)):i&&((0,g._isNodeOrElement)(i)?c.appendChild(i):typeof i=="string"?c.innerHTML=i:(0,g._warn)(227)),this.getGui().appendChild(c)}addName(){let c=(0,g._createElement)({tag:"span",ref:"eName",cls:`${this.getClassName("part")} ${this.getClassName("text")}`,children:this.params.name||""});this.getGui().appendChild(c)}addShortcut(){if(this.params.isCompact)return;let c=(0,g._createElement)({tag:"span",ref:"eShortcut",cls:`${this.getClassName("part")} ${this.getClassName("shortcut")}`,children:this.params.shortcut||""});this.getGui().appendChild(c)}addSubMenu(){let c=(0,g._createElement)({tag:"span",ref:"ePopupPointer",cls:`${this.getClassName("part")} ${this.getClassName("popup-pointer")}`}),r=this.getGui();if(this.params.subMenu){let i=this.gos.get("enableRtl")?"subMenuOpenRtl":"subMenuOpen";c.appendChild((0,g._createIconNoSpan)(i,this.beans))}r.appendChild(c)}getClassName(c){return`${this.cssClassPrefix}-${c}`}}h.AgMenuItemRenderer=P},9476:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgMenuList=void 0;let g=S(6624),M=S(7040);class P extends g.TabGuardComp{constructor(c=0,r){super({tag:"div",cls:"ag-menu-list",role:"menu"}),this.level=c,this.menuItems=[],this.params=r??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:c=>this.onTabKeyDown(c),handleKeyDown:c=>(0,g._preserveRangesWhile)(this.beans,()=>this.handleKeyDown(c)),onFocusIn:c=>this.handleFocusIn(c),onFocusOut:c=>this.handleFocusOut(c)})}onTabKeyDown(c){this.getParentComponent()?.getGui()?.classList.contains("ag-focus-managed")||c.preventDefault(),c.shiftKey&&this.closeIfIsChild(c)}handleKeyDown(c){switch(c.key){case g.KeyCode.UP:case g.KeyCode.RIGHT:case g.KeyCode.DOWN:case g.KeyCode.LEFT:c.preventDefault(),this.handleNavKey(c.key);break;case g.KeyCode.ESCAPE:this.closeIfIsChild()&&(0,g._stopPropagationForAgGrid)(c);break}}handleFocusIn(c){let r=c.relatedTarget;!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(r)&&(this.getGui().contains(r)||this.activeMenuItem?.getSubMenuGui()?.contains(r))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(c){let r=c.relatedTarget;!this.activeMenuItem||this.getGui().contains(r)||this.activeMenuItem.getSubMenuGui()?.contains(r)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(c){c!=null&&g.AgPromise.all(c.map(r=>r==="separator"?g.AgPromise.resolve({eGui:this.createSeparator()}):typeof r=="string"?((0,g._warn)(228,{menuItemOrString:r}),g.AgPromise.resolve({eGui:null})):this.addItem(r))).then(r=>{(r??[]).forEach(i=>{i?.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(c){let r=this.createManagedBean(new M.AgMenuItemComponent);return r.init({menuItemDef:c,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(r.setParentComponent(this),this.addManagedListeners(r,{closeMenu:i=>{this.dispatchLocalEvent(i)},menuItemActivated:i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}}),{comp:r,eGui:r.getGui()}))}activateFirstItem(){let c=this.menuItems.filter(r=>!r.isDisabled())[0];c&&c.activate()}createSeparator(){let c={tag:"div",cls:"ag-menu-separator-part"};return(0,g._createElement)({tag:"div",cls:"ag-menu-separator",attrs:{"aria-hidden":"true"},children:[c,c,c,c]})}handleNavKey(c){switch(c){case g.KeyCode.UP:case g.KeyCode.DOWN:{let i=this.findNextItem(c===g.KeyCode.UP);i&&i!==this.activeMenuItem&&i.activate(!1,!0);return}}let r=this.gos.get("enableRtl")?g.KeyCode.RIGHT:g.KeyCode.LEFT;c===r?this.closeIfIsChild():this.openChild()}closeIfIsChild(c){let r=this.getParentComponent();return r&&r instanceof M.AgMenuItemComponent?(c&&c.preventDefault(),r.closeSubMenu(),r.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(c){let r=[...this.menuItems];if(!r.length)return;if(!this.activeMenuItem)return c?(0,g._last)(r):r[0];c&&r.reverse();let i,o=!1;for(let a of r){if(!o){a===this.activeMenuItem&&(o=!0);continue}i=a;break}return o&&!i?r[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}}h.AgMenuList=P},568:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgMenuPanel=void 0;let g=S(6624);class M extends g.TabGuardComp{constructor(f){super(),this.setTemplateFromElement(f.getGui(),void 0,void 0,!0)}postConstruct(){this.initialiseTabGuard({onTabKeyDown:f=>this.onTabKeyDown(f),handleKeyDown:f=>this.handleKeyDown(f)})}handleKeyDown(f){f.key===g.KeyCode.ESCAPE&&this.closePanel()}onTabKeyDown(f){f.defaultPrevented||(this.closePanel(),f.preventDefault())}closePanel(){let f=this.parentComponent;f.closeSubMenu(),setTimeout(()=>f.getGui().focus(),0)}}h.AgMenuPanel=M},7088:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agPanelCSS=void 0,h.agPanelCSS=".ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-panel-title-bar-text-color);cursor:default;display:flex;flex:none;font-weight:var(--ag-panel-title-bar-font-weight);height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-panel-title-bar-button{color:var(--ag-panel-title-bar-icon-color);cursor:pointer}:where(.ag-ltr) .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}:where(.ag-dragging-fill-handle) .ag-dialog,:where(.ag-dragging-range-handle) .ag-dialog{opacity:.7;pointer-events:none}"},7325:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPanel=void 0;let g=S(6624),M=S(7088);function P(c){let r=c.cssIdentifier||"default";return{tag:"div",cls:`ag-panel ag-${r}-panel`,attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eTitleBar",cls:`ag-panel-title-bar ag-${r}-panel-title-bar ag-unselectable`,children:[{tag:"span",ref:"eTitle",cls:`ag-panel-title-bar-title ag-${r}-panel-title-bar-title`},{tag:"div",ref:"eTitleBarButtons",cls:`ag-panel-title-bar-buttons ag-${r}-panel-title-bar-buttons`}]},{tag:"div",ref:"eContentWrapper",cls:`ag-panel-content-wrapper ag-${r}-panel-content-wrapper`}]}}class f extends g.Component{constructor(r){super(P(r)),this.config=r,this.closable=!0,this.eContentWrapper=g.RefPlaceholder,this.eTitleBar=g.RefPlaceholder,this.eTitleBarButtons=g.RefPlaceholder,this.eTitle=g.RefPlaceholder,this.registerCSS(M.agPanelCSS)}postConstruct(){let{component:r,closable:i,hideTitleBar:o,title:a,minWidth:l=250,width:d,minHeight:p=250,height:C,centered:v,popup:b,x:R,y:x}=this.config;this.positionableFeature=new g.PositionableFeature(this.getGui(),{minWidth:l,width:d,minHeight:p,height:C,centered:v,x:R,y:x,popup:b,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);let E=this.getGui();r&&this.setBodyComponent(r),o?(0,g._setDisplayed)(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(i??this.closable)),this.addManagedElementListeners(this.eTitleBar,{mousedown:T=>{if(E.contains(T.relatedTarget)||E.contains((0,g._getActiveDomElement)(this.beans))||this.eTitleBarButtons.contains(T.target)){T.preventDefault();return}let D=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");D&&D.focus()}}),!(b&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){let r=this.getGui();r.focus(),this.close=()=>{r.parentElement.removeChild(r),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(r){this.positionableFeature.setHeight(r)}getWidth(){return this.positionableFeature.getWidth()}setWidth(r){this.positionableFeature.setWidth(r)}setClosable(r){if(r!==this.closable&&(this.closable=r),r){let i=this.closeButtonComp=new g.Component({tag:"div",cls:"ag-button"});this.createBean(i);let o=i.getGui(),a=(0,g._createIconNoSpan)("close",this.beans);a.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(a),this.addTitleBarButton(i),i.addManagedElementListeners(o,{click:this.onBtClose.bind(this)})}else if(this.closeButtonComp){let i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())}addTitleBarButton(r,i){let o=this.eTitleBarButtons,a=o.children,l=a.length;i==null&&(i=l),i=Math.max(0,Math.min(i,l)),r.addCssClass("ag-panel-title-bar-button");let d=r.getGui();i===0?o.insertAdjacentElement("afterbegin",d):i===l?o.insertAdjacentElement("beforeend",d):a[i-1].insertAdjacentElement("afterend",d),r.setParentComponent(this)}getBodyHeight(){return(0,g._getInnerHeight)(this.eContentWrapper)}getBodyWidth(){return(0,g._getInnerWidth)(this.eContentWrapper)}setTitle(r){this.eTitle.innerText=r}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));let r=this.getGui();r&&(0,g._isVisible)(r)&&this.close(),super.destroy()}}h.AgPanel=f},3264:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgPill=void 0;let g=S(6624),M=S(6624),P={tag:"div",cls:"ag-pill",role:"option",children:[{tag:"span",ref:"eText",cls:"ag-pill-text"},{tag:"span",ref:"eButton",cls:"ag-button ag-pill-button",role:"presentation"}]};class f extends M.Component{constructor(r){super(P),this.config=r,this.eText=g.RefPlaceholder,this.eButton=g.RefPlaceholder}postConstruct(){let{config:r,eButton:i}=this,{onKeyDown:o,onButtonClick:a}=r;this.getGui().setAttribute("tabindex",String(this.gos.get("tabIndex"))),this.addGuiEventListener("focus",()=>{this.eButton.focus()}),o&&this.addGuiEventListener("keydown",o),a&&this.addManagedElementListeners(i,{click:a})}toggleCloseButtonClass(r,i){this.eButton.classList.toggle(r,i)}setText(r){this.eText.textContent=r}getText(){return this.eText.textContent}}h.AgPill=f},7720:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.agRichSelectCSS=void 0,h.agRichSelectCSS=".ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-picker-button-background-color);display:flex;height:100%;padding:var(--ag-spacing);:where(.ag-picker-field-display){overflow:hidden;text-overflow:ellipsis;&:where(.ag-display-as-placeholder){opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;:where(.ag-loading-text){padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;:where(.ag-input-field-input){border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}:where(.ag-ltr) .ag-rich-select-field-input{left:var(--ag-spacing)}:where(.ag-rtl) .ag-rich-select-field-input{right:var(--ag-spacing)}:where(.ag-popup-editor) .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap}.ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}:where(.ag-ltr) .ag-pill-button{margin-left:var(--ag-spacing)}:where(.ag-rtl) .ag-pill-button{margin-right:var(--ag-spacing)}"},2005:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h._bindCellRendererToHtmlElement=h.AgRichSelect=void 0;let g=S(6624),M=S(7437),P=S(7720),f=S(5805),c={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed",children:[{tag:"span",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"ag-input-text-field",ref:"eInput",cls:"ag-rich-select-field-input"},{tag:"span",ref:"eDeselect",cls:"ag-rich-select-deselect-button ag-picker-field-icon",role:"presentation"},{tag:"span",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]};class r extends g.AgPickerField{wireBeans(a){this.userCompFactory=a.userCompFactory,this.ariaAnnounce=a.ariaAnnounce,this.registry=a.registry}constructor(a){super({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"richSelectOpen",ariaRole:"combobox",template:a?.template??c,agComponents:[g.AgInputTextFieldSelector],modalPicker:!1,...a,maxPickerHeight:a?.maxPickerHeight??"calc(var(--ag-row-height) * 6.5)"}),this.searchString="",this.searchStringCreator=null,this.eInput=g.RefPlaceholder,this.eDeselect=g.RefPlaceholder,this.skipWrapperAnnouncement=!1;let{value:l,valueList:d,searchStringCreator:p}=a||{};l!==void 0&&(this.value=l),p&&(this.searchStringCreator=p),d!=null&&this.setValues(d),this.registerCSS(P.agRichSelectCSS)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0})),super.postConstruct(),this.createListComponent(),this.eDeselect.appendChild((0,g._createIconNoSpan)("richSelectRemove",this.beans));let{allowTyping:a,placeholder:l,suppressDeselectAll:d}=this.config;this.eDeselect.classList.add("ag-hidden"),a?(this.eInput.setAutoComplete(!1).setInputPlaceholder(l),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.setupAriaProperties();let{searchDebounceDelay:p=300}=this.config;this.clearSearchString=(0,g._debounce)(this,this.clearSearchString.bind(this),p),this.renderSelectedValue(),a&&this.eInput.onValueChange(C=>this.searchTextFromString(C)),this.addManagedElementListeners(this.eWrapper,{focus:this.onWrapperFocus.bind(this)}),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)}),d||this.addManagedElementListeners(this.eDeselect,{mousedown:this.onDeselectAllMouseDown.bind(this),click:this.onDeselectAllClick.bind(this)})}setupAriaProperties(){let{eWrapper:a,gos:l}=this;a.tabIndex=l.get("tabIndex");let d=this.getLocaleTextFunc();this.ariaDeleteSelection=d("ariaLabelRichSelectDeleteSelection","Press DELETE to deselect item"),this.ariaDeselectAllItems=d("ariaLabelRichSelectDeselectAllItems","Press DELETE to deselect all items"),this.ariaToggleSelection=d("ariaLabelRichSelectToggleSelection","Press SPACE to toggle selection")}createListComponent(){this.listComponent=this.createBean(new f.AgRichSelectList(this.config,this.eWrapper,()=>this.searchString)),this.listComponent.setParentComponent(this),this.addManagedListeners(this.listComponent,{richSelectListRowSelected:a=>{this.onListValueSelected(a.value,a.fromEnterKey)}})}renderSelectedValue(){let{value:a,eDisplayField:l,config:d,gos:p}=this,{allowTyping:C,cellRenderer:v,initialInputValue:b,multiSelect:R,suppressDeselectAll:x,suppressMultiSelectPillRenderer:E}=d,T=d.valueFormatter?.(a)??String(a);if(C){this.eInput.setValue(b??T);return}if(R&&!x){let O=a==null||Array.isArray(a)&&a.length===0;this.eDeselect.classList.toggle("ag-hidden",O)}let D;if(R&&!E){this.createOrUpdatePillContainer(l);return}v&&(D=(0,g._getEditorRendererDetails)(this.userCompFactory,d,(0,g._addGridCommonParams)(this.gos,{value:a,valueFormatted:T,getValue:()=>this.getValue(),setValue:O=>{this.setValue(O,!0)},setTooltip:(O,N)=>{p.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=N,this.tooltipFeature?.setTooltipAndRefresh(O)}})));let k;if(D&&(k=D.newAgStackInstance()),k)(0,g._clearElement)(l),i(k,l),k.then(O=>{this.addDestroyFunc(()=>this.destroyBean(O))});else{if((0,g._exists)(this.value))l.innerText=T,l.classList.remove("ag-display-as-placeholder");else{let{placeholder:O}=d;(0,g._exists)(O)?(l.innerHTML=`${(0,g._escapeString)(O)}`,l.classList.add("ag-display-as-placeholder")):(0,g._clearElement)(l)}this.shouldDisplayTooltip=(0,g._shouldDisplayTooltip)(()=>this.eDisplayField),this.tooltipFeature?.setTooltipAndRefresh(T??null)}}createPickerComponent(){let{values:a}=this;return a&&this.setValueList({valueList:a}),this.listComponent}setSearchStringCreator(a){this.searchStringCreator=a}setValueList(a){let{valueList:l,refresh:d}=a;!this.listComponent||this.listComponent.getCurrentList()===l||(this.listComponent.setCurrentList(l),d&&(this.values?this.listComponent.refresh(!0):(this.setValues(l),this.isPickerDisplayed&&(this.listComponent.selectValue(this.value)||this.listComponent.refresh())),this.alignPickerToComponent()))}setValues(a){this.values=a,this.searchStrings=this.getSearchStringsFromValues(a)}showPicker(){super.showPicker();let{listComponent:a,value:l}=this;if(!a)return;let d=null;a.selectValue(this.value),this.value!=null&&(d=a.getIndicesForValues(Array.isArray(l)?l:[l])[0]),d!=null?a.highlightIndex(d):a.refresh(),this.displayOrHidePicker()}beforeHidePicker(){super.beforeHidePicker()}createOrUpdatePillContainer(a){if(!this.pillContainer){let l=this.pillContainer=this.createBean(new M.AgPillContainer);this.addDestroyFunc(()=>{this.destroyBean(this.pillContainer),this.pillContainer=null}),(0,g._clearElement)(a),a.appendChild(l.getGui());let{config:d,eWrapper:p,ariaDeleteSelection:C}=this,{valueFormatter:v}=d;l.init({eWrapper:p,valueFormatter:v,onPillMouseDown:b=>{b.stopImmediatePropagation()},announceItemFocus:()=>{this.announceAriaValue(C)},getValue:()=>this.getValue(),setValue:b=>this.setValue(b,!0)})}this.doWhileBlockingAnnouncement(()=>this.pillContainer?.refresh())}doWhileBlockingAnnouncement(a){this.skipWrapperAnnouncement=!0,a(),this.skipWrapperAnnouncement=!1}onWrapperFocus(){let{eInput:a,config:l}=this,{allowTyping:d,multiSelect:p,suppressDeselectAll:C}=l;if(d){let v=a.getFocusableElement();v.focus(),v.select()}else p&&!C&&!this.skipWrapperAnnouncement&&this.announceAriaValue(this.ariaDeselectAllItems)}onWrapperFocusOut(a){this.eWrapper.contains(a.relatedTarget)||this.hidePicker()}onDeselectAllMouseDown(a){a.stopImmediatePropagation()}onDeselectAllClick(){this.setValue([],!0)}buildSearchStringFromKeyboardEvent(a){let{key:l}=a;if(l===g.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),l="";else if(!(0,g._isEventFromPrintableCharacter)(a))return;a.preventDefault(),this.searchTextFromCharacter(l)}searchTextFromCharacter(a){this.searchString+=a,this.runSearch(),this.clearSearchString()}searchTextFromString(a){a==null&&(a=""),this.searchString=a,this.runSearch()}getSearchStringsFromValues(a){let{config:l}=this,{valueFormatter:d=p=>String(p)}=l;return typeof a[0]=="object"&&this.searchStringCreator?this.searchStringCreator(a):a.map(p=>d(p))}filterListModel(a){let{filterList:l}=this.config;l&&this.setValueList({valueList:a,refresh:!0})}runSearch(){if(!this.listComponent)return;let{values:a}=this,l=this.searchStrings;if(!l){this.listComponent.highlightIndex(-1);return}let{suggestions:d,filteredValues:p}=this.getSuggestionsAndFilteredValues(this.searchString,l),{filterList:C,highlightMatch:v,searchType:b="fuzzy"}=this.config,R=!!(C&&this.searchString!=="");this.filterListModel(R?p:a),this.highlightEmptyValue()||this.highlightListValue(d,p,R),v&&b!=="fuzzy"&&this.listComponent?.highlightFilterMatch(this.searchString),this.displayOrHidePicker()}highlightEmptyValue(){if(this.searchString===""){let a=this.searchStrings?.indexOf("");if(a!==void 0&&a!==-1)return this.listComponent?.highlightIndex(a),!0}return!1}highlightListValue(a,l,d){if(a.length){let p=d?0:this.searchStrings?.indexOf(a[0]);p!==void 0&&this.listComponent?.highlightIndex(p)}else if(this.listComponent?.highlightIndex(-1),!d||l.length)this.listComponent?.ensureIndexVisible(0);else if(d){this.getAriaElement().removeAttribute("data-active-option");let p=this.listComponent?.getAriaElement();p&&(0,g._setAriaActiveDescendant)(p,null)}}getSuggestionsAndFilteredValues(a,l){let d=[],p=[];if(!a.length)return{suggestions:d,filteredValues:p};let{searchType:C="fuzzy",filterList:v}=this.config;if(C==="fuzzy"){let b=(0,g._fuzzySuggestions)({inputValue:a,allSuggestions:l,hideIrrelevant:!0});d=b.values;let R=b.indices;if(v&&R.length)for(let x=0;x<R.length;x++)p.push(this.values[R[x]])}else d=l.filter((b,R)=>{let x=b.toLocaleLowerCase(),E=this.searchString.toLocaleLowerCase(),T=C==="match"?x.startsWith(E):x.indexOf(E)!==-1;return v&&T&&p.push(this.values[R]),T});return{suggestions:d,filteredValues:p}}displayOrHidePicker(){if(!this.listComponent)return;let a=this.listComponent.getGui(),l=this.listComponent.getCurrentList(),d=l?l.length===0:!1;a.classList.toggle("ag-hidden",d)}clearSearchString(){this.searchString=""}setValue(a,l,d,p){if(this.value===a)return this;let C=Array.isArray(a);if(a!=null){if(!C){let v=this.listComponent?.getCurrentList();if((v?v.indexOf(a):-1)===-1)return this}d||this.listComponent?.selectValue(a)}return super.setValue(a,l),p||this.renderSelectedValue(),this}onNavigationKeyDown(a,l,d){a.preventDefault();let p=l===g.KeyCode.DOWN;if(!this.isPickerDisplayed&&p){this.showPicker();return}this.listComponent?.onNavigationKeyDown(l,d)}onEnterKeyDown(a){if(this.isPickerDisplayed&&(a.preventDefault(),this.listComponent?.getCurrentList())){let l=this.listComponent.getLastItemHovered();this.config.multiSelect||l==null?this.dispatchPickerEventAndHidePicker(this.value,!0):this.onListValueSelected(new Set([l]),!0)}}onDeleteKeyDown(a){let{eWrapper:l,beans:d}=this;(0,g._getActiveDomElement)(d)===l&&(a.preventDefault(),this.setValue([],!0))}onTabKeyDown(){let{config:a,isPickerDisplayed:l,listComponent:d}=this,{multiSelect:p}=a;if(!(!l||!d)){if(p){let C=this.getValueFromSet(d.getSelectedItems());C&&this.setValue(C,!1,!0,!0)}else if(a.allowAnyText){let C=this.listComponent.getCurrentList();if(C.length!==0){let v=this.eInput.getInputElement().value,b=C.find(R=>R.startsWith(v));b&&this.setValue(b,!1,!0)}}else this.setValue(d.getLastItemHovered(),!1,!0);this.hidePicker()}}getValueFromSet(a){let{multiSelect:l}=this.config,d=null;for(let p of a){if(a.size===1&&!l){d=p;break}d||(d=[]),d.push(p)}return Array.isArray(d)&&d.sort(),d}onListValueSelected(a,l){let d=this.getValueFromSet(a);this.setValue(d,!1,!0),this.config.multiSelect||this.dispatchPickerEventAndHidePicker(d,l)}dispatchPickerEventAndHidePicker(a,l){let d={type:"fieldPickerValueSelected",fromEnterKey:l,value:a};this.dispatchLocalEvent(d),this.hidePicker()}getFocusableElement(){let{allowTyping:a}=this.config;return a?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(a){let{key:l}=a,{isPickerDisplayed:d,config:p,listComponent:C,pickerComponent:v}=this,{allowTyping:b,multiSelect:R,suppressDeselectAll:x}=p;switch(l){case g.KeyCode.LEFT:case g.KeyCode.RIGHT:(!b||this.pillContainer)&&(a.preventDefault(),this.pillContainer&&(this.listComponent?.highlightIndex(-1),this.pillContainer.onNavigationKeyDown(a)));break;case g.KeyCode.PAGE_HOME:case g.KeyCode.PAGE_END:if(b){a.preventDefault();let E=this.eInput.getInputElement(),T=l===g.KeyCode.PAGE_HOME?0:E.value.length;E.setSelectionRange(T,T);break}case g.KeyCode.PAGE_UP:case g.KeyCode.PAGE_DOWN:a.preventDefault(),v&&C?.navigateToPage(l);break;case g.KeyCode.DOWN:case g.KeyCode.UP:this.onNavigationKeyDown(a,l,()=>{R&&(this.doWhileBlockingAnnouncement(()=>this.eWrapper.focus()),this.announceAriaValue(this.ariaToggleSelection))});break;case g.KeyCode.ESCAPE:d&&((0,g._isVisible)(this.listComponent.getGui())&&(a.preventDefault(),(0,g._stopPropagationForAgGrid)(a)),this.hidePicker());break;case g.KeyCode.ENTER:this.onEnterKeyDown(a);break;case g.KeyCode.SPACE:if(d&&R&&C){a.preventDefault();let E=C.getLastItemHovered();E&&C.toggleListItemSelection(E)}break;case g.KeyCode.TAB:this.onTabKeyDown();break;case g.KeyCode.DELETE:R&&!x&&this.onDeleteKeyDown(a);break;default:b||this.buildSearchStringFromKeyboardEvent(a)}}announceAriaValue(a){this.ariaAnnounce?.announceValue(a,"richSelect")}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),this.searchStrings=void 0,super.destroy()}}h.AgRichSelect=r;function i(o,a){o.then(l=>{let d=l.getGui();d!=null&&(typeof d=="object"?a.appendChild(d):a.innerHTML=d)})}h._bindCellRendererToHtmlElement=i},5805:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AgRichSelectList=void 0;let g=S(6624),M=S(7793),P=S(7904),f="ag-rich-select-list",c="ag-rich-select-row";class r extends P.VirtualList{constructor(o,a,l){super({cssIdentifier:"rich-select"}),this.params=o,this.richSelectWrapper=a,this.getSearchString=l,this.lastRowHovered=-1,this.selectedItems=new Set,this.params=o,this.setComponentCreator(this.createRowComponent.bind(this)),this.setComponentUpdater(()=>{})}postConstruct(){super.postConstruct(),this.createLoadingElement();let{cellRowHeight:o,pickerAriaLabelKey:a,pickerAriaLabelValue:l}=this.params;o&&this.setRowHeight(o);let d=this.getGui(),p=this.getAriaElement();this.addManagedListeners(d,{mousemove:this.onMouseMove.bind(this),mouseout:this.onMouseOut.bind(this),mousedown:this.onMouseDown.bind(this),click:this.onClick.bind(this)}),d.classList.add(f);let C=`${f}-${this.getCompId()}`;p.setAttribute("id",C);let b=this.getLocaleTextFunc()(a,l);(0,g._setAriaLabel)(p,b),(0,g._setAriaControls)(this.richSelectWrapper,p)}navigateToPage(o){let a=super.navigateToPage(o,this.lastRowHovered);return a!=null&&(0,g._requestAnimationFrame)(this.beans,()=>{if(!this.isAlive())return null;this.highlightIndex(a)}),a}drawVirtualRows(o){super.drawVirtualRows(o),this.refreshSelectedItems()}highlightFilterMatch(o){this.forEachRenderedRow(a=>{a.highlightString(o)})}onNavigationKeyDown(o,a){(0,g._requestAnimationFrame)(this.beans,()=>{if(!this.currentList||!this.isAlive())return;let l=this.currentList.length,d=this.lastRowHovered,p=o===g.KeyCode.DOWN?1:-1,C=Math.min(Math.max(d===-1?0:d+p,0),l-1);this.highlightIndex(C),a()})}selectValue(o){if(!this.currentList)return this.eLoading&&this.appendChild(this.eLoading),!1;if(this.eLoading?.offsetParent&&this.eLoading.parentElement?.removeChild(this.eLoading),o==null)return!1;let a=this.getIndicesForValues(o),l=a.length>0;return l&&(this.refresh(),this.ensureIndexVisible(a[0]),this.refresh(!0)),this.selectListItems(Array.isArray(o)?o:[o]),l}selectListItems(o,a=!1){a||this.selectedItems.clear();for(let l=0;l<o.length;l++){let d=o[l];this.findItemInSelected(d)===void 0&&this.selectedItems.add(d)}this.refreshSelectedItems()}getCurrentList(){return this.currentList}setCurrentList(o){this.currentList=o,this.setModel({getRowCount:()=>o.length,getRow:a=>o[a],areRowsEqual:(a,l)=>a===l})}getSelectedItems(){return this.selectedItems}getLastItemHovered(){return this.currentList[this.lastRowHovered]}highlightIndex(o,a){this.currentList&&(o<0||o>=this.currentList.length?this.lastRowHovered=-1:(this.lastRowHovered=o,this.ensureIndexVisible(o,!a)&&!a&&this.refresh(!0)),this.forEachRenderedRow((l,d)=>{let p=o===d;if(l.toggleHighlighted(p),p){let C=`${c}-${l.getCompId()}`;(0,g._setAriaActiveDescendant)(this.richSelectWrapper,C),this.richSelectWrapper.setAttribute("data-active-option",C)}}))}getIndicesForValues(o){let{currentList:a}=this;if(!a||a.length===0||o==null)return[];if(Array.isArray(o)||(o=[o]),o.length===0)return[];let{valueFormatter:l}=this.params,d=[],p=typeof o[0]=="object",C=a.map(l);for(let v of o){let b=-1;p?b=C.indexOf(l(v)):b=a.indexOf(v),b>=0&&d.push(b)}return d}toggleListItemSelection(o){let a=this.findItemInSelected(o);a!==void 0?this.selectedItems.delete(a):this.selectedItems.add(o),this.refreshSelectedItems(),this.dispatchValueSelected()}refreshSelectedItems(){this.forEachRenderedRow(o=>{let a=this.findItemInSelected(o.getValue())!==void 0;o.updateSelected(a)})}findItemInSelected(o){if(typeof o=="object"){let a=this.params.valueFormatter,l=a(o);for(let d of this.selectedItems)if(a(d)===l)return d}else return this.selectedItems.has(o)?o:void 0}createLoadingElement(){let o=(0,g._getDocument)(this.beans),a=this.getLocaleTextFunc(),l=o.createElement("div");l.classList.add("ag-loading-text"),l.innerText=a("loadingOoo","Loading..."),this.eLoading=l}createRowComponent(o,a){let l=new M.RichSelectRow(this.params);a.setAttribute("id",`${c}-${l.getCompId()}`),l.setParentComponent(this),this.createBean(l),l.setState(o);let{highlightMatch:d,searchType:p="fuzzy"}=this.params;return d&&p!=="fuzzy"&&l.highlightString(this.getSearchString()),l}getRowForMouseEvent(o){let l=this.getGui().getBoundingClientRect(),d=this.getScrollTop(),p=o.clientY-l.top+d;return Math.min(Math.floor(p/this.getRowHeight()),this.model.getRowCount()-1)}onMouseMove(o){let a=this.getRowForMouseEvent(o);a!==-1&&a!=this.lastRowHovered&&(this.lastRowHovered=a,this.highlightIndex(a,!0))}onMouseDown(o){o.preventDefault()}onMouseOut(o){this.getGui().contains(o.relatedTarget)||this.highlightIndex(-1)}onClick(o){let{multiSelect:a}=this.params;if(!this.currentList)return;let l=this.getRowForMouseEvent(o),d=this.currentList[l];a?this.toggleListItemSelection(d):(this.selectListItems([d]),this.dispatchValueSelected())}dispatchValueSelected(){this.dispatchLocalEvent({type:"richSelectListRowSelected",fromEnterKey:!1,value:this.selectedItems})}destroy(){super.destroy(),this.eLoading=void 0}}h.AgRichSelectList=r},7793:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.RichSelectRow=void 0;let g=S(6624),M=S(2005),P={tag:"div",cls:"ag-rich-select-row",role:"presentation"};class f extends g.Component{wireBeans(r){this.userCompFactory=r.userCompFactory,this.registry=r.registry}constructor(r){super(P),this.params=r}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),shouldDisplayTooltip:()=>this.shouldDisplayTooltip?.()??!0}))}setState(r){let{params:i}=this,o=i.valueFormatter?.(r)??"";this.populateWithRenderer(r,o)||this.populateWithoutRenderer(r,o),this.value=r}highlightString(r){let{parsedValue:i}=this;if(this.params.cellRenderer||!(0,g._exists)(i))return;let o=(0,g._exists)(r);if(o){let a=i?.toLocaleLowerCase().indexOf(r.toLocaleLowerCase());if(a>=0){let l=a+r.length,d=(0,g._escapeString)(i.slice(0,a),!0),p=(0,g._escapeString)(i.slice(a,l),!0),C=(0,g._escapeString)(i.slice(l));this.renderValueWithoutRenderer(`${d}<span class="ag-rich-select-row-text-highlight">${p}</span>${C}`)}else o=!1}o||this.renderValueWithoutRenderer(i)}updateSelected(r){let i=this.getGui();(0,g._setAriaSelected)(i.parentElement,r),this.addOrRemoveCssClass("ag-rich-select-row-selected",r)}getValue(){return this.value}toggleHighlighted(r){this.addOrRemoveCssClass("ag-rich-select-row-highlighted",r)}populateWithoutRenderer(r,i){let o=(0,g._getDocument)(this.beans),a=this.getGui(),l=o.createElement("span");l.style.overflow="hidden",l.style.textOverflow="ellipsis";let d=(0,g._escapeString)((0,g._exists)(i)?i:r,!0);this.parsedValue=(0,g._exists)(d)?d:null,a.appendChild(l),this.renderValueWithoutRenderer(d),this.shouldDisplayTooltip=(0,g._shouldDisplayTooltip)(()=>l),this.tooltipFeature?.setTooltipAndRefresh(this.parsedValue)}renderValueWithoutRenderer(r){let i=this.getGui().querySelector("span");i&&(i.innerHTML=(0,g._exists)(r)?r:"&nbsp;")}populateWithRenderer(r,i){let o,a;if(this.params.cellRenderer){let l=this.getParentComponent()?.getParentComponent();a=(0,g._getEditorRendererDetails)(this.userCompFactory,this.params,(0,g._addGridCommonParams)(this.gos,{value:r,valueFormatted:i,getValue:()=>l?.getValue(),setValue:d=>{l?.setValue(d,!0)},setTooltip:(d,p)=>{this.gos.assertModuleRegistered("Tooltip",3),this.shouldDisplayTooltip=p,this.tooltipFeature?.setTooltipAndRefresh(d)}}))}return a&&(o=a.newAgStackInstance()),o&&(0,M._bindCellRendererToHtmlElement)(o,this.getGui()),o?(o.then(l=>{this.addDestroyFunc(()=>{this.destroyBean(l)})}),!0):!1}}h.RichSelectRow=f},7685:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.menuCSS=void 0,h.menuCSS='.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}'},3375:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.MenuItemModule=void 0;let g=S(7205),M=S(3360),P=S(7685);h.MenuItemModule={moduleName:"MenuItem",version:g.VERSION,userComponents:{agMenuItem:M.AgMenuItemRenderer},icons:{check:"tick",subMenuOpen:"small-right",subMenuOpenRtl:"small-left"},css:[P.menuCSS]}},3173:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PillDragComp=void 0;let g=S(6624),M={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]};class P extends g.Component{constructor(c,r,i,o,a){super(),this.dragSourceDropTarget=c,this.ghost=r,this.horizontal=i,this.template=o,this.agComponents=a,this.eText=g.RefPlaceholder,this.eDragHandle=g.RefPlaceholder,this.eButton=g.RefPlaceholder}postConstruct(){this.setTemplate(this.template??M,this.agComponents);let c=this.getGui(),{beans:r,eDragHandle:i,eText:o,eButton:a}=this;this.addElementClasses(c),this.addElementClasses(i,"drag-handle"),this.addElementClasses(o,"text"),this.addElementClasses(a,"button"),i.appendChild((0,g._createIconNoSpan)("columnDrag",r)),a.appendChild((0,g._createIconNoSpan)("cancel",r)),this.tooltipFeature=this.createOptionalManagedBean(r.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){let c=this.getLocaleTextFunc(),r=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(r,c),(0,g._setAriaLabel)(this.getGui(),r.join(". "))}addAdditionalAriaInstructions(c,r){if(this.isRemovable()){let i=r("ariaDropZoneColumnComponentDescription","Press DELETE to remove");c.push(i)}}setupTooltip(){let c=()=>this.tooltipFeature?.setTooltipAndRefresh(this.getTooltip());c(),this.addManagedEventListeners({newColumnsLoaded:c})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){let{beans:{dragAndDrop:c},eDragHandle:r}=this,i=this.createGetDragItem(),o=this.getDefaultIconName(),a={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:r,getDefaultIconName:()=>o,getDragItem:i,dragItemName:this.getDisplayName()};c?.addDragSource(a,!0),this.addDestroyFunc(()=>c?.removeDragSource(a))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){(0,g._setDisplayed)(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();let c={type:"columnRemove"};this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addManagedElementListeners(this.eButton,{click:i=>{this.dispatchLocalEvent(c),i.stopPropagation()}});let r=new g.TouchListener(this.eButton);this.addManagedListeners(r,{tap:()=>this.dispatchLocalEvent(c)}),this.addDestroyFunc(r.destroy.bind(r))}onKeyDown(c){c.key===g.KeyCode.DELETE&&this.isRemovable()&&(c.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){let c=this.getDisplayValue(),r=(0,g._escapeString)(c);this.eText.innerHTML=r}addElementClasses(c,r){r=r?`-${r}`:"";let i=this.horizontal?"horizontal":"vertical";c.classList.add(`ag-column-drop-cell${r}`,`ag-column-drop-${i}-cell${r}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}}h.PillDragComp=P},7496:function(B,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.pillDropZonePanelCSS=void 0,h.pillDropZonePanelCSS=".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}"},9733:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.PillDropZonePanel=void 0;let g=S(6624),M=S(7496);function P(r,i,o){r==null||i==null||r.splice(o,0,...i)}let f={tag:"div",cls:"ag-unselectable",role:"presentation"};class c extends g.Component{constructor(i){super(f),this.horizontal=i,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=(0,g._createElement)({tag:"div"}),this.addElementClasses(this.ePillDropList,"list"),this.registerCSS(M.pillDropZonePanelCSS)}toggleResizable(i){this.positionableFeature.setResizable(i?{bottom:!0}:!1),this.resizeEnabled=i}isSourceEventFromTarget(i){let{dropZoneTarget:o,dragSource:a}=i;return o.contains(a.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(i=>i()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,(0,g._clearElement)(this.getGui()),(0,g._clearElement)(this.ePillDropList)}init(i){this.params=i??{},this.createManagedBean(new g.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new g.PositionableFeature(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),(0,g._setAriaLabel)(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(i){let o=(0,g._findFocusableElements)(this.getFocusableElement(),null,!0),a=o.length;if(a===0)return;let{shiftKey:l}=i,d=(0,g._getActiveDomElement)(this.beans),p=d===o[0],C=d===(0,g._last)(o);a===1||p&&l||C&&!l||o[l?0:a-1].focus()}onKeyDown(i){let{key:o}=i,a=!this.horizontal,l=o===g.KeyCode.DOWN,d=o===g.KeyCode.UP;if(!a){let p=this.gos.get("enableRtl");l=!p&&o===g.KeyCode.RIGHT||p&&o===g.KeyCode.LEFT,d=!p&&o===g.KeyCode.LEFT||p&&o===g.KeyCode.RIGHT}if(!(!l&&!d))if(i.preventDefault(),i.shiftKey)this.moveFocusedItem(d);else{let p=(0,g._findNextFocusableElement)(this.beans,this.getFocusableElement(),!1,d);p&&p.focus()}}moveFocusedItem(i){let o=this.getFocusedItem();if(o===-1)return;let a=i?-1:1;if(!this.normalizeAndUpdateInsertIndex(o,o+a))return;let d=this.childPillComponents[o];if(!d.isMovable())return;let p=d.getItem();this.focusItemAtIndex(this.insertIndex),this.rearrangeItems([p],!0)}addElementClasses(i,o){o=o?`-${o}`:"";let a=this.horizontal?"horizontal":"vertical";i.classList.add(`ag-column-drop${o}`,`ag-column-drop-${a}${o}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDrop?.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(i){let o=this.getNewInsertIndex(i);return o<0?!1:this.normalizeAndUpdateInsertIndex(this.insertIndex,o)}normalizeAndUpdateInsertIndex(i,o){let a=this.minimumAllowedNewInsertIndex(),l=Math.max(a,o),d=l!==i;return d&&(this.insertIndex=l),d}getNewInsertIndex(i){let o=i.event,a=this.horizontal?o.clientX:o.clientY,l=this.childPillComponents.map(p=>p.getGui().getBoundingClientRect()),d=l.findIndex(p=>this.horizontal?p.right>a&&p.left<a:p.top<a&&p.bottom>a);if(d===-1){let p=this.gos.get("enableRtl");return l.every(b=>a>(this.horizontal?b.right:b.bottom))?p&&this.horizontal?0:this.childPillComponents.length:l.every(b=>a<(this.horizontal?b.left:b.top))?p&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=d?d+1:d}checkDragStartedBySelf(i){this.state==="notDragging"&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(i.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(i),this.refreshGui())}onDragging(i){this.checkDragStartedBySelf(i),this.checkInsertIndex(i)&&this.refreshGui()}handleDragEnterEnd(i){}onDragEnter(i){let o=this.getItems(i.dragSource.getDragItem());this.state="newItemsIn";let a=o.filter(d=>this.isItemDroppable(d,i)),l=a.every(d=>this.childPillComponents.map(p=>p.getItem()).indexOf(d)!==-1);if(a.length!==0){if(this.potentialDndItems=a,l){this.state="notDragging";return}this.handleDragEnterEnd(i),this.checkInsertIndex(i),this.refreshGui()}}isPotentialDndItems(){return!!this.potentialDndItems?.length}handleDragLeaveEnd(i){}onDragLeave(i){if(this.state==="rearrangeItems"){let o=this.getItems(i.dragSource.getDragItem());this.removeItems(o)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(i),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(i){this.isPotentialDndItems()&&(this.state==="newItemsIn"&&this.handleDragLeaveEnd(i),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&(this.state==="newItemsIn"?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(i){let o=this.getExistingItems().filter(a=>!i.includes(a));this.updateItems(o)}addItems(i){if(!i)return;let o=this.getExistingItems().slice(),a=i.filter(l=>o.indexOf(l)<0);P(o,a,this.insertIndex),this.updateItems(o)}addItem(i){this.insertIndex=this.getExistingItems().length,this.addItems([i]),this.refreshGui()}rearrangeItems(i,o){let a;return o?a=this.getExistingItems().filter(l=>i.indexOf(l)===-1):a=this.getNonGhostItems().slice(),P(a,i,this.insertIndex),(0,g._areEqual)(a,this.getExistingItems())?!1:(this.updateItems(a),!0)}refreshGui(){let i=0;this.horizontal||(i=this.ePillDropList.scrollTop);let o=this.resizeEnabled,a=this.getFocusedItem(),{eGridDiv:l}=this.beans,d=(0,g._isKeyboardMode)(),p=null;d&&(p=(0,g._findNextFocusableElement)(this.beans,l)??(0,g._findNextFocusableElement)(this.beans,l,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),i!==0&&(this.ePillDropList.scrollTop=i),o&&this.toggleResizable(o),d&&this.restoreFocus(a,p)}getFocusedItem(){let i=this.getGui(),o=(0,g._getActiveDomElement)(this.beans);return i.contains(o)?Array.from(i.querySelectorAll(".ag-column-drop-cell")).indexOf(o):-1}focusItemAtIndex(i){let o=this.getGui(),l=Array.from(o.querySelectorAll(".ag-column-drop-cell"))[i];l&&l.focus({preventScroll:!0})}restoreFocus(i,o){let a=this.getGui(),l=Array.from(a.querySelectorAll(".ag-column-drop-cell"));if(i===-1)return;l.length===0&&o.focus();let d=Math.min(l.length-1,i),p=l[d];p&&p.focus()}focusList(i){let o=i?this.childPillComponents.length-1:0;this.restoreFocus(o,this.getFocusableElement())}getNonGhostItems(){let i=this.getExistingItems();return this.isPotentialDndItems()?i.filter(o=>!this.potentialDndItems.includes(o)):i}addItemsToGui(){let o=this.getNonGhostItems().map(a=>this.createItemComponent(a,!1));if(this.isPotentialDndItems()){let a=this.potentialDndItems.map(l=>this.createItemComponent(l,!0));this.insertIndex>=o.length?o.push(...a):o.splice(this.insertIndex,0,...a)}this.appendChild(this.ePillDropList),o.forEach((a,l)=>{l>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){let{childPillComponents:i,ePillDropList:o}=this,a=i.length;(0,g._setAriaRole)(o,a===0?"presentation":"listbox");for(let l=0;l<a;l++){let p=i[l].getGui();(0,g._setAriaPosInSet)(p,l+1),(0,g._setAriaSetSize)(p,a)}}createItemComponent(i,o){let a=this.createPillComponent(i,this.dropTarget,o,this.horizontal);return a.addEventListener("columnRemove",this.removeItems.bind(this,[i])),this.createBean(a),this.guiDestroyFunctions.push(()=>this.destroyBean(a)),o||this.childPillComponents.push(a),a}addIconAndTitleToGui(){let{title:i,icon:o}=this.params;if(!i||!o)return;let a=(0,g._createElement)({tag:"div"});if((0,g._setAriaHidden)(a,!0),this.addElementClasses(a,"title-bar"),this.addElementClasses(o,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),a.appendChild(o),!this.horizontal){let l=(0,g._createElement)({tag:"span"});this.addElementClasses(l,"title"),l.textContent=i,a.appendChild(l)}this.appendChild(a)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){let{emptyMessage:i}=this.params;if(!i||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;let o=(0,g._createElement)({tag:"span"});o.textContent=i,this.addElementClasses(o,"empty-message"),this.ePillDropList.appendChild(o)}addArrow(i){if(this.horizontal){let o=this.gos.get("enableRtl"),a=(0,g._createIconNoSpan)(o?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(a,"cell-separator"),i.appendChild(a)}}}h.PillDropZonePanel=c},5875:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.TabbedLayout=void 0;let g=S(6624),M=S(6242);function P(c){return{tag:"div",cls:`ag-tabs ${c}`,children:[{tag:"div",ref:"eHeader"},{tag:"div",ref:"eBody",role:"presentation",cls:`ag-tabs-body ${c?`${c}-body`:""}`}]}}class f extends g.TabGuardComp{constructor(r){super(P(r.cssClass)),this.eHeader=g.RefPlaceholder,this.eBody=g.RefPlaceholder,this.items=[],this.tabbedItemScrollMap=new Map,this.params=r}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(r=>this.addItem(r)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>this.activeItem?.tabbedItem?.afterDetachedCallback?.())}setupHeader(){let{enableCloseButton:r,cssClass:i}=this.params,o=(a,l)=>{a.classList.add(`ag-tabs-${l}`),i&&a.classList.add(`${i}-${l}`)};r?(this.setupCloseButton(o),this.eTabHeader=(0,g._getDocument)(this.beans).createElement("div"),o(this.eHeader,"header-wrapper"),(0,g._setAriaRole)(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,(0,g._setAriaRole)(this.eTabHeader,"tablist"),o(this.eTabHeader,"header")}setupCloseButton(r){let i=(0,g._getDocument)(this.beans),o=i.createElement("button");r(o,"close-button");let a=(0,g._createIconNoSpan)("close",this.beans);(0,g._setAriaLabel)(o,this.params.closeButtonAriaLabel),o.appendChild(a),this.addManagedElementListeners(o,{click:()=>this.params.onCloseClicked?.()});let l=i.createElement("div");r(l,"close-button-wrapper"),(0,g._setAriaRole)(l,"presentation"),l.appendChild(o),this.eHeader.appendChild(l),this.eCloseButton=o}handleKeyDown(r){switch(r.key){case g.KeyCode.RIGHT:case g.KeyCode.LEFT:{if(!this.eTabHeader.contains((0,g._getActiveDomElement)(this.beans)))return;let i=r.key===g.KeyCode.RIGHT,o=this.gos.get("enableRtl"),a=this.items.indexOf(this.activeItem),l=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===l)return;r.preventDefault();let d=this.items[l];this.showItemWrapper(d),d.eHeaderButton.focus();break}case g.KeyCode.UP:case g.KeyCode.DOWN:r.stopPropagation();break}}onTabKeyDown(r){if(r.defaultPrevented)return;let{beans:i,eHeader:o,eBody:a,activeItem:l,params:d}=this,{suppressTrapFocus:p,enableCloseButton:C}=d,v=(0,g._getActiveDomElement)(i),b=r.target,R=r.shiftKey;if(o.contains(v)){r.preventDefault(),C&&R&&!this.eCloseButton?.contains(v)?this.eCloseButton?.focus():p&&R?(0,M.findFocusableElementBeforeTabGuard)((0,g._getDocument)(i).body,b)?.focus():this.focusBody(r.shiftKey);return}let x=null;if((0,M.isTargetUnderManagedComponent)(a,b)&&(R&&(x=(0,M.findFocusableElementBeforeTabGuard)(a,b)),!x&&!p&&(x=l.eHeaderButton)),!x&&a.contains(v)&&(x=(0,g._findNextFocusableElement)(i,a,!1,R),!x)){p&&!R?this.forceFocusOutOfContainer(R):C&&!R?(r.preventDefault(),this.eCloseButton?.focus()):(r.preventDefault(),this.focusHeader());return}x&&(r.preventDefault(),x.focus())}focusInnerElement(r){return r?this.focusBody(!0):(this.focusHeader(),!0)}focusHeader(r){this.activeItem.eHeaderButton.focus({preventScroll:r})}focusBody(r){return(0,g._focusInto)(this.eBody,r)}setAfterAttachedParams(r){this.afterAttachedParams=r}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(r){let i=(0,g._createElement)({tag:"span",cls:"ag-tab",role:"tab",attrs:{tabindex:"-1"}});i.appendChild(r.title),this.eTabHeader.appendChild(i),(0,g._setAriaLabel)(i,r.titleLabel);let o={tabbedItem:r,eHeaderButton:i};this.items.push(o),i.addEventListener("click",this.showItemWrapper.bind(this,o))}showItem(r){let i=this.items.find(o=>o.tabbedItem===r);i&&this.showItemWrapper(i)}showItemWrapper(r){let{tabbedItem:i,eHeaderButton:o}=r;if(this.params.onItemClicked?.({item:i}),this.activeItem===r){this.params.onActiveItemClicked?.();return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),(0,g._clearElement)(this.eBody),i.bodyPromise.then(a=>{this.eBody.appendChild(a);let l=!(0,g._isKeyboardMode)();if(this.params.suppressFocusBodyOnOpen||(0,g._focusInto)(this.eBody,!1,l),i.afterAttachedCallback&&i.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){let d=i.getScrollableContainer&&i.getScrollableContainer()||a;[this.lastScrollListener]=this.addManagedElementListeners(d,{scroll:()=>{this.tabbedItemScrollMap.set(i.name,d.scrollTop)}});let p=this.tabbedItemScrollMap.get(i.name);p!==void 0&&setTimeout(()=>{d.scrollTop=p},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),this.activeItem.tabbedItem.afterDetachedCallback?.()),o.classList.add("ag-tab-selected"),this.activeItem=r}}h.TabbedLayout=f},7904:function(B,h,S){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.VirtualList=void 0;let g=S(6624);function M(f){return{tag:"div",cls:`ag-virtual-list-viewport ag-${f}-virtual-list-viewport`,role:"presentation",children:[{tag:"div",ref:"eContainer",cls:`ag-virtual-list-container ag-${f}-virtual-list-container`}]}}class P extends g.TabGuardComp{wireBeans(c){this.environment=c.environment}constructor(c){super(M(c?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=g.RefPlaceholder,this.awaitStableCallbacks=[];let{cssIdentifier:r="default",ariaRole:i="listbox",listName:o,moveItemCallback:a}=c||{};this.cssIdentifier=r,this.ariaRole=i,this.listName=o,this.moveItemCallback=a}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:c=>this.onFocusIn(c),onFocusOut:c=>this.onFocusOut(c),focusInnerElement:c=>this.focusInnerElement(c),onTabKeyDown:c=>this.onTabKeyDown(c),handleKeyDown:c=>this.handleKeyDown(c)}),this.refreshAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(c){c.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}refreshAriaProperties(){let r=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;(0,g._setAriaRole)(i,this.model?.getRowCount()>0?this.ariaRole:"presentation"),(0,g._setAriaLabel)(i,r)}addResizeObserver(){let c=()=>(0,g._requestAnimationFrame)(this.beans,()=>this.drawVirtualRows()),r=(0,g._observeResize)(this.beans,this.getGui(),c);this.addDestroyFunc(r)}focusInnerElement(c){return this.focusRow(c?this.model.getRowCount()-1:0),!0}onFocusIn(c){let r=c.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=(0,g._getAriaPosInSet)(r)-1)}onFocusOut(c){this.getFocusableElement().contains(c.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(c){let{key:r,shiftKey:i}=c;switch(r){case g.KeyCode.UP:case g.KeyCode.DOWN:{let o=r===g.KeyCode.UP;c.preventDefault(),i?this.moveItem(o):this.navigate(o)}break;case g.KeyCode.PAGE_HOME:case g.KeyCode.PAGE_END:case g.KeyCode.PAGE_UP:case g.KeyCode.PAGE_DOWN:this.navigateToPage(r)!==null&&c.preventDefault();break}}onTabKeyDown(c){(0,g._stopPropagationForAgGrid)(c),this.forceFocusOutOfContainer(c.shiftKey)}getNextRow(c){if(this.lastFocusedRowIndex==null)return;let r=this.lastFocusedRowIndex+(c?-1:1);if(!(r<0||r>=this.model.getRowCount()))return r}moveItem(c){if(!this.moveItemCallback)return;let r=this.getComponentAt(this.lastFocusedRowIndex);r&&this.moveItemCallback(r,c)}navigate(c){let r=this.getNextRow(c);r!==void 0&&this.focusRow(r)}navigateToPage(c,r="focused"){let i=!1;r==="focused"&&(r=this.getLastFocusedRow(),i=!0);let o=this.model.getRowCount()-1,a=-1;return c===g.KeyCode.PAGE_HOME?a=0:c===g.KeyCode.PAGE_END?a=o:c===g.KeyCode.PAGE_DOWN?a=Math.min(r+this.pageSize,o):c===g.KeyCode.PAGE_UP&&(a=Math.max(r-this.pageSize,0)),a===-1?null:(i?this.focusRow(a):this.ensureIndexVisible(a),a)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(c){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(c),(0,g._requestAnimationFrame)(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;let r=this.renderedRows.get(c);r&&r.eDiv.focus()}))}getComponentAt(c){let r=this.renderedRows.get(c);return r&&r.rowComponent}forEachRenderedRow(c){this.renderedRows.forEach((r,i)=>c(r.rowComponent,i))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(c,r=!0){let i=this.model.getRowCount();if(typeof c!="number"||c<0||c>=i)return(0,g._warn)(229,{index:c}),!1;let o=c*this.rowHeight,a=o+this.rowHeight,l=this.getGui(),d=l.scrollTop,p=l.offsetHeight,C=d+p,v=r?0:this.rowHeight,b=d>o+v,R=C<a-v;if(b)return l.scrollTop=o,!0;if(R){let x=a-p;return l.scrollTop=x,!0}return!1}setComponentCreator(c){this.componentCreator=c}setComponentUpdater(c){this.componentUpdater=c}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(c){this.isHeightFromTheme=!1,this.rowHeight=c,this.refresh()}refresh(c){if(this.model==null||!this.isAlive())return;let r=this.model.getRowCount();this.eContainer.style.height=`${r*this.rowHeight}px`,this.refreshAriaProperties(),this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(c)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(c){if(this.awaitStableCallbacks.push(c),this.awaitStableCallbacks.length>1)return;let r=this.model.getRowCount();(0,g._waitUntil)(()=>this.eContainer.clientHeight>=r*this.rowHeight,()=>{if(!this.isAlive())return;let i=this.awaitStableCallbacks;this.awaitStableCallbacks=[],i.forEach(o=>o())})}canSoftRefresh(c){return!!(c&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((c,r)=>this.removeRow(r))}drawVirtualRows(c){if(!this.isAlive()||!this.model)return;let r=this.getGui(),i=r.scrollTop,o=i+r.offsetHeight;if(i===o)this.clearVirtualRows();else{let a=Math.floor(i/this.rowHeight),l=Math.floor(o/this.rowHeight);this.pageSize=Math.floor((o-i)/this.rowHeight),this.ensureRowsRendered(a,l,c)}}ensureRowsRendered(c,r,i){this.renderedRows.forEach((o,a)=>{(a<c||a>r)&&a!==this.lastFocusedRowIndex&&this.removeRow(a)}),i&&this.refreshRows();for(let o=c;o<=r;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)}insertRow(c){let r=this.model.getRow(c),i=this.ariaRole==="tree"?"treeitem":"option",o=(0,g._createElement)({tag:"div",cls:`ag-virtual-list-item ag-${this.cssIdentifier}-virtual-list-item`,role:i,attrs:{tabindex:"-1"}});(0,g._setAriaSetSize)(o,this.model.getRowCount()),(0,g._setAriaPosInSet)(o,c+1),o.style.height=`${this.rowHeight}px`,o.style.top=`${this.rowHeight*c}px`;let a=this.componentCreator(r,o);a.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=c),o.appendChild(a.getGui()),this.renderedRows.has(c-1)?this.renderedRows.get(c-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(c+1)?this.renderedRows.get(c+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(c,{rowComponent:a,eDiv:o,value:r})}removeRow(c){let r=this.renderedRows.get(c);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(c)}refreshRows(){let c=this.model.getRowCount();this.renderedRows.forEach((r,i)=>{if(i>=c)this.removeRow(i);else{let o=this.model.getRow(i);this.model.areRowsEqual?.(r.value,o)?this.componentUpdater(o,r.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(c){this.model=c}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}}h.VirtualList=P},6624:function(B){var h=Object.defineProperty,S=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,P=(e,t)=>{for(var s in t)h(e,s,{get:t[s],enumerable:!0})},f=(e,t,s,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of g(t))!M.call(e,u)&&u!==s&&h(e,u,{get:()=>t[u],enumerable:!(n=S(t,u))||n.enumerable});return e},c=e=>f(h({},"__esModule",{value:!0}),e),r={};P(r,{ALWAYS_SYNC_GLOBAL_EVENTS:()=>Ai,AbstractClientSideNodeManager:()=>$l,AgAbstractInputField:()=>is,AgAbstractLabel:()=>jl,AgCheckbox:()=>vi,AgCheckboxSelector:()=>Fo,AgColumn:()=>oo,AgColumnGroup:()=>En,AgInputDateField:()=>ec,AgInputNumberField:()=>xo,AgInputNumberFieldSelector:()=>ql,AgInputTextArea:()=>Jl,AgInputTextField:()=>os,AgInputTextFieldSelector:()=>wi,AgPickerField:()=>nc,AgPromise:()=>nt,AgProvidedColumnGroup:()=>ai,AgRadioButton:()=>Zl,AgSelect:()=>Ao,AgSelectSelector:()=>rc,AgToggleButton:()=>Ql,AgToggleButtonSelector:()=>Nf,AlignedGridsModule:()=>Pu,AllCommunityModule:()=>FP,AutoScrollService:()=>nl,BaseColsService:()=>ig,BaseComponentWrapper:()=>ey,BaseCreator:()=>bd,BaseGridSerializingSession:()=>Rd,BaseSelectionService:()=>Yl,BeanStub:()=>he,CellApiModule:()=>hd,CellRangeType:()=>cc,CellSpanModule:()=>Wu,CellStyleModule:()=>Uu,ChangedPath:()=>Ii,CheckboxEditorModule:()=>gu,ClientSideRowModelApiModule:()=>xu,ClientSideRowModelModule:()=>Fu,ColumnApiModule:()=>Tc,ColumnAutoSizeModule:()=>Nu,ColumnHoverModule:()=>Ku,ColumnKeyCreator:()=>Ra,Component:()=>Oe,CssClassManager:()=>vn,CsvExportModule:()=>Tu,CustomEditorModule:()=>mu,CustomFilterModule:()=>Jd,DateEditorModule:()=>hu,DateFilterModule:()=>tu,DragAndDropModule:()=>Cc,DragSourceType:()=>ol,EventApiModule:()=>$u,ExternalFilterModule:()=>iu,FakeHScrollComp:()=>Ol,FakeVScrollComp:()=>Gl,FilterWrapperComp:()=>fl,GROUP_AUTO_COLUMN_ID:()=>li,GridBodyCtrl:()=>Ll,GridCoreCreator:()=>gd,GridCtrl:()=>hc,GridHeaderCtrl:()=>Nl,GridStateModule:()=>Lu,GroupInstanceIdCreator:()=>Cn,HeaderRowContainerCtrl:()=>zl,HighlightChangesModule:()=>Iu,InfiniteRowModelModule:()=>Du,KeyCode:()=>de,LargeTextEditorModule:()=>fu,LocalEventService:()=>i,LocaleModule:()=>Yu,LocaleService:()=>md,ManagedFocusFeature:()=>Ms,ModuleRegistry:()=>ep,NumberEditorModule:()=>uu,NumberFilterModule:()=>eu,PaginationModule:()=>ku,PinnedRowModule:()=>Hu,PopupComponent:()=>Fs,PositionableFeature:()=>Cl,ProvidedFilter:()=>Sl,QuickFilterModule:()=>su,ROW_NUMBERS_COLUMN_ID:()=>Ma,RefPlaceholder:()=>Se,RenderApiModule:()=>Bu,RowApiModule:()=>Gu,RowAutoHeightModule:()=>Zu,RowContainerCtrl:()=>Dl,RowDragModule:()=>vc,RowNode:()=>Ps,RowSelectionModule:()=>yu,RowStyleModule:()=>ju,SELECTION_COLUMN_ID:()=>pn,ScrollApiModule:()=>_u,SelectEditorModule:()=>pu,ServerSideTransactionResultStatus:()=>Xl,TabGuardClassNames:()=>To,TabGuardComp:()=>Yn,TabGuardCtrl:()=>ac,TabGuardFeature:()=>lc,TextEditorModule:()=>du,TextFilterModule:()=>qd,TooltipFeature:()=>oc,TooltipModule:()=>Xu,TouchListener:()=>xs,UndoRedoEditModule:()=>cu,ValidationModule:()=>Ad,ValueCacheModule:()=>ud,VanillaFrameworkOverrides:()=>dc,_ALL_EVENTS:()=>fd,_ALL_GRID_OPTIONS:()=>Sd,_BOOLEAN_MIXED_GRID_OPTIONS:()=>vd,_ColumnFilterModule:()=>Gi,_ColumnGroupModule:()=>Fc,_ColumnMoveModule:()=>Pc,_CsrmSsrmSharedApiModule:()=>bu,_DragModule:()=>Jn,_EditCoreModule:()=>$t,_EmptyArray:()=>gn,_EmptyBean:()=>og,_FOCUS_MANAGED_CLASS:()=>vl,_FilterCoreModule:()=>Wo,_FilterValueModule:()=>Dr,_HeaderComp:()=>ld,_HorizontalResizeModule:()=>wc,_KeyboardNavigationModule:()=>cd,_PUBLIC_EVENTS:()=>pd,_PopupModule:()=>ki,_ROW_ID_PREFIX_ROW_GROUP:()=>Co,_SharedDragAndDropModule:()=>qn,_SharedExportModule:()=>Eu,_SharedMenuModule:()=>Dd,_SharedRowSelectionModule:()=>Su,_SortModule:()=>Pr,_SsrmInfiniteSharedApiModule:()=>Ru,_addColumnDefaultAndTypes:()=>lo,_addFocusableContainerListener:()=>Ja,_addGridCommonParams:()=>Ae,_anchorElementToMouseMoveEvent:()=>na,_applyColumnState:()=>ut,_areCellsEqual:()=>Fn,_areColIdsEqual:()=>Fa,_areEqual:()=>Jt,_asThemeImpl:()=>Tv,_batchCall:()=>Ji,_canSkipShowingRowGroup:()=>aa,_clearElement:()=>tt,_columnsMatch:()=>mn,_combineAttributesAndGridOptions:()=>Th,_convertColumnEventSourceType:()=>vs,_createCellId:()=>rl,_createColumnTree:()=>Ea,_createElement:()=>Ke,_createGlobalRowEvent:()=>pl,_createIcon:()=>Ul,_createIconNoSpan:()=>Ct,_debounce:()=>qe,_defaultComparator:()=>Ur,_destroyColumnTree:()=>ci,_doOnce:()=>en,_downloadFile:()=>Pd,_errMsg:()=>Wt,_error:()=>Ge,_escapeString:()=>Gt,_exists:()=>we,_findFocusableElements:()=>Ss,_findNextFocusableElement:()=>es,_findTabbableParent:()=>Pn,_flatten:()=>Uh,_focusGridInnerElement:()=>qa,_focusInto:()=>qt,_focusNextGridCoreContainer:()=>bs,_formatNumberCommas:()=>yd,_fuzzySuggestions:()=>xr,_getAbsoluteHeight:()=>Qo,_getAbsoluteWidth:()=>Js,_getActiveDomElement:()=>Ue,_getAriaPosInSet:()=>R,_getCallbackForEvent:()=>un,_getCellByPosition:()=>Rs,_getCellCtrlForEventTarget:()=>Mn,_getCellPositionForEvent:()=>il,_getCellRendererDetails:()=>Sn,_getCheckboxLocation:()=>ii,_getCheckboxes:()=>fs,_getClientSideRowModel:()=>Et,_getColumnState:()=>Ns,_getColumnsFromTree:()=>fn,_getDefaultFloatingFilterType:()=>yl,_getDocument:()=>Xe,_getEditorRendererDetails:()=>Bg,_getFillHandle:()=>Fh,_getFilterDetails:()=>Wa,_getFloatingFilterCompDetails:()=>Ua,_getFloatingFiltersHeight:()=>zn,_getGlobalGridOption:()=>jS,_getGrandTotalRow:()=>yh,_getGridRegisteredModules:()=>Qg,_getGroupAggFiltering:()=>to,_getGroupSelection:()=>ni,_getGroupSelectsDescendants:()=>_s,_getGroupTotalRowCallback:()=>bh,_getGroupingApproach:()=>pa,_getHeaderCheckbox:()=>si,_getHeaderClassesFromColDef:()=>bn,_getHeaderRowCount:()=>_l,_getInnerCellRendererDetails:()=>Ag,_getInnerHeight:()=>ji,_getInnerWidth:()=>Ls,_getIsRowSelectable:()=>io,_getLocaleTextFunc:()=>a,_getMaxConcurrentDatasourceRequests:()=>la,_getNormalisedMousePosition:()=>mo,_getPageBody:()=>eo,_getRootNode:()=>hs,_getRowAbove:()=>fi,_getRowBelow:()=>xn,_getRowContainerClass:()=>mi,_getRowContainerOptions:()=>Hs,_getRowHeightAsNumber:()=>Qt,_getRowHeightForNode:()=>ds,_getRowIdCallback:()=>ps,_getRowNode:()=>pi,_getRowSelectionMode:()=>oi,_getRowSpanContainerClass:()=>El,_getRowViewportClass:()=>Nn,_getServerSideRowModel:()=>Fr,_getShouldDisplayTooltip:()=>Uf,_getSuppressMultiRanges:()=>Mh,_getToolPanelClassesFromColDef:()=>np,_isAnimateRows:()=>gs,_isCellSelectionEnabled:()=>kt,_isClientSideRowModel:()=>st,_isColumnMenuAnchoringEnabled:()=>ga,_isColumnsSortingCoupledToGroup:()=>Ft,_isDomLayout:()=>et,_isElementInEventPath:()=>va,_isEventFromPrintableCharacter:()=>kn,_isGetRowHeightFunction:()=>nn,_isGroupMultiAutoColumn:()=>ra,_isGroupRowsSticky:()=>ln,_isGroupUseEntireRow:()=>so,_isIOSUserAgent:()=>At,_isKeyboardMode:()=>Qa,_isLegacyMenuEnabled:()=>dt,_isMultiRowSelection:()=>Gs,_isNodeOrElement:()=>Zi,_isNothingFocused:()=>an,_isPromise:()=>rg,_isRowBefore:()=>al,_isRowSelection:()=>Zt,_isSameRow:()=>ll,_isServerSideRowModel:()=>cs,_isShowTooltipWhenTruncated:()=>bi,_isStopPropagationForAgGrid:()=>Ot,_isUsingNewCellSelectionAPI:()=>Ph,_isUsingNewRowSelectionAPI:()=>ca,_isVisible:()=>yt,_jsonEquals:()=>ks,_last:()=>Be,_loadTemplate:()=>qs,_makeNull:()=>Lt,_mergeDeep:()=>it,_missing:()=>He,_observeResize:()=>zt,_parseDateTimeFromString:()=>at,_preInitErrMsg:()=>mh,_preserveRangesWhile:()=>rh,_processOnChange:()=>Dh,_radioCssClass:()=>Yo,_removeAriaExpanded:()=>se,_removeAriaSort:()=>K,_removeFromArray:()=>mt,_removeFromParent:()=>ft,_requestAnimationFrame:()=>It,_resetColumnState:()=>_a,_selectAllCells:()=>Fl,_serialiseDate:()=>vt,_setAriaActiveDescendant:()=>Y,_setAriaChecked:()=>ie,_setAriaColCount:()=>ue,_setAriaColIndex:()=>X,_setAriaColSpan:()=>G,_setAriaControls:()=>fe,_setAriaDescribedBy:()=>D,_setAriaDisabled:()=>j,_setAriaExpanded:()=>$,_setAriaHasPopup:()=>Fe,_setAriaHidden:()=>Q,_setAriaLabel:()=>E,_setAriaLabelledBy:()=>T,_setAriaLevel:()=>V,_setAriaPosInSet:()=>Z,_setAriaRole:()=>v,_setAriaRowCount:()=>re,_setAriaRowIndex:()=>oe,_setAriaSelected:()=>q,_setAriaSetSize:()=>W,_setAriaSort:()=>U,_setColMenuVisible:()=>$n,_setDisabled:()=>Tt,_setDisplayed:()=>_e,_setFixedWidth:()=>Mt,_setUmd:()=>qg,_setVisible:()=>Qs,_shouldDisplayTooltip:()=>zs,_shouldUpdateColVisibilityAfterGroup:()=>Rh,_stopPropagationForAgGrid:()=>ms,_toStringOrNull:()=>Qi,_unwrapUserComp:()=>Vs,_updateColsMap:()=>xa,_updateColumnState:()=>Da,_waitUntil:()=>Xr,_warn:()=>Ce,_warnOnce:()=>as,buttonStyleAlpine:()=>Gc,buttonStyleBalham:()=>_c,buttonStyleBase:()=>kc,buttonStyleQuartz:()=>Oc,checkboxStyleDefault:()=>Mi,colorSchemeDark:()=>jv,colorSchemeDarkBlue:()=>Yv,colorSchemeDarkWarm:()=>$v,colorSchemeLight:()=>Nv,colorSchemeLightCold:()=>Wv,colorSchemeLightWarm:()=>Hv,colorSchemeVariable:()=>Fi,columnDropStyleBordered:()=>ko,columnDropStylePlain:()=>cr,createGrid:()=>KS,createPart:()=>Ne,createTheme:()=>Pi,iconOverrides:()=>tw,iconSetAlpine:()=>Uc,iconSetMaterial:()=>jc,iconSetQuartz:()=>_o,iconSetQuartzBold:()=>nw,iconSetQuartzLight:()=>ow,iconSetQuartzRegular:()=>Yc,inputStyleBase:()=>cw,inputStyleBordered:()=>Bo,inputStyleUnderlined:()=>Zc,isColumn:()=>Ut,isColumnGroup:()=>je,isColumnGroupAutoCol:()=>ro,isColumnSelectionCol:()=>_t,isProvidedColumnGroup:()=>ot,isRowNumberCol:()=>Cs,provideGlobalGridOptions:()=>US,styleMaterial:()=>sd,tabStyleAlpine:()=>qc,tabStyleBase:()=>pw,tabStyleMaterial:()=>Jc,tabStyleQuartz:()=>Qc,tabStyleRolodex:()=>ed,themeAlpine:()=>bw,themeBalham:()=>Pw,themeMaterial:()=>xw,themeQuartz:()=>td}),B.exports=c(r);var i=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,s){let n=t?this.allAsyncListeners:this.allSyncListeners,u=n.get(e);return!u&&s&&(u=new Set,n.set(e,u)),u}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,s=!1){this.getListeners(e,s,!0).add(t)}removeEventListener(e,t,s=!1){let n=this.getListeners(e,s,!1);n&&(n.delete(t),n.size===0&&(s?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let s=e.type;if(t&&"event"in e){let y=e.event;y instanceof Event&&(e.eventPath=y.composedPath())}let n=(y,F)=>y.forEach(A=>{if(!F.has(A))return;let I=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>A(e)):()=>A(e);t?this.dispatchAsync(I):I()}),u=this.getListeners(s,t,!1)??new Set,m=new Set(u);m.size>0&&n(m,u),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(y=>{let F=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>y(s,e)):()=>y(s,e);t?this.dispatchAsync(F):F()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function o(e,t){return t}function a(e){return e?.getLocaleTextFunc()??o}function l(e,t,s){s==null||typeof s=="string"&&s==""?p(e,t):d(e,t,s)}function d(e,t,s){e.setAttribute(C(t),s.toString())}function p(e,t){e.removeAttribute(C(t))}function C(e){return`aria-${e}`}function v(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function b(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function R(e){return parseInt(e.getAttribute("aria-posinset"),10)}function x(e){return e.getAttribute("aria-label")}function E(e,t){l(e,"label",t)}function T(e,t){l(e,"labelledby",t)}function D(e,t){l(e,"describedby",t)}function k(e,t){l(e,"live",t)}function O(e,t){l(e,"atomic",t)}function N(e,t){l(e,"relevant",t)}function V(e,t){l(e,"level",t)}function j(e,t){l(e,"disabled",t)}function Q(e,t){l(e,"hidden",t)}function Y(e,t){l(e,"activedescendant",t)}function $(e,t){d(e,"expanded",t)}function se(e){p(e,"expanded")}function W(e,t){d(e,"setsize",t)}function Z(e,t){d(e,"posinset",t)}function ee(e,t){d(e,"multiselectable",t)}function re(e,t){d(e,"rowcount",t)}function oe(e,t){d(e,"rowindex",t)}function ge(e,t){d(e,"rowspan",t)}function ue(e,t){d(e,"colcount",t)}function X(e,t){d(e,"colindex",t)}function G(e,t){d(e,"colspan",t)}function U(e,t){d(e,"sort",t)}function K(e){p(e,"sort")}function q(e,t){l(e,"selected",t)}function ie(e,t){d(e,"checked",t===void 0?"mixed":t)}function fe(e,t){l(e,"controls",t.id),T(t,e.id)}function Fe(e,t){l(e,"haspopup",t===!1?null:t)}function Ie(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var ne,ve,me,ye,Re,Te,ke,ze;function Ve(){return ne===void 0&&(ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ne}function rt(){if(ve===void 0){let e=window;ve=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ve}function pt(){return me===void 0&&(me=/(firefox)/i.test(navigator.userAgent)),me}function Ds(){return ye===void 0&&(ye=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ye}function At(){return Re===void 0&&(Re=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Re}function Is(e){if(!e)return null;let t=e.tabIndex,s=e.getAttribute("tabIndex");return t===-1&&(s===null||s===""&&!pt())?null:t.toString()}function $o(){if(ze!==void 0)return ze;if(!document.body)return-1;let e=1e6,t=pt()?6e6:1e9,s=document.createElement("div");for(document.body.appendChild(s);;){let n=e*2;if(s.style.height=n+"px",n>t||s.clientHeight!==n)break;e=n}return document.body.removeChild(s),ze=e,e}function Xo(){return ke==null&&Ui(),ke}function Ui(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;s===0&&t.clientWidth===0&&(s=null),t.parentNode&&t.parentNode.removeChild(t),s!=null&&(ke=s,Te=s===0)}function Xs(){return Te==null&&Ui(),Te}var Xt;function Yo(e,t,s){let n=e.parentElement,u=n&&n.firstChild;for(;u;)t&&u.classList.toggle(t,u===e),s&&u.classList.toggle(s,u!==e),u=u.nextSibling}var Zo="[tabindex], input, select, button, textarea, [href]",Ys="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Zs(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),u=t.call(e,Ys),m=yt(e);return n&&!u&&m}function _e(e,t,s={}){let{skipAriaHidden:n}=s;e.classList.toggle("ag-hidden",!t),n||Q(e,!t)}function Qs(e,t,s={}){let{skipAriaHidden:n}=s;e.classList.toggle("ag-invisible",!t),n||Q(e,!t)}function Tt(e,t){let s="disabled",n=t?m=>m.setAttribute(s,""):m=>m.removeAttribute(s);n(e);let u=e.querySelectorAll("input")??[];for(let m of u)n(m)}function Dt(e,t,s){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof s=="number"){if(++n>s)break}else if(e===s)break}return!1}function rs(e){let{height:t,width:s,borderTopWidth:n,borderRightWidth:u,borderBottomWidth:m,borderLeftWidth:w,paddingTop:y,paddingRight:F,paddingBottom:A,paddingLeft:I,marginTop:L,marginRight:_,marginBottom:H,marginLeft:z,boxSizing:J}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(s||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(u||"0"),borderBottomWidth:parseFloat(m||"0"),borderLeftWidth:parseFloat(w||"0"),paddingTop:parseFloat(y||"0"),paddingRight:parseFloat(F||"0"),paddingBottom:parseFloat(A||"0"),paddingLeft:parseFloat(I||"0"),marginTop:parseFloat(L||"0"),marginRight:parseFloat(_||"0"),marginBottom:parseFloat(H||"0"),marginLeft:parseFloat(z||"0"),boxSizing:J}}function ji(e){let t=rs(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ls(e){let t=rs(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function Qo(e){let{height:t,marginBottom:s,marginTop:n}=rs(e);return Math.floor(t+s+n)}function Js(e){let{width:t,marginLeft:s,marginRight:n}=rs(e);return Math.floor(t+s+n)}function Br(e){let t=e.getBoundingClientRect(),{borderTopWidth:s,borderLeftWidth:n,borderRightWidth:u,borderBottomWidth:m}=rs(e);return{top:t.top+(s||0),left:t.left+(n||0),right:t.right+(u||0),bottom:t.bottom+(m||0)}}function Ki(){if(typeof Xt=="boolean")return Xt;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Xt=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Xt}function $i(e,t){let s=e.scrollLeft;return t&&(s=Math.abs(s),rt()&&!Ki()&&(s=e.scrollWidth-e.getBoundingClientRect().width-s)),s}function Xi(e,t,s){s&&(Ki()?t*=-1:(Ve()||rt())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function tt(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ft(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Nr(e){return!!e.offsetParent}function yt(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Nr(e)||window.getComputedStyle(e).visibility!=="visible")}function qs(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Vr(e,t,s){s&&s.nextSibling===t||(e.firstChild?s?s.nextSibling?e.insertBefore(t,s.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function Hr(e,t){for(let s=0;s<t.length;s++){let n=t[s],u=e.children[s];u!==n&&e.insertBefore(n,u)}}function sh(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function ei(e,t){if(t)for(let s of Object.keys(t)){let n=t[s];if(!s||!s.length||n==null)continue;let u=sh(s),m=n.toString(),w=m.replace(/\s*!important/g,""),y=w.length!=m.length?"important":void 0;e.style.setProperty(u,w,y)}}function ih(e){return e.clientWidth<e.scrollWidth}function oh(e){return e.clientHeight<e.scrollHeight}function Yi(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Mt(e,t)}function Mt(e,t){t=Jo(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function ti(e,t){t=Jo(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Jo(e){return typeof e=="number"?`${e}px`:e}function Zi(e){return e instanceof Node||e instanceof HTMLElement}function bt(e,t,s){s==null||s===""?e.removeAttribute(t):e.setAttribute(t,s.toString())}function zt(e,t,s){let u=oa(e).ResizeObserver,m=u?new u(s):null;return m?.observe(t),()=>m?.disconnect()}function nh(e){let t=hs(e),s="getSelection"in t?t.getSelection():null,n=[];for(let u=0;u<(s?.rangeCount??0);u++){let m=s?.getRangeAt(u);m&&n.push(m)}return{selection:s,ranges:n}}function rh(e,t){if(!e.gos.get("enableCellTextSelection")||!pt()&&!Ve())return t();let{selection:n,ranges:u}=nh(e);t(),n?.removeAllRanges();for(let m of u)n?.addRange(m)}function It(e,t){let s=oa(e);s.requestAnimationFrame?s.requestAnimationFrame(t):s.webkitRequestAnimationFrame?s.webkitRequestAnimationFrame(t):s.setTimeout(t,0)}var zr="data-ref",qo;function Wr(){return qo??(qo=document.createTextNode(" ")),qo.cloneNode()}function Ke(e){let{attrs:t,children:s,cls:n,ref:u,role:m,tag:w}=e,y=document.createElement(w);if(n&&(y.className=n),u&&y.setAttribute(zr,u),m&&y.setAttribute("role",m),t)for(let F of Object.keys(t))y.setAttribute(F,t[F]);if(s)if(typeof s=="string")y.textContent=s;else{let F=!0;for(let A of s)A&&(typeof A=="string"?(y.appendChild(document.createTextNode(A)),F=!1):(F&&(y.appendChild(Wr()),F=!1),y.append(Ke(A)),y.appendChild(Wr())))}return y}function Lt(e){return e==null||e===""?null:e}function we(e){return e!=null&&e!==""}function He(e){return!we(e)}function Qi(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function ks(e,t){let s=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return s===n}function Ur(e,t,s=!1){let n=e==null,u=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&u)return 0;if(n)return-1;if(u)return 1;function m(w,y){return w>y?1:w<y?-1:0}if(typeof e!="string"||!s)return m(e,t);try{return e.localeCompare(t)}catch{return m(e,t)}}var jr="https://www.ag-grid.com",Kr={};function en(e,t){Kr[t]||(e(),Kr[t]=!0)}function Yt(e,t,...s){e.get("debug")&&console.log("AG Grid: "+t,...s)}function as(e,...t){en(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Os(e,...t){en(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var ah={pending:!1,funcs:[]},lh={pending:!1,funcs:[]};function Ji(e,t="setTimeout",s){let n=t==="raf"?lh:ah;if(n.funcs.push(e),n.pending)return;n.pending=!0;let u=()=>{let m=n.funcs.slice();n.funcs.length=0,n.pending=!1,m.forEach(w=>w())};t==="raf"?It(s,u):window.setTimeout(u,0)}function qe(e,t,s){let n;return function(...u){let m=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(m,u)},s)}}function $r(e,t){let s=0;return function(...n){let u=this,m=Date.now();m-s<t||(s=m,e.apply(u,n))}}function Xr(e,t,s=100,n){let u=Date.now(),m=null,w=!1,y=()=>{let F=Date.now()-u>s;(e()||F)&&(t(),w=!0,m!=null&&(window.clearInterval(m),m=null),F&&n&&as(n))};y(),w||(m=window.setInterval(y,10))}var Pe="33.2.1",Yr=2e3,Zr=100,Qr="_version_",Jr=null,ch=!1,ls=`${jr}/javascript-data-grid`;function dh(e){Jr=e}function uh(e){ls=e}function qr(e,t,s){return Jr?.getConsoleMessage(e,t)??[fh(e,t,s)]}function tn(e,t,s,n){ch||e(`error #${t}`,...qr(t,s,n))}function hh(e){if(!e)return String(e);let t={};for(let s of Object.keys(e))typeof e[s]!="object"&&typeof e[s]!="function"&&(t[s]=e[s]);return JSON.stringify(t)}function gh(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=hh(e)),t}function qi(e){return e===void 0?"undefined":e===null?"null":e}function sn(e,t){return`${e}?${t.toString()}`}function ph(e,t,s){let n=Array.from(t.entries()).sort((m,w)=>w[1].length-m[1].length),u=sn(e,t);for(let[m,w]of n){if(m===Qr)continue;let y=u.length-s;if(y<=0)break;let F="...",A=y+F.length,I=w.length-A>Zr?w.slice(0,w.length-A)+F:w.slice(0,Zr)+F;t.set(m,I),u=sn(e,t)}return u}function ea(e,t){let s=new URLSearchParams;if(s.append(Qr,Pe),t)for(let m of Object.keys(t))s.append(m,gh(t[m]));let n=`${ls}/errors/${e}`,u=sn(n,s);return u.length<=Yr?u:ph(n,s,Yr)}var fh=(e,t,s)=>{let n=ea(e,t);return`${s?s+` 
`:""}Visit ${n}${s?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function Ce(...e){tn(as,e[0],e[1])}function Ge(...e){tn(Os,e[0],e[1])}function on(e,t,s){tn(Os,e,t,s)}function ta(e,t){let s=t[0];return`error #${s} `+qr(s,t[1],e).join(" ")}function Wt(...e){return ta(void 0,e)}function mh(...e){return ta(`
`,e)}function sa(e,t){return e.get("rowModelType")===t}function st(e,t){return sa(e,"clientSide")}function cs(e,t){return sa(e,"serverSide")}function et(e,t){return e.get("domLayout")===t}function Zt(e){return oi(e)!==void 0}function nn(e){return typeof e.get("getRowHeight")=="function"}function Ch(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ds(e,t,s=!1,n){let{gos:u,environment:m}=e;if(n==null&&(n=m.getDefaultRowHeight()),nn(u)){if(s)return{height:n,estimated:!0};let F={node:t,data:t.data},A=u.getCallback("getRowHeight")(F);if(rn(A))return A===0&&Ce(23),{height:Math.max(1,A),estimated:!1}}if(t.detail&&u.get("masterDetail"))return vh(u);let w=u.get("rowHeight");return{height:w&&rn(w)?w:n,estimated:!1}}function vh(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return rn(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Qt(e){let{environment:t,gos:s}=e,n=s.get("rowHeight");if(!n||He(n))return t.getDefaultRowHeight();let u=t.refreshRowHeightVariable();return u!==-1?u:(Ce(24),t.getDefaultRowHeight())}function rn(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function ia(e,t,s){let n=t[e.getDomDataKey()];return n?n[s]:void 0}function us(e,t,s,n){let u=e.getDomDataKey(),m=t[u];He(m)&&(m={},t[u]=m),m[s]=n}function Xe(e){let{gos:t,eGridDiv:s}=e,n=null,u=t.get("getDocument");return u&&we(u)?n=u():s&&(n=s.ownerDocument),n&&we(n)?n:document}function oa(e){return Xe(e).defaultView||window}function hs(e){return e.eGridDiv.getRootNode()}function Ue(e){return hs(e).activeElement}function eo(e){let t=null,s=null;try{t=Xe(e).fullscreenElement}catch{}finally{t||(t=hs(e));let n=t.querySelector("body");n?s=n:t instanceof ShadowRoot?s=t:t instanceof Document?s=t?.documentElement:s=t}return s}function wh(e){return eo(e)?.clientWidth??(window.innerHeight||-1)}function Sh(e){return eo(e)?.clientHeight??(window.innerHeight||-1)}function na(e,t,s){let u=e.getBoundingClientRect().height,m=wh(s)-2,w=Sh(s)-2;if(!e.offsetParent)return;let F=Br(e.offsetParent),{clientY:A,clientX:I}=t,L=A-F.top-u/2,_=I-F.left-10,H=Xe(s),z=H.defaultView||window,J=z.pageYOffset||H.documentElement.scrollTop,te=z.pageXOffset||H.documentElement.scrollLeft;m>0&&_+e.clientWidth>m+te&&(_=m+te-e.clientWidth),_<0&&(_=0),w>0&&L+e.clientHeight>w+J&&(L=w+J-e.clientHeight),L<0&&(L=0),e.style.left=`${_}px`,e.style.top=`${L}px`}function an(e){let t=Xe(e),s=Ue(e);return s===null||s===t.body}function gs(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function ln(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||et(e,"print"))}function Ft(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function to(e){let t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function yh(e){return e.get("grandTotalRow")}function bh(e){let t=e.get("groupTotalRow");return typeof t=="function"?e.getCallback("groupTotalRow"):()=>t??void 0}function ra(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function so(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function ps(e){let t=e.getCallback("getRowId");return t===void 0?t:s=>{let n=t(s);return typeof n!="string"&&(Ce(25,{id:n}),n=String(n)),n}}function aa(e,t){let s=e.get("groupHideParentOfSingleChild");return!!(s===!0||s==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function la(e){let t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Rh(e,t){let s=e.get("suppressGroupChangesColumnVisibility");if(s===!0||t&&s==="suppressHideOnGroup"||!t&&s==="suppressShowOnUngroup")return!1;let n=e.get("suppressRowGroupHidesColumns");if(t&&n===!0)return!1;let u=e.get("suppressMakeColumnVisibleAfterUnGroup");return!(!t&&u===!0)}function fs(e){return e?.checkboxes??!0}function si(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function ii(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function cn(e){return e?.hideDisabledCheckboxes??!1}function ca(e){return typeof e.get("rowSelection")!="string"}function Ph(e){return e.get("cellSelection")!==void 0}function Mh(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function kt(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Fh(e){let t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"&&t.handle?.mode==="fill"?t.handle:void 0:{mode:"fill",setFillValue:e.get("fillOperation"),direction:e.get("fillHandleDirection"),suppressClearOnFillReduction:e.get("suppressClearOnFillReduction")}}function da(e){let t=e.get("rowSelection")??"single";if(typeof t=="string"){let s=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return s&&n?!1:s?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function xh(e){let t=da(e);return t===!0||t==="enableSelection"}function Eh(e){let t=da(e);return t===!0||t==="enableDeselection"}function io(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function oi(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Gs(e){return oi(e)==="multiRow"}function Ah(e){let t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function ni(e){let t=e.get("rowSelection");if(typeof t=="string"){let s=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return s&&n?"filteredDescendants":s?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function ua(e,t=!0){let s=e.get("rowSelection");return typeof s!="object"?t?"all":void 0:s.mode==="multiRow"?s.selectAll:"all"}function _s(e){let t=ni(e);return t==="descendants"||t==="filteredDescendants"}function ha(e){let t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function dn(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function dt(e){return e.get("columnMenu")==="legacy"}function ga(e){return!dt(e)}function un(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Th(e,t,s){typeof e!="object"&&(e={});let n={...e};return s.forEach(u=>{let m=t[u];typeof m<"u"&&(n[u]=m)}),n}function Dh(e,t){if(!e)return;let s={},n=!1;if(Object.keys(e).forEach(w=>{s[w]=e[w],n=!0}),!n)return;let u={type:"gridOptionsChanged",options:s};t.dispatchEvent(u);let m={type:"componentStateChanged",...s};t.dispatchEvent(m)}function Ae(e,t){return e.addGridCommonParams(t)}function pa(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var fa="__ag_Grid_Stop_Propagation",Ih=["touchstart","touchend","touchmove","touchcancel","scroll"],Lh=["wheel"],hn={};function ms(e){e[fa]=!0}function Ot(e){return e[fa]===!0}var ma=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return s=>{if(typeof hn[s]=="boolean")return hn[s];let n=document.createElement(e[s]||"div");return s="on"+s,hn[s]=s in n}})();function Ca(e,t,s){let n=t;for(;n;){let u=ia(e,n,s);if(u)return u;n=n.parentElement}return null}function va(e,t){return!t||!e?!1:Oh(t).indexOf(e)>=0}function kh(e){let t=[],s=e.target;for(;s;)t.push(s),s=s.parentElement;return t}function Oh(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():kh(t)}function Gh(e,t,s,n){let u=wa(s),m;u!=null&&(m={passive:u}),e&&e.addEventListener&&e.addEventListener(t,s,n,m)}var wa=e=>{let t=Ih.includes(e),s=Lh.includes(e);if(t)return!0;if(s)return!1},he=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,s){this.localEventService||(this.localEventService=new i),this.localEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){this.localEventService?.removeEventListener(e,t,s)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let s=[];for(let n of Object.keys(t)){let u=t[n];u&&s.push(this._setupListener(e,n,u))}return s}_setupListener(e,t,s){if(this.destroyed)return()=>null;let n;return _h(e)?(e.__addEventListener(t,s),n=()=>(e.__removeEventListener(t,s),null)):(e instanceof HTMLElement?Gh(this.beans.frameworkOverrides,e,t,s):e.addEventListener(t,s),n=()=>(e.removeEventListener(t,s),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(u=>u!==n),null)}setupGridOptionListener(e,t){let{gos:s}=this;s.addPropertyEventListener(e,t);let n=()=>(s.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(u=>u!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let s=e.join("-")+this.propertyListenerId++,n=u=>{if(u.changeSet){if(u.changeSet&&u.changeSet.id===this.lastChangeSetIdLookup[s])return;this.lastChangeSetIdLookup[s]=u.changeSet.id}let m={type:"gridPropertyChanged",changeSet:u.changeSet,source:u.source};t(m)};e.forEach(u=>this.setupGridOptionListener(u,n))}getLocaleTextFunc(){return a(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let s=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),s}createBean(e,t,s){return(t||this.stubContext).createBean(e,s)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function _h(e){return e.__addEventListener!==void 0}var Sa=new Set(["__proto__","constructor","prototype"]);function Bh(e,t){if(e!=null){if(Array.isArray(e)){for(let s=0;s<e.length;s++)t(s.toString(),e[s]);return}for(let s of Object.keys(e))t(s,e[s])}}function it(e,t,s=!0,n=!1){we(t)&&Bh(t,(u,m)=>{if(Sa.has(u))return;let w=e[u];w!==m&&(n&&w==null&&m!=null&&typeof m=="object"&&m.constructor===Object&&(w={},e[u]=w),ya(m)&&ya(w)&&!Array.isArray(w)?it(w,m,s,n):(s||m!==void 0)&&(e[u]=m))})}function ri(e,t,s){if(!t||!e)return;if(!s)return e[t];let n=t.split("."),u=e;for(let m=0;m<n.length;m++){if(u==null)return;u=u[n[m]]}return u}function ya(e){return typeof e=="object"&&e!==null}var Nh=/[&<>"']/g,Vh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Gt(e,t){if(e==null)return null;let s=e.toString().toString();return t?s:s.replace(Nh,n=>Vh[n])}var Hh={resizable:!0,sortable:!0},zh=0;function ba(){return zh++}function Ut(e){return e instanceof oo}var oo=class extends he{constructor(e,t,s,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=s,this.primary=n,this.isColumn=!0,this.instanceId=ba(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new i,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Gt(s)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:s,colFlex:n}}=this;t?.initCol(this);let u=e.hide;u!==void 0?this.visible=!u:this.visible=!e.initialHide,s?.initCol(this),n?.initCol(this)}setColDef(e,t,s){let n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",s)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:s}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=we(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=we(s)&&s.indexOf(".")>=0&&!n}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,s=e.width,n=e.initialWidth;return s!=null?t=s:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let s=this.frameworkEventListenerService?.wrap(t)??t;this.colEventSvc.addEventListener(e,s)}removeEventListener(e,t){let s=this.frameworkEventListenerService?.unwrap(t)??t;this.colEventSvc.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return Ae(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable(this,e)??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Hh[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let s=this.createColumnFunctionCallbackParams(e);return t(s)}return!1}createColumnEvent(e,t){return Ae(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return He(this.sort)}isSorting(){return we(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return Ce(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let s=e===!0;this.visible!==s&&(this.visible=s,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,s=!0;for(;e;){if(!e.isPadding()){s=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:s}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Ae(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(He(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),s=this.colDef.colSpan(t);return Math.max(s,1)}getRowSpan(e){if(He(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),s=this.colDef.rowSpan(t);return Math.max(s,1)}setActualWidth(e,t,s=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),s||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,s){let n=this.createColumnEvent(e,t);s&&it(n,s),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function ot(e){return e instanceof ai}var ai=class extends he{constructor(e,t,s,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=s,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=ba(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Ut(t)?e.push(t):ot(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,s=!1,n=this.findChildrenRemovingPadding();for(let m=0,w=n.length;m<w;m++){let y=n[m];if(!y.isVisible())continue;let F=y.getColumnGroupShow();F==="open"?(e=!0,s=!0):F==="closed"?(t=!0,s=!0):(e=!0,t=!0)}let u=e&&t&&s;this.expandable!==u&&(this.expandable=u,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=s=>{s.forEach(n=>{ot(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Wh={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ra=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Qi(e);let s=0;for(;;){let n=e??t;if(n?s!==0&&(n+="_"+s):n=s,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);s++}}},gn=Object.freeze([]);function Be(e){if(e?.length)return e[e.length-1]}function Jt(e,t,s){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,u)=>s?s(n,t[u]):t[u]===n)}function no(e,t){if(e)for(let s of e)t(s)}function mt(e,t){let s=e.indexOf(t);s>=0&&e.splice(s,1)}function Pa(e,t,s){for(let n=0;n<t.length;n++)mt(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(s,0,t[n])}function Uh(e){return[].concat.apply([],e)}var li="ag-Grid-AutoColumn",pn="ag-Grid-SelectionColumn",Ma="ag-Grid-RowNumbersColumn";function fn(e){let t=[],s=n=>{for(let u=0;u<n.length;u++){let m=n[u];Ut(m)?t.push(m):ot(m)&&s(m.getChildren())}};return s(e),t}function jt(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}function ci(e,t,s){let n={};if(!t)return;Kt(null,t,m=>{n[m.getInstanceId()]=m}),s&&Kt(null,s,m=>{n[m.getInstanceId()]=null});let u=Object.values(n).filter(m=>m!=null);e.context.destroyBeans(u)}function ro(e){return e.getId().startsWith(li)}function _t(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(pn)??!1}function Cs(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(Ma)??!1}function ao(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Fa(e,t){return Jt(e,t,(s,n)=>s.getColId()===n.getColId())}function xa(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function vs(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function mn(e,t){let s=e===t,n=e.getColDef()===t,u=e.getColId()==t;return s||n||u}var jh=(e,t)=>(s,n)=>{let u={value1:void 0,value2:void 0},m=!1;return e&&(e[s]!==void 0&&(u.value1=e[s],m=!0),we(n)&&e[n]!==void 0&&(u.value2=e[n],m=!0)),!m&&t&&(t[s]!==void 0&&(u.value1=t[s]),we(n)&&t[n]!==void 0&&(u.value2=t[n])),u};function Ea(e,t=null,s,n,u){let m=new Ra,{existingCols:w,existingGroups:y,existingColKeys:F}=Kh(n);m.addExistingKeys(F);let A=Aa(e,t,0,s,w,m,y,u),{colGroupSvc:I}=e,L=I?.findMaxDepth(A,0)??0,_=I?I.balanceColumnTree(A,0,L,m):A;return Kt(null,_,(z,J)=>{ot(z)&&z.setupExpandable(),z.originalParent=J}),{columnTree:_,treeDept:L}}function Kh(e){let t=[],s=[],n=[];return e&&Kt(null,e,u=>{if(ot(u)){let m=u;s.push(m)}else{let m=u;n.push(m.getId()),t.push(m)}}),{existingCols:t,existingGroups:s,existingColKeys:n}}function Aa(e,t,s,n,u,m,w,y){if(!t)return[];let{colGroupSvc:F}=e,A=new Array(t.length);for(let I=0;I<A.length;I++){let L=t[I];F&&Qh(L)?A[I]=F.createProvidedColumnGroup(n,L,s,u,m,w,y):A[I]=$h(e,n,L,u,m,y)}return A}function $h(e,t,s,n,u,m){let w=Xh(s,n);w&&n?.splice(w.idx,1);let y=w?.column;if(y){let F=lo(e,s,y.getColId());y.setColDef(F,s,m),Da(e,y,F,m)}else{let F=u.getUniqueKey(s.colId,s.field),A=lo(e,s,F);y=new oo(A,s,F,t),e.context.createBean(y)}return e.dataTypeSvc?.addColumnListeners(y),y}function Ta(e,t,s,n,u,m,w,y){let{sortSvc:F,pinnedCols:A,colFlex:I}=e;s!==void 0&&t.setVisible(!s,y),F&&(F.updateColSort(t,n,y),u!==void 0&&F.setColSortIndex(t,u)),m!==void 0&&A?.setColPinned(t,m),w!==void 0&&I?.setColFlex(t,w)}function Da(e,t,s,n){Ta(e,t,s.hide,s.sort,s.sortIndex,s.pinned,s.flex,n);let u=t.getFlex();if(!(u!=null&&u>0))if(s.width!=null)t.setActualWidth(s.width,n);else{let m=t.getActualWidth();t.setActualWidth(m,n)}}function Xh(e,t){if(t)for(let s=0;s<t.length;s++){let n=t[s].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[s].getId()===e.colId)return{idx:s,column:t[s]};continue}if(e.field!=null){if(n.field===e.field)return{idx:s,column:t[s]};continue}if(n===e)return{idx:s,column:t[s]}}}function lo(e,t,s,n){let{gos:u,dataTypeSvc:m,validation:w}=e,y={},F=u.get("defaultColDef");it(y,F,!1,!0);let A=Yh(e,y,t,s);A&&Zh(e,A,y),it(y,t,!1,!0);let I=u.get("autoGroupColumnDef"),L=Ft(u);return t.rowGroup&&I&&L&&it(y,{sort:I.sort,initialSort:I.initialSort},!1,!0),m?.validateColDef(y),w?.validateColDef(y,s,n),y}function Yh(e,t,s,n){let u=e.dataTypeSvc?.updateColDefAndGetColumnType(t,s,n),m=s.type??u??t.type;return t.type=m,m?ao(m):void 0}function Zh(e,t,s){if(!t.length)return;let n=Object.assign({},Wh),u=e.gos.get("columnTypes")||{};for(let m of Object.keys(u)){let w=u[m];m in n?Ce(34,{key:m}):(w.type&&Ce(35),n[m]=w)}t.forEach(m=>{let w=n[m.trim()];w?it(s,w,!1,!0):Ce(36,{t:m})})}function Qh(e){return e.children!==void 0}function Kt(e,t,s){if(t)for(let n=0;n<t.length;n++){let u=t[n];ot(u)&&Kt(u,u.getChildren(),s),s(u,e)}}function Ia(e,t){let s=[],n=[],u=[];return e.forEach(w=>{let y=w.getColDef().lockPosition;y==="right"?u.push(w):y==="left"||y===!0?s.push(w):n.push(w)}),t.get("enableRtl")?[...u,...n,...s]:[...s,...n,...u]}function La(e,t){let s=!0;return Kt(null,t,n=>{if(!ot(n))return;let u=n,m=u.getColGroupDef();if(!(m&&m.marryChildren))return;let y=[];u.getLeafColumns().forEach(_=>{let H=e.indexOf(_);y.push(H)});let F=Math.max.apply(Math,y),A=Math.min.apply(Math,y),I=F-A,L=u.getLeafColumns().length-1;I>L&&(s=!1)}),s}function ka(e,t){if(!e||e.length==0)return;let s=t(e[0]);for(let n=1;n<e.length;n++)if(s!==t(e[n]))return;return s}function Oa(e,t,s){if(!t.length)return;let n=t.length===1?t[0]:null,u=ka(t,m=>m.getPinned());e.dispatchEvent({type:"columnPinned",pinned:u??null,columns:t,column:n,source:s})}function Jh(e,t,s){if(!t.length)return;let n=t.length===1?t[0]:null,u=ka(t,m=>m.isVisible());e.dispatchEvent({type:"columnVisible",visible:u,columns:t,column:n,source:s})}function Ga(e,t,s,n){e.dispatchEvent({type:t,columns:s,column:s&&s.length==1?s[0]:null,source:n})}function Bs(e,t,s,n,u=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:u,finished:s,source:n})}function ut(e,t,s){let{colModel:n,rowGroupColsSvc:u,pivotColsSvc:m,autoColSvc:w,selectionColSvc:y,colAnimation:F,visibleCols:A,pivotResultCols:I,environment:L,valueColsSvc:_,eventSvc:H,gos:z}=e,J=n.getColDefCols()||[];if(!J?.length)return!1;if(t?.state&&!t.state.forEach)return Ce(32),!1;let te=(pe,Me,be,Ee,Le)=>{if(!pe)return;let xe=jh(Me,t.defaultState),We=xe("flex").value1;if(Ta(e,pe,xe("hide").value1,xe("sort").value1,xe("sortIndex").value1,xe("pinned").value1,We,s),We==null){let Je=xe("width").value1;if(Je!=null){let Pt=pe.getColDef().minWidth??L.getDefaultColumnMinWidth();Pt!=null&&Je>=Pt&&pe.setActualWidth(Je,s)}}Le||!pe.isPrimary()||(_?.syncColumnWithState(pe,s,xe),u?.syncColumnWithState(pe,s,xe,be),m?.syncColumnWithState(pe,s,xe,Ee))},ae=(pe,Me,be)=>{let Ee=Ba(e,s),Le=Me.slice(),xe={},We={},Je=[],Pt=[],Ht=[],gt=0,Ko=u?.columns.slice()??[],xP=m?.columns.slice()??[];pe.forEach(ct=>{let Hi=ct.colId;if(Hi.startsWith(li)){Je.push(ct),Ht.push(ct);return}if(_t(Hi)){Pt.push(ct),Ht.push(ct);return}let $s=be(Hi);$s?(te($s,ct,xe,We,!1),mt(Le,$s)):(Ht.push(ct),gt+=1)});let Qu=ct=>te(ct,null,xe,We,!1);Le.forEach(Qu),u?.sortColumns(Va.bind(u,xe,Ko)),m?.sortColumns(Va.bind(m,We,xP)),n.refreshCols(!1);let Ju=(ct,Hi,Gr=[])=>{Hi.forEach($s=>{let qu=ct($s.colId);mt(Gr,qu),te(qu,$s,null,null,!0)}),Gr.forEach(Qu)};return Ju(ct=>w?.getColumn(ct)??null,Je,w?.getColumns()?.slice()),Ju(ct=>y?.getColumn(ct)??null,Pt,y?.getColumns()?.slice()),qh(t,n,z),A.refresh(s),H.dispatchEvent({type:"columnEverythingChanged",source:s}),Ee(),{unmatchedAndAutoStates:Ht,unmatchedCount:gt}};F?.start();let{unmatchedAndAutoStates:ce,unmatchedCount:le}=ae(t.state||[],J,pe=>n.getColDefCol(pe));if(ce.length>0||we(t.defaultState)){let pe=I?.getPivotResultCols()?.list??[];le=ae(ce,pe,Me=>I?.getPivotResultCol(Me)??null).unmatchedCount}return F?.finish(),le===0}function _a(e,t){let{colModel:s,autoColSvc:n,selectionColSvc:u}=e,m=s.getColDefCols();if(!m?.length)return;let w=s.getColDefColTree(),y=fn(w),F=[],A=1e3,I=1e3,L=te=>{let ae=Na(te);He(ae.rowGroupIndex)&&ae.rowGroup&&(ae.rowGroupIndex=A++),He(ae.pivotIndex)&&ae.pivot&&(ae.pivotIndex=I++),F.push(ae)};n?.getColumns()?.forEach(L),u?.getColumns()?.forEach(L),y?.forEach(L),ut(e,{state:F},t);let _=n?.getColumns()??[],J=[...u?.getColumns()??[],..._,...m].map(te=>({colId:te.colId}));ut(e,{state:J,applyOrder:!0},t)}function Ba(e,t){let{rowGroupColsSvc:s,pivotColsSvc:n,valueColsSvc:u,colModel:m,sortSvc:w,eventSvc:y}=e,F={rowGroupColumns:s?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:u?.columns.slice()??[]},A=Ns(e),I={};return A.forEach(L=>{I[L.colId]=L}),()=>{let L=(be,Ee,Le,xe)=>{let We=Ee.map(xe),Je=Le.map(xe);if(Jt(We,Je))return;let Ht=new Set(Ee);Le.forEach(Ko=>{Ht.delete(Ko)||Ht.add(Ko)});let gt=[...Ht];y.dispatchEvent({type:be,columns:gt,column:gt.length===1?gt[0]:null,source:t})},_=be=>{let Ee=[];return m.forAllCols(Le=>{let xe=I[Le.getColId()];xe&&be(xe,Le)&&Ee.push(Le)}),Ee},H=be=>be.getColId();L("columnRowGroupChanged",F.rowGroupColumns,s?.columns??[],H),L("columnPivotChanged",F.pivotColumns,n?.columns??[],H);let J=_((be,Ee)=>{let Le=be.aggFunc!=null,xe=Le!=Ee.isValueActive(),We=Le&&be.aggFunc!=Ee.getAggFunc();return xe||We});J.length>0&&Ga(y,"columnValueChanged",J,t),Bs(y,_((be,Ee)=>be.width!=Ee.getActualWidth()),!0,t),Oa(y,_((be,Ee)=>be.pinned!=Ee.getPinned()),t),Jh(y,_((be,Ee)=>be.hide==Ee.isVisible()),t);let pe=_((be,Ee)=>be.sort!=Ee.getSort()||be.sortIndex!=Ee.getSortIndex());pe.length>0&&w?.dispatchSortChangedEvents(t,pe);let Me=Ns(e);tg(A,Me,t,m,y)}}function Ns(e){let{colModel:t,rowGroupColsSvc:s,pivotColsSvc:n}=e,u=t.getColDefCols();if(He(u)||!t.isAlive())return[];let m=s?.columns,w=n?.columns,y=[],F=I=>{let L=I.isRowGroupActive()&&m?m.indexOf(I):null,_=I.isPivotActive()&&w?w.indexOf(I):null,H=I.isValueActive()?I.getAggFunc():null,z=I.getSort()!=null?I.getSort():null,J=I.getSortIndex()!=null?I.getSortIndex():null;y.push({colId:I.getColId(),width:I.getActualWidth(),hide:!I.isVisible(),pinned:I.getPinned(),sort:z,sortIndex:J,aggFunc:H,rowGroup:I.isRowGroupActive(),rowGroupIndex:L,pivot:I.isPivotActive(),pivotIndex:_,flex:I.getFlex()??null})};t.forAllCols(I=>F(I));let A=new Map(t.getCols().map((I,L)=>[I.getColId(),L]));return y.sort((I,L)=>{let _=A.has(I.colId)?A.get(I.colId):-1,H=A.has(L.colId)?A.get(L.colId):-1;return _-H}),y}function Na(e){let t=(z,J)=>z??J??null,s=e.getColDef(),n=t(s.sort,s.initialSort),u=t(s.sortIndex,s.initialSortIndex),m=t(s.hide,s.initialHide),w=t(s.pinned,s.initialPinned),y=t(s.width,s.initialWidth),F=t(s.flex,s.initialFlex),A=t(s.rowGroupIndex,s.initialRowGroupIndex),I=t(s.rowGroup,s.initialRowGroup);A==null&&(I==null||I==!1)&&(A=null,I=null);let L=t(s.pivotIndex,s.initialPivotIndex),_=t(s.pivot,s.initialPivot);L==null&&(_==null||_==!1)&&(L=null,_=null);let H=t(s.aggFunc,s.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:u,hide:m,pinned:w,width:y,flex:F,rowGroup:I,rowGroupIndex:A,pivot:_,pivotIndex:L,aggFunc:H}}function qh(e,t,s){if(!e.applyOrder||!e.state)return;let n=[];e.state.forEach(u=>{u.colId!=null&&n.push(u.colId)}),eg(t.cols,n,t,s)}function eg(e,t,s,n){if(e==null)return;let u=[],m={};t.forEach(y=>{if(m[y])return;let F=e.map[y];F&&(u.push(F),m[y]=!0)});let w=0;if(e.list.forEach(y=>{let F=y.getColId();if(m[F]!=null)return;F.startsWith(li)?u.splice(w++,0,y):u.push(y)}),u=Ia(u,n),!La(u,s.getColTree())){Ce(39);return}e.list=u}function tg(e,t,s,n,u){let m={};t.forEach(I=>m[I.colId]=I);let w={};e.forEach(I=>{m[I.colId]&&(w[I.colId]=!0)});let y=e.filter(I=>w[I.colId]),F=t.filter(I=>w[I.colId]),A=[];F.forEach((I,L)=>{let _=y&&y[L];if(_&&_.colId!==I.colId){let H=n.getCol(_.colId);H&&A.push(H)}}),A.length&&u.dispatchEvent({type:"columnMoved",columns:A,column:A.length===1?A[0]:null,finished:!0,source:s})}var Va=(e,t,s,n)=>{let u=e[s.getId()],m=e[n.getId()],w=u!=null,y=m!=null;if(w&&y)return u-m;if(w)return-1;if(y)return 1;let F=t.indexOf(s),A=t.indexOf(n),I=F>=0,L=A>=0;return I&&L?F-A:I?-1:1},sg=class extends he{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(vs(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),vs(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:s,colAutosize:n,rowGroupColsSvc:u,pivotColsSvc:m,valueColsSvc:w,visibleCols:y,colViewport:F,eventSvc:A}=t,I=this.colDefs?Ba(t,e):void 0;s?.expire();let L=this.colDefCols?.list,_=this.colDefCols?.tree,H=Ea(t,this.colDefs,!0,_,e);ci(t,this.colDefCols?.tree,H.columnTree);let z=H.columnTree,J=H.treeDept,te=fn(z),ae={};te.forEach(ce=>ae[ce.getId()]=ce),this.colDefCols={tree:z,treeDepth:J,list:te,map:ae},u?.extractCols(e,L),m?.extractCols(e,L),w?.extractCols(e,L),this.ready=!0,this.refreshCols(!0),y.refresh(e),F.checkViewportColumns(),A.dispatchEvent({type:"columnEverythingChanged",source:e}),I&&(this.changeEventsDispatching=!0,I(),this.changeEventsDispatching=!1),A.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:s,selectionColSvc:n,rowNumbersSvc:u,quickFilter:m,pivotResultCols:w,showRowGroupCols:y,rowAutoHeight:F,visibleCols:A,colViewport:I,eventSvc:L}=this.beans,_=this.selectCols(w,this.colDefCols);this.createColumnsForService([s,n,u],_);let H=Ch(this.gos,this.showingPivotResult);(!e||H)&&this.restoreColOrder(_),this.positionLockedCols(_),y?.refresh(),m?.refreshCols(),this.setColSpanActive(),F?.setAutoHeightActive(_),A.clear(),I.clear(),!Jt(t,this.cols.tree)&&L.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let s of e)s&&(s.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),s.addColumns(t))}selectCols(e,t){let s=e?.getPivotResultCols()??null;this.showingPivotResult=s!=null;let{map:n,list:u,tree:m,treeDepth:w}=s??t;return this.cols={list:u.slice(),map:{...n},tree:m.slice(),treeDepth:w},s&&(s.list.some(F=>this.cols?.map[F.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(n=>{let u=ro(n);if(e){let m=t?.includes(n);return u||m}else return u||n.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,s){ut(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},s)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let s=new Map(t.map((A,I)=>[A,I]));if(!e.list.some(A=>s.has(A)))return;let u=new Map(e.list.map(A=>[A,!0])),m=t.filter(A=>u.has(A)),w=new Map(m.map(A=>[A,!0])),y=e.list.filter(A=>!w.has(A)),F=m.slice();y.forEach(A=>{let I=A.getOriginalParent();if(!I){F.push(A);return}let L=[];for(;!L.length&&I;)I.getLeafColumns().forEach(J=>{let te=F.indexOf(J)>=0,ae=L.indexOf(J)<0;te&&ae&&L.push(J)}),I=I.getOriginalParent();if(!L.length){F.push(A);return}let _=L.map(z=>F.indexOf(z)),H=Math.max(..._);F.splice(H+1,0,A)}),e.list=F}positionLockedCols(e){e.list=Ia(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:s,eventSvc:n}=this.beans;s.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=vs(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){ci(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:s,selectionColSvc:n}=this.beans;no(this.colDefCols?.list,e),no(s?.columns?.list,e),no(n?.columns?.list,e),no(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;let{map:s,list:n}=t;if(typeof e=="string"&&s[e])return s[e];for(let u=0;u<n.length;u++)if(mn(n[u],e))return n[u];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},ig=class extends he{constructor(){super(...arguments),this.dispatchColumnChangedEvent=Ga,this.columns=[],this.columnIndexMap={},this.updateIndexMap=()=>{this.columnIndexMap={},this.columns.forEach((e,t)=>this.columnIndexMap[e.getId()]=t)}}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.visibleCols=e.visibleCols}sortColumns(e){this.columns.sort(e),this.updateIndexMap()}setColumns(e,t){this.setColList(e,this.columns,this.eventName,!0,!0,this.columnProcessors.set,t)}addColumns(e,t){this.updateColList(e,this.columns,!0,!0,this.columnProcessors.add,this.eventName,t)}removeColumns(e,t){this.updateColList(e,this.columns,!1,!0,this.columnProcessors.remove,this.eventName,t)}getColumnIndex(e){return this.columnIndexMap[e]}setColList(e=[],t,s,n,u,m,w){let y=this.colModel.getCols();if(!y||y.length===0)return;let F=new Map;t.forEach((I,L)=>F.set(I,L)),t.length=0,we(e)&&e.forEach(I=>{let L=this.colModel.getColDefCol(I);L&&t.push(L)}),t.forEach((I,L)=>{let _=F.get(I);if(_===void 0){F.set(I,0);return}n&&_!==L||F.delete(I)}),this.updateIndexMap(),(this.colModel.getColDefCols()||[]).forEach(I=>{let L=t.indexOf(I)>=0;m(I,L,w)}),u&&this.colModel.refreshCols(!1),this.visibleCols.refresh(w),this.dispatchColumnChangedEvent(this.eventSvc,s,[...F.keys()],w)}updateColList(e=[],t,s,n,u,m,w){if(!e||e.length===0)return;let y=!1,F=new Set;if(e.forEach(I=>{if(!I)return;let L=this.colModel.getColDefCol(I);if(L){if(F.add(L),s){if(t.indexOf(L)>=0)return;t.push(L)}else{let _=t.indexOf(L);if(_<0)return;for(let H=_+1;H<t.length;H++)F.add(t[H]);mt(t,L)}u(L,s,w),y=!0}}),!y)return;this.updateIndexMap(),n&&this.colModel.refreshCols(!1),this.visibleCols.refresh(w);let A=Array.from(F);this.eventSvc.dispatchEvent({type:m,columns:A,column:A.length===1?A[0]:null,source:w})}extractCols(e,t=[]){let s=this.columns,n=[],u=[],{setFlagFunc:m,getIndexFunc:w,getInitialIndexFunc:y,getValueFunc:F,getInitialValueFunc:A}=this.columnExtractors;(this.colModel.getColDefCols()||[]).forEach(H=>{let z=t.indexOf(H)<0,J=H.getColDef(),te=F(J),ae=A(J),ce=w(J),le=y(J),pe;te!==void 0?pe=te:ce!==void 0?ce===null?pe=!1:pe=ce>=0:z?ae!==void 0?pe=ae:le!==void 0?pe=le!=null&&le>=0:pe=!1:pe=s.indexOf(H)>=0,pe&&((z?ce!=null||le!=null:ce!=null)?n.push(H):u.push(H))});let L=H=>{let z=w(H.getColDef()),J=y(H.getColDef());return z??J};n.sort((H,z)=>{let J=L(H),te=L(z);return J===te?0:J<te?-1:1});let _=[].concat(n);return s.forEach(H=>{u.indexOf(H)>=0&&_.push(H)}),u.forEach(H=>{_.indexOf(H)<0&&_.push(H)}),s.forEach(H=>{_.indexOf(H)<0&&m(H,!1,e)}),_.forEach(H=>{s.indexOf(H)<0&&m(H,!0,e)}),this.columns=_,this.updateIndexMap(),this.columns}restoreColumnOrder(e,t){let s=this.columns,n=this.colModel.getColDefCols();if(!s.length||!n)return e;let u=Object.keys(t),m=new Set(u),w=new Set(u),y=new Set(s.map(le=>{let pe=le.getColId();return w.delete(pe),pe}).concat(u)),F=[],A={},I=0;for(let le=0;le<n.length;le++){let pe=n[le].getColId();y.has(pe)&&(F.push(pe),A[pe]=I++)}let L=1e3,_=!1,H=0,z=this.columnOrdering.enableProp,J=this.columnOrdering.initialEnableProp,te=this.columnOrdering.indexProp,ae=this.columnOrdering.initialIndexProp,ce=le=>{let pe=A[le];for(let Me=H;Me<pe;Me++){let be=F[Me];w.has(be)&&(t[be][te]=L++,w.delete(be))}H=pe};return s.forEach(le=>{let pe=le.getColId();if(m.has(pe))ce(pe),t[pe][te]=L++;else{let Me=le.getColDef();(Me[te]===null||Me[te]===void 0&&Me[ae]==null)&&(_||(Me[z]||Me[z]===void 0&&Me[J]?ce(pe):(w.forEach(Le=>{t[Le][te]=L+A[Le]}),L+=F.length,_=!0)),e[pe]||(e[pe]={colId:pe}),e[pe][te]=L++)}}),e}},Cn=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],s;return typeof t!="number"?s=0:s=t+1,this.existingIds[e]=s,s}},og=class extends he{};function di(e,t,s){return s&&e.addDestroyFunc(()=>t.destroyBean(s)),s??e}var vn=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let n=(e||"").split(" ");if(n.length>1){n.forEach(u=>this.addOrRemoveCssClass(u,t));return}}if(this.cssClassStates[e]!==t&&e.length){let n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}},ng=0,Se=null,Oe=class extends he{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=ng++,this.cssClassManager=new vn(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(s=>[s.selector,s])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(zr):null}applyElementsToComponent(e,t,s,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let u=this[t];if(u===Se)this[t]=n??e;else{let m=s&&s[t];if(!this.suppressDataRefValidation&&!m)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${u}`)}}}createChildComponentsFromTags(e,t){let s=[];for(let n of e.childNodes??[])s.push(n);s.forEach(n=>{if(!(n instanceof HTMLElement))return;let u=this.createComponentFromElement(n,m=>{let w=m.getGui();if(w)for(let y of n.attributes??[])w.setAttribute(y.name,y.value)},t);if(u){if(u.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);let m=Array.prototype.slice.call(n.children);u.addItems(m)}this.swapComponentForNode(u,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,s){let n=e.nodeName,u=this.getDataRefAttribute(e),m=n.indexOf("AG-")===0,w=m?this.componentSelectors.get(n):null,y=null;if(w){let F=s&&u?s[u]:void 0;y=new w.component(F),y.setParentComponent(this),this.createBean(y,null,t)}else if(m)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,u,s,y),y}swapComponentForNode(e,t,s){let n=e.getGui();t.replaceChild(n,s),t.insertBefore(document.createComment(s.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(s=>s.setAttribute("tabindex",t.toString()))}setTemplate(e,t,s){let n;typeof e=="string"||e==null?n=qs(e):n=Ke(e),this.setTemplateFromElement(n,t,s)}setTemplateFromElement(e,t,s,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let u=0;u<t.length;u++){let m=t[u];this.componentSelectors.set(m.selector,m)}this.wireTemplate(e,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let s=t;return e==null?null:(s||(s=this.eGui),Zi(e)?{element:e,parent:s}:{element:e.getGui(),parent:s})}prependChild(e,t){let{element:s,parent:n}=this.getContainerAndElement(e,t)||{};!s||!n||n.insertAdjacentElement("afterbegin",s)}appendChild(e,t){let{element:s,parent:n}=this.getContainerAndElement(e,t)||{};!s||!n||n.appendChild(s)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:s}=t;Qs(this.eGui,e,{skipAriaHidden:s})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:s}=t;_e(this.eGui,e,{skipAriaHidden:s});let n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,s){this.eGui.addEventListener(e,t,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function rg(e){return typeof e.then=="function"}var nt=class zi{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(s=>this.onDone(s),s=>this.onReject(s))}static all(t){return t.length?new zi(s=>{let n=t.length,u=new Array(n);t.forEach((m,w)=>{m.then(y=>{u[w]=y,n--,n===0&&s(u)})})}):zi.resolve()}static resolve(t=null){return new zi(s=>s(t))}then(t){return new zi(s=>{this.status===1?s(t(this.resolution)):this.waiters.push(n=>s(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(s=>s(t))}onReject(t){}};function ag(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Ha(e,t,s,n){let{name:u}=s,m,w,y,F,A,I;if(t){let L=t,_=L[u+"Selector"],H=_?_(n):null,z=J=>{typeof J=="string"?m=J:J!=null&&J!==!0&&(e.isFrameworkComponent(J)?y=J:w=J)};H?(z(H.component),F=H.params,A=H.popup,I=H.popupPosition):z(L[u])}return{compName:m,jsComp:w,fwComp:y,paramsFromSelector:F,popupFromSelector:A,popupPositionFromSelector:I}}var lg=class extends he{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,s,n=!1){return this.getCompDetails(this.gridOptions,e,t,s,n)}getCompDetails(e,t,s,n,u=!1){let{name:m,cellRenderer:w}=t,{compName:y,jsComp:F,fwComp:A,paramsFromSelector:I,popupFromSelector:L,popupPositionFromSelector:_}=Ha(this.beans.frameworkOverrides,e,t,n),H,z=ce=>{let le=this.registry.getUserComponent(m,ce);le&&(F=le.componentFromFramework?void 0:le.component,A=le.componentFromFramework?le.component:void 0,H=le.params)};if(y!=null&&z(y),F==null&&A==null&&s!=null&&z(s),F&&w&&!ag(F)&&(F=this.agCompUtils?.adaptFunction(t,F)),!F&&!A){let{validation:ce}=this.beans;u&&(y!==s||!s)?y?ce?.isProvidedUserComp(y)||Ge(50,{compName:y}):s?ce||Ge(260,{...this.gos.getModuleErrorParams(),propName:m,compName:s}):Ge(216,{name:m}):s&&!ce&&Ge(146,{comp:s});return}let J=this.mergeParams(e,t,n,I,H),te=F==null,ae=F??A;return{componentFromFramework:te,componentClass:ae,params:J,type:t,popupFromSelector:L,popupPositionFromSelector:_,newAgStackInstance:()=>this.newAgStackInstance(ae,te,J,t)}}newAgStackInstance(e,t,s,n){let u=!t,m;u?m=new e:m=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(m);let w=m.init?.(s);return w==null?nt.resolve(m):w.then(()=>m)}mergeParams(e,t,s,n=null,u){let m={...s,...u},w=e,y=w&&w[t.name+"Params"];if(typeof y=="function"){let F=y(s);it(m,F)}else typeof y=="object"&&it(m,y);return it(m,n),m}},cg={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},dg={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},ug={name:"headerComponent",optionalMethods:["refresh"]},hg={name:"innerHeaderComponent"},gg={name:"innerHeaderGroupComponent"},pg={name:"headerGroupComponent"},fg={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},mg={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Cg={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"]},vg={name:"loadingCellRenderer",cellRenderer:!0},wg={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Sg={name:"loadingOverlayComponent",optionalMethods:["refresh"]},yg={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},bg={name:"tooltipComponent"},wn={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Rg={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Pg={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Mg={name:"loadingCellRenderer",cellRenderer:!0},Fg={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},xg={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Eg(e,t){return e.getCompDetailsFromGridOptions(dg,"agDragAndDropImage",t,!0)}function Ag(e,t,s){return e.getCompDetails(t,fg,void 0,s)}function Tg(e,t,s){return e.getCompDetails(t,ug,"agColumnHeader",s)}function Dg(e,t,s){return e.getCompDetails(t,hg,void 0,s)}function Ig(e,t){let s=t.columnGroup.getColGroupDef();return e.getCompDetails(s,pg,"agColumnGroupHeader",t)}function Lg(e,t,s){return e.getCompDetails(t,gg,void 0,s)}function kg(e,t){return e.getCompDetailsFromGridOptions(Pg,void 0,t,!0)}function Og(e,t){return e.getCompDetailsFromGridOptions(Mg,"agLoadingCellRenderer",t,!0)}function Gg(e,t){return e.getCompDetailsFromGridOptions(Fg,"agGroupRowRenderer",t,!0)}function _g(e,t){return e.getCompDetailsFromGridOptions(xg,"agDetailCellRenderer",t,!0)}function Sn(e,t,s){return e.getCompDetails(t,mg,void 0,s)}function Bg(e,t,s){return e.getCompDetails(t,Cg,void 0,s)}function Ng(e,t,s){return e.getCompDetails(t,vg,"agSkeletonCellRenderer",s,!0)}function za(e,t,s){return e.getCompDetails(t,wg,"agCellEditor",s,!0)}function Wa(e,t,s,n){return e.getCompDetails(t,wn,n,s,!0)}function Vg(e,t,s){return e.getCompDetails(t,cg,"agDateInput",s,!0)}function Hg(e,t){return e.getCompDetailsFromGridOptions(Sg,"agLoadingOverlay",t,!0)}function zg(e,t){return e.getCompDetailsFromGridOptions(yg,"agNoRowsOverlay",t,!0)}function Wg(e,t){return e.getCompDetails(t.colDef,bg,"agTooltipComponent",t,!0)}function Ua(e,t,s,n){return e.getCompDetails(t,Rg,n,s)}function Ug(e,t){return Ha(e,t,wn)}function jg(e,t,s){return e.mergeParams(t,wn,s)}function Vs(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var ja=new Set,co={},ws={},uo,Ka=!1,$a=!1;function Kg(e){let[t,s]=e.version.split(".")||[],[n,u]=uo.split(".")||[];return t===n&&s===u}function $g(e){uo||(uo=e.version);let t=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(e.version?Kg(e)||Os(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${uo}.`)):Os(t(`'${e.moduleName}' is incompatible.`)),e.validate){let s=e.validate();s.isValid||Os(`${s.message}`)}}function ui(e,t){$g(e);let s=e.rowModels??["all"];ja.add(e);let n;t!==void 0?(Ka=!0,ws[t]===void 0&&(ws[t]={}),n=ws[t]):n=co,s.forEach(u=>{n[u]===void 0&&(n[u]={}),n[u][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(u=>ui(u,t))}function Xg(e){delete ws[e]}function Xa(e,t,s){let n=u=>!!co[u]?.[e]||!!ws[t]?.[u]?.[e];return n(s)||n("all")}function yn(){return Ka}function Yg(e,t){let s=ws[e]??{};return[...Object.values(co.all??{}),...Object.values(s.all??{}),...Object.values(co[t]??{}),...Object.values(s[t]??{})]}function Zg(){return new Set(ja)}function Qg(e,t){let s=ws[e]??{};return[...Object.values(s.all??{}),...Object.values(s[t]??{})]}function Jg(){return $a}function qg(){$a=!0}var ep=class{static register(e){ui(e,void 0)}static registerModules(e){e.forEach(t=>ui(t,void 0))}},tp=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let s=new t;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(s)}),e.derivedBeans?.forEach(t=>{let{beanName:s,bean:n}=t(this);this.beans[s]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(s=>{s.preWireBeans?.(this.beans),s.wireBeans?.(this.beans)}),e.forEach(s=>s.preConstruct?.()),t&&e.forEach(t),e.forEach(s=>s.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},sp=class extends tp{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),Xg(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},ip="ag-column-first",op="ag-column-last";function bn(e,t,s,n){return He(e)?[]:Za(e.headerClass,e,t,s,n)}function np(e,t,s,n){return He(e)?[]:Za(e.toolPanelClass,e,t,s,n)}function Ya(e,t,s){e.addOrRemoveCssClass(ip,s.isColAtEdge(t,"first")),e.addOrRemoveCssClass(op,s.isColAtEdge(t,"last"))}function rp(e,t,s,n){return Ae(t,{colDef:e,column:s,columnGroup:n})}function Za(e,t,s,n,u){if(He(e))return[];let m;if(typeof e=="function"){let w=rp(t,s,n,u);m=e(w)}else m=e;return typeof m=="string"?[m]:Array.isArray(m)?[...m]:[]}var de={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},Rn=!1,ho=0;function ap(e){ho>0||(e.addEventListener("keydown",go),e.addEventListener("mousedown",go))}function lp(e){ho>0||(e.removeEventListener("keydown",go),e.removeEventListener("mousedown",go))}function go(e){let t=Rn,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||t!==s&&(Rn=s)}function cp(e){let t=Xe(e);return ap(t),ho++,()=>{ho--,lp(t)}}function Qa(){return Rn}function Ja(e,t,s){t.addManagedElementListeners(s,{keydown:n=>{if(!n.defaultPrevented&&n.key===de.TAB){let u=n.shiftKey;es(e,s,!1,u)||bs(e,u)&&n.preventDefault()}}})}function Ss(e,t,s=!1){let n=Zo,u=Ys;t&&(u+=", "+t),s&&(u+=', [tabindex="-1"]');let m=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(F=>yt(F)),w=Array.prototype.slice.apply(e.querySelectorAll(u));return w.length?((F,A)=>F.filter(I=>A.indexOf(I)===-1))(m,w):m}function qt(e,t=!1,s=!1,n=!1){let u=Ss(e,n?".ag-tab-guard":null,s),m=t?Be(u):u[0];return m?(m.focus({preventScroll:!0}),!0):!1}function es(e,t,s,n){let u=Ss(t,s?':not([tabindex="-1"])':null),m=Ue(e),w;s?w=u.findIndex(F=>F.contains(m)):w=u.indexOf(m);let y=w+(n?-1:1);return y<0||y>=u.length?null:u[y]}function Pn(e,t=5){let s=0;for(;e&&Is(e)===null&&++s<=t;)e=e.parentElement;return Is(e)===null?null:e}function qa(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function ys(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function po(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function bs(e,t,s=!1){let n=e.ctrlsSvc.get("gridCtrl");return!s&&n.focusNextInnerContainer(t)?!0:((s||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function dp(e,t=!1){return e===de.DELETE?!0:!t&&e===de.BACKSPACE?Ds():!1}var up=class extends he{constructor(e,t,s,n){super(),this.cellCtrl=e,this.rowNode=s,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case de.ENTER:this.onEnterKeyDown(e);break;case de.F2:this.onF2KeyDown(e);break;case de.ESCAPE:this.onEscapeKeyDown(e);break;case de.TAB:this.onTabKeyDown(e);break;case de.BACKSPACE:case de.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case de.DOWN:case de.UP:case de.RIGHT:case de.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let s=this.cellCtrl.getFocusedCellPosition();this.beans.navigation?.navigateToNextCell(e,t,s,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:s}=this.beans;if(!t)return;let n=t.extendLatestRangeInDirection(e);n&&s?.ensureCellVisible(n)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:s,beans:n,rowNode:u}=this,{gos:m,rangeSvc:w,eventSvc:y}=n;if(!s.editing){if(y.dispatchEvent({type:"keyShortcutChangedCellStart"}),dp(e,m.get("enableCellEditingOnBackspace"))){if(w&&kt(m))w.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(s.isCellEditable()){let{column:F}=s,A=this.beans.valueSvc.getDeleteValue(F,u);u.setDataValue(F,A,"cellClear")}}else n.editSvc?.startRowOrCellEdit(s,e,t);y.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){let{cellCtrl:t,beans:s}=this;if(t.editing||this.rowCtrl.editing)this.beans.editSvc?.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(s.gos.get("enterNavigatesVertically")){let n=e.shiftKey?de.UP:de.DOWN;s.navigation?.navigateToNextCell(null,n,t.cellPosition,!1)}else s.editSvc?.startRowOrCellEdit(t,de.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){let{cellCtrl:t,beans:s}=this;t.editing||s.editSvc?.startRowOrCellEdit(t,de.F2,e)}onEscapeKeyDown(e){let{cellCtrl:t,beans:s}=this;t.editing&&s.editSvc?.stopRowOrCellEdit(t,!0)}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.editing)return;let n=e.key;n===de.SPACE?this.onSpaceKeyDown(e):this.beans.editSvc?.startRowOrCellEdit(this.cellCtrl,n,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:t}=this.beans;!this.cellCtrl.editing&&Zt(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,"spaceKey"),e.preventDefault()}destroy(){super.destroy()}},hp=class extends he{constructor(e,t,s){super(),this.cellCtrl=e,this.column=s,this.beans=t}onMouseEvent(e,t){if(!Ot(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:s,gos:n,editSvc:u}=this.beans,m=e.ctrlKey||e.metaKey;s&&m&&s.getCellRangeCount(this.cellCtrl.cellPosition)>1&&s.intersectLastRange(!0);let w=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(w);let y=this.column.getColDef();y.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{y.onCellClicked(w)})},0),(n.get("singleClickEdit")||y.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&s?.getCellRanges().length!=0)&&u?.startRowOrCellEdit(this.cellCtrl,void 0,e)}onCellDoubleClicked(e){let{column:t,beans:s,cellCtrl:n}=this,{eventSvc:u,frameworkOverrides:m,gos:w,editSvc:y}=s,F=t.getColDef(),A=n.createEvent(e,"cellDoubleClicked");u.dispatchEvent(A),typeof F.onCellDoubleClicked=="function"&&window.setTimeout(()=>{m.wrapOutgoing(()=>{F.onCellDoubleClicked(A)})},0),!w.get("singleClickEdit")&&!w.get("suppressClickEdit")&&y?.startRowOrCellEdit(n,null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:s,shiftKey:n}=e,u=e.target,{cellCtrl:m,beans:w}=this,{eventSvc:y,rangeSvc:F,rowNumbersSvc:A,focusSvc:I,gos:L}=w;if(this.isRightClickInExistingRange(e))return;let _=F&&!F.isEmpty(),H=this.containsWidget(u),{cellPosition:z}=m,J=Cs(z.column);if(A&&J&&!A.handleMouseDownOnCell(z,e)){F&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!_){let ae=L.get("enableCellTextSelection")&&e.defaultPrevented,ce=(Ve()||ae)&&!m.editing&&!Zs(u)&&!H;m.focusCell(ce)}if(n&&_&&!I.isCellFocused(z)){e.preventDefault();let te=I.getFocusedCell();if(te){let{column:ae,rowIndex:ce,rowPinned:le}=te,Me=w.rowRenderer.getRowByPosition({rowIndex:ce,rowPinned:le})?.getCellCtrl(ae);Me?.editing&&Me.stopEditing(),I.setFocusedCell({column:ae,rowIndex:ce,rowPinned:le,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!H){if(F)if(J&&e.preventDefault(),n)F.extendLatestRangeToCell(z);else{let te=t||s;F.setRangeToCell(z,te)}y.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let s=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(s&&n)return!0}return!1}containsWidget(e){return Dt(e,"ag-selection-checkbox",3)||Dt(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),s?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),s?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,s=t.contains(e.target),n=t.contains(e.relatedTarget);return s&&n}destroy(){super.destroy()}},gp=class extends he{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();Jt(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,s=e.getColSpan(t),n=[];if(s===1)n.push(e);else{let u=e,m=e.getPinned();for(let w=0;u&&w<s&&(n.push(u),u=this.beans.visibleCols.getColAfter(u),!(!u||He(u)||m!==u.getPinned()));w++);}return n}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Be(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,s=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let n=t.bodyWidth;return s+n+(e||0)}return s+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let s=Qt(this.beans)*this.rowSpan;this.eContent.style.height=`${s}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},pp="ag-cell",fp="ag-cell-auto-height",mp="ag-cell-normal-height",Cp="ag-cell-focus",vp="ag-cell-first-right-pinned",wp="ag-cell-last-left-pinned",Sp="ag-cell-not-inline-editing",yp="ag-cell-wrap-text",fo="cellCtrl";function Mn(e,t){return Ca(e,t,fo)}var bp=0,hi=class extends he{constructor(e,t,s,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=s;let{colId:u,colIdSanitised:m}=e;this.instanceId=u+"-"+bp++,this.colIdSanitised=m,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new gp(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.mouseListener=new hp(this,e,this.column),this.keyboardListener=new up(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();let{rangeSvc:t}=e;t&&kt(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,s,n,u,m,w){this.comp=e,this.eGui=t,this.printLayout=u,w??(w=this),this.addDomData(w),this.addFeatures(),w.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,w),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),m&&this.isCellEditable()?this.beans.editSvc?.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(y=>y()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){let{beans:s,column:n,rowNode:u,rangeFeature:m}=this,{userCompFactory:w}=s,y=this.getValueToDisplay(),F,A=u.stub&&u.groupData?.[n.getId()]==null,I=n.getColDef();if(A||this.isCellRenderer()){let L=this.createCellRendererParams();!A||Cs(n)?F=Sn(w,I,L):F=Ng(w,I,L)}if(!F&&!A&&s.findSvc?.isMatch(u,n)){let L=this.createCellRendererParams();F=Sn(w,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},L)}this.comp.setRenderDetails(F,y,e),!t&&m&&It(s,()=>m?.refreshHandle())}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:s}=this.beans.gridOptions,n=ii(t),u=_t(this.column);return s==="custom"&&n!=="selectionColumn"&&u?!1:e.checkboxSelection||u&&typeof t=="object"&&fs(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),s=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),u=this.isAutoHeight!=this.column.isAutoHeight();return t||s||n||u}onPopupEditorClosed(){this.editing&&this.beans.editSvc?.stopRowOrCellEdit(this)}stopEditing(e=!1){return this.beans.editSvc?.stopEditing(this,e)??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:s,rowNode:n,comp:u,eGui:m,beans:{valueSvc:w,gos:y}}=this;return Ae(y,{value:e,valueFormatted:t,getValue:()=>w.getValueForDisplay(s,n),setValue:A=>w.setValue(n,s,A),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:s.getPinned(),colDef:s.getColDef(),column:s,refreshCell:this.refreshCell.bind(this),eGridCell:m,eParentOfValue:u.getParentOfValue(),registerRowDragger:(A,I,L,_)=>this.registerRowDragger(A,I,_),setTooltip:(A,I)=>{y.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(A,I),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;let t=this.column.getColDef(),s=e!=null&&!!e.newData,n=e!=null&&!!e.suppressFlash,u=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,m=e&&e.forceRefresh||u||s,w=!!this.comp,y=this.updateAndFormatValue(w),F=m||y;if(w){if(F){this.showValue(s,!1);let A=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!n&&!A&&t.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,s=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(e,t){let s=this.column.getColDef();return s.equals?s.equals(e,t):e===t}addDomData(e){let t=this.eGui;us(this.beans.gos,t,fo,this),e.addDestroyFunc(()=>us(this.beans.gos,t,fo,null))}createEvent(e,t){let{rowNode:s,column:n,value:u,beans:m}=this;return Ae(m.gos,{type:t,node:s,data:s.data,value:u,column:n,colDef:n.getColDef(),rowPinned:s.rowPinned,event:e,rowIndex:s.rowIndex})}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:s}=this;Ya(e,t,s.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);X(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;let t=()=>{if(!this.isAlive())return;let s=this.comp.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(Cs(this.column)&&(e=!0),bt(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(vp,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(wp,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(po(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let s=this.isCellFocused();if(this.comp.addOrRemoveCssClass(Cp,s),s&&e&&e.forceBrowserFocus){let u=this.comp.getFocusableElement();if(this.editing){let m=Ss(u,null,!0);m.length&&(u=m[0])}u.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}let n=t.gos.get("editType")==="fullRow";!s&&!n&&this.editing&&t.editSvc?.stopRowOrCellEdit(this),s&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Lt(t),column:this.column}}setInlineEditingCss(){this.beans.editSvc?.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){let{comp:e}=this;e.addOrRemoveCssClass(pp,!0),e.addOrRemoveCssClass(Sp,!0);let t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(fp,t),e.addOrRemoveCssClass(mp,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(yp,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),s=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(s),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(s)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Ue(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let n=this.createRowDragComp(e,t,s);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,s){let n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,s);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},el="__ag_grid_instance";function tl(e,t){t[el]=e.gridInstanceId}function gi(e,t){return sl(e,t.target)}function sl(e,t){let s=t;for(;s;){let n=s[el];if(we(n))return n===e.gridInstanceId;s=s.parentElement}return!1}function il(e,t){return Mn(e,t.target)?.getFocusedCellPosition()??null}function mo(e,t){let s=et(e.gos,"normal"),n=t,u,m;if(n.clientX!=null||n.clientY!=null?(u=n.clientX,m=n.clientY):(u=n.x,m=n.y),s){let w=e.ctrlsSvc.getScrollFeature(),y=w.getVScrollPosition(),F=w.getHScrollPosition();u+=F.left,m+=y.top}return{x:u,y:m}}var ol=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(ol||{}),Rp=class extends he{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let s={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:s,dragSource:e}),this.dragSvc.addDragSource(s)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:s}=this,n=t.find(u=>u.dragSource===e);n&&(s.removeDragSource(n.params),mt(t,n))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:s}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,s.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let s=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(s)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let s=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let u=this.dropTargets.filter(I=>this.isMouseOnDropTarget(e,I)),m=this.findCurrentDropTarget(e,u),{lastDropTarget:w,dragSource:y,dragAndDropImageComp:F,dragItem:A}=this;if(m!==w){if(this.leaveLastTargetIfExists(e,s,n,t),w!==null&&m===null&&y?.onGridExit?.(A),w===null&&m!==null&&y?.onGridEnter?.(A),this.enterDragTargetIfExists(m,e,s,n,t),m&&F){let{comp:I,promise:L}=F;I?I.setIcon(m.getIconName?m.getIconName():null,!1):L.then(_=>{_&&_.setIcon(m.getIconName?m.getIconName():null,!1)})}this.lastDropTarget=m}else if(m&&m.onDragging){let I=this.createDropTargetEvent(m,e,s,n,t);m.onDragging(I)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,s=[[e.getContainer()]];return t?s.concat(t):s}isMouseOnDropTarget(e,t){let s=this.getAllContainersFromDropTarget(t),n=!1,u=(y,F)=>{for(let A of F){let{width:I,height:L,left:_,right:H,top:z,bottom:J}=A.getBoundingClientRect();if(I===0||L===0)return!1;let te=y.clientX>=_&&y.clientX<H,ae=y.clientY>=z&&y.clientY<J;if(!te||!ae)return!1}return!0};for(let y of s)if(u(e,y)){n=!0;break}let{eElement:m,type:w}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(m)?!1:n&&t.isInterestedIn(w,m)}findCurrentDropTarget(e,t){let s=t.length;if(s===0)return null;if(s===1)return t[0];let u=hs(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let m of u)for(let w of t)if(this.getAllContainersFromDropTarget(w).flatMap(F=>F).indexOf(m)!==-1)return w;return null}enterDragTargetIfExists(e,t,s,n,u){if(e&&e.onDragEnter){let m=this.createDropTargetEvent(e,t,s,n,u);e.onDragEnter(m)}}leaveLastTargetIfExists(e,t,s,n){let{lastDropTarget:u}=this;if(!u)return;if(u.onDragLeave){let w=this.createDropTargetEvent(u,e,t,s,n);u.onDragLeave(w)}let m=this.getDragAndDropImageComponent();m&&m.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(s=>s.external).find(s=>s.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let s=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return s.contains(n)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,s=e.clientX;return t===s?null:t>s?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,s=e.clientY;return t===s?null:t>s?"up":"down"}createDropTargetEvent(e,t,s,n,u){let m=e.getContainer(),w=m.getBoundingClientRect(),{dragItem:y,dragSource:F,gos:A}=this,I=t.clientX-w.left,L=t.clientY-w.top;return Ae(A,{event:t,x:I,y:L,vDirection:n,hDirection:s,dragSource:F,fromNudge:u,dragItem:y,dropZoneTarget:m})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&na(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let s=t.getGui();this.dragAndDropImageParent?.removeChild(s),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:s}=this;if(!e)return;let n=Eg(s,Ae(t,{dragSource:e}));if(!n)return;let u=n.newAgStackInstance();this.dragAndDropImageComp={promise:u},u.then(m=>{!m||!this.isAlive()||(this.processDragAndDropImageComponent(m),this.dragAndDropImageComp.comp=m)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:s}=this;if(!t)return;let n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),tl(this.gos,n),s.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:u}=t;typeof u=="function"&&(u=u()),e.setLabel(u||""),n.style.top="20px",n.style.left="20px";let m=eo(this.beans);this.dragAndDropImageParent=m,m?m.appendChild(n):Ce(54)}registerGridDropTarget(e,t){let s={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(s),t.addDestroyFunc(()=>this.removeDropTarget(s))}},nl=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let s=t||this.shouldSkipVerticalScroll();if(s&&this.shouldSkipHorizontalScroll())return;let n=this.scrollContainer.getBoundingClientRect(),u=this.scrollByTick;this.tickLeft=e.clientX<n.left+u,this.tickRight=e.clientX>n.right-u,this.tickUp=e.clientY<n.top+u&&!s,this.tickDown=e.clientY>n.bottom-u&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function rl(e){let{rowIndex:t,rowPinned:s,column:n}=e;return`${t}.${s??"null"}.${n.getId()}`}function Fn(e,t){let s=e.column===t.column,n=e.rowPinned===t.rowPinned,u=e.rowIndex===t.rowIndex;return s&&n&&u}function al(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(we(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function ll(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function Pp(e){let t=0,s,{pinnedRowModel:n,rowModel:u,pageBounds:m}=e;return n?.getPinnedTopRowCount()?s="top":u.getRowCount()?(s=null,t=m.getFirstRow()):n?.getPinnedBottomRowCount()&&(s="bottom"),s===void 0?null:{rowIndex:t,rowPinned:s}}function Mp(e){let t,s=null,{pinnedRowModel:n,pageBounds:u}=e,m=n?.getPinnedBottomRowCount(),w=n?.getPinnedTopRowCount();return m?(s="bottom",t=m-1):e.rowModel.getRowCount()?(s=null,t=u.getLastRow()):w&&(s="top",t=w-1),t===void 0?null:{rowIndex:t,rowPinned:s}}function pi(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Rs(e,t){let s=e.spannedRowRenderer?.getCellByPosition(t);if(s)return s;let n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function fi(e,t){let{rowIndex:s,rowPinned:n}=t,{pageBounds:u,pinnedRowModel:m,rowModel:w}=e;if(s===0)return n==="top"?null:n==="bottom"&&w.isRowsToRender()?{rowIndex:u.getLastRow(),rowPinned:null}:m?.isRowsToRender("top")?{rowIndex:m.getPinnedTopRowCount()-1,rowPinned:"top"}:null;let y=n?void 0:w.getRow(s);return cl(e,y,!0)??{rowIndex:s-1,rowPinned:n}}function xn(e,t){let{rowIndex:s,rowPinned:n}=t,{pageBounds:u,pinnedRowModel:m,rowModel:w}=e;if(Fp(e,t))return n==="bottom"?null:n==="top"&&w.isRowsToRender()?{rowIndex:u.getFirstRow(),rowPinned:null}:m?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;let y=n?void 0:w.getRow(s);return cl(e,y)??{rowIndex:s+1,rowPinned:n}}function cl(e,t,s){let{gos:n,rowRenderer:u}=e;if(!t?.sticky||!ln(n))return;let m=s?u.getStickyTopRowCtrls():u.getStickyBottomRowCtrls(),w;for(let y=0;y<m.length;y++)if(m[y].rowNode.rowIndex===t.rowIndex){w=m[y+(s?-1:1)];break}return w?{rowIndex:w.rowNode.rowIndex,rowPinned:null}:void 0}function Fp(e,t){let{rowPinned:s,rowIndex:n}=t,{pinnedRowModel:u,pageBounds:m}=e;return s==="top"?(u?.getPinnedTopRowCount()??0)-1<=n:s==="bottom"?(u?.getPinnedBottomRowCount()??0)-1<=n:m.getLastRow()<=n}var xp=class extends he{constructor(e){super(),this.eContainer=e}postConstruct(){let{rowModel:e,gos:t,ctrlsSvc:s}=this.beans;st(t,e)&&(this.clientSideRowModel=e),s.whenReady(this,n=>{let u=n.gridBodyCtrl;this.autoScrollService=new nl({scrollContainer:u.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>u.scrollFeature.getVScrollPosition().top,setVerticalPosition:m=>u.scrollFeature.setVerticalScrollPosition(m),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){let{rowGroupColsSvc:e,filterManager:t,sortSvc:s}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||s?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];let t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){let n=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((u,m)=>u.rowIndex==null||m.rowIndex==null?0:this.getRowIndexNumber(u)-this.getRowIndexNumber(m));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){let{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;let t=mo(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){let{dragAndDrop:s,gos:n}=this.beans,u=this.isFromThisGrid(e),m=n.get("rowDragManaged"),w=e.dragItem.rowNodes;m&&this.shouldPreventRowMove()||(n.get("suppressMoveWhenRowDragging")||!u?s.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(w[0],t):this.moveRows(w,t))}getRowIndexNumber(e){let t=e.getRowIndexString();return parseInt(Be(t.split("-")),10)}moveRowAndClearHighlight(e){let t=this.clientSideRowModel,s=t.getLastHighlightedRowNode(),n=s&&s.highlighted==="Below",u=mo(this.beans,e).y,m=e.dragItem.rowNodes,w=n?1:0;if(this.isFromThisGrid(e))m.forEach(y=>{y.rowTop<u&&(w-=1)}),this.moveRows(m,u,w);else{let y=ps(this.gos),F=t.getRowIndexAtPixel(u)+1;t.getHighlightPosition(u)==="Above"&&F--,t.updateRowData({add:m.filter(A=>!t.getRowNode(y?.({data:A.data,level:0,rowPinned:A.rowPinned})??A.data.id)).map(A=>A.data),addIndex:F})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,s=0){let n=this.beans.focusSvc,u=n.getFocusedCell(),m=u&&Rs(this.beans,u);this.clientSideRowModel.ensureRowsAtPixel(e,t,s)&&(m?m.focusCell():n.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){Ce(55);return}let t=this.beans.dragAndDrop;if(t.findExternalZone(e)){Ce(56);return}let s={getContainer:e.getContainer};e.fromGrid?s=e:(e.onDragEnter&&(s.onDragEnter=u=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}),e.onDragLeave&&(s.onDragLeave=u=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}),e.onDragging&&(s.onDragging=u=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}),e.onDragStop&&(s.onDragStop=u=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}),e.onDragCancel&&(s.onDragCancel=u=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}));let n={isInterestedIn:u=>u===2,getIconName:()=>"move",external:!0,...s};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){let t=this.getContainer.bind(this),s=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),u=this.onDragging.bind(this),m=this.onDragStop.bind(this),w=this.onDragCancel.bind(this),y;return e?y={getContainer:t,onDragEnter:e.onDragEnter?F=>{s(F),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",F))}:s,onDragLeave:e.onDragLeave?F=>{n(F),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",F))}:n,onDragging:e.onDragging?F=>{u(F),e.onDragging(this.draggingToRowDragEvent("rowDragMove",F))}:u,onDragStop:e.onDragStop?F=>{m(F),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",F))}:m,onDragCancel:e.onDragCancel?F=>{w(F),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",F))}:w,fromGrid:!0}:y={getContainer:t,onDragEnter:s,onDragLeave:n,onDragging:u,onDragStop:m,onDragCancel:w,fromGrid:!0},y}draggingToRowDragEvent(e,t){let s=this.beans,{pageBounds:n,rowModel:u,gos:m}=s,w=mo(s,t).y,y=w>n.getCurrentPageHeight(),F=-1,A;return y||(F=u.getRowIndexAtPixel(w),A=u.getRow(F)),Ae(m,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:F,overNode:A,y:w,vDirection:t.vDirection})}dispatchGridEvent(e,t){let s=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(s)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);let{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);let{dragAndDrop:t,gos:s}=this.beans;s.get("rowDragManaged")&&(s.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function dl(e,t,s){if(s===0)return!1;let n=Math.abs(e.clientX-t.clientX),u=Math.abs(e.clientY-t.clientY);return Math.max(n,u)<=s}var Ep=class extends he{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,s=e.mouseDownListener;if(t.removeEventListener("mousedown",s),e.touchEnabled){let n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,s=t.find(n=>n.dragSource===e);s&&(this.removeListener(s),mt(t,s))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:s,includeTouch:n,stopPropagationForTouch:u}=e;s.addEventListener("mousedown",t);let m=null,w=this.gos.get("suppressTouch");n&&!w&&(m=y=>{Zs(y.target)||(u&&y.stopPropagation(),this.onTouchStart(e,y))},s.addEventListener("touchstart",m,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:m,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let s=t.touches[0];this.touchLastTime=s,this.touchStart=s;let n=F=>this.onTouchMove(F,e.eElement),u=F=>this.onTouchUp(F,e.eElement),m=F=>{F.cancelable&&F.preventDefault()},w=t.target,y=[{target:hs(this.beans),type:"touchmove",listener:m,options:{passive:!1}},{target:w,type:"touchmove",listener:n,options:{passive:!0}},{target:w,type:"touchend",listener:u,options:{passive:!0}},{target:w,type:"touchcancel",listener:u,options:{passive:!0}}];this.addTemporaryEvents(y),e.dragStartPixels===0&&this.onCommonMove(s,this.touchStart,e.eElement)}onMouseDown(e,t){let s=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let n=A=>this.onMouseMove(A,e.eElement),u=A=>this.onMouseUp(A,e.eElement),m=A=>A.preventDefault(),w=A=>{A.key===de.ESCAPE&&this.cancelDrag(e.eElement)},y=hs(this.beans),F=[{target:y,type:"mousemove",listener:n},{target:y,type:"mouseup",listener:u},{target:y,type:"contextmenu",listener:m},{target:y,type:"keydown",listener:w}];this.addTemporaryEvents(F),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:s,type:n,listener:u,options:m}=t;s.addEventListener(n,u,m)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:s,type:n,listener:u,options:m}=t;s.removeEventListener(n,u,m)})})}isEventNearStartEvent(e,t){let{dragStartPixels:s}=this.currentDragParams,n=we(s)?s:4;return dl(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,s){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:s}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let s=this.getFirstActiveTouch(e.touches);s&&this.onCommonMove(s,this.touchStart,t)}onMouseMove(e,t){Ve()&&Xe(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,s=t.get("enableCellTextSelection"),n=e.type==="mousemove",u=m=>!!m.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return s&&n&&e.cancelable&&gi(t,e)&&!u(e)}onTouchUp(e,t){let s=this.getFirstActiveTouch(e.changedTouches);s||(s=this.touchLastTime),this.onUpCommon(s,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function ul(e,t){return e+"_"+t}function je(e){return e instanceof En}var En=class extends he{constructor(e,t,s,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=s,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return ul(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{je(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=Be(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Ut(t)?e.push(t):je(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Ut(t)?e.push(t):je(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(s=>{if(je(s)&&(!s.displayedChildren||!s.displayedChildren.length))return;switch(s.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(s);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Co="row-group-",hl="t-",gl="b-",Ap=0,Ps=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Ap++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:s,selectionSvc:n,eventSvc:u}=this.beans,m=this.data;this.data=e,s?.onDataChanged(),this.updateDataOnDetailNode(),n?.updateRowSelectable(this),this.resetQuickFilterAggregateText();let w=this.createDataChangedEvent(e,m,t);this.__localEventService?.dispatchEvent(w),u.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,s){return{type:"dataChanged",node:this,oldData:t,newData:e,update:s}}getRowIndexString(){return this.rowIndex==null?(Ge(13),null):this.rowPinned==="top"?hl+this.rowIndex:this.rowPinned==="bottom"?gl+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:s}=this.beans,n=s?.createDaemonNode?.(this),u=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),s&&(s.updateRowSelectable(this),s.syncInRowNode(this,n));let m=this.createDataChangedEvent(e,u,!1);this.__localEventService?.dispatchEvent(m)}setId(e){let t=ps(this.beans.gos);if(t)if(this.data){let s=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Co)&&Ge(14,{groupPrefix:Co})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,s){this.beans.expansionSvc?.setExpanded(this,e,t,s)}setDataValue(e,t,s){let{colModel:n,valueSvc:u,gos:m,selectionSvc:w}=this.beans,y=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!y)return!1;let F=u.getValueForDisplay(y,this);if(m.get("readOnlyEdit")){let{beans:{eventSvc:I},data:L,rowIndex:_,rowPinned:H}=this;return I.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:_,rowPinned:H,column:y,colDef:y.colDef,data:L,node:this,oldValue:F,newValue:t,value:t,source:s}),!1}let A=u.setValue(this,y,t,s);return this.dispatchCellChangedEvent(y,t,F),w?.updateRowSelectable(this),A}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,s){let n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:s};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,s="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:s})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new i),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new i),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let s=this.frameworkEventListenerService?.wrap(t)??t;this.__localEventService.addEventListener(e,s)}removeEventListener(e,t){let s=this.frameworkEventListenerService?.unwrap(t)??t;this.removeLocalListener(e,s)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(Ce(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function pl(e,t,s){return Ae(t,{type:s,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Tp={tag:"div",cls:"ag-filter"},fl=class extends Oe{constructor(e,t){super(Tp),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??nt.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){let{column:t,source:s}=this;this.filterWrapper=this.beans.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(n=>{let u=n.getGui();we(u)||Ce(69,{guiFromFilter:u}),this.appendChild(u),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:s,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(tt(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},ml="ag-resizer-wrapper",ts=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),Dp={tag:"div",cls:ml,children:[ts("eTopLeft","topLeft"),ts("eTop","top"),ts("eTopRight","topRight"),ts("eRight","right"),ts("eBottomRight","bottomRight"),ts("eBottom","bottom"),ts("eBottomLeft","bottomLeft"),ts("eLeft","left")]},Cl=class extends he{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,s=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(s,n)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:s,width:n,minHeight:u,height:m,x:w,y}=this.config;this.offsetParent||this.setOffsetParent();let F=0,A=0,I=yt(this.element);if(I){let L=this.findBoundaryElement(),_=window.getComputedStyle(L);if(_.minWidth!=null){let H=L.offsetWidth-this.element.offsetWidth;A=parseInt(_.minWidth,10)-H}if(_.minHeight!=null){let H=L.offsetHeight-this.element.offsetHeight;F=parseInt(_.minHeight,10)-H}}if(this.minHeight=u||F,this.minWidth=s||A,n&&this.setWidth(n),m&&this.setHeight(m),(!n||!m)&&this.refreshSize(),e)this.center();else if(w||y)this.offsetElement(w,y);else if(I&&t){let L=this.boundaryEl,_=!0;if(L||(L=this.findBoundaryElement(),_=!1),L){let H=parseFloat(L.style.top),z=parseFloat(L.style.left);_?this.offsetElement(isNaN(z)?0:z,isNaN(H)?0:H):this.setPosition(z,H)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let s=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(s),this.moveElementDragListener=s):(this.dragSvc?.removeDragSource(s),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let n=!!e[t],u=this.getResizerElement(t),m={dragStartPixels:0,eElement:u,onDragStart:w=>this.onResizeStart(w,t),onDragging:this.onResize.bind(this),onDragStop:w=>this.onResizeEnd(w,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(m),this.resizeListeners.push(m),u.style.pointerEvents="all"):u.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,s=this.element,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ti(s,e),e=Qo(s),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let u=this.getAvailableHeight();u&&e>u&&(e=u)}this.getHeight()!==e&&(n?(s.style.maxHeight="unset",s.style.minHeight="unset"):t?ti(s,e):(s.style.height=`${e}px`,s.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:s}=this.offsetParent;if(!s)return null;let n=this.element.getBoundingClientRect(),u=this.offsetParent.getBoundingClientRect(),m=e?this.position.y:n.top,w=e?0:u.top,y=0;if(t){let A=this.element.parentElement;if(A){let{bottom:I}=A.getBoundingClientRect();y=I-n.bottom}}return s+w-m-y}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:s}=this.config,n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Mt(t,e),e=Js(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:u}=this.offsetParent,m=s?this.position.x:this.element.getBoundingClientRect().left;u&&e+m>u&&(e=u-m)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Mt(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:s}=this.config,n=s?this.boundaryEl:this.element;n&&(this.popupSvc?.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let s=this.getAvailableHeight();this.element.style.setProperty("max-height",`${s}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=zt(this.beans,this.popupSvc?.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:s,isTop:n,anywhereWithin:u,topBuffer:m}=e,w=t.clientX-this.dragStartPosition.x,y=t.clientY-this.dragStartPosition.y,F=this.shouldSkipX(t,!!s,!!u,w)?0:w,A=this.shouldSkipY(t,!!n,m,y)?0:y;return{movementX:F,movementY:A}}shouldSkipX(e,t,s,n){let u=this.element.getBoundingClientRect(),m=this.offsetParent.getBoundingClientRect(),w=this.boundaryEl.getBoundingClientRect(),y=this.config.popup?this.position.x:u.left,F=y<=0&&m.left>=e.clientX||m.right<=e.clientX&&m.right<=w.right;return F?!0:(t?F=n<0&&e.clientX>y+m.left||n>0&&e.clientX<y+m.left:s?F=n<0&&e.clientX>w.right||n>0&&e.clientX<y+m.left:F=n<0&&e.clientX>w.right||n>0&&e.clientX<w.right,F)}shouldSkipY(e,t,s=0,n){let u=this.element.getBoundingClientRect(),m=this.offsetParent.getBoundingClientRect(),w=this.boundaryEl.getBoundingClientRect(),y=this.config.popup?this.position.y:u.top,F=y<=0&&m.top>=e.clientY||m.bottom<=e.clientY&&m.bottom<=w.bottom;return F?!0:(t?F=n<0&&e.clientY>y+m.top+s||n>0&&e.clientY<y+m.top:F=n<0&&e.clientY>w.bottom||n>0&&e.clientY<w.bottom,F)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(Ke(Dp)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${ml}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:s,forcePopupParentAsOffsetParent:n}=this.config;!s&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(s=>!s.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,s=0;for(let n=0;n<e.length;n++){let u=e[n],m=!!u.style.flex&&u.style.flex!=="0 0 auto";if(u===this.element)continue;let w=this.minHeight||0,y=this.minWidth||0;if(m){let F=window.getComputedStyle(u);F.minHeight&&(w=parseInt(F.minHeight,10)),F.minWidth&&(y=parseInt(F.minWidth,10))}else w=u.offsetHeight,y=u.offsetWidth;t+=w,s+=y}return{height:t,width:s}}applySizeToSiblings(e){let t=null,s=this.getSiblings();if(s){for(let n=0;n<s.length;n++){let u=s[n];u!==t&&(e?u.style.height=`${u.offsetHeight}px`:u.style.width=`${u.offsetWidth}px`,u.style.flex="0 0 auto",u===this.element&&(t=s[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:s}=this.config,{isTop:n,isRight:u,isBottom:m,isLeft:w}=this.currentResizer,y=u||w,F=m||n,{movementX:A,movementY:I}=this.calculateMouseMovement({e,isLeft:w,isTop:n}),L=this.position.x,_=this.position.y,H=0,z=0;if(y&&A){let J=w?-1:1,te=this.getWidth(),ae=te+A*J,ce=!1;w&&(H=te-ae,(L+H<=0||ae<=this.minWidth)&&(ce=!0,H=0)),ce||this.setWidth(ae)}if(F&&I){let J=n?-1:1,te=this.getHeight(),ae=te+I*J,ce=!1;n?(z=te-ae,(_+z<=0||ae<=this.minHeight)&&(ce=!0,z=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&te<ae&&this.getMinSizeOfSiblings().height+ae>this.element.parentElement.offsetHeight&&(ce=!0),ce||this.setHeight(ae)}this.updateDragStartPosition(e.clientX,e.clientY),((t||s)&&H||z)&&this.offsetElement(L+H,_+z)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:s}=this.position,n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());let{movementX:u,movementY:m}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+u,s+m),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},vl="ag-focus-managed",Ms=class extends he{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;let n=es(this.beans,this.eFocusable,!1,s.shiftKey);n&&(n.focus(),s.preventDefault())},...t}}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:s}}=this;e.classList.add(vl),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),s&&this.addManagedElementListeners(e,{focusout:s})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Ot(t))return;let{callbacks:s}=this;if(s.shouldStopEventPropagation(t)){ms(t);return}t.key===de.TAB?s.onTabKeyDown(t):s.handleKeyDown&&s.handleKeyDown(t)}})}},wl={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function An(e,t){let{debounceMs:s}=e;return vo(e)?(s!=null&&Ce(71),0):s??t}function vo(e){return(e.buttons?.indexOf("apply")??-1)>=0}var Sl=class extends Oe{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Se,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ms(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Cl(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t?.removeEventListener("submit",this.onFormSubmit);let s={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(s,this.getAgComponents(),e),t=this.getGui(),t?.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=vo(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=vo(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){let{buttons:s,readOnly:n}=t??{},{buttons:u,readOnly:m}=e;if(n===m&&ks(s,u))return;let w=u&&u.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(tt(this.eButtonsPanel),this.buttonListeners.forEach(A=>A()),this.buttonListeners=[]):w&&(this.eButtonsPanel=Ke({tag:"div",cls:"ag-filter-apply-panel"})),!w){this.eButtonsPanel&&ft(this.eButtonsPanel);return}let y=document.createDocumentFragment(),F=A=>{let I,L=A?this.translate(`${A}Filter`):void 0;switch(A){case"apply":I=z=>this.onBtApply(!1,!1,z);break;case"clear":I=()=>this.onBtClear();break;case"reset":I=()=>this.onBtReset();break;case"cancel":I=z=>{this.onBtCancel(z)};break;default:Ce(75);return}let H=qs(`<button
                    type="${A==="apply"?"submit":"button"}"
                    data-ref="${A}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${L}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(H,{click:I})),y.append(H)};u.forEach(A=>F(A)),this.eButtonsPanel.append(y),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){let e=An(this.params,this.defaultDebounceMs),t=qe(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){let s=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(s):this.resetUiToDefaults().then(s)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){let t=this.getModelFromUi();if(!this.isModelValid(t))return!1;let s=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(s,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,s){s&&s.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});let{closeOnApply:n}=this.params;n&&this.applyActive&&!e&&!t&&this.close(s)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;let t=e,s=t&&t.key,n;(s==="Enter"||s==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){let s=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&Tt(n,!s)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){let{positionableFeature:t,gos:s}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}refresh(e){let t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,wl[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function yl(e,t,s){if(t==null)return null;let n=null,{compName:u,jsComp:m,fwComp:w}=Ug(e,t);return u?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[u]:m==null&&w==null&&t.filter===!0&&(n=s()),n}var xt={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},Tn=class extends he{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},s=t.autoHeight?xt.AUTO_HEIGHT:t.print?xt.PRINT:xt.NORMAL;this.view.updateLayoutClasses(s,t)}},ss="Viewport",bl="fakeVScrollComp",Rl=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Pl=100,Dn=150,Ip=class extends he{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=qe(this,()=>this.lastScrollSource[1]=null,Dn),this.resetLastVScrollDebounced=qe(this,()=>this.lastScrollSource[0]=null,Dn)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,s=>{this.centerRowsCtrl=s.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,ss)});for(let e of Rl){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),s=t?qe(this,this.onVScroll.bind(this,ss),Pl):this.onVScroll.bind(this,ss),n=t?qe(this,this.onVScroll.bind(this,bl),Pl):this.onVScroll.bind(this,bl);this.addManagedElementListeners(this.eBodyViewport,{scroll:s}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...Rl,ss]){if(this.lastScrollSource[1]===t)continue;let s=this.getViewportForSource(t);Xi(s,e,this.enableRtl)}}getViewportForSource(e){return e===ss?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:s}=t;if(this.shouldBlockScrollUpdate(1,s,!0))return;let n=$i(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===ss?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:s}=this;s?.setScrollTop(t),this.nextScrollTop=t,e===ss?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,s?.active?s.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Dn)}shouldBlockScrollUpdate(e,t,s=!1){return s&&!At()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=ji(this.eBodyViewport),{scrollHeight:s}=this.eBodyViewport;return e<0||e+t>s}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:s}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Ki()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>s}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(ss)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Ki()?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),Xi(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:s,lastScrollTop:n}=this;return{top:n,bottom:n+s}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:s}=this.beans,n=s.getRowCount(),u=-1;for(let m=0;m<n;m++){let w=s.getRow(m);if(typeof e=="function"){if(w&&e(w)){u=m;break}}else if(e===w||e===w.data){u=m;break}}u>=0&&this.ensureIndexVisible(u,t)}ensureIndexVisible(e,t){if(et(this.gos,"print"))return;let{rowModel:s}=this.beans,n=s.getRowCount();if(typeof e!="number"||e<0||e>=n){Ce(88,{index:e});return}let{frameworkOverrides:u,pageBounds:m,rowContainerHeight:w,rowRenderer:y}=this.beans;u.wrapIncoming(()=>{let F=this.ctrlsSvc.getGridBodyCtrl(),A=s.getRow(e),I,L,_=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:H,stickyBottomHeight:z}=F,J=A.rowTop,te=A.rowHeight,ae=m.getPixelOffset(),ce=A.rowTop-ae,le=ce+A.rowHeight,pe=this.getVScrollPosition(),Me=w.divStretchOffset,be=pe.top+Me,Ee=pe.bottom+Me,Le=Ee-be,xe=w.getScrollPositionForPixel(ce),We=w.getScrollPositionForPixel(le-Le),Je=Math.min((xe+We)/2,ce),Pt=be+H>ce,Ht=Ee-z<le,gt=null;t==="top"?gt=xe-H:t==="bottom"?gt=We+z:t==="middle"?gt=Je:Pt?gt=xe-H:Ht&&(gt=We+z),gt!==null&&(this.setVerticalScrollPosition(gt),y.redraw({afterScroll:!0})),I=J!==A.rowTop||te!==A.rowHeight,L=H!==F.stickyTopHeight||z!==F.stickyBottomHeight,_++}while((I||L)&&_<10);this.animationFrameSvc?.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let{colModel:s,frameworkOverrides:n}=this.beans,u=s.getCol(e);if(!u||u.isPinned()||!this.visibleCols.isColDisplayed(u))return;let m=this.getPositionedHorizontalScroll(u,t);n.wrapIncoming(()=>{m!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(m),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:s,columnAfterEnd:n}=this.isColumnOutsideViewport(e),u=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),m=this.centerRowsCtrl.getCenterWidth(),w=this.enableRtl,y=(w?s:n)||u,F=w?n:s;t!=="auto"&&(y=t==="start",F=t==="end");let A=t==="middle";if(y||F||A){let{colLeft:I,colMiddle:L,colRight:_}=this.getColumnBounds(e);return A?L-m/2:y?w?_:I:w?I-m:_-m}return null}isColumnOutsideViewport(e){let{start:t,end:s}=this.getViewportBounds(),{colLeft:n,colRight:u}=this.getColumnBounds(e),m=this.enableRtl,w=m?t>u:s<u,y=m?s<n:t>n;return{columnBeforeStart:w,columnAfterEnd:y}}getColumnBounds(e){let t=this.enableRtl,s=this.visibleCols.bodyWidth,n=e.getActualWidth(),u=e.getLeft(),m=t?-1:1,w=t?s-u:u,y=w+n*m,F=w+n/2*m;return{colLeft:w,colMiddle:F,colRight:y}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),s=t,n=e+t;return{start:s,end:n,width:e}}},In=class extends he{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=et(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:s}=this.beans,n=t.bodyWidth,u=t.getColsLeftWidth(),m=t.getDisplayedColumnsRightWidth(),w;e?w=n+u+m:(w=n,this.addSpacer&&(this.gos.get("enableRtl")?u:m)===0&&s.verticalScrollShowing&&(w+=s.getScrollbarWidth())),this.callback(w)}},Lp=class extends he{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:s}=this,n=()=>{It(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),s.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let s=this.centerContainerCtrl.getCenterWidth();s!==this.centerWidth&&(this.centerWidth=s,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=ji(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function Ln(e,t,s,n,u,m){if(s==null&&t==null)return;let w={},y={},F=(A,I)=>{A.split(" ").forEach(L=>{L.trim()!=""&&I(L)})};if(s){let A=Object.keys(s);for(let I=0;I<A.length;I++){let L=A[I],_=s[L],H;typeof _=="string"?H=e?e.evaluate(_,n):!0:typeof _=="function"&&(H=_(n)),F(L,z=>{H?w[z]=!0:y[z]=!0})}}t&&m&&Object.keys(t).forEach(A=>F(A,I=>{w[I]||(y[I]=!0)})),m&&Object.keys(y).forEach(m),Object.keys(w).forEach(u)}function Ml(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var kp=class extends he{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){let s=this.gos,n=w=>{typeof w=="string"?e.push(w):Array.isArray(w)&&w.forEach(y=>e.push(y))},u=s.get("rowClass");u&&n(u);let m=s.getCallback("getRowClass");if(m){let w={data:t.data,node:t,rowIndex:t.rowIndex},y=m(w);n(y)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,s=>{e.push(s)},()=>{})}processRowClassRules(e,t,s){let{gos:n,expressionSvc:u}=this.beans,m=Ae(n,{data:e.data,node:e,rowIndex:e.rowIndex});Ln(u,void 0,n.get("rowClassRules"),m,t,s)}processStylesFromGridOptions(e){let t=this.gos,s=t.get("rowStyle"),n=t.getCallback("getRowStyle"),u;if(n){let m={data:e.data,node:e,rowIndex:e.rowIndex};u=n(m)}if(u||s)return Object.assign({},s,u)}},Op=0,wo="renderedRow",So=class extends he{constructor(e,t,s,n,u){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=u,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+Op++,this.rowId=Gt(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=Ml(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Gt(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,s,n){let{context:u,focusSvc:m}=this.beans;n=di(this,u,n);let w={rowComp:e,element:t,containerType:s,compBean:n};this.allRowGuis.push(w),this.updateGui(s,w),this.initialiseRowComp(w);let y=this.rowNode,F=this.rowType==="FullWidthLoading"||y.stub,A=!y.data&&this.beans.rowModel.getType()==="infinite";!F&&!A&&!y.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let I=this.fullWidthGui?.element;I&&!this.editing&&m.isRowFocused(y.rowIndex,y.rowPinned)&&m.shouldTakeFocus()&&setTimeout(()=>I.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Zt(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let s=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(u=>s.addOrRemoveCssClass(u,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&$(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),us(t,e.element,wo,this),e.compBean.addDestroyFunc(()=>us(t,e.element,wo,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=Gt(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(Ji(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Ji(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let s=this.createBean(t,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),s=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(s)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:s,beans:{visibleCols:n}}=this,u=!!e||!n.isPinningLeft(),m=!!t,w=!!s||!n.isPinningRight();return u&&m&&w}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),m=!!this.rowNode.group&&!this.rowNode.footer&&so(this.gos,n);e?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":m?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:s}=this.beans;if(!s?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(s.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new hi(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){return!!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,s=null){let n={list:[],map:{}},u=(w,y,F)=>{F!=null?n.list.splice(F,0,y):n.list.push(y),n.map[w]=y},m=[];for(let w of t){let y=w.getInstanceId(),F=e.map[y];F&&this.shouldRecreateCellCtrl(F)&&(F.destroy(),F=void 0),F||(F=this.getNewCellCtrl(w)),F&&u(y,F)}if(this.beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)){let w=this.beans.focusSvc.getFocusedCell().column,y=w.getInstanceId();if(!n.map[y]&&w.getPinned()==s&&this.beans.visibleCols.allCols.includes(w)){let A=this.getNewCellCtrl(w);A&&u(y,A)}}for(let w of e.list){let y=w.column.getInstanceId();if(n.map[y]!=null)continue;!this.isCellEligibleToBeRemoved(w,s)?m.push([y,w]):w.destroy()}if(m.length)for(let[w,y]of m){let F=n.list.findIndex(I=>I.column.getLeft()>y.column.getLeft()),A=F===-1?void 0:Math.max(F-1,0);u(w,y,A)}return n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let s=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(s,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let s=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);let n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");let u=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,u,"right")}}isCellEligibleToBeRemoved(e,t){let{column:u}=e;if(u.getPinned()!=t||this.shouldRecreateCellCtrl(e))return!0;let{editing:m}=e,{visibleCols:w}=this.beans,y=e.isCellFocused();return m||y?!(w.allCols.indexOf(u)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||et(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=we(this.rowNode.oldRowTop),{visibleCols:s}=this.beans,n=s.isPinningLeft(),u=s.isPinningRight();if(t){let{slideInAnimation:m}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){m.fullWidth=!0;return}m.center=!0,m.left=n,m.right=u}else{let{fadeInAnimation:m}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){m.fullWidth=!0;return}m.center=!0,m.left=n,m.right=u}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(w,y)=>w?w.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(w.element,y).params):!0,t=e(this.fullWidthGui,null),s=e(this.centerGui,null),n=e(this.leftGui,"left"),u=e(this.rightGui,"right");return t&&s&&n&&u}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...this.beans.expansionSvc?.getRowExpandedListeners(this)??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:e})=>{e&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(t=>{this.addRowDraggerToRow(t)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{let s=e==="Above",n=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Lt(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:s,column:n}=t;if(!(s.element===e.target))return;let w=this.rowNode,{focusSvc:y,navigation:F}=this.beans,A=y.getFocusedCell(),I={rowIndex:w.rowIndex,rowPinned:w.rowPinned,column:A?.column??n};F?.navigateToNextCell(e,e.key,I,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Ot(e))return;let t=this.allRowGuis.find(y=>y.element.contains(e.target)),s=t?t.element:null,n=s===e.target,u=Ue(this.beans),m=!1;s&&u&&(m=s.contains(u)&&u.classList.contains("ag-cell"));let w=null;!n&&!m&&(w=es(this.beans,s,!1,e.shiftKey)),(this.isFullWidth()&&n||!w)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>yt(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(s=>{bt(s.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,s=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{let m=this.beans.colModel.getCol(e?.column)?.pinned;m?n=m==="right"?this.rightGui?.element:this.leftGui?.element:n=this.centerGui?.element}n&&(n.classList.toggle("ag-full-width-focus",s),s&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let s={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(s.list.push(n),s.map[n.column.getInstanceId()]=n)}),s}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:s}=this;return Ae(this.gos,{type:e,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned,event:t})}createRowEventWithSource(e,t){let s=this.createRowEvent(e,t);return s.source=this,s}onRowDblClick(e){Ot(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),s=this.getColumnForFullWidth(t);if(!(!t||!s))return{rowGui:t,column:s}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Dt(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:s,focusSvc:n}=this.beans;s?.removeAllCellRanges();let u=this.findFullWidthInfoForEvent(e);if(!u)return;let{rowGui:m,column:w}=u,y=m.element,F=e.target,A=e.defaultPrevented||Ve();y&&y.contains(F)&&Zs(F)&&(A=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:w,rowPinned:t.rowPinned,forceBrowserFocus:A})}onRowClick(e){if(Ot(e)||this.lastMouseDownOnDragger)return;let{eventSvc:s,selectionSvc:n}=this.beans;s.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:s,rowNode:n}=this,u=Ae(s,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(w,y,F,A)=>this.addFullWidthRowDragging(w,y,F,A),setTooltip:(w,y)=>{s.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(w,y)}}),m=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return _g(m,u);case"FullWidthGroup":return u.value=n.groupValue,u.valueFormatted=n.rowGroupColumn?this.beans.valueSvc.formatValue(n.rowGroupColumn,n,u.value):u.value,Gg(m,u);case"FullWidthLoading":return Og(m,u);default:return kg(m,u)}}refreshRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,s="",n){let{rowDragSvc:u,context:m}=this.beans;if(!u||!this.isFullWidth())return;let w=u.createRowDragComp(()=>s,this.rowNode,void 0,e,t,n);this.createBean(w,m),this.addDestroyFunc(()=>{this.destroyBean(w,m)})}onUiLevelChanged(){let e=Ml(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass(t,!0),n.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),s=this.isFullWidth(),{rowNode:n,beans:u}=this,m=[];m.push("ag-row"),m.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&m.push("ag-opacity-zero"),m.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&m.push("ag-row-pinned"),n.isSelected()&&m.push("ag-row-selected"),n.footer&&m.push("ag-row-footer"),m.push("ag-row-level-"+this.rowLevel),n.stub&&m.push("ag-row-loading"),s&&m.push("ag-full-width-row"),u.expansionSvc?.addExpandedCss(m,n),n.dragging&&m.push("ag-row-dragging");let{rowStyleSvc:w}=u;return w&&(w.processClassesFromGridOptions(m,n),w.preProcessRowClassRules(m,n)),m.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&m.push("ag-row-first"),this.isLastRowOnPage()&&m.push("ag-row-last"),s&&(t==="left"&&m.push("ag-cell-last-left-pinned"),t==="right"&&m.push("ag-cell-first-right-pinned")),m}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:s}=e,{rowNode:n,beans:u,gos:m}=this;s.addManagedListeners(t,{mouseenter:()=>n.dispatchRowEvent("mouseEnter"),mouseleave:()=>n.dispatchRowEvent("mouseLeave")}),s.addManagedListeners(n,{mouseEnter:()=>{!u.dragSvc?.dragging&&!m.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(s=>s.element);for(let s of t)s.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(s,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),u=nn(this.gos)?ds(this.beans,this.rowNode).height:void 0,m=u?`${Math.min(s,u)-2}px`:void 0;this.forEachGui(e,w=>{w.element.style.height=`${t}px`,m&&w.element.style.setProperty("--ag-line-height",m)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&gs(this.gos)&&!t.sticky)if(t.rowTop!=null){let u=this.roundRowTopToBounds(t.rowTop);this.setRowTop(u)}else this.allRowGuis.forEach(u=>u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(Ue(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let s=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(s),this.beans.eventSvc.dispatchEvent(s),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.beans.editSvc?.stopRowEditing(this);let e=t=>(t.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e,editSvc:t}=this.beans,s=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);s!==this.rowFocused&&(this.rowFocused=s,this.setFocusedClasses()),!s&&this.editing&&t?.stopRowEditing(this,!1)}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let s=this.beans.pageBounds.getPixelOffset();return e+s*(t?1:-1)}setRowTop(e){if(!this.printLayout&&we(e)){let t=this.applyPaginationOffset(e),u=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(u)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,s;if(t.sticky)s=t.stickyRowTop;else{let n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,u=this.applyPaginationOffset(n);s=t.isRowPinned()?u:this.beans.rowContainerHeight.getRealPixelPosition(u)}return s+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let s=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(s=n)}),s!=null||t||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(s=n)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let s=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,u=s+this.rowNode.rowIndex+1;this.forEachGui(e,m=>{m.rowComp.setRowIndex(t),m.rowComp.addOrRemoveCssClass("ag-row-even",n),m.rowComp.addOrRemoveCssClass("ag-row-odd",!n),oe(m.element,u)})}};function kn(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function On(e,t,s,n,u){let m=n?n.getColDef().suppressKeyboardEvent:void 0;if(!m)return!1;let w=Ae(e,{event:t,editing:u,column:n,node:s,data:s.data,colDef:n.getColDef()});return!!(m&&m(w))}function Fl(e){let{pinnedRowModel:t,rowModel:s}=e,[n,u]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],m=n?null:"top",w,y;u?(w=null,y=s.getRowCount()-1):(w="bottom",y=t?.getPinnedBottomRowCount()??-1);let{visibleCols:F,rangeSvc:A}=e,I=F.allCols;!A||!I?.length||A.setCellRange({rowStartIndex:0,rowStartPinned:m,rowEndIndex:y,rowEndPinned:w})}var Gp=65,_p=67,Bp=86,Np=68,Vp=90,Hp=89;function zp(e){let{keyCode:t}=e,s;switch(t){case Gp:s=de.A;break;case _p:s=de.C;break;case Bp:s=de.V;break;case Np:s=de.D;break;case Vp:s=de.Z;break;case Hp:s=de.Y;break;default:s=e.code}return s}var Wp=class extends he{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this)}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",ma("touchstart")?"touchstart":"mousedown"].forEach(s=>{let n=this.processMouseEvent.bind(this,s);this.addManagedElementListeners(this.element,{[s]:n})})}processMouseEvent(e,t){if(!gi(this.gos,t)||Ot(t))return;let{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(s?.column&&s.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,s)):(s&&s.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:Mn(t,e),rowCtrl:Ca(t,e,wo)}}processKeyboardEvent(e,t){let{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(s?this.processCellKeyboardEvent(s,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,s){let{rowNode:n,column:u,editing:m}=e;!On(this.gos,s,n,u,m)&&t==="keydown"&&(!m&&this.beans.navigation?.handlePageScrollingKey(s)||e.onKeyDown(s),this.doGridOperations(s,e.editing),kn(s)&&e.processCharacter(s)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(s,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,s){let{rowNode:n}=e,{focusSvc:u,navigation:m}=this.beans,w=u.getFocusedCell(),y=w&&w.column;if(!On(this.gos,s,n,y,!1)){let A=s.key;if(t==="keydown")switch(A){case de.PAGE_HOME:case de.PAGE_END:case de.PAGE_UP:case de.PAGE_DOWN:m?.handlePageScrollingKey(s,!0);break;case de.LEFT:case de.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case de.UP:case de.DOWN:e.onKeyboardNavigate(s);break;case de.TAB:e.onTabKeyDown(s);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",s))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!gi(this.gos,e))return;let s=zp(e),{clipboardSvc:n,undoRedo:u}=this.beans;if(s===de.A)return this.onCtrlAndA(e);if(s===de.C)return this.onCtrlAndC(n,e);if(s===de.D)return this.onCtrlAndD(n,e);if(s===de.V)return this.onCtrlAndV(n,e);if(s===de.X)return this.onCtrlAndX(n,e);if(s===de.Y)return this.onCtrlAndY(u);if(s===de.Z)return this.onCtrlAndZ(u,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:s,selectionSvc:n},gos:u}=this;s&&kt(u)&&t.isRowsToRender()?Fl(this.beans):n&&n?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:ua(u)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s?.editing||n?.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s?.editing||n?.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:s,rowCtrl:n}=this.getControlsForEventTarget(t.target);s?.editing||n?.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},xl=class extends he{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,s=t!=null?`${t}px`:"";this.eContainer.style.height=s,this.eViewport&&(this.eViewport.style.height=s)}},yo=e=>e.topRowCtrls,bo=e=>e.getStickyTopRowCtrls(),Ro=e=>e.getStickyBottomRowCtrls(),Po=e=>e.bottomRowCtrls,Mo=e=>e.allRowCtrls,Gn=e=>e.getCtrls("top"),_n=e=>e.getCtrls("center"),Bn=e=>e.getCtrls("bottom"),Up={center:{type:"center",name:"center-cols",getRowCtrls:Mo,getSpannedRowCtrls:_n},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Mo,getSpannedRowCtrls:_n},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Mo,getSpannedRowCtrls:_n},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Mo},topCenter:{type:"center",name:"floating-top",getRowCtrls:yo,getSpannedRowCtrls:Gn},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:yo,getSpannedRowCtrls:Gn},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:yo,getSpannedRowCtrls:Gn},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:yo},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:bo},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:bo},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:bo},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:bo},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Ro},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Ro},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Ro},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Ro},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Po,getSpannedRowCtrls:Bn},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Po,getSpannedRowCtrls:Bn},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Po,getSpannedRowCtrls:Bn},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Po}};function Nn(e){return`ag-${Hs(e).name}-viewport`}function mi(e){let t=Hs(e);return t.container??`ag-${t.name}-container`}function El(e){return`ag-${Hs(e).name}-spanned-cells-container`}function Hs(e){return Up[e]}var jp=["topCenter","topLeft","topRight"],Kp=["bottomCenter","bottomLeft","bottomRight"],$p=["center","left","right"],Xp=["center","left","right","fullWidth"],Yp=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Zp=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Qp=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Al=["stickyTopCenter","stickyTopLeft","stickyTopRight"],Tl=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Jp=[...Al,"stickyTopFullWidth",...Tl,"stickyBottomFullWidth"],qp=[...jp,...Kp,...$p,...Al,...Tl],Dl=class extends he{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Hs(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Lp(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,s,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=s,this.eViewport=n,this.createManagedBean(new Wp(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:u,rangeSvc:m}=this.beans,w=()=>this.onPinnedWidthChanged();this.forContainers(Zp,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(u?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:w})}),this.forContainers(Qp,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(u?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:w})}),this.forContainers(Xp,()=>this.createManagedBean(new xl(this.eContainer,this.name==="center"?n:void 0))),m&&this.forContainers(qp,()=>this.createManagedBean(m.createDragListenerFeature(this.eContainer))),this.forContainers(Yp,()=>this.createManagedBean(new In(y=>this.comp.setContainerWidth(`${y}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:s=>this.onDisplayedRowsChanged(s.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let s=this.options.getSpannedRowCtrls(e);s&&this.comp.setSpannedRowCtrls(s,!1)}})}listenOnDomOrder(){if(Jp.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let s=this.gos.get("ensureDomOrder"),n=et(this.gos,"print");this.comp.setDomOrder(s||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=s=>{e.dragging&&s.cancelable&&s.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,s,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ls(this.eViewport)}getCenterViewportScrollLeft(){return $i(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=zt(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return Nr(this.eViewport)}getViewportScrollLeft(){return $i(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||ih(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Xi(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let s=et(this.gos,"print"),u=this.gos.get("embedFullWidthRows")||s,m=t.filter(w=>{let y=w.isFullWidth();return this.options.fullWidth?!u&&y:u||!y});this.comp.setRowCtrls({rowCtrls:m,useFlushSync:e})}},Il="ag-force-vertical-scroll",ef="ag-selectable",tf="ag-column-moving",Ll=class extends he{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,s,n,u,m,w){this.comp=e,this.eGridBody=t,this.eBodyViewport=s,this.eTop=n,this.eBottom=u,this.eStickyTop=m,this.eStickyBottom=w,this.eCenterColsViewport=s.querySelector(`.${Nn("center")}`),this.eFullWidthContainer=s.querySelector(`.${mi("fullWidth")}`),this.eStickyTopFullWidthContainer=m.querySelector(`.${mi("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=w.querySelector(`.${mi("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",y=>this.setCellTextSelection(y.currentValue)),this.createManagedBean(new Tn(this.comp)),this.scrollFeature=this.createManagedBean(new Ip(this.eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,s,u,m,w]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let s=t&&e.getScrollbarWidth()||0,n=Xs()?16:0,u=`calc(100% + ${s+n}px)`;It(this.beans,()=>this.comp.setBodyViewportWidth(u)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,s=this.gos.get("treeData");if(!s){let n=t.isPivotMode();s=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(s?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:s=>{let{target:n}=s,u=Dt(n,"ag-root",t);t.classList.toggle("ag-has-focus",!u)},focusout:s=>{let{target:n,relatedTarget:u}=s,m=t.contains(u),w=Dt(u,"ag-root",t);Dt(n,"ag-root",t)||(!m||w)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(tf,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(ef,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,s=t.isLastRowIndexKnown()?t.getRowCount():-1,n=s===-1?-1:e+s;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?Il:null,s=et(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||s&&oh(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,s=t.sizesMeasured,n=()=>{let u=s&&gs(this.gos)&&!e.stretching,m=u?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(m,u)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!s&&t.sizesMeasured&&(s=!0,n())}})}addBodyViewportListener(){let{popupSvc:e,touchSvc:t}=this.beans,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:s}),t?.mockBodyContextMenu(this,s),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:s,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(s))&&gi(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:t,deltaY:s,shiftKey:n}=e,u=n||Math.abs(t)>Math.abs(s),m=e.target;u?(this.eStickyTopFullWidthContainer.contains(m)||this.eStickyBottomFullWidthContainer.contains(m))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(s))}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:s}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||s})}onBodyViewportContextMenu(e,t,s){if(!e&&!s)return;this.gos.get("preventDefaultOnContextMenu")&&(e||s).preventDefault();let{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:s,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e?.getPinnedTopTotalHeight()??0,s=e?.getPinnedBottomTotalHeight()??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(s),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(s?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),s=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,n=0;t>0&&(n+=t),s>0&&(n+=s),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:s}=this,n=e?.getPinnedBottomTotalHeight()??0,m=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,w=n+m;s.setStickyBottomBottom(`${w}px`)}},kl=class extends Oe{constructor(e,t){super(),this.direction=t,this.eViewport=Se,this.eContainer=Se,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Ds()||At())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Xs(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),s=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:s,touchend:s})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),It(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;Xr(()=>yt(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},sf={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Ol=class extends kl{constructor(){super(sf,"horizontal"),this.eLeftSpacer=Se,this.eRightSpacer=Se,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new In(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),s=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();s&&(t+=n),Mt(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let u=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(u+=n),Mt(this.eLeftSpacer,u),this.eLeftSpacer.classList.toggle("ag-scroller-corner",u<=n)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,s=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,m=s?0:n===0&&t?16:n,w=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ti(this.getGui(),m),ti(this.eViewport,m),ti(this.eContainer,m),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(w,100):w()}getScrollPosition(){return $i(this.eViewport,this.enableRtl)}setScrollPosition(e){yt(this.eViewport)||this.attemptSettingScrollPosition(e),Xi(this.eViewport,e,this.enableRtl)}},of={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:Ol},nf={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},Gl=class extends kl{constructor(){super(nf,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new xl(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,s=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,u=n===0&&s?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),Mt(this.getGui(),u),Mt(this.eViewport,u),Mt(this.eContainer,u),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let s=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),u=s.scrollTop;n!=u&&this.setScrollPosition(u,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!yt(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},rf={selector:"AG-FAKE-VERTICAL-SCROLL",component:Gl};function _l(e){return e.cols?e.cols.treeDepth+1:-1}function Bt(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Vn(e){let t=[],s=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let n of s){if(!n)continue;let u=n.getGroupRowCount()||0;for(let m=0;m<u;m++){let w=n.getGroupRowCtrlAtIndex(m),y=t[m];if(w){let F=af(e,w);(y==null||F>y)&&(t[m]=F)}}}return t}function af(e,t){let n=e.colModel.isPivotMode()?cf(e):Bl(e),u=t.getHeaderCellCtrls();for(let m of u){let{column:w}=m,y=w.getAutoHeaderHeight();y!=null&&y>n&&w.isAutoHeaderHeight()&&(n=y)}return n}function Hn(e){let s=e.colModel.isPivotMode()?lf(e):Ci(e);return e.colModel.forAllCols(n=>{let u=n.getAutoHeaderHeight();u!=null&&u>s&&n.isAutoHeaderHeight()&&(s=u)}),s}function Ci(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function zn(e){return e.gos.get("floatingFiltersHeight")??Ci(e)}function Bl(e){return e.gos.get("groupHeaderHeight")??Ci(e)}function lf(e){return e.gos.get("pivotHeaderHeight")??Ci(e)}function cf(e){return e.gos.get("pivotGroupHeaderHeight")??Bl(e)}var Nl=class extends he{setComp(e,t,s){this.comp=e,this.eGui=t;let{beans:n}=this,{headerNavigation:u,touchSvc:m,ctrlsSvc:w}=n;u&&this.createManagedBean(new Ms(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();let y=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:y}),m?.mockHeaderContextMenu(this,y),w.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>It(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,s=Vn(e).reduce((m,w)=>m+w,0),n=Hn(e);if(e.filterManager?.hasFloatingFilters()&&(t+=zn(e)),t+=s,t+=n,this.headerHeight===t)return;this.headerHeight=t;let u=`${t+1}px`;this.comp.setHeightAndMinHeight(u),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let s=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",s)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),s=e.shiftKey,n=s!==t?"LEFT":"RIGHT",{beans:u}=this,{headerNavigation:m,focusSvc:w}=u;(m.navigateHorizontally(n,!0,e)||!s&&w.focusOverlay(!1)||bs(u,s,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:s}=this.beans;switch(e.key){case de.LEFT:t="LEFT";case de.RIGHT:{we(t)||(t="RIGHT"),s.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case de.UP:t="UP";case de.DOWN:{we(t)||(t="DOWN"),s.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:s,beans:n}=this;!t&&s.contains(Ue(n))||s.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,s){let{menuSvc:n,ctrlsSvc:u}=this.beans;if(!e&&!s||!n?.isHeaderContextMenuEnabled())return;let{target:m}=e??t;(m===this.eGui||m===u.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,s)}},Wn=class extends Oe{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},df={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},uf=class extends Wn{constructor(e){super(df,e),this.eResize=Se,this.eHeaderCompWrapper=Se,this.headerCompVersion=0}postConstruct(){let e=this.getGui();((u,m)=>{m!=null&&m!=""?e.setAttribute(u,m):e.removeAttribute(u)})("col-id",this.ctrl.column.getColId());let s={setWidth:u=>e.style.width=u,addOrRemoveCssClass:(u,m)=>this.addOrRemoveCssClass(u,m),setUserStyles:u=>ei(e,u),setAriaSort:u=>u?U(e,u):K(e),setUserCompDetails:u=>this.setUserCompDetails(u),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(s,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let n=this.ctrl.getSelectAllGui();n&&this.eResize.insertAdjacentElement("afterend",n)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(s=>this.afterCompCreated(t,s))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},hf={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},gf=class extends Wn{constructor(e){super(hf,e),this.eResize=Se,this.eHeaderCompWrapper=Se}postConstruct(){let e=this.getGui(),t=(n,u)=>u!=null?e.setAttribute(n,u):e.removeAttribute(n);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let s={addOrRemoveCssClass:(n,u)=>this.addOrRemoveCssClass(n,u),setUserStyles:n=>ei(e,n),setHeaderWrapperHidden:n=>{n?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:n=>{n!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${n}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",n!=null)},setResizableDisplayed:n=>_e(this.eResize,n),setWidth:n=>e.style.width=n,setAriaExpanded:n=>t("aria-expanded",n),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(s,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let s=this.getGui(),n=e.getGui();this.eHeaderCompWrapper.appendChild(n),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(s)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:s}=this;t?s.style.setProperty(e,t):s.style.removeProperty(e)}},pf={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},ff=class extends Wn{constructor(e){super(pf,e),this.eFloatingFilterBody=Se,this.eButtonWrapper=Se,this.eButtonShowMainFilter=Se}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setUserStyles:s=>ei(e,s),addOrRemoveBodyCssClass:(s,n)=>this.eFloatingFilterBody.classList.toggle(s,n),setButtonWrapperDisplayed:s=>_e(this.eButtonWrapper,s),setCompDetails:s=>this.setCompDetails(s),getFloatingFilterComp:()=>this.compPromise,setWidth:s=>e.style.width=s,setMenuIcon:s=>this.eButtonShowMainFilter.appendChild(s)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},mf=class extends Oe{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){oe(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,s)=>this.setHeaderCtrls(t,s),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let s=this.headerComps;if(this.headerComps={},e.forEach(n=>{let u=n.instanceId,m=s[u];delete s[u],m==null&&(m=this.createHeaderComp(n),this.getGui().appendChild(m.getGui())),this.headerComps[u]=m}),Object.values(s).forEach(n=>{this.getGui().removeChild(n.getGui()),this.destroyBean(n)}),t){let n=Object.values(this.headerComps);n.sort((m,w)=>{let y=m.getCtrl().column.getLeft(),F=w.getCtrl().column.getLeft();return y-F});let u=n.map(m=>m.getGui());Hr(this.getGui(),u)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new gf(e);break;case"filter":t=new ff(e);break;default:t=new uf(e);break}return this.createBean(t),t.setParentComponent(this),t}},Un=class extends he{constructor(e,t,s,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=s}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Be(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,s=e.get("suppressColumnMoveAnimation"),n=we(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!s?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),s=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=s,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:s,visibleCols:n}=this.beans;if(!et(s,"print")||e.getPinned()==="left")return t;let m=n.getColsLeftWidth();if(e.getPinned()==="right"){let w=n.bodyWidth;return m+w+t}return m+t}setLeft(e){if(we(e)&&(this.eCell.style.left=`${e}px`),je(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&G(this.ariaEl,t.length)}}},Cf=0,Vl="headerCtrl",jn=class extends he{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+Cf++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:s}=this.beans.focusSvc.focusedHeader,n=s.getDefinition(),u=n&&n.suppressHeaderKeyboardEvent;if(!we(u))return!1;let m=Ae(this.gos,{colDef:n,column:s,headerRowIndex:t,event:e});return!!u(m)}getWrapperHasFocus(){return Ue(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,s;if(typeof t=="function"){let n=this.getHeaderClassParams();s=t(n)}else s=t;s&&this.comp.setUserStyles(s)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:s,compBean:n}=e,{beans:u}=this,m=L=>{if(!this.isAlive()||!n.isAlive())return;let{paddingTop:_,paddingBottom:H,borderBottomWidth:z,borderTopWidth:J}=rs(this.eGui),te=_+H+z+J,ce=t.offsetHeight+te;if(L<5){let le=Xe(u),pe=!le||!le.contains(t),Me=ce==0;if(pe||Me){Ji(()=>m(L+1),"raf",u);return}}this.setColHeaderHeight(this.column,ce)},w=!1,y,F=()=>{let L=this.column.isAutoHeaderHeight();L&&!w&&A(),!L&&w&&I()},A=()=>{w=!0,m(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),y=zt(this.beans,t,()=>m(0))},I=()=>{w=!1,y&&y(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),y=void 0};F(),n.addDestroyFunc(()=>I()),n.addManagedListeners(this.column,{widthChanged:()=>w&&m(0)}),n.addManagedEventListeners({sortChanged:()=>{w&&window.setTimeout(()=>m(0))}}),s&&s(F)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:s,eGui:n}=this;!e||!t||!n||(Ya(e,t,s.visibleCols),X(n,s.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=ys(this.beans);this.eGui&&bt(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=Ue(this.beans),s=e.key===de.LEFT||e.key===de.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;let u=e.key===de.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let m=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(m,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(u)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:s}=this.beans;return s?s.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:s}=this,n=e.key===de.LEFT!==t.get("enableRtl"),u=s.getPinned(),m=t.get("enableRtl");return u&&m!==(u==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=Vl,{eGui:s,gos:n}=this;us(n,s,t,this),e.addDestroyFunc(()=>us(n,s,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,s){let n=e??t,{menuSvc:u,gos:m}=this.beans;m.get("preventDefaultOnContextMenu")&&n.preventDefault(),u?.isHeaderContextMenuEnabled(s)&&u.showHeaderContextMenu(s,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:s}=this;e.isColumn?s.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):s.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},vf=class extends jn{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,s,n,u){this.comp=e;let{rowCtrl:m,column:w,beans:y}=this,{colResize:F,context:A,colHover:I,rangeSvc:L}=y,_=di(this,A,u);this.setGui(t,_),this.updateState(),this.setupWidth(_),this.setupMovingCss(_),this.setupMenuClass(_),this.setupSortableClass(_),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:z=>this.setRefreshFunction("measuring",z),compBean:_}),this.addColumnHoverListener(_),this.setupFilterClass(_),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(_),this.setupSelectAll(_),this.setupUserComp(),this.refreshAria(),F?this.resizeFeature=_.createManagedBean(F.createResizeFeature(m.pinned,w,s,e,this)):_e(s,!1),I?.createHoverFeature(_,[w],t),L?.createRangeHighlightFeature(_,w,e),_.createManagedBean(new Un(w,t,y)),_.createManagedBean(new Ms(t,{shouldStopEventPropagation:z=>this.shouldStopEventPropagation(z),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(_),_.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),_.addManagedListeners(w,{colDefChanged:()=>this.refresh()}),_.addManagedListeners(w,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let H=()=>this.checkDisplayName();_.addManagedEventListeners({columnValueChanged:H,columnRowGroupChanged:H,columnPivotChanged:H,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),_.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,s=e.colDef;return Ae(t.gos,{colDef:s,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return Tg(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:s,gos:n}=this.beans;return Ae(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!s&&(!this.openFilterEnabled||dt(this.gos)),showColumnMenu:(m,w)=>{e?.showColumnMenu({column:this.column,buttonElement:m,positionBy:"button",onClosedCallback:w})},showColumnMenuAfterMouseClick:(m,w)=>{e?.showColumnMenu({column:this.column,mouseEvent:m,positionBy:"mouse",onClosedCallback:w})},showFilter:m=>{e?.showFilterMenu({column:this.column,buttonElement:m,containerType:"columnFilter",positionBy:"button"})},progressSort:m=>{t?.progressSort(this.column,!!m,"uiColumnSorted")},setSort:(m,w)=>{t?.setSortForColumn(this.column,m,!!w,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(m,w)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(m,w)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===de.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===de.ENTER&&this.onEnterKeyDown(e),e.key===de.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let s=this.comp.getUserCompInstance();Hl(s)&&s.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Qa()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),s=bn(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(s),s.forEach(u=>{n.has(u)?n.delete(u):this.comp.addOrRemoveCssClass(u,!0)}),n.forEach(u=>this.comp.addOrRemoveCssClass(u,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let s=this.column.getActualWidth();this.comp.setWidth(`${s}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let s=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",s),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,s=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:s,beans:n}=this,u=Vn(this.beans),m=u.reduce((I,L)=>I+=L,0)===0;if(s.addOrRemoveCssClass("ag-header-parent-hidden",m),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),s.addOrRemoveCssClass("ag-header-span-height",!1),s.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:w,isSpanningTotal:y}=this.column.getColumnGroupPaddingInfo();s.addOrRemoveCssClass("ag-header-span-height",w>0);let F=Hn(n);if(w===0){s.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${F}px`);return}s.addOrRemoveCssClass("ag-header-span-total",y);let A=0;for(let I=0;I<w;I++)A+=u[u.length-1-I];e.style.setProperty("top",`${-A}px`),e.style.setProperty("height",`${F+A}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(b(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!dt(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Ue(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,s)=>t==="filter"?-1:s.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=u=>this.handleMouseOverChange(u.type==="mouseenter"),s=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=u=>this.handleContextMenuMouseEvent(u,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return Hl(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Hl(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var wf=0,Kn=class extends he{constructor(e,t,s){super(),this.rowIndex=e,this.pinned=t,this.type=s,this.instanceId=wf++,this.allCtrls=[];let n=s=="group"?"ag-header-row-column-group":s=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}postConstruct(){this.isPrintLayout=et(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,s=!0){this.comp=e,t=di(this,this.beans.context,t),s&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),s=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:s,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",s),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=et(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],s=Vn(this.beans),n=Hn(this.beans);t.push(...s),t.push(n),e?.hasFloatingFilters()&&t.push(zn(this.beans));let u=0;for(let w=0;w<this.rowIndex;w++)u+=t[w];let m=t[this.rowIndex];return{topOffset:u,rowHeight:m}}onVirtualColumnsChanged(e=!1){let t=this.getUpdatedHeaderCtrls(),s=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,s,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);let s=n=>{let{focusSvc:u,visibleCols:m}=this.beans;return u.isHeaderWrapperFocused(n)?m.isVisible(n.column):!1};if(e)for(let[n,u]of e)s(u)?this.ctrlsById.set(n,u):this.destroyBean(u);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,s){if(e.isEmptyGroup())return;let n=e.getUniqueId(),u;if(s&&(u=s.get(n),s.delete(n)),u&&u.column!=e&&(this.destroyBean(u),u=void 0),u==null)switch(this.type){case"filter":{u=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":u=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:u=this.createBean(new vf(e,this));break}t.set(n,u)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:s}=this.beans;return["left",null,"right"].forEach(n=>{let u=s.getHeadersToRender(n,t);e=e.concat(u)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){let s=this.allCtrls.find(u=>u.column==e);return s?s.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},zl=class extends he{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:s,ctrlsSvc:n,colModel:u,colMoves:m,filterManager:w}=this.beans;this.setupCenterWidth(),s?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(m,this.eViewport);let y=this.onDisplayedColumnsChanged.bind(this,w);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:y,advancedFilterEnabledChanged:y});let F=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(F,this),u.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:s,filterManager:n}=this.beans,u=0,m=t.getFocusHeaderToUseAfterRefresh(),w=()=>{let I=_l(s)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let L=0;L<I;L++){let _=this.createBean(new Kn(u++,this.pinned,"group"));this.groupsRowCtrls.push(_)}},y=()=>{let I=u++,L=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==I);(L||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),L&&(this.columnsRowCtrl=this.createBean(new Kn(I,this.pinned,"column")))},F=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;let I=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){I();return}let L=u++;if(this.filtersRowCtrl){let _=this.filtersRowCtrl.rowIndex!==L;(!e||_)&&I()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Kn(L,this.pinned,"filter")))};w(),y(),F();let A=this.getAllCtrls();this.comp.setCtrls(A),this.restoreFocusOnHeader(t,m)}getHeaderCtrlForColumn(e){let t=s=>s?.getHeaderCellCtrls().find(n=>n.column===e);if(Ut(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let s=0;s<this.groupsRowCtrls.length;s++){let n=t(this.groupsRowCtrls[s]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,s){let u=this.getAllCtrls()[e];return u?u.focusHeader(t,s):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let s=e?.createBodyDropTarget(this.pinned,t);s&&this.createManagedBean(s)}restoreFocusOnHeader(e,t){if(!t)return;let{column:s}=t;s.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new In(e=>this.comp.setCenterWidth(`${e}px`),!0))}},Sf=class extends he{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){let{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){let{enterpriseMenuFactory:t,filterMenuFactory:s}=this.beans,n=t&&dt(this.gos)?t:s;this.showColumnMenuCommon(n,e,e.containerType,!0)}showHeaderContextMenu(e,t,s){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,s)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){let{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(dt(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Ut(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){let e=!this.isSuppressMenuHide();return!(At()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!dt(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!dt(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){let e=this.gos,t=e.get("suppressMenuHide");return dt(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,s,n){let{positionBy:u,onClosedCallback:m}=t,w=t.column;if(u==="button"){let{buttonElement:y}=t;e?.showMenuAfterButtonClick(w,y,s,m,n)}else if(u==="mouse"){let{mouseEvent:y}=t;e?.showMenuAfterMouseEvent(w,y,s,m,n)}else if(w){let y=this.beans,F=y.ctrlsSvc;F.getScrollFeature().ensureColumnVisible(w,"auto"),It(y,()=>{let A=F.getHeaderRowContainerCtrl(w.getPinned())?.getHeaderCtrlForColumn(w);A&&e?.showMenuAfterButtonClick(w,A.getAnchorElementForMenu(n),s,m,!0)})}}};function $n(e,t,s){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",s))}var Wl=class extends Oe{constructor(){super()}},yf={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},bf=class extends Wl{init(){let e=Lt(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??yf),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},Rf={tag:"span",cls:"ag-overlay-no-rows-center"},Pf=class extends Wl{init(){let e=Lt(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??Rf),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function Ul(e,t,s){let n=Ct(e,t,s);if(n){let{className:m}=n;if(typeof m=="string"&&m.indexOf("ag-icon")>-1||typeof m=="object"&&m["ag-icon"])return n}let u=Ke({tag:"span"});return u.appendChild(n),u}function Ct(e,t,s){let n=null;e==="smallDown"?Ce(262):e==="smallLeft"?Ce(263):e==="smallRight"&&Ce(264);let u=s&&s.getColDef().icons;if(u&&(n=u[e]),t.gos&&!n){let m=t.gos.get("icons");m&&(n=m[e])}if(n){let m;if(typeof n=="function")m=n();else if(typeof n=="string")m=n;else{Ce(38,{iconName:e});return}if(typeof m=="string")return qs(m);if(Zi(m))return m;Ce(133,{iconName:e});return}else{let m=t.registry.getIcon(e);return m||t.validation?.validateIcon(e),Ke({tag:"span",cls:`ag-icon ag-icon-${m??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Mf=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Ff={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},xf=class extends Oe{constructor(){super(),this.dragSource=null,this.eIcon=Se,this.eLabel=Se,this.eGhost=Se,this.registerCSS(Mf)}postConstruct(){let e=t=>Ul(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Ff),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:s,dragSource:n,dropIconMap:u,gos:m}=this;tt(s);let w=null;e||(e=n?.getDefaultIconName?n.getDefaultIconName():"notAllowed"),w=u[e],s.classList.toggle("ag-shake-left-to-right",t),!(w===u.hide&&m.get("suppressDragLeaveHidesColumns"))&&w&&s.appendChild(w)}setLabel(e){this.eLabel.textContent=e}},Ef=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",jl=class extends Oe{constructor(e,t,s){super(t,s),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Ef)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:s,labelAlignment:n,disabled:u}=this.config;u!=null&&this.setDisabled(u),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),s!=null&&this.setLabelWidth(s),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;tt(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(_e(t,!1),v(t,"presentation")):(_e(t,!0),v(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let s=this.getGui().classList;return s.toggle("ag-label-align-left",e==="left"),s.toggle("ag-label-align-right",e==="right"),s.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Yi(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return Tt(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Kl=class extends jl{constructor(e,t,s,n){super(e,t,s),this.className=n}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:s}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),s!=null&&this.onValueChange(s),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),s=this.getLabel();s==null||s==""||x(e)!==null?T(e,""):T(e,t??"")}setAriaLabel(e){return E(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Mt(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Af(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var is=class extends Kl{constructor(e,t,s="text",n="input"){super(e,e?.template??Af(n),[],t),this.inputType=s,this.displayFieldTag=n,this.eLabel=Se,this.eWrapper=Se,this.eInput=Se}postConstruct(){super.postConstruct(),this.setInputType();let{eLabel:e,eWrapper:t,eInput:s,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),s.classList.add(`${n}-input`),this.addCssClass("ag-input-field"),s.id=s.id||`ag-${this.getCompId()}-input`;let{inputName:u,inputWidth:m}=this.config;u!=null&&this.setInputName(u),m!=null&&this.setInputWidth(m),this.addInputListeners(),this.activateTabIndex([s])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Yi(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return bt(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return E(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Tt(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)bt(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";bt(this.eInput,"autocomplete",t)}return this}},vi=class extends is{constructor(e,t="ag-checkbox",s="checkbox"){super(e,t,s),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let s=this.eInput;s.checked=e,s.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,s){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:s});let n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),s=this.selected=e.target.checked;this.refreshSelectedClass(s),this.dispatchChange(s,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},Fo={selector:"AG-CHECKBOX",component:vi},Tf=".ag-checkbox-cell{height:100%}",Df={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},If=class extends Oe{constructor(){super(Df,[Fo]),this.eCheckbox=Se,this.registerCSS(Tf)}init(e){this.refresh(e);let{eCheckbox:t,beans:s}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),k(n,"polite"),this.addManagedListeners(n,{click:u=>{if(ms(u),t.isDisabled())return;let m=t.getValue();this.onCheckboxChanged(m)},dblclick:u=>{ms(u)}}),this.addManagedElementListeners(e.eGridCell,{keydown:u=>{if(u.key===de.SPACE&&!t.isDisabled()){e.eGridCell===Ue(s)&&t.toggle();let m=t.getValue();this.onCheckboxChanged(m),u.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,s=!0,{value:n,column:u,node:m}=e;if(m.group&&u)if(typeof n=="boolean")t=n;else{let L=u.getColId();L.startsWith(li)?t=n==null||n===""?void 0:n==="true":m.aggData&&m.aggData[L]!==void 0?t=n??void 0:s=!1}else t=n??void 0;let{eCheckbox:w}=this;if(!s){w.setDisplayed(!1);return}w.setValue(t);let y=e.disabled??!u?.isCellEditable(m);w.setDisabled(y);let F=this.getLocaleTextFunc(),A=Ie(F,t),I=y?A:`${F("ariaToggleCellValue","Press SPACE to toggle cell value")} (${A})`;w.setInputAriaLabel(I)}onCheckboxChanged(e){let{eventSvc:t,params:s}=this,{column:n,node:u,value:m}=s,w={column:n,colDef:n.getColDef(),data:u.data,node:u,rowIndex:u.rowIndex,rowPinned:u.rowPinned,value:m};t.dispatchEvent({type:"cellEditingStarted",...w});let y=u.setDataValue(n,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...w,oldValue:m,newValue:e,valueChanged:y}),y||this.updateCheckbox(s)}},Lf="ROOT_NODE_ID",$l=class extends he{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Lf,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,s)=>this.createRowNode(t,s))??[]}setImmutableRowData(e,t){let s=ps(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),u=e.changedRowNodes,m=new Set,w=this.rootNode,y=w.allLeafChildren,F=y.length,A=!1,I=!1,L=!1,_=!1;for(let z=0,J=-1,te=t.length;z<te;z++){let ae=t[z],ce=this.getRowNode(s({data:ae,level:0}));if(!ce)A=!0,ce=this.createRowNode(ae,-1),u.add(ce);else{if(n){let le=ce.sourceRowIndex;_||(_=le<=J||A),J=le}ce.data!==ae&&(L=!0,ce.updateData(ae),u.update(ce))}m.add(ce)}let H=[];for(let z=0;z<F;z++){let J=y[z];m.has(J)||(I=!0,J.isSelected()&&H.push(J),this.rowNodeDeleted(J),u.remove(J))}if(A||I||_){let z=new Array(m.size),J=0;if(!n)for(let ae=0;ae<F;++ae){let ce=y[ae];m.delete(ce)&&(ce.sourceRowIndex=J,z[J++]=ce)}for(let ae of m)ae.sourceRowIndex=J,z[J++]=ae;w.allLeafChildren=z;let te=w.sibling;te&&(te.allLeafChildren=z),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=_)}(A||I||_||L)&&(this.deselectNodes(H),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,s=this.allNodesMap;s[t]===e&&delete s[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let s={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],u=ps(this.gos);return this.executeRemove(u,e,s,n),this.executeUpdate(u,e,s,n),this.executeAdd(e,s),this.deselectNodes(n),s}executeAdd(e,t){let s=e.add;if(!s?.length)return;let n=this.rootNode.allLeafChildren,u=n.length;if(typeof e.addIndex=="number"&&(u=this.sanitizeAddIndex(e.addIndex),u>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let L=0;L<n.length;L++)if(n[L]?.rowIndex==u-1){u=L+1;break}}let m=s.length,w=t.changedRowNodes,y=new Array(m);for(let I=0;I<m;I++){let L=this.createRowNode(s[I],u+I);w.add(L),y[I]=L}let F=this.rootNode;if(u<n.length){let I=n.slice(0,u),L=n.slice(u,n.length),_=I.length+y.length;for(let H=0,z=L.length;H<z;++H)L[H].sourceRowIndex=_+H;n=[...I,...y,...L],t.rowsInserted=!0}else n=n.concat(y);F.allLeafChildren=n;let A=F.sibling;A&&(A.allLeafChildren=n),t.rowNodeTransaction.add=y}executeRemove(e,t,{changedRowNodes:s,rowNodeTransaction:n},u){let{remove:m}=t;if(!m?.length)return;let w={};m.forEach(A=>{let I=this.lookupRowNode(e,A);I&&(I.isSelected()&&u.push(I),I.clearRowTopAndRowIndex(),w[I.id]=!0,delete this.allNodesMap[I.id],n.remove.push(I),s.remove(I))});let y=this.rootNode;y.allLeafChildren=y.allLeafChildren?.filter(A=>!w[A.id])??null,y.allLeafChildren?.forEach((A,I)=>{A.sourceRowIndex=I});let F=y.sibling;F&&(F.allLeafChildren=y.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:s,rowNodeTransaction:n},u){let{update:m}=t;m?.length&&m.forEach(w=>{let y=this.lookupRowNode(e,w);y&&(y.updateData(w),!y.selectable&&y.isSelected()&&u.push(y),n.update.push(y),s.update(y))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",s=this.beans.selectionSvc,n=e.length>0;n&&s?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),s?.updateGroupsFromChildrenSelections?.(t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:s?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let s=new Ps(this.beans);return s.parent=this.rootNode,s.level=0,s.group=!1,s.expanded=!1,s.sourceRowIndex=t,s.setDataAndId(e,String(this.nextId)),this.allNodesMap[s.id]&&Ce(2,{nodeId:s.id}),this.allNodesMap[s.id]=s,this.nextId++,s}lookupRowNode(e,t){let s;if(e){let n=e({data:t,level:0});if(s=this.allNodesMap[n],!s)return Ge(4,{id:n}),null}else if(s=this.rootNode?.allLeafChildren?.find(n=>n.data===t),!s)return Ge(5,{data:t}),null;return s||null}},Xl=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(Xl||{}),kf={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Of=class extends Oe{constructor(){super(kf,[Fo]),this.eCheckbox=Se}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){let e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:s}=this,n=t.isSelected(),u=Ie(e,n),[m,w]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],y=e(m,w);s.setValue(n,!0),s.setInputAriaLabel(`${y} (${u})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:ms,click:n=>{ms(n),this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:u})=>{let m=typeof n=="object"?cn(n):void 0,w=typeof u=="object"?cn(u):void 0;m!==w&&this.onSelectableChanged()}),io(this.gos)||typeof this.getIsVisible()=="function"){let n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){let{column:e,rowNode:t,overrides:s,gos:n}=this,u=t.selectable,m=this.getIsVisible();if(u)if(typeof m=="function"){let F=s?.callbackParams;if(!e)u=m({...F,node:t,data:t.data});else{let A=e.createColumnFunctionCallbackParams(t);u=m({...F,...A})}}else u=m??!1;let w=n.get("rowSelection");if(w&&typeof w!="string"?!cn(w):e?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!u),this.setVisible(!0),this.setDisplayed(!0);return}if(s?.removeHidden){this.setDisplayed(u);return}this.setVisible(u)}getIsVisible(){let e=this.overrides;if(e)return e.isVisible;let t=this.gos.get("rowSelection");return t&&typeof t!="string"?fs(t):this.column?.getColDef()?.checkboxSelection}},Gf=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){let e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){let t=this.getRange();if(t.length===0)return{keep:[],discard:[]};let s=t[0].id===this.rootId,n=t.findIndex(u=>u.id===e.id);if(n>-1){let u=t.slice(0,n),m=t.slice(n+1);return this.setEndRange(e),s?{keep:u,discard:m}:{keep:m,discard:u}}else return{keep:t,discard:[]}}extend(e,t=!1){let s=this.getRoot();if(s==null){let u=this.getRange().slice();return t&&e.depthFirstSearch(m=>!m.group&&u.push(m)),u.push(e),this.setRoot(e),{keep:u,discard:[]}}let n=this.rowModel.getNodesInRangeForSelection(s,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(u=>u.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{let u=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:u}}}},_f=class extends he{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){let t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Ue(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;let t=this.createManagedBean(new vi);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),v(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:n})=>{let u=m=>typeof m=="string"||!m||m.mode==="singleRow"?void 0:m.selectAll;u(s)!==u(n)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){let t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;let e=this.getSelectAllMode(),t=this.beans.selectionSvc,s=this.cbSelectAll,n=t.getSelectAllState(e);s.setValue(n);let u=t.hasNodesToSelect(e);s.setDisabled(!u),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){let t=this.getLocaleTextFunc(),{headerCellCtrl:s,cbSelectAll:n,cbSelectAllVisible:u}=this,w=n.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),y=t("ariaRowSelectAll","Press Space to toggle all rows selection");s.setAriaDescriptionProperty("selectAll",u?`${y} (${w})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||s.announceAriaDescription()}checkSelectionType(e){return Gs(this.gos)?!0:(Ce(128,{feature:e}),!1)}checkRightRowModelType(e){let{gos:t,rowModel:s}=this.beans;return st(t)||cs(t)?!0:(Ce(129,{feature:e,rowModel:s.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;let e=this.cbSelectAll.getValue(),t=this.getSelectAllMode(),s="uiSelectAll";t==="currentPage"?s="uiSelectAllCurrentPage":t==="filtered"&&(s="uiSelectAllFiltered");let n={source:s,selectAll:t},u=this.beans.selectionSvc;e?u.selectAllRowNodes(n):u.deselectAllRowNodes(n)}isCheckboxSelection(){let{column:e,gos:t,beans:s}=this,n=t.get("rowSelection"),u=e.getColDef(),{headerCheckboxSelection:m}=u,w=!1,y=typeof n=="object";if(y){let A=_t(e),I=ro(e);(ii(n)==="autoGroupColumn"&&I||A&&s.selectionColSvc?.isSelectionColumnEnabled())&&(w=si(n))}else typeof m=="function"?w=m(Ae(t,{column:e,colDef:u})):w=!!m;let F=y?"headerCheckbox":"headerCheckboxSelection";return w&&this.checkRightRowModelType(F)&&this.checkSelectionType(F)}getSelectAllMode(){let e=ua(this.gos,!1);if(e)return e;let{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:s}=this.column.getColDef();return t?"currentPage":s?"filtered":"all"}},Yl=class extends he{postConstruct(){let{gos:e,beans:t}=this;this.selectionCtx=new Gf(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{let s=io(e);s!==this.isRowSelectable&&(this.isRowSelectable=s,this.updateSelectable())}),this.isRowSelectable=io(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Of}createSelectAllFeature(e){return new _f(e)}isMultiSelect(){return Gs(this.gos)}onRowCtrlSelected(e,t,s){let n=!!e.rowNode.isSelected();e.forEachGui(s,u=>{u.rowComp.addOrRemoveCssClass("ag-row-selected",n);let m=u.element;q(m,n),m.contains(Ue(this.beans))&&t(u)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;let t=e.isSelected();if(!e.selectable)return;let n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(n,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Zt(this.gos)}updateRowSelectable(e,t){let s=this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,s,t),s}setRowSelectable(e,t,s){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),s)return;if(_s(this.gos)){let u=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:u??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,s=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){let u=e.childrenAfterGroup[n],m=u.isSelected();if(!u.selectable){let w=this.calculateSelectedFromChildren(u);if(w===null)continue;m=w}switch(m){case!0:t=!0;break;case!1:s=!0;break;default:return}}if(!(t&&s))return t?!0:s?!1:e.selectable?e.__selected:null}selectRowNode(e,t,s,n="api"){let u=!e.selectable&&t,m=e.__selected===t;if(u||m)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");let w=e.sibling;return w&&w.footer&&w.__localEventService&&w.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...pl(e,this.gos,"rowSelected"),event:s||null,source:n}),!0}isCellCheckboxSelection(e,t){let s=this.gos.get("rowSelection");if(s&&typeof s!="string"){let n=_t(e)&&fs(s);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,s,n){let{gos:u,selectionCtx:m}=this,w=e.isSelected(),y=_s(u),F=xh(u),A=Eh(u),I=this.isMultiSelect(),L=n==="rowClicked";if(L&&y&&e.group||L&&!(F||A))return null;if(t&&s&&I){let _=m.getRoot();if(_)if(_.isSelected()){let H=m.isInRange(e)?m.truncate(e):m.extend(e,y);return{deselect:H.discard,select:H.keep,reset:!1}}else{let H=m.extend(e,y);return{select:[],deselect:H.keep,reset:!1}}else return null}else if(t&&I){let _=m.selectAll?this.beans.rowModel.getRow(0):void 0,H=m.getRoot(_),z=m.isInRange(e)?m.truncate(e):m.extend(e,y);return{select:z.keep,deselect:z.discard,reset:m.selectAll||!!(H&&!H.isSelected())}}else{if(s)return m.setRoot(e),L&&w&&!A?null:{node:e,newValue:!w,clearSelection:!I};{m.setRoot(e);let _=Ah(u),H=ni(u)==="filteredDescendants",z=L&&(!_||!F);if(H&&w===void 0&&st(u))return{node:e,newValue:!1,clearSelection:!I||z};if(L){let J=w?!_:F;return J===w&&!z||J&&!F||!J&&!A?null:{node:e,newValue:J,clearSelection:!I||z}}return{node:e,newValue:!w,clearSelection:!I||z}}}}},Zl=class extends vi{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){let t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Bf='.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;transition:background-color .1s;:where(.ag-toggle-button-input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-toggle-button-height);margin:0;max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);opacity:0}&:before{background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;content:"";display:block;height:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2);left:var(--ag-toggle-button-switch-inset);pointer-events:none;position:absolute;top:var(--ag-toggle-button-switch-inset);transition:left .1s;width:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-switch-inset))}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}',Ql=class extends vi{constructor(e){super(e,"ag-toggle-button"),this.registerCSS(Bf)}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},Nf={selector:"AG-TOGGLE-BUTTON",component:Ql},os=class extends is{constructor(e,t="ag-text-field",s="text"){super(e,t,s)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let s=this.eInput;return s.value!==e&&(s.value=we(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=s=>{kn(s)&&s.key&&!e.test(s.key)&&s.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:s=>{let n=s.clipboardData?.getData("text");n&&n.split("").some(u=>!e.test(u))&&s.preventDefault()}})}},wi={selector:"AG-INPUT-TEXT-FIELD",component:os},Jl=class extends is{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){let s=super.setValue(e,t);return this.eInput.value=e,s}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Vf={selector:"AG-INPUT-TEXT-AREA",component:Jl},xo=class extends os{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();let e=this.eInput;this.addManagedListeners(e,{blur:()=>{let m=parseFloat(e.value),w=isNaN(m)?"":this.normalizeValue(m.toString());this.value!==w&&this.setValue(w)},wheel:this.onWheel.bind(this)}),e.step="any";let{precision:t,min:s,max:n,step:u}=this.config;typeof t=="number"&&this.setPrecision(t),typeof s=="number"&&this.setMin(s),typeof n=="number"&&this.setMax(n),typeof u=="number"&&this.setStep(u)}onWheel(e){Ue(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));let t=parseFloat(e),{min:s,max:n}=this;return s!=null&&t<s?e=s.toString():n!=null&&t>n&&(e=n.toString()),e}adjustPrecision(e,t){let s=this.precision;if(s==null)return e;if(t){let u=parseFloat(e).toFixed(s);return parseFloat(u).toString()}let n=String(e).split(".");if(n.length>1){if(n[1].length<=s)return e;if(s>0)return`${n[0]}.${n[1].slice(0,s)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,bt(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,bt(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,bt(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(s=>super.setValue(s,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,s){if(we(s)){let n=this.isScientificNotation(s);if(n&&this.eInput.validity.valid)return e(s);if(!n){s=this.adjustPrecision(s);let u=this.normalizeValue(s);n=s!=u}if(n)return t(s)}return e(s)}getValue(){let e=this.eInput;if(!e.validity.valid)return;let t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},ql={selector:"AG-INPUT-NUMBER-FIELD",component:xo};function Si(e,t){return e.toString().padStart(t,"0")}function vt(e,t=!0,s="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(u=>Si(u,2)).join(s);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(u=>Si(u,2)).join(":")),n}var Xn=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function yi(e,t="YYYY-MM-DD"){let s=Si(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m={YYYY:()=>s.slice(s.length-4,s.length),YY:()=>s.slice(s.length-2,s.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Si(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Xn(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Xn(e.getDate())}`,DD:()=>Si(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>u[e.getDay()],ddd:()=>u[e.getDay()].slice(0,3),dd:()=>u[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Xn(e.getDay())}`,d:()=>`${e.getDay()}`},w=new RegExp(Object.keys(m).join("|"),"g");return t.replace(w,y=>y in m?m[y]():y)}function at(e){if(!e)return null;let[t,s]=e.split(" ");if(!t)return null;let n=t.split("-").map(L=>parseInt(L,10));if(n.filter(L=>!isNaN(L)).length!==3)return null;let[u,m,w]=n,y=new Date(u,m-1,w);if(y.getFullYear()!==u||y.getMonth()!==m-1||y.getDate()!==w)return null;if(!s||s==="00:00:00")return y;let[F,A,I]=s.split(":").map(L=>parseInt(L,10));return F>=0&&F<24&&y.setHours(F),A>=0&&A<60&&y.setMinutes(A),I>=0&&I<60&&y.setSeconds(I),y}var ec=class extends os{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();let e=Ve();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Ue(this.beans)===this.eInput&&e.preventDefault()}setMin(e){let t=e instanceof Date?vt(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,bt(this.eInput,"min",t),this)}setMax(e){let t=e instanceof Date?vt(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,bt(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,bt(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return at(this.getValue())??void 0}setDate(e,t){this.setValue(vt(e??null,!1),t)}},tc={selector:"AG-INPUT-DATE-FIELD",component:ec},Hf=1e3,zf=1e3,sc=100,ic,Eo=!1,Wf=class extends he{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");let e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){let t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){let e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!At()&&(Eo?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},sc):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){let t=e.relatedTarget,s=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||s.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Eo)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-ic<Hf}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){let e=this.getTooltipValue(),t=this.tooltipCtrl;if(!we(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}let s=t.getRowNode?.(),n=Ae(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:s,data:s?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;let u=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);Wg(this.userCompFactory,n)?.newAgStackInstance().then(u)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),ic=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}let n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");let u=this.getLocaleTextFunc(),m=this.popupSvc?.addPopup({eChild:n,ariaLabel:u("ariaLabelTooltip","Tooltip")});if(m&&(this.tooltipPopupDestroyFunc=m.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){let w=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:w,columnMoved:w})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Xe(this.beans),{keydown:w=>{n.contains(w?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){let e=this.tooltipComp?.getGui(),t=Ue(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){let t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){let e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");let e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,s=this.tooltipTrigger===0?zf:0;window.setTimeout(()=>{e(),this.destroyBean(t)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Eo=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},sc)}unlockService(){Eo=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function bi(e){return e.get("tooltipShowMode")==="whenTruncated"}function Uf(e,t){return bi(e)?zs(t):void 0}function zs(e){return()=>{let t=e();return t?t.scrollWidth>t.clientWidth:!0}}var oc=class extends he{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){let t="title",s=this.ctrl.getGui();s&&(e!=null&&e!=""?s.setAttribute(t,e):s.removeAttribute(t))}updateTooltipText(){let{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Wf(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},jf=class extends Oe{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){let e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){let t=e.key;switch(t){case de.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{let s=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(s)}break;case de.DOWN:case de.UP:e.preventDefault(),this.navigate(t);break;case de.PAGE_DOWN:case de.PAGE_UP:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){let t=e===de.DOWN,s,{itemEls:n,highlightedEl:u}=this;if(!u)s=n[t?0:n.length-1];else{let w=n.indexOf(u)+(t?1:-1);w=Math.min(Math.max(w,0),n.length-1),s=n[w]}this.highlightItem(s)}navigateToPage(e){let{itemEls:t,highlightedEl:s}=this;if(!s||t.length===0)return;let n=t.indexOf(s),u=this.options.length-1,m=t[0].clientHeight,w=Math.floor(this.getGui().clientHeight/m),y=-1;e===de.PAGE_HOME?y=0:e===de.PAGE_END?y=u:e===de.PAGE_DOWN?y=Math.min(n+w,u):e===de.PAGE_UP&&(y=Math.max(n-w,0)),y!==-1&&this.highlightItem(t[y])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){let{value:t,text:s}=e,n=s||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{ft(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){let e=this.getGui();v(e,this.options.length===0?"presentation":"listbox")}updateIndices(){let e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,s)=>{Z(t,s+1),W(t,e.length)})}renderOption(e,t){let s=Xe(this.beans),n=s.createElement("div");v(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);let u=s.createElement("span");n.appendChild(u),u.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:m=>{m.preventDefault(),m.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>u.scrollWidth>u.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;let s=this.options.findIndex(n=>n.value===e);if(s!==-1){let n=this.options[s];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[s]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();let e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!yt(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),q(e,!0);let t=this.getGui(),{scrollTop:s,clientHeight:n}=t,{offsetTop:u,offsetHeight:m}=e;(u+m>s+n||u<s)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){let e=this.highlightedEl;!e||!yt(e)||(e.classList.remove(this.activeClass),q(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Kf=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",$f={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},nc=class extends Kl{constructor(e){if(super(e,e?.template||$f,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Se,this.eWrapper=Se,this.eDisplayField=Se,this.eIcon=Se,this.registerCSS(Kf),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;let{pickerGap:t,maxPickerHeight:s,variableWidth:n,minPickerWidth:u,maxPickerWidth:m}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,s!=null&&this.setPickerMaxHeight(s),u!=null&&this.setPickerMinWidth(u),m!=null&&this.setPickerMaxWidth(m)}postConstruct(){super.postConstruct(),this.setupAria();let e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);let t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});let{pickerIcon:s,inputWidth:n}=this.config;if(s){let u=Ct(s,this.beans);u&&this.eIcon.appendChild(u)}n!=null&&this.setInputWidth(n)}setupAria(){let e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),$(e,!1),this.ariaRole&&v(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){let t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case de.UP:case de.DOWN:case de.ENTER:case de.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case de.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());let e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){let e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));let t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:s,pickerAriaLabelValue:n,modalPicker:u=!0},maxPickerHeight:m,minPickerWidth:w,maxPickerWidth:y,variableWidth:F,beans:A,eWrapper:I}=this,L={modal:u,eChild:e,closeOnEsc:!0,closedCallback:()=>{let J=an(A);this.beforeHidePicker(),J&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(s,n),anchorToElement:I};e.style.position="absolute";let _=A.popupSvc,H=_.addPopup(L);F?(w&&(e.style.minWidth=w),e.style.width=Jo(Js(I)),y&&(e.style.maxWidth=y)):Yi(e,y??Js(I));let z=m??`${ji(_.getPopupParent())}px`;return e.style.setProperty("max-height",z),this.alignPickerToComponent(),H.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;let{pickerGap:e,config:{pickerType:t},beans:{popupSvc:s,gos:n},eWrapper:u,pickerComponent:m}=this,w=n.get("enableRtl")?"right":"left";s.positionPopupByComponent({type:t,eventSource:u,ePopup:m.getGui(),position:"under",alignSide:w,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);let e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;let t=this.getAriaElement();$(t,e);let s=this.eWrapper.classList;s.toggle("ag-picker-expanded",e),s.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker?.()}setInputWidth(e){return Yi(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Xf=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",Ao=class extends nc{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(Xf)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:zs(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");let{options:e,value:t,placeholder:s}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),s&&t==null&&(this.eDisplayField.textContent=s),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){let e=this.createBean(new jf("select",!0));this.listComponent=e,e.setParentComponent(this);let t=e.getAriaElement(),s=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",s),fe(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){let{key:t}=e;switch(t===de.TAB&&this.hidePicker(),t){case de.ENTER:case de.UP:case de.DOWN:case de.PAGE_UP:case de.PAGE_DOWN:case de.PAGE_HOME:case de.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case de.ESCAPE:super.onKeyDown(e);break;case de.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){let e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,s){let{listComponent:n,config:{placeholder:u},eDisplayField:m,tooltipFeature:w}=this;if(this.value===e||!n)return this;if(s||n.setValue(e,!0),n.getValue()===this.getValue())return this;let F=n.getDisplayValue();return F==null&&u&&(F=u),m.textContent=F,w?.setTooltipAndRefresh(F??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},rc={selector:"AG-SELECT",component:Ao},To={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},ac=class extends he{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:s,eBottomGuard:n,focusTrapActive:u,forceFocusOutWhenTabGuardsAreEmpty:m,isFocusableContainer:w,focusInnerElement:y,onFocusIn:F,onFocusOut:A,shouldStopEventPropagation:I,onTabKeyDown:L,handleKeyDown:_,isEmpty:H,eFocusableElement:z}=e;this.comp=t,this.eTopGuard=s,this.eBottomGuard=n,this.providedFocusInnerElement=y,this.eFocusableElement=z,this.focusTrapActive=!!u,this.forceFocusOutWhenTabGuardsAreEmpty=!!m,this.isFocusableContainer=!!w,this.providedFocusIn=F,this.providedFocusOut=A,this.providedShouldStopEventPropagation=I,this.providedOnTabKeyDown=L,this.providedHandleKeyDown=_,this.providedIsEmpty=H}postConstruct(){this.createManagedBean(new Ms(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Ss(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Xe(this.beans),s=Ss(t.body,null,!0),n=s.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let u,m;e?(u=0,m=n):(u=n+1,m=s.length);let w=s.slice(u,m),y=this.gos.get("tabIndex");w.sort((F,A)=>{let I=parseInt(F.getAttribute("tabindex")||"0"),L=parseInt(A.getAttribute("tabindex")||"0");return L===y?1:I===y?-1:I===0?1:L===0?-1:I-L}),w[e?w.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let s=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),s&&(s.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=Ss(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return es(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},lc=class extends he{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:s,eFocusableElement:n}=this,u=[t,s],m={setTabIndex:te=>{u.forEach(ae=>te!=null?ae.setAttribute("tabindex",te):ae.removeAttribute("tabindex"))}};this.addTabGuards(t,s);let{focusTrapActive:w=!1,onFocusIn:y,onFocusOut:F,focusInnerElement:A,handleKeyDown:I,onTabKeyDown:L,shouldStopEventPropagation:_,isEmpty:H,forceFocusOutWhenTabGuardsAreEmpty:z,isFocusableContainer:J}=e;this.tabGuardCtrl=this.createManagedBean(new ac({comp:m,focusTrapActive:w,eTopGuard:t,eBottomGuard:s,eFocusableElement:n,onFocusIn:y,onFocusOut:F,focusInnerElement:A,handleKeyDown:I,onTabKeyDown:L,shouldStopEventPropagation:_,isEmpty:H,forceFocusOutWhenTabGuardsAreEmpty:z,isFocusableContainer:J}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=Xe(this.beans).createElement("div"),s=e==="top"?To.TAB_GUARD_TOP:To.TAB_GUARD_BOTTOM;return t.classList.add(To.TAB_GUARD,s),v(t,"presentation"),t}addTabGuards(e,t){let s=this.eFocusableElement;s.insertAdjacentElement("afterbegin",e),s.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];tt(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,s){Zi(t)||(t=t.getGui());let{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,s)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;ft(e),ft(t),super.destroy()}},Yn=class extends Oe{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new lc(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},Fs=class extends Oe{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){let e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},xs=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new i,this.preventMouseClick=t;let s=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),u=this.onTouchEnd.bind(this);e.addEventListener("touchstart",s,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",u,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",s,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",u,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let s=this.touchStart===t;if(this.touching&&s&&!this.moved){this.moved=!0;let n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!dl(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let s={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(s),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},cc=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(cc||{}),dc=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${jr}/${this.frameworkName}-data-grid`,uh(this.baseDocLink)}setInterval(e,t){return new nt(s=>{s(window.setInterval(e,t))})}addEventListener(e,t,s,n){let u={};if(typeof n=="object"?u=n:typeof n=="boolean"&&(u={capture:n}),u.passive==null){let m=wa(t);m!=null&&(u.passive=m)}e.addEventListener(t,s,u)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Yf(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var Zf=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],uc=Object.fromEntries(Zf.map((e,t)=>[e,t]));function Qf(e,t){let s=(e.beanName?uc[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?uc[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return s-n}function Jf(e,t){return e?.beanName==="gridDestroySvc"?-1:0}var qf={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},em={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},tm={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},Zn=class extends Oe{constructor(e){super(),this.eCenterContainer=Se,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:s=>this.setDisplayed(s),setCtrls:s=>this.setCtrls(s),setCenterWidth:s=>this.eCenterContainer.style.width=s,setViewportScrollLeft:s=>this.getGui().scrollLeft=s,setPinnedContainerWidth:s=>{let n=this.getGui();n.style.width=s,n.style.maxWidth=s,n.style.minWidth=s}};this.createManagedBean(new zl(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",s=e?qf:t?em:tm;this.setTemplate(s),this.eRowContainer=this.eCenterContainer!==Se?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let s,n=u=>{let m=u.getGui();m.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(m),s&&Vr(this.eRowContainer,m,s),s=m};e.forEach(u=>{let m=u.instanceId,w=t[m];delete t[m];let y=w||this.createBean(new mf(u));this.headerRowComps[m]=y,this.rowCompsList.push(y),n(y)}),Object.values(t).forEach(u=>this.destroyRowComp(u))}},sm={tag:"div",cls:"ag-header",role:"presentation"},im=class extends Oe{constructor(){super(sm)}postConstruct(){let e={addOrRemoveCssClass:(n,u)=>this.addOrRemoveCssClass(n,u),setHeightAndMinHeight:n=>{this.getGui().style.height=n,this.getGui().style.minHeight=n}};this.createManagedBean(new Nl).setComp(e,this.getGui(),this.getFocusableElement());let s=n=>{this.createManagedBean(n),this.appendChild(n)};s(new Zn("left")),s(new Zn(null)),s(new Zn("right"))}},om={selector:"AG-HEADER-ROOT",component:im},nm=class extends Oe{constructor(e,t,s,n,u){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.column,this.rowNode=t.rowNode,this.eRow=n;let m=Ke({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.colIdSanitised}});this.eCell=m;let w;t.isCellSpanning()?(w=Ke({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),w.appendChild(m),this.setTemplateFromElement(w)):this.setTemplateFromElement(m),this.cellCssClassManager=new vn(()=>m),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let y={addOrRemoveCssClass:(F,A)=>this.cellCssClassManager.addOrRemoveCssClass(F,A),setUserStyles:F=>ei(m,F),getFocusableElement:()=>m,setIncludeSelection:F=>this.includeSelection=F,setIncludeRowDrag:F=>this.includeRowDrag=F,setIncludeDndSource:F=>this.includeDndSource=F,setRenderDetails:(F,A,I)=>this.setRenderDetails(F,A,I),setEditDetails:(F,A,I)=>this.setEditDetails(F,A,I),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(y,m,w,this.eCellWrapper,s,u,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,s){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let u=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(s||u)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,s){e?this.createCellEditorInstance(e,t,s):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,s=t||this.forceWrapper,n=s&&this.eCellWrapper==null;n&&(this.eCellWrapper=Ke({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let u=!s&&this.eCellWrapper!=null;u&&(ft(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssClassManager.addOrRemoveCssClass("ag-cell-value",!s);let m=!e&&s,w=m&&this.eCellValue==null;w&&(this.eCellValue=Ke({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));let y=!m&&this.eCellValue!=null;y&&(ft(this.eCellValue),this.eCellValue=void 0);let F=n||u||w||y;return F&&this.removeControls(),!e&&t&&this.addControls(),F}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:s,includeRowDrag:n,includeDndSource:u,includeSelection:m}=this,w=y=>{y&&t.insertBefore(y.getGui(),s)};n&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),w(this.rowDraggingComp)),u&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),w(this.dndSourceComp)),m&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),w(this.checkboxSelectionComp))}createCellEditorInstance(e,t,s){let n=this.editorVersion,u=e.newAgStackInstance(),{params:m}=e;u.then(y=>this.afterCellEditorCreated(n,y,m,t,s)),He(this.cellEditor)&&m.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();tt(t);let s=e!=null?Gt(e,!0):null;s!=null&&(t.textContent=s)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),ft(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(Ue(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ft(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,{componentClass:s}=e,n=()=>{if(this.rendererVersion!==t||!this.isAlive())return;let w=e.newAgStackInstance(),y=this.afterCellRendererCreated.bind(this,t,s);w?.then(y)},{animationFrameSvc:u}=this.beans;u?.active&&this.firstRender?u.createTask(n,this.rowNode.rowIndex,"p2",e.componentFromFramework):n()}afterCellRendererCreated(e,t,s){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(s);return}this.cellRenderer=s,this.cellRendererClass=t;let u=s.getGui();if(this.cellRendererGui=u,u!=null){let m=this.getParentOfValue();tt(m),m.appendChild(u)}}afterCellEditorCreated(e,t,s,n,u){let m=e!==this.editorVersion,{context:w}=this.beans;if(m){w.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){w.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){Ce(97,{colId:this.column.getId()}),w.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let F=n||t.isPopup!==void 0&&t.isPopup();F?this.addPopupCellEditor(s,u):this.addInCellEditor(),this.refreshEditStyles(!0,F),t.afterGuiAttached?.(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssClassManager:s}=this;s.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),s.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),s.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.cellCtrl.setInlineEditingCss()}addInCellEditor(){let{eCell:e}=this;e.contains(Ue(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),tt(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:s,context:n,editSvc:u,popupSvc:m,localeSvc:w}=this.beans;s.get("editType")==="fullRow"&&Ce(98);let y=this.cellEditor;this.cellEditorPopupWrapper=n.createBean(u.createPopupEditorWrapper(e));let F=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&F.appendChild(this.cellEditorGui);let A=s.get("stopEditingWhenCellsLoseFocus"),I=t??y.getPopupPosition?.()??"over",L=s.get("enableRtl"),_={ePopup:F,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:I,alignSide:L?"right":"left",keepWithinBounds:!0},H=m.positionPopupByComponent.bind(m,_),z=a(w),J=m.addPopup({modal:A,eChild:F,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:H,ariaLabel:z("ariaLabelCellEditor","Cell Editor")});J&&(this.hideEditorPopup=J.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},rm=class extends Oe{constructor(e,t,s){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let n=Ke({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(n,s),this.setTemplateFromElement(n);let u=n.style;this.domOrder=this.rowCtrl.getDomOrder();let m={setDomOrder:w=>this.domOrder=w,setCellCtrls:w=>this.setCellCtrls(w),showFullWidth:w=>this.showFullWidth(w),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(w,y)=>this.addOrRemoveCssClass(w,y),setUserStyles:w=>ei(n,w),setTop:w=>u.top=w,setTransform:w=>u.transform=w,setRowIndex:w=>n.setAttribute("row-index",w),setRowId:w=>n.setAttribute("row-id",w),setRowBusinessKey:w=>n.setAttribute("row-business-key",w),refreshFullWidth:w=>this.fullWidthCellRenderer?.refresh?.(w())??!1};e.setComp(m,this.getGui(),s,void 0),this.addDestroyFunc(()=>{e.unsetComp(s)})}setInitialStyle(e,t){let s=this.rowCtrl.getInitialTransform(t);if(s)e.style.setProperty("transform",s);else{let n=this.rowCtrl.getInitialRowTop(t);n&&e.style.setProperty("top",n)}}showFullWidth(e){let t=n=>{if(this.isAlive()){let u=n.getGui();this.getGui().appendChild(u),this.rowCtrl.setupDetailRowAutoHeight(u),this.setFullWidthRowComp(n)}else this.beans.context.destroyBean(n)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let s of e){let n=s.instanceId;this.cellComps.has(n)?t.delete(n):this.newCellComp(s)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let s of e){let n=this.cellComps.get(s.instanceId);n&&t.push(n.getGui())}Hr(this.getGui(),t)}newCellComp(e){let t=new nm(this.beans,e,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps.set(e.instanceId,t),this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(let t of e.values()){if(!t)return;let s=t.cellCtrl.instanceId;if(this.cellComps.get(s)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(s)}}};function am(e,t,s){let n=!!s.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,u={tag:"div",ref:"eContainer",cls:mi(e),role:"rowgroup"};if(t.type==="center"||n){let m={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${El(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${Nn(e)}`,role:"presentation",children:[u,n?m:null]}}return u}var lm=class extends Oe{constructor(e){super(),this.eViewport=Se,this.eContainer=Se,this.eSpannedContainer=Se,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=Hs(this.name)}postConstruct(){this.setTemplate(am(this.name,this.options,this.beans));let e={setHorizontalScroll:s=>this.eViewport.scrollLeft=s,setViewportHeight:s=>this.eViewport.style.height=s,setRowCtrls:({rowCtrls:s})=>this.setRowCtrls(s),setSpannedRowCtrls:s=>this.setRowCtrls(s,!0),setDomOrder:s=>{this.domOrder=s},setContainerWidth:s=>{this.eContainer.style.width=s,this.eSpannedContainer&&(this.eSpannedContainer.style.width=s)},setOffsetTop:s=>{let n=`translateY(${s})`;this.eContainer.style.transform=n,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=n)}};this.createManagedBean(new Dl(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:s,options:n}=this,u=t?this.eSpannedContainer:this.eContainer,m=t?{...this.rowCompsWithSpan}:{...this.rowCompsNoSpan},w={};t?this.rowCompsWithSpan=w:this.rowCompsNoSpan=w,this.lastPlacedElement=null;let y=[];for(let F of e){let A=F.instanceId,I=m[A],L;if(I)L=I,delete m[A];else{if(!F.rowNode.displayed)continue;L=new rm(F,s,n.type)}w[A]=L,y.push([L,!I])}this.removeOldRows(Object.values(m),u),this.addRowNodes(y,u)}addRowNodes(e,t){let{domOrder:s}=this;for(let[n,u]of e){let m=n.getGui();s?this.ensureDomOrder(m,t):u&&t.appendChild(m)}}removeOldRows(e,t){for(let s of e)t.removeChild(s.getGui()),s.destroy()}ensureDomOrder(e,t){Vr(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},cm={selector:"AG-ROW-CONTAINER",component:lm};function Ri(e,t){return t.map(s=>{let n=`e${s[0].toUpperCase()+s.substring(1)}RowContainer`;return e[n]={name:s},{tag:"ag-row-container",ref:n,attrs:{name:s}}})}function dm(e){let t={},s={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:Ri(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:Ri(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:Ri(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:Ri(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:Ri(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:s}}var um=class extends Oe{constructor(){super(...arguments),this.eGridRoot=Se,this.eBodyViewport=Se,this.eStickyTop=Se,this.eStickyBottom=Se,this.eTop=Se,this.eBottom=Se,this.eBody=Se}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,s=e?.getOverlayWrapperSelector(),{paramsMap:n,elementParams:u}=dm(!!s);this.setTemplate(u,[...s?[s]:[],of,rf,om,cm],n);let m=(y,F)=>{let A=`${y}px`;F.style.minHeight=A,F.style.height=A},w={setRowAnimationCssOnBodyViewport:(y,F)=>this.setRowAnimationCssOnBodyViewport(y,F),setColumnCount:y=>ue(this.getGui(),y),setRowCount:y=>re(this.getGui(),y),setTopHeight:y=>m(y,this.eTop),setBottomHeight:y=>m(y,this.eBottom),setTopDisplay:y=>this.eTop.style.display=y,setBottomDisplay:y=>this.eBottom.style.display=y,setStickyTopHeight:y=>this.eStickyTop.style.height=y,setStickyTopTop:y=>this.eStickyTop.style.top=y,setStickyTopWidth:y=>this.eStickyTop.style.width=y,setStickyBottomHeight:y=>{this.eStickyBottom.style.height=y,this.eStickyBottom.classList.toggle("ag-invisible",y==="0px")},setStickyBottomBottom:y=>this.eStickyBottom.style.bottom=y,setStickyBottomWidth:y=>this.eStickyBottom.style.width=y,setColumnMovingCss:(y,F)=>this.addOrRemoveCssClass(y,F),updateLayoutClasses:(y,F)=>{let A=[this.eBodyViewport.classList,this.eBody.classList];for(let I of A)I.toggle(xt.AUTO_HEIGHT,F.autoHeight),I.toggle(xt.NORMAL,F.normal),I.toggle(xt.PRINT,F.print);this.addOrRemoveCssClass(xt.AUTO_HEIGHT,F.autoHeight),this.addOrRemoveCssClass(xt.NORMAL,F.normal),this.addOrRemoveCssClass(xt.PRINT,F.print)},setAlwaysVerticalScrollClass:(y,F)=>this.eBodyViewport.classList.toggle(Il,F),registerBodyViewportResizeListener:y=>{let F=zt(this.beans,this.eBodyViewport,y);this.addDestroyFunc(()=>F())},setPinnedTopBottomOverflowY:y=>this.eTop.style.overflowY=this.eBottom.style.overflowY=y,setCellSelectableCss:(y,F)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(A=>A.classList.toggle(y,F))},setBodyViewportWidth:y=>this.eBodyViewport.style.width=y,setGridRootRole:y=>v(this.eGridRoot,y)};this.ctrl=this.createManagedBean(new Ll),this.ctrl.setComp(w,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&kt(this.gos)||Gs(this.gos))&&ee(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let s=this.eBodyViewport.classList;s.toggle("ag-row-animation",t),s.toggle("ag-row-no-animation",!t)}},hm={selector:"AG-GRID-BODY",component:um},hc=class extends he{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,s){this.view=e,this.eGridHostDiv=t,this.eGui=s,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:n,ctrlsSvc:u}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),tl(this.gos,t),this.createManagedBean(new Tn(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let m=zt(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>m()),u.register("gridCtrl",this)}isDetailGrid(){return Pn(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:s,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(s>0){let{visibleCols:u,focusSvc:m}=this.beans,w=u.allCols,y=Be(w);if(m.focusGridView({column:y,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let s=this.getFocusableContainers(),{focusSvc:n,visibleCols:u}=this.beans,m=u.allCols;if(e){if(s.length>1)return this.focusContainer(Be(s),e);let w=Be(m);if(n.focusGridView({column:w,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||ys(this.beans)){if(n.focusGridView({column:m[0],backwards:e}))return!0;for(let w=1;w<s.length;w++)if(qt(s[w].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:s,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||s<0||s>=t.length)return;let u=t[s];u.setAllowFocus?.(!0),setTimeout(()=>{u.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!po(e)||!ys(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let s=Ue(this.beans),n=e.findIndex(m=>m.getGui().contains(s)),u=n+(t?-1:1);return{indexWithFocus:n,nextIndex:u}}focusContainer(e,t){e.setAllowFocus?.(!0);let s=qt(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),s}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},gm=class extends Yn{constructor(e){super(),this.gridBody=Se,this.sideBar=Se,this.pagination=Se,this.rootWrapperBody=Se,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:m=>this.addCssClass(m),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:m=>{this.getGui().style.userSelect=m??"",this.getGui().style.webkitUserSelect=m??""},setCursor:m=>{this.getGui().style.cursor=m??""}},t=this.createManagedBean(new hc),s=t.getOptionalSelectors(),n=this.createTemplate(s),u=[hm,...Object.values(s).filter(m=>!!m)];this.setTemplate(n,u),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:m=>t.focusInnerElement(m),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),Yt(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let s=this.rootWrapperBody.classList,{AUTO_HEIGHT:n,NORMAL:u,PRINT:m}=xt,{autoHeight:w,normal:y,print:F}=t;s.toggle(n,w),s.toggle(u,y),s.toggle(m,F),this.addOrRemoveCssClass(n,w),this.addOrRemoveCssClass(u,y),this.addOrRemoveCssClass(m,F)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,s=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,n=e.statusBarSelector?{tag:"ag-status-bar"}:null,u=e.watermarkSelector?{tag:"ag-watermark"}:null,m=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},s]},n,m,u]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>yt(t.getGui()))}},De=(e,t)=>{for(let s of Object.keys(t))t[s]=e;return t},gc={dispatchEvent:"CommunityCore",...De("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...De("GridState",{getState:0}),...De("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...De("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...De("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...De("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...De("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...De("ValueCache",{expireValueCache:0}),...De("CellApi",{getCellValue:0}),...De("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...De("Sort",{onSortChanged:0}),...De("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...De("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...De("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...De("HighlightChanges",{flashCells:0}),...De("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...De("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...De("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...De("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...De("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...De("ColumnResize",{setColumnWidths:0}),...De("ColumnHover",{isColumnHovered:0}),...De("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...De("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...De("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...De("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...De("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...De("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...De("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...De("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...De("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...De("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...De("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...De("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...De("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...De("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...De("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...De("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...De("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...De("ContextMenu",{showContextMenu:0}),...De("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...De("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...De("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...De("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...De("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...De("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...De("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...De("StatusBar",{getStatusPanel:0})},Qn={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},pm=(e,t)=>e.eventSvc.dispatchEvent(t),pc=class{};Reflect.defineProperty(pc,"name",{value:"GridApi"});var fm=class extends he{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new pc,this.fns={...Qn,dispatchEvent:pm},this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(gc))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:s,beans:n}=this;s!==Qn&&(s[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:s,fns:{[e]:n}}=this;return n?n(s,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:s,preDestroyLink:n}=this;if(!t)Ce(26,{fnName:e,preDestroyLink:n});else{let u=gc[e];s.assertModuleRegistered(u,`api.${e}`)&&Ce(27,{fnName:e,module:u})}}destroy(){super.destroy(),this.fns=Qn,this.beans=null}};function mm(e){return e.context.getGridId()}function Cm(e){e.gridDestroySvc.destroy()}function vm(e){return e.gridDestroySvc.destroyCalled}function wm(e,t){return e.gos.get(t)}function Sm(e,t,s){fc(e,{[t]:s})}function fc(e,t){e.gos.updateGridOptions({options:t})}var ym={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},bm=class extends Oe{constructor(e,t,s){super(ym),this.rowNode=e,this.column=t,this.eCell=s}postConstruct(){this.getGui().appendChild(Ct("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){let{rowNode:t,column:s,eCell:n,gos:u}=this,m=s.getColDef().dndSourceOnRowDrag,w=e.dataTransfer;if(w.setDragImage(n,0,0),m){let y=Ae(u,{rowNode:t,dragEvent:e});m(y)}else try{let y=JSON.stringify(t.data);w.setData("application/json",y),w.setData("text/plain",y)}catch{}}checkVisibility(){let e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Rm(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function Pm(e,t){let s=e.dragAndDrop?.findExternalZone(t);s&&e.dragAndDrop?.removeDropTarget(s)}function Mm(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}var Fm=class extends he{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:s}=this.beans;return s.addDragSource(t),()=>s.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let s=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(s)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},xm={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},Em=class extends Oe{constructor(e,t,s,n,u,m){super(),this.cellValueFn=e,this.rowNode=t,this.column=s,this.customGui=n,this.dragStartPixels=u,this.suppressVisibilityChange=m,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){let{beans:e,rowNode:t,column:s,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(xm),this.getGui().appendChild(Ct("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){let u=n.get("rowDragManaged")?new Tm(this,t,s):new Am(this,t,s);this.createManagedBean(u,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){let e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];let s=this.beans.selectionSvc?.getSelectedNodes()??[];return s.indexOf(e)!==-1?s:[e]}getDragItem(){let{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){let t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();let t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);let s=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{let n=this.getDragItem(),u=n.rowNodes?.length||1,m=this.getRowDragText(this.column);return m?m(n,u):u===1?this.cellValueFn():`${u} ${s("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},mc=class extends he{constructor(e,t,s){super(),this.parent=e,this.rowNode=t,this.column=s}setDisplayedOrVisible(e){let t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let s=!0,n=!1,{column:u,rowNode:m,parent:w}=this;u&&(s=u.isRowDrag(m)||w.isCustomGui(),n=typeof u.getColDef().rowDrag=="function"),n?(w.setDisplayed(!0,t),w.setVisible(s,t)):(w.setDisplayed(s,t),w.setVisible(!0,t))}}},Am=class extends mc{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Tm=class extends mc{postConstruct(){let e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){let{rowDragSvc:e,dragAndDrop:t,gos:s}=this.beans,n=e.rowDragFeature,u=n&&n.shouldPreventRowMove(),m=s.get("suppressRowDrag"),w=t.hasExternalDropZones(),y=u&&!w||m;this.setDisplayedOrVisible(y)}},Dm=class extends he{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){let s=t.createManagedBean(new xp(e)),n=this.beans.dragAndDrop;n.addDropTarget(s),t.addDestroyFunc(()=>n.removeDropTarget(s)),this.rowDragFeature=s}createRowDragComp(e,t,s,n,u,m){return new Em(e,t,s,n,u,m)}createRowDragCompForRow(e,t){if(kt(this.gos))return;let s=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${s("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,s,n,u,m){let w=this.gos;return w.get("rowDragManaged")&&(!st(w)||w.get("pagination"))?void 0:this.createRowDragComp(s,e,t,n,u,m)}},Jn={moduleName:"Drag",version:Pe,beans:[Ep]},Cc={moduleName:"DragAndDrop",version:Pe,dynamicBeans:{dndSourceComp:bm},icons:{rowDrag:"grip"}},qn={moduleName:"SharedDragAndDrop",version:Pe,beans:[Rp],dependsOn:[Jn],userComponents:{agDragAndDropImage:xf},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},vc={moduleName:"RowDrag",version:Pe,beans:[Dm],apiFunctions:{addRowDropZone:Rm,removeRowDropZone:Pm,getRowDropZoneParams:Mm},dependsOn:[qn]},wc={moduleName:"HorizontalResize",version:Pe,beans:[Fm],dependsOn:[Jn]},Im=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Lm=class extends he{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:s,executeLaterFuncs:n}=this;if(s.length===0&&n.length===0){e(),t();return}let u=m=>{for(;m.length;){let w=m.pop();w&&w()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),u(s)},0),window.setTimeout(()=>{t(),u(n)},200)})}};function km(e,t,s){e.colMoves?.moveColumnByIndex(t,s,"api")}function Om(e,t,s){e.colMoves?.moveColumns(t,s,"api")}var Gm=class extends he{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(s=>{s.isPrimary()&&(s.isAnyFunctionActive()||(s.isAllowValue()?this.columnsToAggregate.push(s):s.isAllowRowGroup()?this.columnsToGroup.push(s):s.isAllowPivot()&&this.columnsToPivot.push(s)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:s,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&s?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function _m(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,u)=>{let m=e.indexOf(n),w=e.indexOf(u);return m-w})}function Sc(e){let{isFromHeader:t,fromLeft:s,xPosition:n,fromEnter:u,fakeEvent:m,pinned:w,gos:y,colModel:F,colMoves:A,visibleCols:I}=e,{allMovingColumns:L}=e;if(t){let Me=[];L.forEach(be=>{let Ee=null,Le=be.getParent();for(;Le!=null&&Le.getDisplayedLeafColumns().length===1;)Ee=Le,Le=Le.getParent();Ee!=null?(!!Ee.getColGroupDef()?.marryChildren?Ee.getProvidedColumnGroup().getLeafColumns():Ee.getLeafColumns()).forEach(Je=>{Me.includes(Je)||Me.push(Je)}):Me.includes(be)||Me.push(be)}),L=Me}let _=L.slice();_m(F.getCols(),_);let H=Hm({movingCols:_,draggingRight:s,xPosition:n,pinned:w,gos:y,colModel:F,visibleCols:I}),z=Bm(_,F);if(H.length===0)return;let J=H[0],te=z!==null&&!u;if(t&&(te=z!==null),te&&!m&&(!s&&J>=z||s&&J<=z))return;let ae=I.allCols,ce=[],le=null;for(let Me=0;Me<H.length;Me++){let be=H[Me],Ee=A.getProposedColumnOrder(_,be);if(!A.doesOrderPassRules(Ee))continue;let Le=Ee.filter(We=>ae.includes(We));if(le===null)le=Le;else if(!Jt(Le,le))break;let xe=Nm(Ee);ce.push({move:be,fragCount:xe})}if(ce.length===0)return;ce.sort((Me,be)=>Me.fragCount-be.fragCount);let pe=ce[0].move;if(!(pe>F.getCols().length-L.length))return{columns:L,toIndex:pe}}function yc(e){let{columns:t,toIndex:s}=Sc(e)||{},{finished:n,colMoves:u}=e;return!t||s==null?null:(u.moveColumns(t,s,"uiColumnMoved",n),n?null:{columns:t,toIndex:s})}function Bm(e,t){let s=t.getCols(),n=e.map(F=>s.indexOf(F)).sort((F,A)=>F-A),u=n[0];return Be(n)-u!==n.length-1?null:u}function Nm(e){function t(n){let u=[],m=n.getOriginalParent();for(;m!=null;)u.push(m),m=m.getOriginalParent();return u}let s=0;for(let n=0;n<e.length-1;n++){let u=t(e[n]),m=t(e[n+1]);[u,m]=u.length>m.length?[u,m]:[m,u],u.forEach(w=>{m.indexOf(w)===-1&&s++})}return s}function Vm(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function Hm(e){let{movingCols:t,draggingRight:s,xPosition:n,pinned:u,gos:m,colModel:w,visibleCols:y}=e;if(m.get("suppressMovableColumns")||t.some(le=>le.getColDef().suppressMovable))return[];let A=Vm(y,u),I=w.getCols(),L=A.filter(le=>t.includes(le)),_=A.filter(le=>!t.includes(le)),H=I.filter(le=>!t.includes(le)),z=0,J=n;if(s){let le=0;L.forEach(pe=>le+=pe.getActualWidth()),J-=le}if(J>0){for(let le=0;le<_.length;le++){let pe=_[le];if(J-=pe.getActualWidth(),J<0)break;z++}s&&z++}let te;if(z>0){let le=_[z-1];te=H.indexOf(le)+1}else te=H.indexOf(_[0]),te===-1&&(te=0);let ae=[te],ce=(le,pe)=>le-pe;if(s){let le=te+1,pe=I.length-1;for(;le<=pe;)ae.push(le),le++;ae.sort(ce)}else{let le=te,pe=I.length-1,Me=I[le];for(;le<=pe&&A.indexOf(Me)<0;)le++,ae.push(le),Me=I[le];le=te-1;let be=0;for(;le>=be;)ae.push(le),le--;ae.sort(ce).reverse()}return ae}function er(e){let{pinned:t,fromKeyboard:s,gos:n,ctrlsSvc:u,useHeaderRow:m,skipScrollPadding:w}=e,y=u.getHeaderRowContainerCtrl(t)?.eViewport,{x:F}=e;return y?(s&&(F-=y.getBoundingClientRect().left),n.get("enableRtl")&&(m&&(y=y.querySelector(".ag-header-row")),F=y.clientWidth-F),t==null&&!w&&(F+=u.get("center").getCenterViewportScrollLeft()),F):0}function tr(e,t){for(let s of e)s.moving=t,s.dispatchColEvent("movingChanged","uiColumnMoved")}var bc=7,sr=100,Do=sr/2,zm=5,Wm=100,Um=class extends he{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!we(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,s=t?.dragItem.columns??[];for(let n of s){let u=n.getPinned();if(n.getColDef().lockPinned){if(u==e)return"move";continue}if(u===e||!e)return"move";if(!u&&e)return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,s=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(s,!0,"uiColumnDragged");else{let u=t.visibleState,m=(s||[]).filter(w=>u[w.getId()]);this.setColumnsVisible(m,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(s,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,s=!1,n=!1){let{gos:u,ctrlsSvc:m}=this.beans,w=u.get("suppressMoveWhenColumnDragging");if(n&&!w){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&He(e.hDirection))return;let y=er({x:e.x,pinned:this.pinned,gos:u,ctrlsSvc:m});t||this.checkCenterForScrolling(y),w?this.handleColumnDragWhileSuppressingMovement(e,t,s,y,n):this.handleColumnDragWhileAllowingMovement(e,t,s,y,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,s){if(!e)return;let n=e.filter(u=>!u.getColDef().lockVisible);this.beans.colModel.setColsVisible(n,t,s)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:s}=e;this.beans.colMoves.moveColumns(t,s,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,s,n,u){let m=this.getAllMovingColumns(e,!0);if(u){let w=this.isAttemptingToPin(m);w&&this.attemptToPinColumns(m,void 0,!0);let{fromLeft:y,xPosition:F}=this.getNormalisedXPositionInfo(m,w)||{};if(y==null||F==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:m,xPosition:F,fromEnter:t,fakeEvent:s,fromLeft:y})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(m,n)}}handleColumnDragWhileAllowingMovement(e,t,s,n,u){let m=this.getAllMovingColumns(e),w=this.normaliseDirection(e.hDirection)==="right",y=e.dragSource.type===1,F=this.getMoveColumnParams({allMovingColumns:m,isFromHeader:y,xPosition:n,fromLeft:w,fromEnter:t,fakeEvent:s}),A=yc({...F,finished:u});A&&(this.lastMovedInfo=A)}getAllMovingColumns(e,t=!1){let s=e.dragSource.getDragItem(),n=null;t?(n=s.columnsInSplit,n||(n=s.columns)):n=s.columns;let u=m=>m.getColDef().lockPinned?m.getPinned()==this.pinned:!0;return n?n.filter(u):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:s,xPosition:n,fromLeft:u,fromEnter:m,fakeEvent:w}=e,{gos:y,colModel:F,colMoves:A,visibleCols:I}=this.beans;return{allMovingColumns:t,isFromHeader:s,fromLeft:u,xPosition:n,pinned:this.pinned,fromEnter:m,fakeEvent:w,gos:y,colModel:F,colMoves:A,visibleCols:I}}highlightHoveredColumn(e,t){let{gos:s,colModel:n}=this.beans,u=s.get("enableRtl"),m=n.getCols().filter(I=>I.isVisible()&&I.getPinned()===this.pinned),w=null,y=null,F=null;for(let I of m){if(y=I.getActualWidth(),w=this.getNormalisedColumnLeft(I,0,u),w!=null){let L=w+y;if(w<=t&&L>=t){F=I;break}}w=null,y=null}if(F)e.indexOf(F)!==-1&&(F=null);else{for(let I=m.length-1;I>=0;I--){let L=m[I],_=m[I].getParent();if(!_){F=L;break}let H=_?.getDisplayedLeafColumns();if(H.length){F=Be(H);break}}if(!F)return;w=this.getNormalisedColumnLeft(F,0,u),y=F.getActualWidth()}if(this.lastHighlightedColumn?.column!==F&&this.clearHighlighted(),F==null||w==null||y==null)return;let A;t-w<y/2!==u?A=0:A=1,Rc(F,A),this.lastHighlightedColumn={column:F,position:A}}getNormalisedXPositionInfo(e,t){let{gos:s,visibleCols:n}=this.beans,u=s.get("enableRtl"),{firstMovingCol:m,column:w,position:y}=this.getColumnMoveAndTargetInfo(e,t,u);if(!m||!w||y==null)return;let F=n.allCols,A=F.indexOf(m),I=F.indexOf(w),L=y===0!==u,_=A<I||A===I&&!L,H=0;if(L?_&&(H-=1):_||(H+=1),I+H===A)return;let z=F[I+H];if(!z)return;let J=this.getNormalisedColumnLeft(z,20,u);return{fromLeft:_,xPosition:J}}getColumnMoveAndTargetInfo(e,t,s){let n=this.lastHighlightedColumn||{},{firstMovingCol:u,lastMovingCol:m}=jm(e);if(!u||!m||n.column||!t)return{firstMovingCol:u,...n};let y=this.getPinDirection()==="left";return{firstMovingCol:u,position:y?1:0,column:y!==s?u:m}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,s){let{gos:n,ctrlsSvc:u}=this.beans,m=e.getLeft();if(m==null)return null;let w=e.getActualWidth();return er({x:s?m+w-t:m+t,pinned:e.getPinned(),useHeaderRow:s,skipScrollPadding:!0,gos:n,ctrlsSvc:u})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,s=this.failedMoveAttempts>bc;return t&&s||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:s,fromEnter:n,fakeEvent:u,fromLeft:m}=e,w=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:s,fromLeft:m,fromEnter:n,fakeEvent:u}),{columns:y,toIndex:F}=Sc(w)||{};y&&F!=null&&(this.lastMovedInfo={columns:y,toIndex:F}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&(Rc(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),s=t.getCenterViewportScrollLeft(),n=s+t.getCenterWidth(),u,m;this.gos.get("enableRtl")?(u=e<s+Do,m=e>n-Do):(m=e<s+Do,u=e>n-Do),this.needToMoveRight=u,this.needToMoveLeft=m,m||u?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Wm),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*zm,e>sr&&(e=sr);let t=null,s=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=s.scrollHorizontally(-e):this.needToMoveRight&&(t=s.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:n,dragAndDrop:u,gos:m}=this.beans;if(this.failedMoveAttempts<=bc+1||!n)return;if(u.getDragAndDropImageComponent()?.setIcon("pinned",!1),!m.get("suppressMoveWhenColumnDragging")){let w=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(w,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,s=!1){let n=(e||[]).filter(w=>!w.getColDef().lockPinned);if(!n.length)return 0;s&&(t=this.getPinDirection());let{pinnedCols:u,dragAndDrop:m}=this.beans;return u?.setColsPinned(n,t,"uiColumnDragged"),s&&m.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function Rc(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function jm(e){let t=e.length,s,n;for(let u=0;u<t;u++){if(!s){let m=e[u];m.getLeft()!=null&&(s=m)}if(!n){let m=e[t-1-u];m.getLeft()!=null&&(n=m)}if(s&&n)break}return{firstMovingCol:s,lastMovingCol:n}}var Km=class extends he{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,s=this.pinned;e.whenReady(this,n=>{let u,m=n.gridBodyCtrl.eBodyViewport;switch(s){case"left":u=[[m,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":u=[[m,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:u=[[m,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=u}),this.moveColumnFeature=this.createManagedBean(new Um(s)),this.bodyDropPivotTarget=this.createManagedBean(new Gm(s)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},$m=class extends he{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,s){let n=this.beans.colModel.getCols();if(!n)return;let u=n[e];this.moveColumns([u],t,s)}moveColumns(e,t,s,n=!0){let{colModel:u,colAnimation:m,visibleCols:w,eventSvc:y}=this.beans,F=u.getCols();if(!F)return;if(t>F.length-e.length){Ce(30,{toIndex:t});return}m?.start();let A=u.getColsForKeys(e);this.doesMovePassRules(A,t)&&(Pa(u.getCols(),A,t),w.refresh(s),y.dispatchEvent({type:"columnMoved",columns:A,column:A.length===1?A[0]:null,toIndex:t,finished:n,source:s})),m?.finish()}doesMovePassRules(e,t){let s=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(s)}doesOrderPassRules(e){let{colModel:t,gos:s}=this.beans;return!(!La(e,t.getColTree())||!(u=>{let m=A=>A?A==="left"||A===!0?-1:1:0,w=s.get("enableRtl"),y=w?1:-1,F=!0;return u.forEach(A=>{let I=m(A.getColDef().lockPosition);w?I>y&&(F=!1):I<y&&(F=!1),y=I}),F})(e))}getProposedColumnOrder(e,t){let n=this.beans.colModel.getCols().slice();return Pa(n,e,t),n}createBodyDropTarget(e,t){return new Km(e,t)}moveHeader(e,t,s,n,u){let{ctrlsSvc:m,gos:w,colModel:y,visibleCols:F,focusSvc:A}=this.beans,I=t.getBoundingClientRect(),L=I.left,_=je(s),H=_?I.width:s.getActualWidth(),z=e==="left"!==w.get("enableRtl"),J=er({x:z?L-20:L+H+20,pinned:n,fromKeyboard:!0,gos:w,ctrlsSvc:m}),te=A.focusedHeader;yc({allMovingColumns:_?s.getLeafColumns():[s],isFromHeader:!0,fromLeft:e==="right",xPosition:J,pinned:n,fromEnter:!1,fakeEvent:!1,gos:w,colModel:y,colMoves:this,visibleCols:F,finished:!0});let ae;if(_){let ce=s.getDisplayedLeafColumns();ae=z?ce[0]:Be(ce)}else ae=s;if(m.getScrollFeature().ensureColumnVisible(ae,"auto"),(!u.isAlive()||w.get("ensureDomOrder"))&&te){let ce;if(_){let le=s.getGroupId(),pe=s.getLeafColumns();if(!pe.length)return;let Me=pe[0].getParent();if(!Me)return;ce=Xm(Me,le)}else ce=s;ce&&A.focusHeaderPosition({headerPosition:{...te,column:ce}})}}setDragSourceForHeader(e,t,s){let{gos:n,colModel:u,dragAndDrop:m,visibleCols:w}=this.beans,y=!n.get("suppressDragLeaveHidesColumns"),F=je(t),A=F?t.getProvidedColumnGroup().getLeafColumns():[t],L={type:1,eElement:e,getDefaultIconName:()=>y?"hide":"notAllowed",getDragItem:F?()=>Zm(t,w.allCols):()=>Ym(t),dragItemName:s,onDragStarted:()=>{y=!n.get("suppressDragLeaveHidesColumns"),tr(A,!0)},onDragStopped:()=>tr(A,!1),onDragCancelled:()=>tr(A,!1),onGridEnter:_=>{if(y){let{columns:H=[],visibleState:z}=_??{},J=F?ae=>!z||z[ae.getColId()]:()=>!0,te=H.filter(ae=>!ae.getColDef().lockVisible&&J(ae));u.setColsVisible(te,!0,"uiColumnMoved")}},onGridExit:_=>{if(y){let H=_?.columns?.filter(z=>!z.getColDef().lockVisible)||[];u.setColsVisible(H,!1,"uiColumnMoved")}}};return m.addDragSource(L,!0),L}};function Xm(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Ym(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function Zm(e,t){let s=e.getProvidedColumnGroup().getLeafColumns(),n={};s.forEach(y=>n[y.getId()]=y.isVisible());let u=[];t.forEach(y=>{s.indexOf(y)>=0&&(u.push(y),mt(s,y))}),s.forEach(y=>u.push(y));let m=[],w=e.getLeafColumns();for(let y of u)w.indexOf(y)!==-1&&m.push(y);return{columns:u,columnsInSplit:m,visibleState:n}}var Pc={moduleName:"ColumnMove",version:Pe,beans:[$m,Lm],apiFunctions:{moveColumnByIndex:km,moveColumns:Om},dependsOn:[qn],css:[Im]},Qm=class extends he{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let s=this.getHeaderCellForColumn(e);if(!s)return-1;let n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(s),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let s=document.createElement("form");s.style.position="fixed";let n=this.centerRowContainerCtrl.eContainer;e.forEach(m=>this.cloneItemIntoDummy(m,s)),n.appendChild(s);let u=s.offsetWidth;return n.removeChild(s),t=t??this.gos.get("autoSizePadding"),u+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(s=>{let n=s.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){let s=e.cloneNode(!0);s.style.width="",s.style.position="static",s.style.left="";let n=document.createElement("div"),u=n.classList;["ag-header-cell","ag-header-group-cell"].some(y=>s.classList.contains(y))?(u.add("ag-header","ag-header-row"),n.style.position="static"):u.add("ag-row");let w=e.parentElement;for(;w;){if(["ag-header-row","ag-row"].some(F=>w.classList.contains(F))){for(let F=0;F<w.classList.length;F++){let A=w.classList[F];A!="ag-row-position-absolute"&&u.add(A)}break}w=w.parentElement}n.appendChild(s),t.appendChild(n)}},Mc={moduleName:"AutoWidth",version:Pe,beans:[Qm]};function Jm(e,t,s=!0,n="api"){e.colResize?.setColumnWidths(t,!1,s,n)}var qm=class extends he{constructor(e,t,s,n){super(),this.comp=e,this.eResize=t,this.pinned=s,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:s}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&s&&this.addDestroyFunc(s.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:s,resizeRatios:n,groupAfterColumns:u,groupAfterStartWidth:m,groupAfterRatios:w}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=s,this.resizeRatios=n,this.resizeTakeFromCols=u,this.resizeTakeFromStartWidth=m,this.resizeTakeFromRatios=w,this.toggleColumnResizing(!0)}onResizing(e,t,s="uiColumnResized"){let n=this.normaliseDragChange(t),u=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(u,s,e)}getInitialValues(e){let t=F=>F.reduce((A,I)=>A+I.getActualWidth(),0),s=(F,A)=>F.map(I=>I.getActualWidth()/A),n=this.getColumnsToResize(),u=t(n),m=s(n,u),w={columnsToResize:n,resizeStartWidth:u,resizeRatios:m},y=null;if(e&&(y=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),y){let F=y.getDisplayedLeafColumns(),A=w.groupAfterColumns=F.filter(L=>L.isResizable()),I=w.groupAfterStartWidth=t(A);w.groupAfterRatios=s(A,I)}else w.groupAfterColumns=void 0,w.groupAfterStartWidth=void 0,w.groupAfterRatios=void 0;return w}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),s=this.getInitialValues();t>s.resizeStartWidth&&this.resizeColumns(s,t,e,!0)}resizeColumnsFromLocalValues(e,t,s=!0){if(!this.resizeCols||!this.resizeRatios)return;let n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,s)}resizeColumns(e,t,s,n=!0){let{columnsToResize:u,resizeStartWidth:m,resizeRatios:w,groupAfterColumns:y,groupAfterStartWidth:F,groupAfterRatios:A}=e,I=[];if(I.push({columns:u,ratios:w,width:t}),y){let L=t-m;I.push({columns:y,ratios:A,width:F-L})}this.beans.colResize?.resizeColumnSets({resizeSets:I,finished:n,source:s}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},eC=class extends he{constructor(e,t,s,n,u){super(),this.pinned=e,this.column=t,this.eResize=s,this.comp=n,this.ctrl=u}postConstruct(){let e=[],t,s,n=()=>{if(_e(this.eResize,t),!t)return;let{horizontalResizeSvc:w,colAutosize:y}=this.beans,F=w.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(F),s&&y&&e.push(y.addColumnAutosize(this.eResize,this.column))},u=()=>{e.forEach(w=>w()),e.length=0},m=()=>{let w=this.column.isResizable(),y=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(w!==t||y!==s)&&(t=w,s=y,u(),n())};m(),this.addDestroyFunc(u),this.ctrl.setRefreshFunction("resize",m)}onResizing(e,t){let{column:s,lastResizeAmount:n,resizeStartWidth:u,beans:m}=this,w=this.normaliseResizeAmount(t),y=u+w,F=[{key:s,newWidth:y}],{pinnedCols:A,ctrlsSvc:I,colResize:L}=m;if(this.column.getPinned()){let _=A?.leftWidth??0,H=A?.rightWidth??0,z=Ls(I.getGridBodyCtrl().eBodyViewport)-50;if(_+H+(w-n)>z)return}this.lastResizeAmount=w,L?.setColumnWidths(F,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,s=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?s&&(t*=-1):n&&(t*=-1),t}},tC=class extends he{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,s,n){let u=[],{colModel:m,gos:w,visibleCols:y}=this.beans;e.forEach(F=>{let A=m.getColDefCol(F.key)||m.getCol(F.key);if(!A)return;if(u.push({width:F.newWidth,ratios:[1],columns:[A]}),w.get("colResizeDefault")==="shift"&&(t=!t),t){let L=y.getColAfter(A);if(!L)return;let _=A.getActualWidth()-F.newWidth,H=L.getActualWidth()+_;u.push({width:H,ratios:[1],columns:[L]})}}),u.length!==0&&this.resizeColumnSets({resizeSets:u,finished:s,source:n})}resizeColumnSets(e){let{resizeSets:t,finished:s,source:n}=e;if(!(!t||t.every(I=>sC(I)))){if(s){let I=t&&t.length>0?t[0].columns:null;Bs(this.eventSvc,I,s,n)}return}let m=[],w=[];t.forEach(I=>{let{width:L,columns:_,ratios:H}=I,z={},J={};_.forEach(ce=>w.push(ce));let te=!0,ae=0;for(;te;){if(ae++,ae>1e3){Ge(31);break}te=!1;let ce=[],le=0,pe=L;_.forEach((be,Ee)=>{if(J[be.getId()])pe-=z[be.getId()];else{ce.push(be);let xe=H[Ee];le+=xe}});let Me=1/le;ce.forEach((be,Ee)=>{let Le=Ee===ce.length-1,xe;Le?xe=pe:(xe=Math.round(H[Ee]*L*Me),pe-=xe);let We=be.getMinWidth(),Je=be.getMaxWidth();xe<We?(xe=We,J[be.getId()]=!0,te=!0):Je>0&&xe>Je&&(xe=Je,J[be.getId()]=!0,te=!0),z[be.getId()]=xe})}_.forEach(ce=>{let le=z[ce.getId()];ce.getActualWidth()!==le&&(ce.setActualWidth(le,n),m.push(ce))})});let y=m.length>0,F=[];if(y){let{colFlex:I,visibleCols:L,colViewport:_}=this.beans;F=I?.refreshFlexedColumns({resizingCols:w,skipSetLeft:!0})??[],L.setLeftValues(n),L.updateBodyWidths(),_.checkViewportColumns()}let A=w.concat(F);(y||s)&&Bs(this.eventSvc,A,s,n,F)}resizeHeader(e,t,s){if(!e.isResizable())return;let n=e.getActualWidth(),u=e.getMinWidth(),m=e.getMaxWidth(),w=Math.min(Math.max(n+t,u),m);this.setColumnWidths([{key:e,newWidth:w}],s,!0,"uiColumnResized")}createResizeFeature(e,t,s,n,u){return new eC(e,t,s,n,u)}createGroupResizeFeature(e,t,s,n){return new qm(e,t,s,n)}};function sC(e){let{columns:t,width:s}=e,n=0,u=0,m=!0;t.forEach(F=>{let A=F.getMinWidth();n+=A||0;let I=F.getMaxWidth();I>0?u+=I:m=!1});let w=s>=n,y=!m||s<=u;return w&&y}var iC={moduleName:"ColumnResize",version:Pe,beans:[tC],apiFunctions:{setColumnWidths:Jm},dependsOn:[wc,Mc]},oC=class extends he{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},nC=class extends jn{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,s,n,u){let{column:m,beans:w}=this,{context:y,colNames:F,colHover:A,rangeSvc:I,colResize:L}=w;this.comp=e,u=di(this,y,u),this.setGui(t,u),this.displayName=F.getDisplayNameForColumnGroup(m,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(u),this.setupExpandable(u),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:u}),this.setupUserComp(),this.addHeaderMouseListeners(u),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let _=this.rowCtrl.pinned,H=m.getProvidedColumnGroup().getLeafColumns();A?.createHoverFeature(u,H,t),I?.createRangeHighlightFeature(u,m,e),u.createManagedBean(new Un(m,t,w)),u.createManagedBean(new oC(e,m)),L?this.resizeFeature=u.createManagedBean(L.createGroupResizeFeature(e,s,_,m)):e.setResizableDisplayed(!1),u.createManagedBean(new Ms(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(u,H),u.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(u),u.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,s=e.getDefinition();return Ae(t.gos,{colDef:s,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,s=e.get("groupHeaderHeight");s!=null?s===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(s):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let s of t)e.addManagedListeners(s,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,s)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),s=t[0]===e,n=Be(t)===e;if(!s&&!n)return;let u=e.getHighlighted(),m=!!this.rowCtrl.getHeaderCellCtrls().find(F=>F.column.isMoving()),w=!1,y=!1;if(m){let F=this.beans.gos.get("enableRtl"),A=u===1,I=u===0;s&&(F?y=A:w=I),n&&(F?w=I:y=A)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",w),this.comp.addOrRemoveCssClass("ag-header-highlight-after",y)}resizeHeader(e,t){let{resizeFeature:s}=this;if(!s)return;let n=s.getInitialValues(t);s.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:s}=this.beans,n=Ae(s,{displayName:this.displayName,columnGroup:this.column,setExpanded:m=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),m,"gridInitializing")},setTooltip:(m,w)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(m,w)}}),u=Ig(t,n);u&&this.comp.setUserCompDetails(u)}addHeaderMouseListeners(e){let t=u=>this.handleMouseOverChange(u.type==="mouseenter"),s=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=u=>this.handleContextMenuMouseEvent(u,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let s=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:s,expandableChanged:s})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),s=bn(t,this.gos,null,e);e.isPadding()?(s.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(u=>u.isSpanHeaderHeight())&&s.push("ag-header-span-height")):(s.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&s.push("ag-header-cell-wrap-text")),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(e){let{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),u=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());n.forEach(m=>{e.addManagedListeners(m,{movingChanged:u})}),u()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===de.ENTER){let s=this.column,n=!s.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function rC(e,t,s){e.colGroupSvc?.setColumnGroupOpened(t,s,"api")}function aC(e,t,s){return e.colGroupSvc?.getColumnGroup(t,s)??null}function lC(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function cC(e,t,s){return e.colNames.getDisplayNameForColumnGroup(t,s)||""}function dC(e){return e.colGroupSvc?.getColumnGroupState()??[]}function uC(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function hC(e){e.colGroupSvc?.resetColumnGroupState("api")}function gC(e){return e.visibleCols.treeLeft}function pC(e){return e.visibleCols.treeCenter}function fC(e){return e.visibleCols.treeRight}function mC(e){return e.visibleCols.getAllTrees()}function CC(e,t){for(let s=0;s<t.length;s++){let n=e.indexOf(t[s]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var vC=class extends he{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colModel:s,colGroupSvc:n,colViewport:u}=this.beans;t||this.buildTrees(s,n),n?.updateOpenClosedVisibility();let m=ir(this.treeLeft);this.leftCols=m,this.centerCols=ir(this.treeCenter);let w=ir(this.treeRight);this.rightCols=w,this.joinColsAriaOrder(s),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(y=>y.isAutoHeight()),this.beans.colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),u.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(s,m,w,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=jt(this.centerCols),t=jt(this.leftCols),s=jt(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==s)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=s,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,s,n){let u,m;this.gos.get("enableRtl")?(u=t?t[0]:null,m=s?Be(s):null):(u=t?Be(t):null,m=s?s[0]:null),e.getCols().forEach(w=>{w.setLastLeftPinned(w===u,n),w.setFirstRightPinned(w===m,n)})}buildTrees(e,t){let s=e.getColsToShow(),n=s.filter(F=>F.getPinned()=="left"),u=s.filter(F=>F.getPinned()=="right"),m=s.filter(F=>F.getPinned()!="left"&&F.getPinned()!="right"),w=new Cn,y=F=>t?t.createColumnGroups(F):F.columns;this.treeLeft=y({columns:n,idCreator:w,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=y({columns:u,idCreator:w,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=y({columns:m,idCreator:w,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),s=[],n=[],u=[];for(let m of t){let w=m.getPinned();w?w===!0||w==="left"?s.push(m):u.push(m):n.push(m)}this.ariaOrderColumns=s.concat(n).concat(u)}getAriaColIndex(e){let t;return je(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{je(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let n=t.getCols().slice(0),u=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(m=>{if(u){let w=jt(m);m.forEach(y=>{w-=y.getActualWidth(),y.setLeft(w,e)})}else{let w=0;m.forEach(y=>{y.setLeft(w,e),w+=y.getActualWidth()})}CC(n,m)}),n.forEach(m=>{m.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,s,n){let u=[],m=null;for(let w=0;w<t.length;w++){let y=t[w],F=t.length-w,A=Math.min(y.getColSpan(e),F),I=[y];if(A>1){let _=A-1;for(let H=1;H<=_;H++)I.push(t[w+H]);w+=_}let L;s?(L=!1,I.forEach(_=>{s(_)&&(L=!0)})):L=!0,L&&(u.length===0&&m&&(n&&n(y))&&u.push(m),u.push(y)),m=y}return u}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,s=t.indexOf(e);return s>0?t[s-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Es(this.treeCenter,!1,e),Es(this.treeLeft,!1,e),Es(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let s=0;s<t.length;s++){let n=this[t[s]];if(n.length)return e?Be(n):n[0]}return null}getColAfter(e){let t=this.allCols,s=t.indexOf(e);return s<t.length-1?t[s+1]:null}getColsLeftWidth(){return jt(this.leftCols)}getDisplayedColumnsRightWidth(){return jt(this.rightCols)}isColAtEdge(e,t){let s=this.allCols;if(!s.length)return!1;let n=t==="first",u;if(je(e)){let m=e.getDisplayedLeafColumns();if(!m.length)return!1;u=n?m[0]:Be(m)}else u=e;return(n?s[0]:Be(s))===u}};function Es(e,t,s){if(e)for(let n=0;n<e.length;n++){let u=e[n];if(je(u)){let m=t?u.getDisplayedChildren():u.getChildren();Es(m,t,s)}s(u)}}function ir(e){let t=[];return Es(e,!0,s=>{Ut(s)&&t.push(s)}),t}var wC=class extends he{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return Kt(null,t,s=>{ot(s)&&e.push({groupId:s.getGroupId(),open:s.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let s=[];Kt(null,t,n=>{if(ot(n)){let u=n.getColGroupDef(),m={groupId:n.getGroupId(),open:u?u.openByDefault:void 0};s.push(m)}}),this.setColumnGroupState(s,e)}setColumnGroupState(e,t){let{colModel:s,colAnimation:n,visibleCols:u,eventSvc:m}=this.beans;if(!s.getColTree().length)return;n?.start();let y=[];e.forEach(F=>{let A=F.groupId,I=F.open,L=this.getProvidedColGroup(A);L&&L.isExpanded()!==I&&(L.setExpanded(I),y.push(L))}),u.refresh(t,!0),y.length&&m.dispatchEvent({type:"columnGroupOpened",columnGroup:y.length===1?y[0]:void 0,columnGroups:y}),n?.finish()}setColumnGroupOpened(e,t,s){let n;ot(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],s)}getProvidedColGroup(e){let t=null;return Kt(null,this.beans.colModel.getColTree(),s=>{ot(s)&&s.getId()===e&&(t=s)}),t}getGroupAtDirection(e,t){let s=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),u=t==="After"?Be(n):n[0],m=`getCol${t}`;for(;;){let w=this.beans.visibleCols[m](u);if(!w)return null;let y=this.getColGroupAtLevel(w,s);if(y!==e)return y}}getColGroupAtLevel(e,t){let s=e.getParent(),n,u;for(;n=s.getProvidedColumnGroup().getLevel(),u=s.getPaddingLevel(),!(n+u<=t);)s=s.getParent();return s}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();Es(e,!1,t=>{je(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(je(e))return e;let s=this.beans.visibleCols.getAllTrees(),n=typeof t=="number",u=null;return Es(s,!1,m=>{if(je(m)){let w=m,y;n?y=e===w.getGroupId()&&t===w.getPartId():y=e===w.getGroupId(),y&&(u=w)}}),u}createColumnGroups(e){let{columns:t,idCreator:s,pinned:n,oldDisplayedGroups:u,isStandaloneStructure:m}=e,w=this.mapOldGroupsById(u),y=[],F=t;for(;F.length;){let A=F;F=[];let I=0,L=_=>{let H=I;I=_;let z=A[H],te=(je(z)?z.getProvidedColumnGroup():z).getOriginalParent();if(te==null){for(let ce=H;ce<_;ce++)y.push(A[ce]);return}let ae=this.createColumnGroup(te,s,w,n,m);for(let ce=H;ce<_;ce++)ae.addChild(A[ce]);F.push(ae)};for(let _=1;_<A.length;_++){let H=A[_],J=(je(H)?H.getProvidedColumnGroup():H).getOriginalParent(),te=A[I],ce=(je(te)?te.getProvidedColumnGroup():te).getOriginalParent();J!==ce&&L(_)}I<A.length&&L(A.length)}return m||this.setupParentsIntoCols(y,null),y}createProvidedColumnGroup(e,t,s,n,u,m,w){let y=u.getUniqueKey(t.groupId||null,null),F=this.createMergedColGroupDef(t,y),A=new ai(F,y,!1,s);this.createBean(A);let I=this.findExistingGroup(t,m);I&&m.splice(I.idx,1);let L=I?.group;L&&A.setExpanded(L.isExpanded());let _=Aa(this.beans,F.children,s+1,e,n,u,m,w);return A.setChildren(_),A}balanceColumnTree(e,t,s,n){let u=[];for(let m=0;m<e.length;m++){let w=e[m];if(ot(w)){let y=w,F=this.balanceColumnTree(y.getChildren(),t+1,s,n);y.setChildren(F),u.push(y)}else{let y,F;for(let A=s-1;A>=t;A--){let I=n.getUniqueKey(null,null),L=this.createMergedColGroupDef(null,I),_=new ai(L,I,!0,t);this.createBean(_),F&&F.setChildren([_]),F=_,y||(y=F)}if(y&&F)if(u.push(y),e.some(I=>ot(I))){F.setChildren([w]);continue}else{F.setChildren(e);break}u.push(w)}}return u}findDepth(e){let t=0,s=e;for(;s&&s[0]&&ot(s[0]);)t++,s=s[0].getChildren();return t}findMaxDepth(e,t){let s=t;for(let n=0;n<e.length;n++){let u=e[n];if(ot(u)){let m=u,w=this.findMaxDepth(m.getChildren(),t+1);s<w&&(s=w)}}return s}balanceTreeForAutoCols(e,t){let s=[];return e.forEach(n=>{let u=n;for(let m=t-1;m>=0;m--){let w=new ai(null,`FAKE_PATH_${n.getId()}}_${m}`,!0,m);this.createBean(w),w.setChildren([u]),u.originalParent=w,u=w}t===0&&(n.originalParent=null),s.push(u)}),s}createMergedColGroupDef(e,t){let s={},{gos:n,validation:u}=this.beans;return Object.assign(s,n.get("defaultColGroupDef")),Object.assign(s,e),u?.validateColDef(s,t),s}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){let u=t[n];if(u.getColGroupDef()&&u.getId()===e.groupId)return{idx:n,group:u}}}createColumnGroup(e,t,s,n,u){let m=e.getGroupId(),w=t.getInstanceIdForKey(m),y=ul(m,w),F=s[y];return F&&F.getProvidedColumnGroup()!==e&&(F=null),we(F)?F.reset():(F=new En(e,m,w,n),u||this.createBean(F)),F}mapOldGroupsById(e){let t={},s=n=>{n.forEach(u=>{if(je(u)){let m=u;t[u.getUniqueId()]=m,s(m.getChildren())}})};return e&&s(e),t}setupParentsIntoCols(e,t){e.forEach(s=>{if(s.parent=t,je(s)){let n=s;this.setupParentsIntoCols(n.getChildren(),n)}})}},Fc={moduleName:"ColumnGroup",version:Pe,dynamicBeans:{headerGroupCellCtrl:nC},beans:[wC],apiFunctions:{getAllDisplayedColumnGroups:mC,getCenterDisplayedColumnGroups:pC,getColumnGroup:aC,getColumnGroupState:dC,getDisplayNameForColumnGroup:cC,getLeftDisplayedColumnGroups:gC,getProvidedColumnGroup:lC,getRightDisplayedColumnGroups:fC,resetColumnGroupState:hC,setColumnGroupOpened:rC,setColumnGroupState:uC}},SC={moduleName:"CheckboxCellRenderer",version:Pe,userComponents:{agCheckboxCellRenderer:If}};function yC(e,t){let s=e.colModel.getColDefCol(t);return s?s.getColDef():null}function bC(e){return e.colModel.getColumnDefs()}function RC(e,t,s){return e.colNames.getDisplayNameForColumn(t,s)||""}function PC(e,t){return e.colModel.getColDefCol(t)}function MC(e){return e.colModel.getColDefCols()}function FC(e,t){return ut(e,t,"api")}function xC(e){return Ns(e)}function EC(e){_a(e,"api")}function AC(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function TC(e){return e.visibleCols.isPinningLeft()}function DC(e){return e.visibleCols.isPinningRight()}function IC(e,t){return e.visibleCols.getColAfter(t)}function LC(e,t){return e.visibleCols.getColBefore(t)}function kC(e,t,s){e.colModel.setColsVisible(t,s,"api")}function OC(e,t,s){e.pinnedCols?.setColsPinned(t,s,"api")}function GC(e){return e.colModel.getCols()}function _C(e){return e.visibleCols.leftCols}function BC(e){return e.visibleCols.centerCols}function NC(e){return e.visibleCols.rightCols}function VC(e){return e.visibleCols.allCols}function HC(e){return e.colViewport.getViewportColumns()}function or(e,t){if(!e)return;let s=e,n={};return Object.keys(s).forEach(u=>{if(t&&t.indexOf(u)>=0||Sa.has(u))return;let m=s[u];typeof m=="object"&&m!==null&&m.constructor===Object?n[u]=or(m):n[u]=m}),n}var zC=class extends he{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,s,n){let u=e.slice();t?u.sort((y,F)=>s.indexOf(y)-s.indexOf(F)):s&&u.sort((y,F)=>n.indexOf(y)-n.indexOf(F));let m=this.rowGroupColsSvc?.columns,w=this.pivotColsSvc?.columns;return this.buildColumnDefs(u,m,w)}buildColumnDefs(e,t=[],s=[]){let n=[],u={};return e.forEach(m=>{let w=this.createDefFromColumn(m,t,s),y=!0,F=w,A=m.getOriginalParent(),I=null;for(;A;){let L=null;if(A.isPadding()){A=A.getOriginalParent();continue}let _=u[A.getGroupId()];if(_){_.children.push(F),y=!1;break}if(L=this.createDefFromGroup(A),L&&(L.children=[F],u[L.groupId]=L,F=L,A=A.getOriginalParent()),A!=null&&I===A){y=!1;break}I=A}y&&n.push(F)}),n}createDefFromGroup(e){let t=or(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,s){let n=or(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?s.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},WC=class extends he{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let s=this.flexViewportWidth;if(!s)return[];let{visibleCols:n}=this.beans,u=n.centerCols,m=-1;if(e.resizingCols){let z=new Set(e.resizingCols);for(let J=u.length-1;J>=0;J--)if(z.has(u[J])){m=J;break}}let w=!1,y=u.map((z,J)=>{let te=z.getFlex(),ae=te!=null&&te>0&&J>m;return w||(w=ae),{col:z,isFlex:ae,flex:Math.max(0,te??0),initialSize:z.getActualWidth(),min:z.getMinWidth(),max:z.getMaxWidth(),targetSize:0}});if(!w)return[];let F=y.length,A=y.reduce((z,J)=>z+J.flex,0),I=s,L=(z,J)=>{z.frozenSize=J,z.col.setActualWidth(J,t),I-=J,A-=z.flex,F-=1},_=z=>z.frozenSize!=null;for(let z of y)z.isFlex||L(z,z.initialSize);for(;F>0;){let z=Math.round(A<1?I*A:I),J,te=0,ae=0;for(let pe of y){if(_(pe))continue;J=pe,ae+=z*(pe.flex/A);let Me=ae-te,be=Math.round(Me);pe.targetSize=be,te+=be}J&&(J.targetSize+=z-te);let ce=0;for(let pe of y){if(_(pe))continue;let Me=pe.targetSize,be=Math.min(Math.max(Me,pe.min),pe.max);ce+=be-Me,pe.violationType=be===Me?void 0:be<Me?"max":"min",pe.targetSize=be}let le=ce===0?"all":ce>0?"min":"max";for(let pe of y)_(pe)||(le==="all"||pe.violationType===le)&&L(pe,pe.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();let H=y.filter(z=>z.isFlex&&!z.violationType).map(z=>z.col);if(e.fireResizedEvent){let z=y.filter(te=>te.initialSize!==te.frozenSize).map(te=>te.col),J=y.filter(te=>te.flex).map(te=>te.col);Bs(this.eventSvc,z,!0,t,J)}return H}initCol(e){let{flex:t,initialFlex:s}=e.colDef;t!==void 0?e.flex=t:s!==void 0&&(e.flex=s)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},UC=class extends he{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;let s={};this.formatValueFuncs=s;let n=w=>y=>{let{column:F,node:A,value:I}=y,L=F.getColDef().valueFormatter;return L===w.groupSafeValueFormatter&&(L=w.valueFormatter),this.beans.valueSvc.formatValue(F,A,I,L)};for(let w of Object.keys(e)){let y=e[w],F={...y,groupSafeValueFormatter:Ac(y,this.gos)};t[w]=F,s[w]=n(F)}let u=this.gos.get("dataTypeDefinitions")??{},m={};this.dataTypeMatchers=m;for(let w of Object.keys(u)){let y=u[w],F=this.processDataTypeDefinition(y,u,[w],e);F&&(t[w]=F,y.dataTypeMatcher&&(m[w]=y.dataTypeMatcher),s[w]=n(F))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(w=>{let y=m[w];y&&delete m[w],m[w]=y??e[w].dataTypeMatcher})}processDataTypeDefinition(e,t,s,n){let u,m=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let w=n[m],y=t[m];if(w&&y&&(w=y),!Ec(e,w,m))return;u=xc(w,e)}else{if(s.includes(m)){Ce(44);return}let w=t[m];if(!Ec(e,w,m))return;let y=this.processDataTypeDefinition(w,t,[...s,m],n);if(!y)return;u=xc(y,e)}return{...u,groupSafeValueFormatter:Ac(u,this.gos)}}updateColDefAndGetColumnType(e,t,s){let{cellDataType:n}=t,{field:u}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(u,s):!1),!n){e.cellDataType=!1;return}let m=this.dataTypeDefinitions[n];if(!m){Ce(47,{cellDataType:n});return}return e.cellDataType=n,m.groupSafeValueFormatter&&(e.valueFormatter=m.groupSafeValueFormatter),m.valueParser&&(e.valueParser=m.valueParser),m.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,m,s),m.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let s=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",s),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",s))}canInferCellDataType(e,t){let{gos:s}=this;if(!st(s))return!1;let n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(nr(t,n))return!1;let u=t.type===null?e.type:t.type;if(u){let m=s.get("columnTypes")??{};if(ao(u).some(y=>{let F=m[y.trim()];return F&&nr(F,n)}))return!1}return!nr(e,n)}inferCellDataType(e,t){if(!e)return;let s,n=this.getInitialData();if(n){let u=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");s=ri(n,e,u)}else this.initWaitForRowData(t);if(s!=null)return Object.keys(this.dataTypeMatchers).find(u=>this.dataTypeMatchers[u](s))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:s,eventSvc:n}=this.beans;t&&s&&(s.shouldQueueResizeOperations=!0);let[u]=this.addManagedEventListeners({rowDataUpdateStarted:m=>{let{firstRowData:w}=m;w&&(u?.(),this.isPendingInference=!1,this.processColumnsPendingInference(w,t),this.columnStateUpdatesPendingInference={},t&&s?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let s=[];this.destroyColumnStateUpdateListeners();let n={},u={};for(let m of Object.keys(this.columnStateUpdatesPendingInference)){let w=this.columnStateUpdatesPendingInference[m],y=this.colModel.getCol(m);if(!y)return;let F=y.getColDef();if(!this.resetColDefIntoCol(y,"cellDataTypeInferred"))return;let A=y.getColDef();if(t&&A.type&&A.type!==F.type){let I=KC(y,w);I.rowGroup&&I.rowGroupIndex==null&&(n[m]=I),I.pivot&&I.pivotIndex==null&&(u[m]=I),s.push(I)}}t&&s.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,u)),s.length&&ut(this.beans,{state:s},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let s={},{rowGroupColsSvc:n,pivotColsSvc:u}=this.beans;return n?.restoreColumnOrder(s,e),u?.restoreColumnOrder(s,t),Object.values(s)}resetColDefIntoCol(e,t){let s=e.getUserProvidedColDef();if(!s)return!1;let n=lo(this.beans,s,e.getColId());return e.setColDef(n,s,t),!0}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,s=e.object;this.hasObjectValueParser=t.valueParser!==s.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==s.valueFormatter}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let s=this.getDataTypeDefinition(e)?.dataTypeMatcher;return s?s(t):!0}validateColDef(e){let t=s=>Ce(48,{property:s});if(e.cellDataType==="object"){let{object:s}=this.dataTypeDefinitions;e.valueFormatter===s.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===s.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,s,n){let u=this.formatValueFuncs[t];switch(s.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=m=>!!m.colDef.editable&&m.event.key===de.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=u;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(m,w)=>{let y=this.colModel.getColDefCol(n),F=y?.getColDef();if(!y||!F)return 0;let A=m==null?"":u({column:y,node:null,value:m}),I=w==null?"":u({column:y,node:null,value:w});return A===I?0:A>I?1:-1},e.keyCreator=u;break}}this.beans.filterManager?.setColDefPropertiesForDataType(e,s,u)}getDefaultDataTypes(){let e=s=>!!s.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:s=>s.newValue?.trim?.()===""?null:Number(s.newValue),valueFormatter:s=>s.value==null?"":typeof s.value!="number"||isNaN(s.value)?t("invalidNumber","Invalid Number"):String(s.value),dataTypeMatcher:s=>typeof s=="number"},text:{baseDataType:"text",valueParser:s=>s.newValue===""?null:Qi(s.newValue),dataTypeMatcher:s=>typeof s=="string"},boolean:{baseDataType:"boolean",valueParser:s=>s.newValue==null?s.newValue:s.newValue?.trim?.()===""?null:String(s.newValue).toLowerCase()==="true",valueFormatter:s=>s.value==null?"":String(s.value),dataTypeMatcher:s=>typeof s=="boolean"},date:{baseDataType:"date",valueParser:s=>at(s.newValue==null?null:String(s.newValue)),valueFormatter:s=>s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):vt(s.value,!1)??"",dataTypeMatcher:s=>s instanceof Date},dateString:{baseDataType:"dateString",dateParser:s=>at(s)??void 0,dateFormatter:s=>vt(s??null,!1)??void 0,valueParser:s=>e(String(s.newValue))?s.newValue:null,valueFormatter:s=>e(String(s.value))?s.value:"",dataTypeMatcher:s=>typeof s=="string"&&e(s)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:s=>Qi(s.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function xc(e,t){let s={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(s.columnTypes=[...ao(e.columnTypes),...ao(t.columnTypes)]),s}function Ec(e,t,s){return t?t.baseDataType!==e.baseDataType?(Ce(46),!1):!0:(Ce(45,{parentCellDataType:s}),!1)}function Ac(e,t){if(e.valueFormatter)return s=>{if(s.node?.group){let n=(s.colDef.pivotValueColumn??s.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(s);if(e.baseDataType==="number"&&n!=="count"){if(typeof s.value=="number")return e.valueFormatter(s);if(typeof s.value=="object"){if(!s.value)return;if("toNumber"in s.value)return e.valueFormatter({...s,value:s.value.toNumber()});if("value"in s.value)return e.valueFormatter({...s,value:s.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&s.column.isRowGroupActive()&&typeof s.value=="string"&&!e.dataTypeMatcher?.(s.value))return;return e.valueFormatter(s)}}function jC(e,t,s,n){if(!t[s])return!1;let u=e[s];return u===null?(t[s]=!1,!1):n===void 0?!!u:u===n}function nr(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([s,n])=>jC(e,t,s,n))}function KC(e,t){let s=Na(e);return t.forEach(n=>{delete s[n],n==="rowGroup"?delete s.rowGroupIndex:n==="pivot"&&delete s.pivotIndex}),s}var $C={moduleName:"DataType",version:Pe,beans:[UC],dependsOn:[SC]},XC={moduleName:"ColumnFlex",version:Pe,beans:[WC]},Tc={moduleName:"ColumnApi",version:Pe,beans:[zC],apiFunctions:{getColumnDef:yC,getDisplayNameForColumn:RC,getColumn:PC,getColumns:MC,applyColumnState:FC,getColumnState:xC,resetColumnState:EC,isPinning:AC,isPinningLeft:TC,isPinningRight:DC,getDisplayedColAfter:IC,getDisplayedColBefore:LC,setColumnsVisible:kC,setColumnsPinned:OC,getAllGridColumns:GC,getDisplayedLeftColumns:_C,getDisplayedCenterColumns:BC,getDisplayedRightColumns:NC,getAllDisplayedColumns:VC,getAllDisplayedVirtualColumns:HC,getColumnDefs:bC}};function YC(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,s=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(s,"$1 $2$3").replace(/\./g," ").split(" ").map(u=>u.substring(0,1).toUpperCase()+(u.length>1?u.substring(1,u.length):"")).join(" ")}var ZC=class extends he{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,s=!1){if(!e)return null;let n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:u}=this.beans;return s&&u?u.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,s){let n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,s):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,s,n,u){let m=e.headerValueGetter;if(m){let w=Ae(this.gos,{colDef:e,column:t,columnGroup:s,providedColumnGroup:n,location:u});return typeof m=="function"?m(w):typeof m=="string"?this.beans.expressionSvc?.evaluate(m,w)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return YC(e.field)}return""}},QC=class extends he{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,s=!1){let{visibleCols:n}=this,u=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!u)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let w=n.bodyWidth;this.viewportLeft=w-t-e,this.viewportRight=w-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(s)}}getHeadersToRender(e,t){let s;switch(e){case"left":s=this.rowsOfHeadersToRenderLeft[t];break;case"right":s=this.rowsOfHeadersToRenderRight[t];break;default:s=this.rowsOfHeadersToRenderCenter[t];break}return s||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||JC(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,s=t+e.getActualWidth(),n=this.viewportLeft-200,u=this.viewportRight+200,m=t<n&&s<n,w=t>u&&s>u;return!m&&!w}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=m=>{let w=m.getLeft();return we(w)&&w>this.viewportLeft},s=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,u=n.centerCols;return n.getColsForRow(e,u,s,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:s,treeLeft:n,treeRight:u,treeCenter:m}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(s).forEach(F=>e[F.getId()]=!0);let y=(F,A,I)=>{let L=!1;for(let _=0;_<F.length;_++){let H=F[_],z=!1;if(Ut(H))z=e[H.getId()]===!0;else{let te=H.getDisplayedChildren();te&&(z=y(te,A,I+1))}z&&(L=!0,A[I]||(A[I]=[]),A[I].push(H))}return L};y(n,this.rowsOfHeadersToRenderLeft,0),y(u,this.rowsOfHeadersToRenderRight,0),y(m,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),s=this.colsWithinViewportHash!==t;return s&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),s}};function JC(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var qC=class extends he{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class s{refresh(){return!1}getGui(){return this.eGui}init(u){let m=t(u),w=typeof m;if(w==="string"||w==="number"||w==="boolean"){this.eGui=qs("<span>"+m+"</span>");return}if(m==null){this.eGui=Ke({tag:"span"});return}this.eGui=m}}return s}},ev={moduleName:"CellRendererFunction",version:Pe,beans:[qC]},tv=class extends he{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:s,dynamicBeans:n,selectors:u}=e;if(s){let m=(w,y,F)=>{this.agGridDefaults[w]=y,F&&(this.agGridDefaultParams[w]=F)};for(let w of Object.keys(s)){let y=s[w];typeof y=="object"?m(w,y.classImp,y.params):m(w,y)}}if(n)for(let m of Object.keys(n))this.dynamicBeans[m]=n[m];if(u?.forEach(m=>{this.selectors[m.selector]=m}),t)for(let m of Object.keys(t))this.icons[m]=t[m]}getUserComponent(e,t){let s=(y,F,A)=>({componentFromFramework:F,component:y,params:A}),{frameworkOverrides:n}=this.beans,u=n.frameworkComponent(t,this.gos.get("components"));if(u!=null)return s(u,!0);let m=this.jsComps[t];if(m){let y=n.isFrameworkComponent(m);return s(m,y)}let w=this.agGridDefaults[t];return w?s(w,!1,this.agGridDefaultParams[t]):(this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...s){let n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(Wt(256));return}return new n(...s)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},sv=23,iv=class extends he{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===sv&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let s=this.readyCallbacks.indexOf(t);s>=0&&this.readyCallbacks.splice(s,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:s}=this.params;return[e,s,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},ov=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',rr=typeof window!="object"||!window?.document?.fonts?.forEach,ar=new WeakMap,Ws=(e,t,s,n,u,m)=>{if(rr||hr)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let w=ar.get(t);if(w||(w=[],ar.set(t,w)),w.find(I=>I.css===e))return;let y=document.createElement("style");m&&y.setAttribute("nonce",m),y.dataset.agGlobalCss=s,y.textContent=e;let F={css:e,el:y,priority:u},A;for(let I of w){if(I.priority>u)break;A=I}if(A){A.el.insertAdjacentElement("afterend",y);let I=w.indexOf(A);w.splice(I+1,0,F)}else t.insertBefore(y,t.querySelector(":not(title, meta)")),w.push(F)},Dc=(e,t,s)=>{Ws(ov,e,"core",t,0,s),Array.from(Zg()).sort((n,u)=>n.moduleName.localeCompare(u.moduleName)).forEach(n=>n.css?.forEach(u=>Ws(u,e,`module-${n.moduleName}`,t,0,s)))},lr=new Set,nv=e=>{lr.add(e)},rv=e=>{if(lr.delete(e),lr.size===0){ar=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Ne=e=>new Ic(e),ns="$default",av=0,Ic=class{constructor({feature:e,params:t,modeParams:s={},css:n,cssImports:u}){this.feature=e,this.css=n,this.cssImports=u,this.modeParams={[ns]:{...s[ns]??{},...t??{}},...s}}use(e,t,s){let n=this._inject;if(n==null){let{css:u}=this;if(u){let m=`ag-theme-${this.feature??"part"}-${++av}`;typeof u=="function"&&(u=u()),u=`:where(.${m}) {
${u}
}
`;for(let w of this.cssImports??[])u=`@import url(${JSON.stringify(w)});
${u}`;n={css:u,class:m}}else n=!1;this._inject=n}return n&&e&&Ws(n.css,e,n.class,t,1,s),n?n.class:!1}},lv=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),Lc=e=>`--ag-${lv(e)}`,Nt=e=>`var(${Lc(e)})`,cv=(e,t,s)=>Math.max(t,Math.min(s,e)),dv=e=>{let t=new Map;return s=>{let n=s;return t.has(n)||t.set(n,e(s)),t.get(n)}},wt=e=>({ref:"accentColor",mix:e}),Ze=e=>({ref:"foregroundColor",mix:e}),$e=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),uv=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ye={ref:"backgroundColor"},Rt={ref:"foregroundColor"},Qe={ref:"accentColor"},As={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:Ze(.15),chromeBackgroundColor:$e(.02),browserColorScheme:"light"},hv={...As,textColor:Rt,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ye,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Qe,rangeSelectionBackgroundColor:wt(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:wt(.5),rangeHeaderHighlightColor:uv(.08),rowNumbersSelectedColor:wt(.5),rowHoverColor:wt(.08),columnHoverColor:wt(.05),selectedRowBackgroundColor:wt(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Ye,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Ye,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:Ze(.7),focusShadow:{spread:3,color:wt(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:Ze(.1),iconButtonActiveColor:Qe,iconButtonActiveBackgroundColor:wt(.28),iconButtonActiveIndicatorColor:Qe,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Qe,toggleButtonOffBackgroundColor:$e(.3),toggleButtonSwitchBackgroundColor:Ye,toggleButtonSwitchInset:2,menuBorder:{color:Ze(.2)},menuBackgroundColor:$e(.03),menuTextColor:$e(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:Ze(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Qe},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:Ze(.2)},panelBackgroundColor:Ye,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:Ze(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:Ze(.13)},selectCellBackgroundColor:Ze(.07),selectCellBorder:{color:Ze(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:Rt,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Rt,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:Ze(.15),statusBarLabelColor:Rt,statusBarLabelFontWeight:500,statusBarValueColor:Rt,statusBarValueFontWeight:500},Io=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",Lo={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},gv=()=>Ne({feature:"buttonStyle",params:Lo,css:Io}),kc=gv(),pv=()=>Ne({feature:"buttonStyle",params:{...Lo,buttonBackgroundColor:Ye,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Qe}},css:Io}),Oc=pv(),fv=()=>Ne({feature:"buttonStyle",params:{...Lo,buttonBackgroundColor:Ye,buttonBorder:{color:Qe},buttonFontWeight:600,buttonTextColor:Qe,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBackgroundColor:Qe,buttonActiveTextColor:Ye},css:Io}),Gc=fv(),mv=()=>Ne({feature:"buttonStyle",params:{...Lo,buttonBorder:{color:Rt,width:2,style:"outset"},buttonActiveBorder:{color:Rt,width:2,style:"inset"},buttonBackgroundColor:$e(.07),buttonHoverBackgroundColor:Ye,buttonVerticalPadding:{calc:"spacing * 0.5"}},css:Io}),_c=mv(),Cv=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",vv=".ag-column-drop-vertical-empty-message{color:var(--ag-subtle-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600;padding-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-empty-message{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing));padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-empty-message{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-icon-size) + var(--ag-spacing) + var(--ag-widget-horizontal-spacing))}",wv=()=>Ne({feature:"columnDropStyle",css:Cv}),ko=wv(),Sv=()=>Ne({feature:"columnDropStyle",css:vv}),cr=Sv(),yv=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],bv=dv(e=>(e=e.toLowerCase(),yv.find(t=>e.endsWith(t.toLowerCase()))??"length")),Oo=e=>typeof e=="object"&&e?.ref?Nt(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,Go=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Nt(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Nt(e.onto):"transparent"}, ${t} ${cv(e.mix*100,0,100)}%)`}return!1},Rv=Oo,Us=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,s=>s[0]==="-"?s:` ${Nt(s)} `)})`:e&&"ref"in e?Nt(e.ref):!1,Pv=Oo,Mv=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Nt(e.ref):Bc(e.style??"solid")+" "+Us(e.width??1)+" "+Go(e.color??{ref:"borderColor"}),Fv=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Nt(e.ref):[Us(e.offsetX??0),Us(e.offsetY??0),Us(e.radius??0),Us(e.spread??0),Go(e.color??{ref:"foregroundColor"})].join(" "),Bc=Oo,dr=e=>typeof e=="string"?e.includes(",")?e:Nc(e):e&&"googleFont"in e?dr(e.googleFont):e&&"ref"in e?Nt(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),Nc(t))).join(", "):!1,Nc=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),Vc=Oo,ur=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?ur({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Nt(e.ref):!1,xv=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ge(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Nt(e.ref):!1,Ev={color:Go,colorScheme:Rv,length:Us,scale:Pv,border:Mv,borderStyle:Bc,shadow:Fv,image:ur,fontFamily:dr,fontWeight:Vc,duration:xv},Av=(e,t)=>{let s=bv(e);return Ev[s](t,e)},hr=!1,Tv=e=>{if(!(e instanceof gr))throw new Error("theme is not an object created by createTheme");return e},Pi=()=>new gr().withPart(Oc).withPart(ko),gr=class eh{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Ic?new eh([...this.parts,t]):(on(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Ne({feature:t}))}withParams(t,s=ns){return this.withPart(Ne({modeParams:{[s]:t}}))}_startUse({styleContainer:t,cssLayer:s,nonce:n,loadThemeGoogleFonts:u}){if(rr||hr)return;Iv(),Dc(t,s,n);let m=Dv(this);if(m.length>0)for(let w of m)u&&kv(w,n);for(let w of this.parts)w.use(t,s,n)}_getCssClass(){return hr?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=Hc(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let s={[ns]:{...hv}};for(let n of Hc(this.parts))for(let u of Object.keys(n.modeParams)){let m=n.modeParams[u];if(m){let w=s[u]??(s[u]={}),y=new Set;for(let F of Object.keys(m)){let A=m[F];A!==void 0&&(w[F]=A,y.add(F))}if(u===ns)for(let F of Object.keys(s)){let A=s[F];if(F!==ns)for(let I of y)delete A[I]}}}this._paramsCache=t=s}return t}_getPerGridCss(t){let s="##SELECTOR##",n=this._paramsCssCache;if(!n){let u="",m="",w=this._getModeParams();for(let F of Object.keys(w)){let A=w[F];if(F!==ns){let L=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(F):F}"]) & {
`;u+=L,m+=L}for(let I of Object.keys(A).sort()){let L=A[I],_=Av(I,L);if(_===!1)Ge(107,{key:I,value:L});else{let H=Lc(I),z=H.replace("--ag-","--ag-inherited-");u+=`	${H}: var(${z}, ${_});
`,m+=`	${z}: var(${H});
`}}F!==ns&&(u+=`}
`,m+=`}
`)}let y=`${s} {
${u}}
`;y+=`:has(> ${s}):not(${s}) {
${m}}
`,this._paramsCssCache=n=y}return n.replaceAll(s,`:where(.${t})`)}},Hc=e=>{let t=new Map;for(let n of e)t.set(n.feature,n);let s=[];for(let n of e)(!n.feature||t.get(n.feature)===n)&&s.push(n);return s},Dv=e=>{let t=new Set,s=m=>{if(Array.isArray(m))m.forEach(s);else{let w=m?.googleFont;typeof w=="string"&&t.add(w)}};return Object.values(e._getModeParams()).flatMap(m=>Object.values(m)).forEach(s),Array.from(t).sort()},zc=!1,Iv=()=>{if(!zc){zc=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Lv=new Set,kv=async(e,t)=>{Lv.add(e);let s=`@import url('https://${Ov}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Ws(s,document.head,`googleFont:${e}`,void 0,0,t)},Ov="fonts.googleapis.com",Gv='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',_v=()=>Ne({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ye,checkboxUncheckedBorderColor:$e(.3),checkboxCheckedBackgroundColor:Qe,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ye,checkboxIndeterminateBackgroundColor:$e(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ye,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:Gv}),Mi=_v(),Bv=()=>Ne({feature:"colorScheme",params:As}),Nv=Bv(),Vv=()=>Ne({feature:"colorScheme",params:{...As,foregroundColor:"#000000de",borderColor:"#60300026",chromeBackgroundColor:"#60300005"}}),Hv=Vv(),zv=()=>Ne({feature:"colorScheme",params:{...As,foregroundColor:"#000",chromeBackgroundColor:"#f3f8f8"}}),Wv=zv(),pr=()=>({...As,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:$e(.05),rowHoverColor:wt(.15),selectedRowBackgroundColor:wt(.2),menuBackgroundColor:$e(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:Ye,findActiveMatchColor:Ye,checkboxUncheckedBorderColor:$e(.4),toggleButtonOffBackgroundColor:$e(.4)}),Uv=()=>Ne({feature:"colorScheme",params:pr()}),jv=Uv(),Kv=()=>Ne({feature:"colorScheme",params:{backgroundColor:"hsl(29, 10%, 17%)",foregroundColor:"#FFF",browserColorScheme:"dark"}}),Wc=()=>({...pr(),backgroundColor:"#1f2836"}),$v=Kv(),Xv=()=>Ne({feature:"colorScheme",params:Wc()}),Yv=Xv(),Zv=()=>Ne({feature:"colorScheme",params:As,modeParams:{light:As,dark:pr(),"dark-blue":Wc()}}),Fi=Zv(),Qv=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M22 12h-2v-2h-8v.092c.056 1.352 3.426 2.598 4.472 4.404.682 1.174.438 2.754-.572 3.72C14.29 19.618 12 20.924 12 22h8v-2h2v4H10c0-1.586-.098-3.304 1.016-4.314 1.904-1.632 4.89-3.108 3.54-4.42-1.918-1.68-4.464-2.936-4.554-5.12L10 8h12z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='m6.414 17 2.294 2.292-1.416 1.416L2.586 16l4.706-4.708 1.416 1.416L6.414 15H15V6.414l-2.292 2.294-1.416-1.416L16 2.586l4.708 4.706-1.416 1.416L17 6.414V15h8.586l-2.294-2.292 1.416-1.416L29.414 16l-4.706 4.708-1.416-1.416L25.586 17H17v8.586l2.292-2.294 1.416 1.416L16 29.414l-4.708-4.706 1.416-1.416L15 25.586V17z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 4C9.378 4 4 9.378 4 16s5.378 12 12 12 12-5.378 12-12S22.622 4 16 4m0 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S6 21.52 6 16 10.48 6 16 6m0 8.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M14 25h-2V7h2zm6 0h-2V7h2zm6 0h-2V7h2zM8 25H6V7h2z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M21.929 27.999h-7.828a5.09 5.09 0 0 1-5.086-5.086v-9.812a5.087 5.087 0 0 1 5.086-5.086h7.828a5.09 5.09 0 0 1 5.086 5.086v9.812a5.087 5.087 0 0 1-5.086 5.086m.16-17.984h-8.088a2.94 2.94 0 0 0-2.938 2.938v10.132a2.94 2.94 0 0 0 2.938 2.938h8.088a2.94 2.94 0 0 0 2.936-2.938V12.953a2.94 2.94 0 0 0-2.936-2.938M7.041 26.013h-2.05a4 4 0 0 1-.006-.228V9.065a5.07 5.07 0 0 1 5.064-5.064h12.812q.069 0 .134.002v2.012H9.915a2.876 2.876 0 0 0-2.874 2.874z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='4 4 24 24'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m16 14.586 5.292-5.294 1.416 1.416L17.414 16l5.294 5.292-1.416 1.416L16 17.414l-5.292 5.294-1.416-1.416L14.586 16l-5.294-5.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14.703 15.096 6.215 4.719a1 1 0 1 1 1.548-1.267l13.058 15.965A5.001 5.001 0 0 1 28 23.916a5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 4.98 4.98 0 0 1 1.23-3.283l-3.238-3.958-3.272 4.001a4.98 4.98 0 0 1 1.265 3.323 5 5 0 0 1-4.999 4.999 5 5 0 0 1-4.999-4.999 5 5 0 0 1 7.13-4.522zM8.991 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M23 20.8a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1m-5.723-8.852 1.292 1.579 7.205-8.808a1 1 0 0 0-1.548-1.267z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m17 21.379 4.292-4.294 1.416 1.416L16 25.207l-6.708-6.706 1.416-1.416L15 21.379V6.793h2z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M9.304 7.89a15.2 15.2 0 0 1 6.404-1.638c.294-.002.292-.002.584 0 5.956.174 11.328 4.088 13.62 9.748 0 0-1.318 3.178-3.224 5.174a13.6 13.6 0 0 1-2.226 1.874L26.414 25 25 26.414l-2.336-2.336C17.866 26.396 11.776 26.15 7.36 22.96a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.218 2.002-3.718a14.6 14.6 0 0 1 3.442-3.334L5.586 7 7 5.586zm-.3 2.528c-2.038 1.344-3.708 3.246-4.724 5.508L4.248 16c2.46 5.762 9.622 9.064 15.63 7.15q.688-.219 1.342-.516l-.912-.912a6.96 6.96 0 0 1-4.19 1.394c-3.862 0-7-3.136-7-7 0-1.57.52-3.022 1.394-4.19zm14.032 11.204a13.25 13.25 0 0 0 4.684-5.548l.032-.074c-1.984-4.646-6.834-7.798-12.006-7.748-1.712.05-3.386.458-4.922 1.158l1.102 1.102a6.97 6.97 0 0 1 4.192-1.396 7.003 7.003 0 0 1 5.606 11.192zm-11.09-8.262a5.003 5.003 0 0 0 6.928 6.928zm8.342 5.514a5.002 5.002 0 0 0-6.928-6.928z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16.292 6.32c5.956.174 11.328 4.086 13.62 9.746 0 0-1.318 3.18-3.224 5.176-4.862 5.088-13.534 5.97-19.328 1.784a14.9 14.9 0 0 1-4.168-4.612c-.41-.71-.694-1.336-1.104-2.348 0 0 .898-2.216 2.002-3.716 2.678-3.64 7.03-5.896 11.618-6.03.294-.004.292-.004.584 0m-.546 2c-4.896.142-9.458 3.202-11.466 7.672l-.032.074c2.46 5.762 9.622 9.066 15.63 7.152 3.458-1.102 6.342-3.738 7.842-7.076l.032-.076C25.768 11.42 20.918 8.27 15.746 8.32m.254.946c3.754 0 6.8 3.048 6.8 6.8 0 3.754-3.046 6.8-6.8 6.8s-6.8-3.046-6.8-6.8c0-3.752 3.046-6.8 6.8-6.8m5 6.768V16c0-2.76-2.24-5-5-5s-5 2.24-5 5v.066c0 2.76 2.24 5 5 5s5-2.24 5-5z'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M26 8.184c-.066 2.658-4.058 5.154-6.742 7.974a1.05 1.05 0 0 0-.258.682v3.66L13 25c0-2.74.066-5.482-.002-8.222a1.05 1.05 0 0 0-.256-.62C10.026 13.304 6.06 10.61 6 8.184V6h20zM8 8c0 .304.06.612.258.842 2.716 2.854 6.682 5.548 6.742 7.974V21l2-1.5v-2.684c.066-2.658 4.058-5.154 6.742-7.974.198-.23.258-.538.258-.842z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.354 8.708 17.06 16l7.294 7.292-1.416 1.416L14.232 16l8.706-8.708zM9.646 8v16h-2V8z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0M7.006 4c-1.57.02-2.946 1.348-3.004 2.922-.078 6.078-.23 12.16.002 18.234.094 1.484 1.354 2.746 2.84 2.84 6.1.232 12.212.232 18.312 0 1.48-.094 2.746-1.35 2.84-2.84.232-6.1.232-12.212 0-18.312-.094-1.48-1.35-2.746-2.84-2.84C19.11 3.774 13.056 4 7.006 4M14 21h-4v-2h4zm12 0H16v-2h10zm-12-4h-4v-2h4zm12 0H16v-2h10zm-16-4H6v-2h4zm16 0H12v-2h14z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m17.768 16-8.706 8.708-1.416-1.416L14.94 16 7.646 8.708l1.416-1.416zm6.586 8h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='m17.621 11-2 2h12.586v6H15.621l2 2-4.414 4.414L3.793 16l9.414-9.414zm-11 5 6.586 6.586L14.793 21l-4-4h15.414v-2H10.793l4-4-1.586-1.586z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M17.138 13.418a1.03 1.03 0 0 0-.298.658s.125.096.226.178c1.372 1.114 2.033 3.039 1.582 4.796a4.7 4.7 0 0 1-1.205 2.123c-1.145 1.151-2.296 2.294-3.445 3.441-1.241 1.232-3.185 1.691-4.864 1.105-1.546-.54-2.756-1.938-3.048-3.572-.267-1.496.246-3.108 1.319-4.186l.578-.578-.03-.092a10.5 10.5 0 0 1-.452-2.3v-.005c-.776.775-1.621 1.489-2.275 2.396-1.817 2.522-1.643 6.323.706 8.669 1.813 1.811 4.708 2.462 7.171 1.517a6.75 6.75 0 0 0 2.336-1.518l3.427-3.424c1.939-1.954 2.533-5.126 1.294-7.674a6.8 6.8 0 0 0-2.071-2.481l-.003-.002zM21.265 4a6.8 6.8 0 0 0-4.734 1.964l-3.427 3.424c-1.961 1.977-2.52 5.092-1.32 7.619a6.8 6.8 0 0 0 2.098 2.537l.003.002c.32-.32.643-.637.96-.96.167-.172.27-.401.286-.64l-.204-.167c-1.603-1.287-2.215-3.68-1.316-5.616a4.7 4.7 0 0 1 .918-1.32c1.145-1.151 2.296-2.294 3.445-3.441 1.239-1.23 3.178-1.694 4.864-1.105 1.83.639 3.16 2.498 3.12 4.493a4.8 4.8 0 0 1-1.391 3.265l-.578.578.03.092c.235.743.387 1.519.452 2.3v.005c.732-.731 1.521-1.406 2.162-2.244 1.192-1.559 1.643-3.651 1.204-5.575a6.8 6.8 0 0 0-3.98-4.703 6.8 6.8 0 0 0-2.529-.506h-.061z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='m7.54 17.4.1 6.98 6.96.1-2.24-2.24L16 18.6 13.4 16l-3.64 3.64zm16.92-2.8-.1-6.98-6.96-.1 2.24 2.24L16 13.4l2.6 2.6 3.64-3.64z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M26 23H6v-2h20zm0-6H6v-2h20zm0-6H6V9h20z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none'%3E%3Cpath fill='%23000' d='M16 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0-7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 3 26 26'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='m14.8 24.26-.1-6.96-6.96-.1 2.24 2.24-3.64 3.64 2.6 2.6 3.64-3.64zm2.4-16.52.1 6.96 6.96.1-2.24-2.24 3.64-3.64-2.6-2.6-3.64 3.64z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142m-1.414 6.07h16.97v2.002H7.515z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='m10.044 21.258 4.478-4.198L16 18.444 9 25l-7-6.556 1.478-1.384 4.478 4.198V7h2.088zm14 3.742h-2.088V10.742l-4.478 4.198L16 13.556 23 7q3.5 3.28 7 6.556l-1.478 1.384-4.478-4.198z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16.186 3.646c8.188.154 14.898 9.796 11.17 17.78-3.298 7.066-13.932 9.374-19.848 3.87-3.9-3.632-5.076-9.896-2.684-14.708 2.082-4.19 6.588-6.974 11.362-6.942m-.298 1.998c-6.922.132-12.578 8.308-9.33 15.052 3.342 6.934 15.246 7.646 18.932 0 3.076-6.386-1.988-15.1-9.602-15.052m7.596 6.422c2.864 5.33-1.744 13.186-8.306 12.536a8.6 8.6 0 0 1-3.232-.998l-1.266-.706L22.778 10.8q.351.633.706 1.266m-9.422 10.276c3.296 1.028 7.246-1.006 8.216-4.418a6.6 6.6 0 0 0-.056-3.742zm2.104-14.696a8.8 8.8 0 0 1 3.936 1.038l1.266.706L9.27 21.488c-3.018-5.41-.99-13.37 6.318-13.834q.289-.01.578-.008m-.31 2c-4.06.154-7.23 4.614-6.03 8.46l8.16-8.16a6.8 6.8 0 0 0-2.13-.3'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M20 6.5c0-1-1-3-4-3s-4 2-4 3H8c-2.21 0-4 1.79-4 4v14c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-14c0-2.21-1.79-4-4-4zm-4 .546c.734 0 1.334.572 1.334 1.272S16.734 9.59 16 9.59s-1.334-.572-1.334-1.272.6-1.272 1.334-1.272M24 26.5H8a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h2v4h12v-4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008c-1.358-.022-2.714-.026-4.07-.022v4.034h4.07z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 7.515c-4.683 4.682-4.683 12.288 0 16.97 4.682 4.683 12.288 4.683 16.97 0 4.683-4.682 4.683-12.288 0-16.97-4.682-4.683-12.288-4.683-16.97 0m1.414 1.414c3.903-3.903 10.239-3.903 14.142 0s3.903 10.239 0 14.142-10.239 3.903-14.142 0-3.903-10.239 0-14.142M15 15l-.001-7.485h2.002L17 15l7.485-.001v2.002L17 17l.001 7.485h-2.002L15 17l-7.485.001v-2.002z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m28.207 16-9.414 9.414L14.379 21l2-2H3.793v-6h12.586l-2-2 4.414-4.414zm-11-5 4 4H5.793v2h15.414l-4 4 1.586 1.586L25.379 16l-6.586-6.586z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M21.061 8.708 13.767 16l7.294 7.292-1.416 1.416L10.939 16l8.706-8.708z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='m24.708 19.645-1.416 1.416L16 13.767l-7.292 7.294-1.416-1.416L16 10.939z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='M24.708 10.855 13 22.561l-5.708-5.706 1.416-1.416L13 19.733 23.292 9.439z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m21.061 16-8.706 8.708-1.416-1.416L18.233 16l-7.294-7.292 1.416-1.416z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6 15h20v2H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M24.708 12.355 16 21.061l-8.708-8.706 1.416-1.416L16 18.233l7.292-7.294z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M5.35 3.999a.2.2 0 0 0-.14.058c-.388.38-.768.768-1.152 1.152a.21.21 0 0 0-.002.288c7.459 7.506 14.965 14.965 22.447 22.447a.21.21 0 0 0 .288.002q.576-.574 1.151-1.151a.21.21 0 0 0 .002-.288C20.484 19.002 12.979 11.542 5.497 4.06a.2.2 0 0 0-.146-.061zm.611 12.548c-1.933 1.939-2.538 5.119-1.289 7.688a6.79 6.79 0 0 0 4.891 3.672 6.82 6.82 0 0 0 5.893-1.866l1.984-1.984-1.438-1.438-1.986 1.986c-1.486 1.476-3.993 1.81-5.834.629a4.73 4.73 0 0 1-2.024-2.853 4.76 4.76 0 0 1 1.241-4.393l1.986-1.986-1.438-1.438-1.984 1.984zM21.273 3.999a6.78 6.78 0 0 0-4.727 1.963l-1.984 1.984L16 9.384l1.985-1.985a4.74 4.74 0 0 1 2.776-1.338c1.974-.224 4.045.926 4.845 2.834.712 1.699.329 3.778-1.004 5.12L22.616 16l1.439 1.438q1-1 2-2c2.012-2.031 2.557-5.368 1.112-7.982-1.144-2.07-3.432-3.441-5.834-3.459h-.061z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m15 10.621-4.292 4.294-1.416-1.416L16 6.793l6.708 6.706-1.416 1.416L17 10.621v14.586h-2z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,Jv=Ne({feature:"iconSet",css:Qv}),qv=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,Uc=Ne({feature:"iconSet",css:qv}),ew=`.ag-icon-aggregation:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,jc=Ne({feature:"iconSet",css:ew}),tw=e=>{let t=[];if(e.type==="image"){let{icons:s,mask:n}=e;for(let u of Object.keys(s)){let m=ur(s[u]);n?t.push(`.ag-icon-${u}::before { mask-image: ${m}; }`):t.push(`.ag-icon-${u}::before { background-image: ${m}; ${Kc} }`)}}if(e.type==="font"){let{family:s,weight:n,color:u,icons:m}=e,w=Kc;s&&(w+=` font-family: ${dr(s)};`),n&&(w+=` font-weight: ${Vc(n)};`),u&&(w+=` color: ${Go(u)};`);for(let y of Object.keys(m))t.push(`.ag-icon-${y}::before { content: ${JSON.stringify(m[y])}; ${w} }`)}return Ne({css:t.join(`;
`),cssImports:e.cssImports})},Kc="background-color: unset; mask-image: unset; -webkit-mask-image: unset;",$c={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Xc={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},sw=(e={})=>{let t="";for(let s of[...Object.keys($c),...Object.keys(Xc)]){let n=iw(s,e.strokeWidth);t+=`.ag-icon-${s}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},iw=(e,t=1.5)=>{let s=Xc[e];if(s)return s;let n=$c[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},_o=(e={})=>Ne({feature:"iconSet",css:()=>sw(e)}),ow=_o({strokeWidth:1}),Yc=_o(),nw=_o({strokeWidth:2}),fr=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',rw=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",aw=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){border-left:none;border-right:none;border-top:none}",mr={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},lw=()=>Ne({feature:"inputStyle",params:mr,css:fr}),cw=lw(),dw=()=>Ne({feature:"inputStyle",params:{...mr,inputBackgroundColor:Ye,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Qe},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:$e(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>fr+rw}),Bo=dw(),uw=()=>Ne({feature:"inputStyle",params:{...mr,inputBackgroundColor:"transparent",inputBorder:{width:2,color:Ze(.3)},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}},css:()=>fr+aw}),Zc=uw(),xi='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',hw=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:none;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",Ei={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},gw=()=>Ne({feature:"tabStyle",params:Ei,css:xi}),pw=gw(),fw=()=>Ne({feature:"tabStyle",params:{...Ei,tabBarBorder:!0,tabBarBackgroundColor:Ze(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ye},css:xi}),Qc=fw(),mw=()=>Ne({feature:"tabStyle",params:{...Ei,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:0},css:xi}),Jc=mw(),Cw=()=>Ne({feature:"tabStyle",params:{...Ei,tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:Qe,tabSelectedTextColor:Qe,tabSelectedUnderlineColor:Qe,tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"},css:xi}),qc=Cw(),vw=()=>Ne({feature:"tabStyle",params:{...Ei,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ye},css:()=>xi+hw}),ed=vw(),ww=".ag-dnd-ghost,.ag-filter-toolpanel-header,.ag-filter-toolpanel-search,.ag-header-row,.ag-multi-filter-group-title-bar,.ag-panel-title-bar-title,.ag-status-bar{color:var(--ag-header-text-color);font-size:calc(var(--ag-font-size) - 1px);font-weight:600}.ag-column-drop-horizontal{background-color:color-mix(in srgb,var(--ag-background-color),var(--ag-foreground-color) 8%)}.ag-cell.ag-cell-inline-editing{background-color:var(--ag-background-color);background-image:linear-gradient(0deg,var(--ag-input-background-color),var(--ag-input-background-color));border:var(--ag-input-border)!important;border-width:1px!important;height:calc(var(--ag-row-height) + var(--ag-spacing)*3);padding:var(--ag-spacing);:where(.ag-row-last:not(.ag-row-first)) &{bottom:0}:where(.ag-has-focus) &{border:var(--ag-input-focus-border)!important;border-width:1px!important}}.ag-advanced-filter-builder-button,.ag-standard-button{text-transform:uppercase}.ag-status-bar{border:1px solid var(--ag-border-color)}.ag-list-item-hovered:after{background-color:var(--ag-primary-color)}.ag-pill-button:hover{color:var(--ag-primary-color)}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-primary-color)}",Sw=()=>Pi().withPart(Mi).withPart(Fi).withPart(Yc).withPart(Qc).withPart(Bo).withPart(ko).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),td=Sw(),yw=()=>Pi().withPart(Gc).withPart(Mi).withPart(Fi).withPart(Uc).withPart(qc).withPart(Bo).withPart(ko).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:wt(.3),inputFocusBorder:{color:wt(.4)},focusShadow:{radius:2,spread:1.6,color:wt(.4)},iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",checkboxUncheckedBorderColor:$e(.45),checkboxIndeterminateBackgroundColor:$e(.45),checkboxIndeterminateBorderColor:$e(.45),checkboxBorderWidth:2,checkboxBorderRadius:2,fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:Qe,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sideButtonSelectedUnderlineColor:Qe,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,sideButtonSelectedBorder:!1,sideButtonBarTopPadding:{calc:"spacing * 3"},sideButtonSelectedBackgroundColor:"transparent",sideButtonHoverTextColor:Qe,iconButtonHoverColor:Qe,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:$e(.45)}),bw=yw(),Rw=()=>Pi().withPart(_c).withPart(Mi).withPart(Fi).withPart(Jv).withPart(ed).withPart(Bo).withPart(cr).withParams({accentColor:"#0091ea",borderColor:Ze(.2),spacing:4,widgetVerticalSpacing:{calc:"max(8px, spacing)"},borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},checkboxBorderRadius:2,checkboxBorderWidth:1,checkboxUncheckedBackgroundColor:Ye,checkboxUncheckedBorderColor:$e(.5),checkboxCheckedBackgroundColor:Ye,checkboxCheckedBorderColor:Qe,checkboxCheckedShapeColor:Qe,checkboxIndeterminateBackgroundColor:Ye,checkboxIndeterminateBorderColor:$e(.5),checkboxIndeterminateShapeColor:$e(.5),focusShadow:{radius:2,spread:1,color:Qe},headerTextColor:Ze(.6),iconButtonHoverBackgroundColor:"transparent",iconButtonActiveBackgroundColor:"transparent",fontSize:12,tabSelectedBackgroundColor:Ye,headerFontWeight:"bold",toggleButtonWidth:32,toggleButtonHeight:16,toggleButtonSwitchInset:1,toggleButtonOffBackgroundColor:$e(.5),sideButtonBorder:!0,sideButtonBarTopPadding:{calc:"spacing * 4"},popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)",statusBarLabelColor:Ze(.54),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,panelTitleBarIconColor:Rt}),Pw=Rw(),Mw=()=>{let e={tabSelectedUnderlineColor:{ref:"primaryColor"},sideButtonSelectedUnderlineColor:{ref:"primaryColor"},buttonTextColor:{ref:"primaryColor"},rangeSelectionBackgroundColor:{ref:"primaryColor",mix:.2},rangeSelectionBorderColor:{ref:"primaryColor"},rangeSelectionHighlightColor:{ref:"primaryColor",mix:.5},rangeHeaderHighlightColor:{ref:"foregroundColor",mix:.08},rowNumbersSelectedColor:{ref:"primaryColor",mix:.5},inputFocusBorder:{width:2,color:{ref:"primaryColor"}},pickerButtonFocusBorder:{width:1,color:{ref:"primaryColor"}},cellEditingBorder:{color:{ref:"primaryColor"}},menuBackgroundColor:{ref:"backgroundColor"},sideButtonBarBackgroundColor:Ye,sideButtonSelectedBackgroundColor:"transparent",sideButtonBarTopPadding:{calc:"spacing * 4"},headerColumnResizeHandleColor:"none",headerBackgroundColor:{ref:"backgroundColor"},rowHoverColor:Ze(.08),columnHoverColor:Ze(.08),headerCellHoverBackgroundColor:Ze(.05),statusBarLabelColor:Ze(.63),statusBarLabelFontWeight:600,statusBarValueFontWeight:600,valueChangeValueHighlightBackgroundColor:"#00acc1",panelTitleBarIconColor:Rt,advancedFilterBuilderButtonBarBorder:!1},t={...e,primaryColor:"#3f51b5",foregroundColor:"#000D",headerTextColor:"#0008",accentColor:"#ff4081",checkboxUncheckedBorderColor:Rt,checkboxIndeterminateBackgroundColor:Rt,toggleButtonOffBackgroundColor:Rt,selectedRowBackgroundColor:"rgba(33, 150, 243, 0.3)"},s={...e,primaryColor:"#3f51b5",foregroundColor:"#fffD",headerTextColor:"#fff8",accentColor:"#bb86fc",checkboxUncheckedBorderColor:$e(.5),checkboxIndeterminateBackgroundColor:$e(.5),toggleButtonOffBackgroundColor:$e(.5),selectedRowBackgroundColor:"#bb86fc33"};return Ne({feature:"styleMaterial",css:ww,params:t,modeParams:{light:t,dark:s,"dark-blue":s}})},sd=Mw(),Fw=()=>Pi().withPart(kc).withPart(Mi).withPart(Fi).withPart(jc).withPart(Jc).withPart(Zc).withPart(cr).withPart(sd).withParams({rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.75 * rowVerticalPaddingScale"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4.75 * headerVerticalPaddingScale"},widgetVerticalSpacing:{calc:"spacing * 1.75"},cellHorizontalPadding:{calc:"spacing * 3"},buttonHorizontalPadding:{ref:"spacing"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 2"},fontSize:13,iconSize:18,borderRadius:0,wrapperBorderRadius:0,wrapperBorder:!1,menuBorder:!1,dialogBorder:!1,panelTitleBarBorder:!1,tabSelectedBorderWidth:0,tabSelectedUnderlineTransitionDuration:.3,sidePanelBorder:!1,sideButtonSelectedBorder:!1,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineTransitionDuration:.3,sideButtonBorder:!1,buttonBorder:!1,buttonDisabledBorder:!1,focusShadow:{spread:4,color:Ze(.16)},fontFamily:[{googleFont:"Roboto"},"-apple-system","BlinkMacSystemFont","Segoe UI","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],inputHeight:{calc:"max(iconSize, fontSize) + spacing * 3"},pickerButtonBorder:{width:1,color:"transparent"},headerFontWeight:600,checkboxBorderWidth:2,checkboxBorderRadius:2,toggleButtonWidth:34,toggleButtonSwitchInset:1,cardShadow:"0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)",popupShadow:"5px 5px 10px rgba(0, 0, 0, 0.3)"}),xw=Fw(),Ew={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Aw={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},Tw={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},id={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},od={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},nd={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Cr={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Dw=0,Iw=class extends he{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++Dw}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:s}=e;this.eGridDiv=t,this.eStyleContainer=s.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=s.themeCssLayer,this.styleNonce=s.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(id),this.getSizeEl(od),this.getSizeEl(nd),this.getSizeEl(Cr),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>rv(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(id)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(od)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Ew)}getDefaultIndentation(){return this.getCSSVariablePixelValue(Aw)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(Tw)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),s=this.getDefaultRowGroupIndentSize();return e-1+s*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(nd)}getRowBorderWidth(){return this.getCSSVariablePixelValue(Cr)}applyThemeClasses(e){let{gridTheme:t}=this,s="";if(t)s=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let u=!1;for(let m of Array.from(n.classList))m.startsWith("ag-theme-")&&(u=!0,s=s?`${s} ${m}`:m);u&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(let n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(s){let n=e.className;e.className=n+(n?" ":"")+s}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),s=this.gos.get("rowHeight");if(s==null||isNaN(s)||!isFinite(s))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let n=`${s}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),s):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Ws(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let s=this.measureSizeEl(e);return s==="detached"||s==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,s),s)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let s=t.offsetWidth;return s===vr?"no-styles":(this.sizesMeasured=!0,s)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Ke({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let s=this.getMeasurementContainer();t=Ke({tag:"div"});let{border:n,noWarn:u}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${vr}px)`)):t.style.width=`var(${e.cssName}, ${vr}px)`,s.appendChild(t),this.sizeEls.set(e,t);let m=this.measureSizeEl(e);m==="no-styles"&&!u&&Ce(9,{variable:e});let w=zt(this.beans,t,()=>{let y=this.measureSizeEl(e);y==="detached"||y==="no-styles"||(this.lastKnownValues.set(e,y),y!==m&&(m=y,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>w()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(Cr);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:s,gridTheme:n}=this,u=e.get("theme"),m;if(u==="legacy")m=void 0;else{let w=u??td;w instanceof gr?m=w:Ge(240,{theme:w})}if(m!==n){if(m){nv(this),Dc(this.eStyleContainer,this.cssLayer,this.styleNonce);for(let[y,F]of s)Ws(y,this.eStyleContainer,F,this.cssLayer,0,this.styleNonce);s.length=0}this.gridTheme=m,m?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let w=this.eParamsStyle;if(!w){w=this.eParamsStyle=Ke({tag:"style"});let y=this.gos.get("styleNonce");y&&w.setAttribute("nonce",y),t.appendChild(w)}rr||(w.textContent=m?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}m&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ge(u?106:239)}},vr=15538,Lw=class extends he{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new i}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,s){this.globalEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){this.globalEventService.removeEventListener(e,t,s)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(Ae(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(Ae(this.gos,e))}};function rd(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function wr(e,t){let s;if(je(e)&&rd(e)&&e.isPadding()){let n=e;s=n.getLeafColumns()[0];let u=s;for(;u!==n;)t++,u=u.getParent()}return{column:s||e,headerRowIndex:t}}var kw=class extends he{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,s=>{this.gridBodyCon=s.gridBodyCtrl});let t=Xe(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let s,{colModel:n,colGroupSvc:u,ctrlsSvc:m}=this.beans;if(typeof e=="string"?(s=n.getCol(e),s||(s=u?.getColumnGroup(e)??null)):s=e,!s)return null;let y=m.getHeaderRowContainerCtrl()?.getAllCtrls(),F=Be(y||[]).type==="filter",A=Bt(this.beans)-1,I=-1,L=s;for(;L;)I++,L=L.getParent();let _=I;return t&&F&&_===A-1&&_++,_===-1?null:{headerRowIndex:_,column:s}}navigateVertically(e,t,s){let n=this.beans.focusSvc;if(t||(t=n.focusedHeader),!t)return!1;let{headerRowIndex:u}=t,m=t.column,w=Bt(this.beans),y=e==="UP",F=this.getHeaderRowType(u),{headerRowIndex:A,column:I,headerRowIndexWithoutSpan:L}=y?Ow(F,m,u):Gw(F,m,u),_=!1;return A<0&&(A=0,I=m,_=!0),A>=w?(A=-1,this.currentHeaderRowWithoutSpan=-1):L!==void 0&&(this.currentHeaderRowWithoutSpan=L),!_&&!I?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:A,column:I},allowUserOverride:!0,event:s})}navigateHorizontally(e,t=!1,s){let{focusSvc:n,gos:u}=this.beans,m=n.focusedHeader,w,y;this.currentHeaderRowWithoutSpan!==-1?m.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=m.headerRowIndex,e==="LEFT"!==u.get("enableRtl")?(y="Before",w=this.findHeader(m,y)):(y="After",w=this.findHeader(m,y));let F=u.getCallback("tabToNextHeader");if(t&&F){let A=n.focusHeaderPositionFromUserFunc({userFunc:F,headerPosition:w,direction:y});if(A){let{headerRowIndex:I}=n.focusedHeader||{};I!=null&&I!=m.headerRowIndex&&(this.currentHeaderRowWithoutSpan=I)}return A}return w||!t?n.focusHeaderPosition({headerPosition:w,direction:y,fromTab:t,allowUserOverride:!0,event:s}):this.focusNextHeaderRow(m,y,s)}focusNextHeaderRow(e,t,s){let n=e.headerRowIndex,u=null,m,w=this.beans;if(t==="Before"?n>0&&(m=n-1,this.currentHeaderRowWithoutSpan-=1,u=this.findColAtEdgeForHeaderRow(m,"end")):(m=n+1,this.currentHeaderRowWithoutSpan<Bt(w)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,u=this.findColAtEdgeForHeaderRow(m,"start")),!u)return!1;let{column:y,headerRowIndex:F}=wr(u.column,u?.headerRowIndex);return w.focusSvc.focusHeaderPosition({headerPosition:{column:y,headerRowIndex:F},direction:t,fromTab:!0,allowUserOverride:!0,event:s})}scrollToColumn(e,t="After"){if(e.getPinned())return;let s;if(je(e)){let n=e.getDisplayedLeafColumns();s=t==="Before"?Be(n):n[0]}else s=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(s)}findHeader(e,t){let s,n,{colGroupSvc:u,visibleCols:m}=this.beans;if(je(e.column)?s=u?.getGroupAtDirection(e.column,t)??void 0:(n=`getCol${t}`,s=m[n](e.column)),!s)return;let{headerRowIndex:w}=e;if(this.getHeaderRowType(w)!=="filter"){let A=[s];for(;s.getParent();)s=s.getParent(),A.push(s);s=A[Math.max(0,A.length-1-w)]}let{column:y,headerRowIndex:F}=wr(s,w);return{column:y,headerRowIndex:F}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:s,ctrlsSvc:n,colGroupSvc:u}=this.beans,m=s.allCols,w=m[t==="start"?0:m.length-1];if(!w)return;let F=n.getHeaderRowContainerCtrl(w.getPinned())?.getRowType(e);if(F=="group"){let A=u?.getColGroupAtLevel(w,e);return{headerRowIndex:e,column:A}}return{headerRowIndex:F==null?-1:e,column:w}}};function Ow(e,t,s){let n=e==="filter",u=e==="column",m=n?t:t.getParent(),w=s-1,y=w;if(u&&rd(t.getParent())){for(;m&&m.isPadding();)m=m.getParent(),w--;y=w,w<0&&(m=t,w=s,y=void 0)}return{column:m,headerRowIndex:w,headerRowIndexWithoutSpan:y}}function Gw(e,t,s,n="After"){let u=t,m=s+1,w=m;if(e==="group"){let y=t.getDisplayedLeafColumns(),F=n==="After"?y[0]:Be(y),A=[],I=F;for(;I.getParent()!==t;)I=I.getParent(),A.push(I);if(u=F,F.isSpanHeaderHeight())for(let L=A.length-1;L>=0;L--){let _=A[L];if(!_.isPadding()){u=_;break}m++}else u=Be(A),u||(u=F)}return{column:u,headerRowIndex:m,headerRowIndexWithoutSpan:w}}var _w=class extends he{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(cp(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||!this.doesRowOrCellHaveBrowserFocus()?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Ue(this.beans),Vl)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=Ue(this.beans);return this.isDomDataPresentInHierarchy(e,fo)?!0:this.isDomDataPresentInHierarchy(e,wo)}isDomDataPresentInHierarchy(e,t){let s=e;for(;s;){if(ia(this.gos,s,t))return!0;s=s.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:s,column:n}=e,u={rowIndex:t,rowPinned:s,column:n,isFullWidthCell:!1},m=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:s});return m&&(u.isFullWidthCell=m.isFullWidth()),u}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:s,rowPinned:n,forceBrowserFocus:u=!1,preventScrollOnBrowserFocus:m=!1}=e,w=this.colModel.getCol(t);if(!w){this.focusedCell=null;return}this.focusedCell={rowIndex:s,rowPinned:Lt(n),column:w},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:u,preventScrollOnBrowserFocus:m})}isCellFocused(e){return this.focusedCell==null?!1:Fn(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:s,pinned:n}}=e,{column:u,headerRowIndex:m}=this.focusedHeader;return t===u&&s===m&&n==u.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),ys(this.beans))return!1;let{direction:t,fromTab:s,allowUserOverride:n,event:u,fromCell:m,rowWithoutSpanValue:w}=e,{headerPosition:y}=e;if(m&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(y);if(n){let F=this.focusedHeader,A=Bt(this.beans);if(s){let I=this.gos.getCallback("tabToNextHeader");I&&(y=this.getHeaderPositionFromUserFunc({userFunc:I,direction:t,currentPosition:F,headerPosition:y,headerRowCount:A}))}else{let I=this.gos.getCallback("navigateToNextHeader");if(I&&u){let L={key:u.key,previousHeaderPosition:F,nextHeaderPosition:y,headerRowCount:A,event:u};y=I(L)}}}return y?this.focusProvidedHeaderPosition({headerPosition:y,direction:t,event:u,fromCell:m,rowWithoutSpanValue:w}):!1}focusHeaderPositionFromUserFunc(e){if(ys(this.beans))return!1;let{userFunc:t,headerPosition:s,direction:n,event:u}=e,m=this.focusedHeader,w=Bt(this.beans),y=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:m,headerPosition:s,headerRowCount:w});return!!y&&this.focusProvidedHeaderPosition({headerPosition:y,direction:n,event:u})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:s,currentPosition:n,headerPosition:u,headerRowCount:m}=e,y=t({backwards:s==="Before",previousHeaderPosition:n,nextHeaderPosition:u,headerRowCount:m});return y===!0?n:y===!1?null:y}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:s,fromCell:n,rowWithoutSpanValue:u,event:m}=e,{column:w,headerRowIndex:y}=t,{filterManager:F,ctrlsSvc:A,headerNavigation:I}=this.beans;if(y===-1)return F?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:w,event:m});I?.scrollToColumn(w,s);let _=A.getHeaderRowContainerCtrl(w.getPinned())?.focusHeader(t.headerRowIndex,w,m)||!1;return I&&_&&(u!=null||n)&&(I.currentHeaderRowWithoutSpan=u??-1),_}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let s=wr(e,0);return this.focusHeaderPosition({headerPosition:s,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=Bt(this.beans)-1,s=Be(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Lt(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&qt(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:s=!0,event:n}=e;if(this.overlays?.isExclusive())return s&&this.focusOverlay(t);if(po(this.beans))return t&&!ys(this.beans)?this.focusLastHeader():s&&this.focusOverlay(t)?!0:t?!1:bs(this.beans,t);let u=t?Mp(this.beans):Pp(this.beans);if(u){let m=e.column??this.focusedHeader?.column,{rowIndex:w,rowPinned:y}=u,F=pi(this.beans,u);if(!m||!F||w==null)return!1;if(m.isSuppressNavigable(F)){let A=this.gos.get("enableRtl"),I;return!n||n.key===de.TAB?I=A?de.LEFT:de.RIGHT:I=n.key,this.beans.navigation?.navigateToNextCell(null,I,{rowIndex:w,column:m,rowPinned:y||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:w,column:m,rowPinned:y}),t&&this.rowRenderer.getRowByPosition(u)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(u,t)||(this.setFocusedCell({rowIndex:w,column:m,rowPinned:Lt(y),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:w,rowPinned:y,column:m})),!0}return!!(s&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let s=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:Bt(this.beans)-1}}):this.focusGridView({column:s})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Bw=class extends he{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),s=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==s)&&(this.horizontalScrollGap=t,this.verticalScrollGap=s,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),s=typeof e=="number"&&e>=0?e:Xo();s!=null&&(this.scrollbarWidth=s,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Nw=class extends he{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:s}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),s.destroy(),super.destroy()}},Ai=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Vw={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},Hw=0,zw=0,Ww=class extends he{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=zw++,this.propEventSvc=new i,this.globalEventHandlerFactory=e=>(t,s)=>{if(!this.isAlive())return;let n=Ai.has(t);if(n&&!e||!n&&e)return;let u=un(t),m=this.gridOptions[u];typeof m=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{m(s)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??Vw[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return we(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>e(this.addGridCommonParams(s)))}updateGridOptions({options:e,force:t,source:s="api"}){let n={id:Hw++,properties:[]},u=[],{gridOptions:m,validation:w}=this;for(let y of Object.keys(e)){let F=e[y];w?.warnOnInitialPropertyUpdate(s,y);let A=t||typeof F=="object"&&s==="api",I=m[y];if(A||I!==F){m[y]=F;let L={type:y,currentValue:F,previousValue:I,changeSet:n,source:s};u.push(L)}}w?.processGridOptions(this.gridOptions),n.properties=u.map(y=>y.type),u.forEach(y=>{Yt(this,`Updated property ${y.type} from`,y.previousValue," to ",y.currentValue),this.propEventSvc.dispatchEvent(y)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){let s=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return s||Ge(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),s}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:yn(),rowModelType:this.get("rowModelType"),isUmd:Jg()}}isModuleRegistered(e){return Xa(e,this.gridId,this.get("rowModelType"))}};function ad(e){let t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Uw=ad(!0),jw=ad(!1),ld=class extends Oe{constructor(){super(...arguments),this.eFilter=Se,this.eFilterButton=Se,this.eSortIndicator=Se,this.eMenu=Se,this.eLabel=Se,this.eText=Se,this.eSortOrder=Se,this.eSortAsc=Se,this.eSortDesc=Se,this.eSortMixed=Se,this.eSortNone=Se,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let s={...e};it(s,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(s)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let s=e.template;return s?s?.trim?s.trim():s:t?Uw:jw}init(e){this.params=e;let{sortSvc:t,touchSvc:s,rowNumbersSvc:n,userCompFactory:u}=this.beans,m=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!m),this.setTemplate(this.currentTemplate,m?[m]:void 0),s?.setupForHeader(this),this.setMenu(),this.setupSort(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(u,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let s=Dg(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){let{displayName:t}=e,s=this.currentDisplayName;if(this.currentDisplayName=t,s===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;let n=Gt(t,!0);this.eText.textContent=n}addInIcon(e,t,s){if(t==null)return;let n=Ct(e,this.beans,s);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ft(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:s}=this,n=dt(e);this.addInIcon(n?"menu":"menuAlt",t,s.column),t.classList.toggle("ag-header-menu-icon",!n);let u=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=u,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(u)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:s}=this;t||this.toggleMenuAlwaysShow(!0),s.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:s,beans:n,eMenu:u,eFilterButton:m}=this,w=t.column,y=dt(s);if(e&&!y){if(n.menuSvc?.isFilterMenuInHeaderEnabled(w))return t.showFilter(m??u??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(u??m??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:s}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:n,eSortOrder:u,eSortAsc:m,eSortDesc:w,eSortMixed:y,eSortNone:F}=this;n.attachCustomElements(u,m,w,y,F)}this.eSortIndicator.setupSort(s),this.currentSort&&e.setupHeader(this,s,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,s,n){if(!e)return ft(t),!1;let u=this.params.column;return this.addInIcon(n,t,u),this.addManagedListeners(u,{filterChanged:s}),s(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();_e(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:s}=this;return e?t??s??this.getGui():s??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Kw={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},$w=class extends Oe{constructor(){super(Kw),this.agOpened=Se,this.agClosed=Se,this.agLabel=Se,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&Ce(89)}workOutInnerHeaderGroupComponent(e,t){let s=Lg(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:s},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let u=F=>{if(Ot(F))return;let A=!s.isExpanded();n.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),A,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,u),this.addTouchAndClickListeners(n,e,u);let m=F=>{ms(F)};this.addManagedElementListeners(t,{dblclick:m}),this.addManagedElementListeners(e,{dblclick:m}),this.addManagedElementListeners(this.getGui(),{dblclick:u}),this.updateIconVisibility();let w=s.getProvidedColumnGroup(),y=this.updateIconVisibility.bind(this);this.addManagedListeners(w,{expandedChanged:y,expandableChanged:y})}addTouchAndClickListeners(e,t,s){e.touchSvc?.setupForHeaderGroup(this,t,s),this.addManagedElementListeners(t,{click:s})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:s}}=this;if(s.isExpandable()){let n=s.isExpanded();_e(e,n),_e(t,!n)}else _e(e,!1),_e(t,!1)}addInIcon(e,t){let s=Ct(e,this.beans,null);s&&t.appendChild(s)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:s}=this;_e(t,!1),_e(s,!1);return}}setupLabel(e){let{displayName:t,columnGroup:s}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(we(t)&&!n){let u=Gt(t,!0);this.agLabel.textContent=u}this.addOrRemoveCssClass("ag-sticky-label",!s.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},Xw={moduleName:"ColumnHeaderComp",version:Pe,userComponents:{agColumnHeader:ld},icons:{menu:"menu",menuAlt:"menu-alt"}},Yw={moduleName:"ColumnGroupHeaderComp",version:Pe,userComponents:{agColumnGroupHeader:$w},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Zw=class extends he{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&Ce(92)}createTask(e,t,s,n){this.verify();let u=s;n&&this.batchFrameworkComps&&(u="f1");let m={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[u],m),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((s,n)=>s.index!==n.index?t*(n.index-s.index):n.createOrder-s.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:s,f1:n,destroyTasks:u,beans:m}=this,{ctrlsSvc:w,frameworkOverrides:y}=m,F=t.list,A=s.list,I=n.list,L=Date.now(),_=0,H=e<=0,z=w.getScrollFeature();for(;H||_<e;){if(!z.scrollGridIfNeeded()){let te;if(F.length)this.sortTaskList(t),te=F.pop().task;else if(A.length)this.sortTaskList(s),te=A.pop().task;else if(I.length)y.wrapOutgoing(()=>{for(;(H||_<e)&&!z.scrollGridIfNeeded();){if(I.length)this.sortTaskList(n),te=I.pop().task,te();else break;_=Date.now()-L}}),te=()=>{};else if(u.length)te=u.pop();else break;te()}_=Date.now()-L}F.length||A.length||I.length||u.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);It(this.beans,e)}isQueueEmpty(){return!this.ticking}},Qw={moduleName:"AnimationFrame",version:Pe,beans:[Zw]},Jw=class extends he{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!At())return;let t=(s,n,u)=>{let{rowCtrl:m,cellCtrl:w}=e.getControlsForEventTarget(u?.target??null);w?.column&&w.dispatchCellContextMenuEvent(u??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,u,m,w)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!At()||ma("dblclick"))return!1;let n=Date.now(),u=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,u})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:s}=this.beans;if(t.get("suppressTouch"))return;let{params:n,eMenu:u,eFilterButton:m}=e,w=new xs(e.getGui(),!0),y=e.shouldSuppressMenuHide(),F=y&&we(u),A=F?new xs(u,!0):w;if(n.enableMenu){let I=F?"tap":"longTap",L=_=>n.showColumnMenuAfterMouseClick(_.touchStart);e.addManagedListeners(A,{[I]:L})}if(n.enableSorting){let I=L=>{let _=L.touchStart.target;y&&(u?.contains(_)||m?.contains(_))||s?.progressSort(n.column,!1,"uiColumnSorted")};e.addManagedListeners(w,{tap:I})}if(n.enableFilterButton&&m){let I=new xs(m,!0);e.addManagedListeners(I,{tap:()=>n.showFilter(m)}),e.addDestroyFunc(()=>I.destroy())}e.addDestroyFunc(()=>w.destroy()),F&&e.addDestroyFunc(()=>A.destroy())}setupForHeaderGroup(e,t,s){let n=new xs(t,!0);e.addManagedListeners(n,{tap:s}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,s){if(!At())return;let n=new xs(t),u=m=>{gi(this.gos,m.touchEvent)&&s(void 0,m.touchStart,m.touchEvent)};e.addManagedListeners(n,{longTap:u}),e.addDestroyFunc(()=>n.destroy())}},qw={moduleName:"Touch",version:Pe,beans:[Jw]},eS=class extends he{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,s=!1){return s?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let s=e===de.UP,n=e===de.DOWN,u=e===de.LEFT,m,w,{pageBounds:y,gos:F,visibleCols:A}=this.beans;if(s||n)w=s?y.getFirstRow():y.getLastRow(),m=t.column;else{let I=F.get("enableRtl");w=t.rowIndex,m=(u!==I?A.allCols:[...A.allCols].reverse()).find(_=>this.isCellGoodToFocusOn({rowIndex:w,rowPinned:null,column:_}))}return m?{rowIndex:w,rowPinned:null,column:m}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let s=t,n=!1;for(;!n;){switch(e){case de.UP:s=this.getCellAbove(s);break;case de.DOWN:s=this.getCellBelow(s);break;case de.RIGHT:s=this.gos.get("enableRtl")?this.getCellToLeft(s):this.getCellToRight(s);break;case de.LEFT:s=this.gos.get("enableRtl")?this.getCellToRight(s):this.getCellToLeft(s);break;default:s=null,Ce(8,{key:e});break}s?n=this.isCellGoodToFocusOn(s):n=!0}return s}isCellGoodToFocusOn(e){let t=e.column,s,{pinnedRowModel:n,rowModel:u}=this.beans;switch(e.rowPinned){case"top":s=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":s=n?.getPinnedBottomRow(e.rowIndex);break;default:s=u.getRow(e.rowIndex);break}return s?!this.isSuppressNavigable(t,s):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,s=xn(this.beans,t);return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,s=fi(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:s}=this.beans,n=t.allCols,u=e.rowIndex,m=e.rowPinned,w=t.getColAfter(e.column);if(!w){w=n[0];let y=xn(this.beans,e);if(He(y)||!y.rowPinned&&!(s?.isRowInPage(y.rowIndex)??!0))return null;u=y?y.rowIndex:null,m=y?y.rowPinned:null}return{rowIndex:u,column:w,rowPinned:m}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:s,pagination:n}=t,u=s.allCols,m=e.rowIndex,w=e.rowPinned,y=s.getColBefore(e.column);if(!y){y=Be(u);let F=fi(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(He(F)||!F.rowPinned&&!(n?.isRowInPage(F.rowIndex)??!0))return null;m=F?F.rowIndex:null,w=F?F.rowPinned:null}return{rowIndex:m,column:y,rowPinned:w}}isSuppressNavigable(e,t){let{suppressNavigable:s}=e.colDef;if(typeof s=="boolean")return s;if(typeof s=="function"){let n=e.createColumnFunctionCallbackParams(t);return s(n)}return!1}};function tS(e){return e.focusSvc.getFocusedCell()}function sS(e){return e.focusSvc.clearFocusedCell()}function iS(e,t,s,n){e.focusSvc.setFocusedCell({rowIndex:t,column:s,rowPinned:n,forceBrowserFocus:!0})}function oS(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function nS(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function rS(e,t,s=!1){let n=e.headerNavigation?.getHeaderPositionForColumn(t,s);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var aS=class extends he{constructor(){super(),this.beanName="navigation",this.onPageDown=$r(this.onPageDown,100),this.onPageUp=$r(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let s=e.key,n=e.altKey,u=e.ctrlKey||e.metaKey,m=!!this.beans.rangeSvc&&e.shiftKey,w=il(this.gos,e),y=!1;switch(s){case de.PAGE_HOME:case de.PAGE_END:!u&&!n&&(this.onHomeOrEndKey(s),y=!0);break;case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:if(!w)return!1;u&&!n&&!m&&(this.onCtrlUpDownLeftRight(s,w),y=!0);break;case de.PAGE_DOWN:case de.PAGE_UP:!u&&!n&&(y=this.handlePageUpDown(s,w,t));break}return y&&e.preventDefault(),y}handlePageUpDown(e,t,s){return s&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===de.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:s,scrollColumn:n,focusIndex:u,focusColumn:m}=e,{scrollFeature:w}=this.gridBodyCon;we(n)&&!n.isPinned()&&w.ensureColumnVisible(n),we(t)&&w.ensureIndexVisible(t,s),e.isAsync||w.ensureIndexVisible(u);let{focusSvc:y,rangeSvc:F}=this.beans;y.setFocusedCell({rowIndex:u,column:m,rowPinned:null,forceBrowserFocus:!0}),F?.setRangeToCell({rowIndex:u,rowPinned:null,column:m})}onPageDown(e){let t=this.beans,s=Sr(t),n=this.getViewportHeight(),{pageBounds:u,rowModel:m,rowAutoHeight:w}=t,y=u.getPixelOffset(),F=s.top+n,A=m.getRowIndexAtPixel(F+y);w?.active?this.navigateToNextPageWithAutoHeight(e,A):this.navigateToNextPage(e,A)}onPageUp(e){let t=this.beans,s=Sr(t),{pageBounds:n,rowModel:u,rowAutoHeight:m}=t,w=n.getPixelOffset(),y=s.top,F=u.getRowIndexAtPixel(y+w);m?.active?this.navigateToNextPageWithAutoHeight(e,F,!0):this.navigateToNextPage(e,F,!0)}navigateToNextPage(e,t,s=!1){let{pageBounds:n,rowModel:u}=this.beans,m=this.getViewportHeight(),w=n.getFirstRow(),y=n.getLastRow(),F=n.getPixelOffset(),A=u.getRow(e.rowIndex),I=s?A?.rowHeight-m-F:m-F,L=A?.rowTop+I,_=u.getRowIndexAtPixel(L+F);if(_===e.rowIndex){let z=s?-1:1;t=_=e.rowIndex+z}let H;s?(H="bottom",_<w&&(_=w),t<w&&(t=w)):(H="top",_>y&&(_=y),t>y&&(t=y)),this.isRowTallerThanView(u.getRow(_))&&(t=_,H="top"),this.navigateTo({scrollIndex:t,scrollType:H,scrollColumn:null,focusIndex:_,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,s=!1){this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let n=this.getNextFocusIndexForAutoHeight(e,s);this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let s=t?-1:1,n=this.getViewportHeight(),{pageBounds:u,rowModel:m}=this.beans,w=u.getLastRow(),y=0,F=e.rowIndex;for(;F>=0&&F<=w;){let A=m.getRow(F);if(A){let I=A.rowHeight??0;if(y+I>n)break;y+=I}F+=s}return Math.max(0,Math.min(F,w))}getViewportHeight(){let e=this.beans,t=Sr(e),s=this.beans.scrollVisibleSvc.getScrollbarWidth(),n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=s),n}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let s=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n}=s,u=s.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:u,focusIndex:n,focusColumn:u})}onHomeOrEndKey(e){let t=e===de.PAGE_HOME,{visibleCols:s,pageBounds:n,rowModel:u}=this.beans,m=s.allCols,w=t?n.getFirstRow():n.getLastRow(),y=u.getRow(w);if(!y)return;let F=(t?m:[...m].reverse()).find(A=>!A.isSuppressNavigable(y));F&&this.navigateTo({scrollIndex:w,scrollType:null,scrollColumn:F,focusIndex:w,focusColumn:F})}onTabKeyDown(e,t){let s=t.shiftKey,n=this.tabToNextCellCommon(e,s,t),u=this.beans,{ctrlsSvc:m,pageBounds:w,focusSvc:y,gos:F}=u;if(n!==!1){n?t.preventDefault():n===null&&m.get("gridCtrl").allowFocusForNextCoreContainer(s);return}if(s){let{rowIndex:A,rowPinned:I}=e.getRowPosition();(I?A===0:A===w.getFirstRow())&&(F.get("headerHeight")===0||ys(u)?bs(u,!0,!0):(t.preventDefault(),y.focusPreviousFromFirstCell(t)))}else e instanceof hi&&e.focusCell(!0),(!s&&y.focusOverlay(!1)||bs(u,s))&&t.preventDefault()}tabToNextCell(e,t){let s=this.beans,{focusSvc:n,rowRenderer:u}=s,m=n.getFocusedCell();if(!m)return!1;let w=Rs(s,m);return!w&&(w=u.getRowByPosition(m),!w||!w.isFullWidth())?!1:!!this.tabToNextCellCommon(w,e,t)}tabToNextCellCommon(e,t,s){let n=e.editing;if(!n&&e instanceof hi){let w=e.rowCtrl;w&&(n=w.editing)}let u;return n?this.gos.get("editType")==="fullRow"?u=this.moveToNextEditingRow(e,t,s):u=this.moveToNextEditingCell(e,t,s):u=this.moveToNextCellNotEditing(e,t,s),u===null?u:u||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,s=null){let n=e.cellPosition;e.eGui.focus(),e.stopEditing();let u=this.findNextCellToFocusOn(n,t,!0);return u===!1?null:u==null?!1:(this.beans.editSvc?.startEditing(u,null,!0,s),u.focusCell(!1),!0)}moveToNextEditingRow(e,t,s=null){let n=e.cellPosition,u=this.findNextCellToFocusOn(n,t,!0);if(u===!1)return null;if(u==null)return!1;let m=u.cellPosition,w=this.isCellEditable(n),y=this.isCellEditable(m),F=m&&n.rowIndex===m.rowIndex&&n.rowPinned===m.rowPinned,{editSvc:A,rowEditSvc:I}=this.beans;if(w&&A?.setFocusOutOnEditor(e),!F){let L=e.rowCtrl;A?.stopRowEditing(L);let _=u.rowCtrl;I?.startEditing(_,void 0,void 0,s)}return y?(A?.setFocusInOnEditor(u),u.focusCell()):u.focusCell(!0),!0}moveToNextCellNotEditing(e,t,s){let n=this.beans.visibleCols.allCols,u;if(e instanceof So){if(u={...e.getRowPosition(),column:t?n[0]:Be(n)},this.gos.get("embedFullWidthRows")&&s){let w=e.findFullWidthInfoForEvent(s);w&&(u.column=w.column)}}else u=e.getFocusedCellPosition();let m=this.findNextCellToFocusOn(u,t,!1);if(m===!1)return null;if(m instanceof hi)m.focusCell(!0);else if(m)return this.tryToFocusFullWidthRow(m,t);return we(m)}findNextCellToFocusOn(e,t,s){let n=e,u=this.beans,{cellNavigation:m,gos:w,focusSvc:y,rowRenderer:F,rangeSvc:A}=u;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=m.getNextTabbedCell(n,t);let I=w.getCallback("tabToNextCell");if(we(I)){let z=I({backwards:t,editing:s,previousCellPosition:e,nextCellPosition:n||null});if(z===!0)n=e;else{if(z===!1)return!1;n={rowIndex:z.rowIndex,column:z.column,rowPinned:z.rowPinned}}}if(!n)return null;if(n.rowIndex<0){let H=Bt(u);return y.focusHeaderPosition({headerPosition:{headerRowIndex:H+n.rowIndex,column:n.column},fromCell:!0}),null}let L=w.get("editType")==="fullRow";if(s&&!L&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);let _=Rs(u,n);if(!_){let H=F.getRowByPosition(n);if(!H||!H.isFullWidth()||s)continue;return{...H.getRowPosition(),column:n?.column}}if(!m.isSuppressNavigable(_.column,_.rowNode))return _.setFocusedCellPosition(n),A?.setRangeToCell(n),_}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:s,rowModel:n}=this.beans;return t==="top"?s?.getPinnedTopRow(e):t==="bottom"?s?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,s,n){let u=s,m=!1,w=this.beans,{cellNavigation:y,focusSvc:F,gos:A}=w;for(;u&&(u===s||!this.isValidNavigateCell(u));)A.get("enableRtl")?t===de.LEFT&&(u=this.getLastCellOfColSpan(u)):t===de.RIGHT&&(u=this.getLastCellOfColSpan(u)),u=y.getNextCellToFocus(t,u),m=He(u);if(m&&e&&e.key===de.UP&&(u={rowIndex:-1,rowPinned:null,column:s.column}),n){let L=A.getCallback("navigateToNextCell");if(we(L)){let H=L({key:t,previousCellPosition:s,nextCellPosition:u||null,event:e});we(H)?u={rowPinned:H.rowPinned,rowIndex:H.rowIndex,column:H.column}:u=null}}if(!u)return;if(u.rowIndex<0){let L=Bt(w);F.focusHeaderPosition({headerPosition:{headerRowIndex:L+u.rowIndex,column:s.column},event:e||void 0,fromCell:!0});return}let I=this.getNormalisedPosition(u);I?this.focusPosition(I):this.tryToFocusFullWidthRow(u)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let s=Rs(this.beans,e);return s?(e=s.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:s,rowRenderer:n,focusSvc:u,eventSvc:m}=this.beans,w=s.allCols,y=n.getRowByPosition(e);if(!y||!y.isFullWidth())return!1;let F=u.getFocusedCell(),A={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Be(w):w[0])};this.focusPosition(A);let I=t??(F!=null&&al(A,F));return m.dispatchEvent({type:"fullWidthRowFocused",rowIndex:A.rowIndex,rowPinned:A.rowPinned,column:A.column,isFullWidthCell:!0,fromBelow:I}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:s}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),s?.setRangeToCell(e)}isValidNavigateCell(e){return!!pi(this.beans,e)}getLastCellOfColSpan(e){let t=Rs(this.beans,e);if(!t)return e;let s=t.getColSpanningList();return s.length===1?e:{rowIndex:e.rowIndex,column:Be(s),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=ln(this.gos),s=this.beans.rowModel.getRow(e.rowIndex),n=t&&s?.sticky,{scrollFeature:u}=this.gridBodyCon;!n&&He(e.rowPinned)&&u.ensureIndexVisible(e.rowIndex),e.column.isPinned()||u.ensureColumnVisible(e.column)}};function Sr(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var cd={moduleName:"KeyboardNavigation",version:Pe,beans:[aS,eS,kw],apiFunctions:{getFocusedCell:tS,clearFocusedCell:sS,setFocusedCell:iS,setFocusedHeader:rS,tabToNextCell:oS,tabToPreviousCell:nS}},lS=class extends he{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:s}=this.beans;t?t.calculatePages():e.calculateBounds(0,s.getRowCount()-1)}},cS=class extends he{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,s=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:s,pageLastPixel:n}}calculateBounds(e,t){let{rowModel:s}=this.beans,n=s.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;let u=s.getRowBounds(t);u&&(u.rowIndex=t),this.bottomRowBounds=u,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},dS=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",uS=class extends he{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let s of this.elements)s&&(_e(s,t),Mt(s,e))}},hS=class extends he{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:s}=this.beans,n=et(e,"print"),u=n?0:t.getColsLeftWidth(),m=n?0:t.getDisplayedColumnsRightWidth();u!=this.leftWidth&&(this.leftWidth=u,s.dispatchEvent({type:"leftPinnedWidthChanged"})),m!=this.rightWidth&&(this.rightWidth=m,s.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=Ls(e);if(t<=50)return;let s=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:u,hasLockedPinned:m}=s,w=u;!w.length&&!m||(n&&(w=n({columns:w,viewportWidth:t})),!(!w||!w.length)&&(w=w.filter(y=>!Cs(y)),this.setColsPinned(w,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new uS(e,t)}setColsPinned(e,t,s){let{colModel:n,colAnimation:u,visibleCols:m,gos:w}=this.beans;if(!n.cols||!e?.length)return;if(et(w,"print")){Ce(37);return}u?.start();let y;t===!0||t==="left"?y="left":t==="right"?y="right":y=null;let F=[];e.forEach(A=>{if(!A)return;let I=n.getCol(A);I&&I.getPinned()!==y&&(this.setColPinned(I,y),F.push(I))}),F.length&&(m.refresh(s),Oa(this.eventSvc,F,s)),u?.finish()}initCol(e){let{pinned:t,initialPinned:s}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,s)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let s=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;let u=()=>{let m=s?this.leftWidth:this.rightWidth;if(m==null)return;let w=m==0,y=e.hidden!==w,F=this.gos.get("enableRtl"),A=t.getScrollbarWidth(),L=t.verticalScrollShowing&&(F&&s||!F&&n)?m+A:m;e.comp.setPinnedContainerWidth(`${L}px`),e.comp.setDisplayed(!w),y&&(e.hidden=w,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:u,rightPinnedWidthChanged:u,scrollVisibilityChanged:u,scrollbarWidthChanged:u})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:n,rightWidth:u}=this,m=Ls(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+u+e>m)if(m>n+u)e=m-n-u;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,s=this.leftWidth??0,n=t+s,u=!1;if(n<e)return{columns:[],hasLockedPinned:u};let{visibleCols:m}=this.beans,w=[...m.leftCols],y=[...m.rightCols],F=0,A=0,I=0,L=[],_=n-I-e;for(;(A<w.length||F<y.length)&&_>0;){if(F<y.length){let H=y[F++];if(H.colDef.lockPinned){u=!0;continue}_-=H.getActualWidth(),L.push(H)}if(A<w.length&&_>0){let H=w[A++];if(H.colDef.lockPinned){u=!0;continue}_-=H.getActualWidth(),L.push(H)}}return{columns:L,hasLockedPinned:u}}},gS={moduleName:"PinnedColumn",version:Pe,beans:[hS],css:[dS]},pS=class extends he{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=qe(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=Xe(e),s=this.descriptionContainer=t.createElement("div");s.classList.add("ag-aria-description-container"),k(s,"polite"),N(s,"additions text"),O(s,!0),e.eGridDiv.appendChild(s)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(tt(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},fS={moduleName:"Aria",version:Pe,beans:[pS]};function mS(e){e.overlays?.showLoadingOverlay()}function CS(e){e.overlays?.showNoRowsOverlay()}function vS(e){e.overlays?.hideOverlay()}var wS=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",SS={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},dd=class extends Oe{constructor(){super(SS),this.eOverlayWrapper=Se,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(wS)}handleKeyDown(e){if(e.key!==de.TAB||e.defaultPrevented||Ot(e))return;let t=this.beans;if(es(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:Be(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=bs(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){let s=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:u,PRINT:m}=xt;s.toggle(n,t.autoHeight),s.toggle(u,t.normal),s.toggle(m,t.print)}postConstruct(){this.createManagedBean(new Tn(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,s,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),s&&this.isGridFocused()){let u=Ue(this.beans);u&&!an(this.beans)&&(this.elToFocusAfter=u)}e.then(u=>{if(this.activePromise!==e){this.activeOverlay!==u&&(this.destroyBean(u),u=null);return}if(this.activePromise=null,!!u){if(this.activeOverlay!==u&&(this.eOverlayWrapper.appendChild(u.getGui()),this.activeOverlay=u,n)){let m=u;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:w})=>{m.refresh?.(Ae(this.gos,{...w??{}}))})}s&&this.isGridFocused()&&qt(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let s=this.updateListenerDestroyFunc;s&&(s(),this.updateListenerDestroyFunc=null),this.destroyBean(e),tt(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=Ue(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},yS={selector:"AG-OVERLAY-WRAPPER",component:dd},bS=class extends he{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=st(this.gos),this.isServerSide=!this.isClientSide&&cs(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){Ce(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return yS}getOverlayWrapperCompClass(){return dd}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:s,beans:{gos:n,colModel:u,rowModel:m}}=this,w=this.gos.get("loading");w!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&w===void 0&&!n.get("suppressLoadingOverlay")&&(w=!n.get("columnDefs")||!u.ready||!n.get("rowData")&&t),w?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&m.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!s&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Hg(this.beans.userCompFactory,Ae(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(zg(this.beans.userCompFactory,Ae(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,s){let n=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(n,t,this.isExclusive(),s),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},RS={moduleName:"Overlay",version:Pe,userComponents:{agLoadingOverlay:bf,agNoRowsOverlay:Pf},apiFunctions:{showLoadingOverlay:mS,showNoRowsOverlay:CS,hideOverlay:vS},beans:[bS]},PS=class extends he{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=$o(),Yt(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Yt(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),s=e/t;return this.maxScrollY*s}},MS=400,FS=class extends he{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(m=>m.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(m=>m.updateRangeBordersIfRangeCount())},s=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{kt(this.gos)?s():n()}),kt(this.gos)&&s()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:u})=>{(!u&&n||u&&!n)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:s}=this.beans;if(s&&this.addManagedPropertyListener("showOpenedGroup",()=>{let n=s.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=et(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new xS(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),s=this.cachedRowCtrls?.getEntries()??[];t.length>0||s.length>0?this.allRowCtrls=[...e,...t,...s]:this.allRowCtrls=e}isCellRendered(e,t){let s=this.getAllRowCtrls();for(let n of s)if(!(n.rowNode.rowPinned||n.rowNode.rowIndex!==e)&&(n.isFullWidth()||!t||n.getCellCtrl(t)))return!0;return!1}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellRendered(e.rowIndex,t)||this.redrawAfterModelUpdate()}this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(s=>t.onFlashCells(s,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let s=F=>{this.getAllCellCtrls().forEach(A=>{A.column===t&&F(A)})},n=()=>{s(F=>F.onLeftChanged())},u=()=>{s(F=>F.onWidthChanged())},m=()=>{s(F=>F.onFirstRightPinnedChanged())},w=()=>{s(F=>F.onLastLeftPinnedChanged())},y=()=>{s(F=>F.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",u),t.__addEventListener("firstRightPinnedChanged",m),t.__addEventListener("lastLeftPinnedChanged",w),t.__addEventListener("colDefChanged",y),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",u),t.__removeEventListener("firstRightPinnedChanged",m),t.__removeEventListener("lastLeftPinnedChanged",w),t.__removeEventListener("colDefChanged",y)})})}onDomLayoutChanged(){let e=et(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),s=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,s&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(s=>{let n=s.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){let{pinnedRowModel:s,beans:n,printLayout:u}=this,m=Object.fromEntries(e.map(y=>[y.rowNode.id,y]));s?.forEachPinnedRow(t,(y,F)=>{let A=e[F];A&&s.getPinnedRowById(A.rowNode.id,t)===void 0&&(A.destroyFirstPass(),A.destroySecondPass()),y.id in m?(e[F]=m[y.id],delete m[y.id]):e[F]=new So(y,n,!1,!1,u)});let w=(t==="top"?s?.getPinnedTopRowCount():s?.getPinnedBottomRowCount())??0;e.length=w}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let s=n=>{let u=n[e.rowIndex];u&&u.rowNode===e&&(u.destroyFirstPass(),u.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let s=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&gs(this.gos),u=s?this.getRowsToRecycle():null;s||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:m}=this;if(m){m.checkStickyRows();let w=m.extraTopHeight+m.extraBottomHeight;w&&this.updateContainerHeights(w)}this.recycleRows(u,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,s=this.gos.get("suppressScrollOnNewData");t&&!s&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let s=this.pageBounds.getCurrentPageHeight();s===0&&(s=1),t.setModelHeight(s+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Wt(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,s=this.findPositionToFocus(e);if(!s){t.focusHeaderPosition({headerPosition:{headerRowIndex:Bt(this.beans)-1,column:e.column}});return}if(e.rowIndex!==s.rowIndex||e.rowPinned!=s.rowPinned){t.setFocusedCell({...s,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.onCellFocusChanged(Ae(this.gos,{...s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){let{pagination:t,pageBounds:s}=this.beans,n=e;for(n.rowPinned==null&&t&&s&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:s.getFirstRow()});n;){if(n.rowPinned==null&&s)if(n.rowIndex<s.getFirstRow()){if(n=fi(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>s.getLastRow()&&(n={rowPinned:null,rowIndex:s.getLastRow()});let u=this.getRowByPosition(n);if(u?.isAlive())return{...u.getRowPosition(),column:e.column};n=fi(this.beans,n)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),s=t.length;for(let n=0;n<s;n++){let u=t[n].getAllCellCtrls(),m=u.length;for(let w=0;w<m;w++)e.push(u[w])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),s=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...s,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,s){let n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,s)}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let s of this.getCellCtrls(e.rowNodes,e.columns))s.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let s of this.getRowCtrls(e)){if(!s.isFullWidth())continue;s.refreshFullWidth()||(t=!0,this.redrawRow(s.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=yr(e),s=this.getAllRowCtrls();return!e||!t?s:s.filter(n=>{let u=n.rowNode;return br(u,t)})}getCellCtrls(e,t){let s;we(t)&&(s={},t.forEach(u=>{let m=this.colModel.getCol(u);we(m)&&(s[m.getId()]=!0)}));let n=[];return this.getRowCtrls(e).forEach(u=>{u.getAllCellCtrls().forEach(m=>{let w=m.column.getId();s&&!s[w]||n.push(m)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let s of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[s].rowNode.id==null&&e.push(s);this.removeRowCtrls(e);let t={};for(let s of Object.values(this.rowCtrlsByRowIndex)){let n=s.rowNode;t[n.id]=s}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(s=>{let n=this.rowCtrlsByRowIndex[s];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[s]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:s}=this.beans,{afterScroll:n}=e,u,m=this.stickyRowFeature;m&&(u=t?.getFocusCellToUseAfterRefresh()||void 0);let w=this.firstRenderedRow,y=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let F=!1;if(m){F=m.checkStickyRows();let I=m.extraTopHeight+m.extraBottomHeight;I&&this.updateContainerHeights(I)}let A=this.firstRenderedRow!==w||this.lastRenderedRow!==y;if(!(n&&!F&&!A)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!F),u!=null)){let I=t?.getFocusCellToUseAfterRefresh();u!=null&&I==null&&(s?.flushAllFrames(),this.restoreFocusedCell(u))}}removeRowCompsNotToDraw(e,t){let s={};e.forEach(m=>s[m]=!0);let u=Object.keys(this.rowCtrlsByRowIndex).filter(m=>!s[m]);this.removeRowCtrls(u,t)}calculateIndexesToDraw(e){let t=[];for(let w=this.firstRenderedRow;w<=this.lastRenderedRow;w++)t.push(w);let s=this.beans.pagination,n=this.beans.focusSvc?.getFocusedCell()?.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!s||s.isRowInPage(n))&&t.push(n);let u=w=>{let y=w.rowNode.rowIndex;y==null||y===n||(y<this.firstRenderedRow||y>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(w)&&t.push(y)};for(let w of Object.values(this.rowCtrlsByRowIndex))u(w);if(e)for(let w of Object.values(e))u(w);t.sort((w,y)=>w-y);let m=[];for(let w=0;w<t.length;w++){let y=t[w],F=this.rowModel.getRow(y);F&&!F.sticky&&m.push(y)}return m}recycleRows(e,t=!1,s=!1){let n=this.calculateIndexesToDraw(e);(this.printLayout||s)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);let u=[];if(n.forEach(m=>{let w=this.createOrUpdateRowCtrl(m,e,t,s);we(w)&&u.push(w)}),e){let{animationFrameSvc:m}=this.beans;m?.active&&s&&!this.printLayout?m.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),s=e.isPinningRight();(this.pinningLeft!==t||s!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let s=t.rowNode.rowIndex;e.push(s.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=yr(e);return this.getAllRowCtrls().filter(s=>{if(!s.isFullWidth())return!1;let n=s.rowNode;return!(t!=null&&!br(n,t))})}createOrUpdateRowCtrl(e,t,s,n){let u,m=this.rowCtrlsByRowIndex[e];if(m||(u=this.rowModel.getRow(e),we(u)&&we(t)&&t[u.id]&&u.alreadyRendered&&(m=t[u.id],t[u.id]=null)),!m)if(u||(u=this.rowModel.getRow(e)),we(u))m=this.createRowCon(u,s,n);else return;return u&&(u.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=m,m}destroyRowCtrls(e,t){let s=[];if(e){for(let n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){let u=n.instanceId;this.zombieRowCtrls[u]=n,s.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[u]})}else n.destroySecondPass()}}t&&(s.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>s.forEach(n=>n()),MS))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=Qt(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:s}=this;e.updateOffset();let n,u;if(!s.isRowsToRender())n=0,u=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),u=t.getLastRow();else{let I=this.getRowBufferInPixels(),L=this.ctrlsSvc.getScrollFeature(),_=this.gos.get("suppressRowVirtualisation"),H=!1,z,J;do{let pe=t.getPixelOffset(),{pageFirstPixel:Me,pageLastPixel:be}=t.getCurrentPagePixelRange(),Ee=e.divStretchOffset,Le=L.getVScrollPosition(),xe=Le.top,We=Le.bottom;_?(z=Me+Ee,J=be+Ee):(z=Math.max(xe+pe-I,Me)+Ee,J=Math.min(We+pe+I,be)+Ee),this.firstVisibleVPixel=Math.max(xe+pe,Me)+Ee,this.lastVisibleVPixel=Math.min(We+pe,be)+Ee,H=this.ensureAllRowsInRangeHaveHeightsCalculated(z,J)}while(H);let te=s.getRowIndexAtPixel(z),ae=s.getRowIndexAtPixel(J),ce=t.getFirstRow(),le=t.getLastRow();te<ce&&(te=ce),ae>le&&(ae=le),n=te,u=ae}let m=et(this.gos,"normal"),w=this.gos.get("suppressMaxRenderedRowRestriction"),y=Math.max(this.getRowBuffer(),500);m&&!w&&u-n>y&&(u=n+y);let F=n!==this.firstRenderedRow,A=u!==this.lastRenderedRow;(F||A)&&(this.firstRenderedRow=n,this.lastRenderedRow=u,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:u}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,It(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let s=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:u,rowModel:m}=this,w=m.ensureRowHeightsValid(e,t,u.getFirstRow(),u.getLastRow());return(w||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||w||s?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let n=e.rowNode,u=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),m=e.editing,w=n.detail;return u||m||w?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,s){let n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;let u=s&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new So(e,this.beans,t,u,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),s=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...s]}getRowByPosition(e){let t,{rowIndex:s}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[s];break;case"bottom":t=this.bottomRowCtrls[s];break;default:t=this.rowCtrlsByRowIndex[s],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===s)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===s)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},xS=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,s=this.entriesMap[t];delete this.entriesMap[t],mt(this.entriesList,s)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],mt(this.entriesList,e)}getEntries(){return this.entriesList}};function yr(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(s=>{let n=s.id;switch(s.rowPinned){case"top":t.top[n]=s;break;case"bottom":t.bottom[n]=s;break;default:t.normal[n]=s;break}}),t}function br(e,t){let s=e.id;switch(e.rowPinned){case"top":return t.top[s]!=null;case"bottom":return t.bottom[s]!=null;default:return t.normal[s]!=null}}var ES=class extends he{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ft(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ft(e))}doFullSort(e,t){let s=e.map((n,u)=>({currentPos:u,rowNode:n}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(n=>n.rowNode)}compareRowNodes(e,t,s){let n=t.rowNode,u=s.rowNode;for(let m=0,w=e.length;m<w;m++){let y=e[m],F=y.sort==="desc",A=this.getValue(n,y.column),I=this.getValue(u,y.column),L,_=this.getComparator(y,n);if(_?L=_(A,I,n,u,F):L=Ur(A,I,this.isAccentedSort),!isNaN(L)&&L!==0)return y.sort==="asc"?L:L*-1}return t.currentPos-s.currentPos}getComparator(e,t){let s=e.column,n=s.getColDef().comparator;if(n!=null)return n;if(!s.getColDef().showRowGroup)return;let u=!t.group&&s.getColDef().field;if(!u)return;let m=this.beans.colModel.getColDefCol(u);if(m)return m.getColDef().comparator}getValue(e,t){let{valueSvc:s,colModel:n,showRowGroupCols:u,gos:m}=this.beans;if(!this.primaryColumnsSortGroups)return s.getValue(t,e,!1);if(e.rowGroupColumn===t){if(so(m,n.isPivotActive())){let A=e.allLeafChildren?.[0];return A?s.getValue(t,A,!1):void 0}let F=u?.getShowRowGroupCol(t.getId());return F?e.groupData?.[F.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return s.getValue(t,e,!1)}};function AS(e){e.sortSvc?.onSortChanged("api")}var Ti=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),TS={tag:"span",cls:"ag-sort-indicator-container",children:[Ti("Order","order"),Ti("Asc","ascending-icon"),Ti("Desc","descending-icon"),Ti("Mixed","mixed-icon"),Ti("None","none-icon")]},Rr=class extends Oe{constructor(e){super(),this.eSortOrder=Se,this.eSortAsc=Se,this.eSortDesc=Se,this.eSortMixed=Se,this.eSortNone=Se,e||this.setTemplate(TS)}attachCustomElements(e,t,s,n,u){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=s,this.eSortMixed=n,this.eSortNone=u}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let s=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",s),this.addManagedEventListeners({newColumnsLoaded:s,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,s){if(t==null)return;let n=Ct(e,this.beans,s);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:s,column:n,gos:u,beans:m}=this,w=m.sortSvc.getDisplaySortForColumn(n);if(e&&_e(e,w==="asc",{skipAriaHidden:!0}),t&&_e(t,w==="desc",{skipAriaHidden:!0}),s){let y=!n.getColDef().unSortIcon&&!u.get("unSortIcon"),F=w==null;_e(s,!y&&F,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:s}=this;this.addInIcon("sortUnSort",e,t);let n=t.getColDef().showRowGroup;Ft(s)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:s}=this;if(e){let n=t.sortSvc.getDisplaySortForColumn(s)==="mixed";_e(e,n,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:s}}=this;if(!e)return;let n=s.getColumnsWithSortingOrdered(),u=s.getDisplaySortIndexForColumn(t)??-1,m=n.some(y=>s.getDisplaySortIndexForColumn(y)??!1),w=u>=0&&m;_e(e,w,{skipAriaHidden:!0}),u>=0?e.textContent=(u+1).toString():tt(e)}},DS={selector:"AG-SORT-INDICATOR",component:Rr},Di=["asc","desc",null],IS=class extends he{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,s){let n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,s)}progressSortFromEvent(e,t){let n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,s,n){t!=="asc"&&t!=="desc"&&(t=null);let{gos:u,showRowGroupCols:m}=this.beans,w=Ft(u),y=[e];if(w&&e.getColDef().showRowGroup){let L=m?.getSourceColumnsForGroupColumn?.(e)?.filter(_=>_.isSortable());L&&(y=[e,...L])}y.forEach(I=>this.setColSort(I,t,n));let F=(s||u.get("alwaysMultiSort"))&&!u.get("suppressMultiSort"),A=[];if(!F){let I=this.clearSortBarTheseColumns(y,n);A.push(...I)}this.updateSortIndex(e),A.push(...y),this.dispatchSortChangedEvents(n,A)}updateSortIndex(e){let{gos:t,colModel:s,showRowGroupCols:n}=this.beans,u=Ft(t),m=n?.getShowRowGroupCol(e.getId()),w=u&&m||e,y=this.getColumnsWithSortingOrdered();s.forAllCols(I=>this.setColSortIndex(I,null));let F=y.filter(I=>u&&I.getColDef().showRowGroup?!1:I!==w);(w.getSort()?[...F,w]:F).forEach((I,L)=>this.setColSortIndex(I,L))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let s={type:"sortChanged",source:e};t&&(s.columns=t),this.eventSvc.dispatchEvent(s)}clearSortBarTheseColumns(e,t){let s=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&s.push(n),this.setColSort(n,void 0,t))}),s}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Di,s=t.indexOf(e.getSort()),n=s<0,u=s==t.length-1;return n||u?t[0]:t[s+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:s,rowGroupColsSvc:n}=this.beans,u=[];if(t.forAllCols(A=>{A.getSort()&&u.push(A)}),t.isPivotMode()){let A=Ft(e);u=u.filter(I=>{let L=!!I.getAggFunc(),_=!I.isPrimary(),H=A?s?.getShowRowGroupCol(I.getId()):I.getColDef().showRowGroup;return L||_||H})}let m=n?.columns.filter(A=>!!A.getSort())??[],w={};u.forEach((A,I)=>w[A.getId()]=I),u.sort((A,I)=>{let L=A.getSortIndex(),_=I.getSortIndex();if(L!=null&&_!=null)return L-_;if(L==null&&_==null){let H=w[A.getId()],z=w[I.getId()];return H>z?1:-1}else return _==null?-1:1});let y=Ft(e)&&!!m.length;y&&(u=[...new Set(u.map(A=>s?.getShowRowGroupCol(A.getId())??A))]);let F=new Map;return u.forEach((A,I)=>F.set(A,I)),y&&m.forEach(A=>{let I=s.getShowRowGroupCol(A.getId());F.set(A,F.get(I))}),F}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Ft(this.gos),s=!!e.getColDef().showRowGroup;return t&&s}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,u=n[0].getSort();return n.every(w=>w.getSort()==u)?u:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,s){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),s&&e.addManagedElementListeners(s,{click:m=>{let w=t.isMoving(),F=Date.now()-n<50;w||F||this.progressSortFromEvent(t,m)}});let u=()=>{let m=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",m==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",m==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!m),t.getColDef().showRowGroup){let F=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(A=>t.getSort()==A.getSort());e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",F)}};e.addManagedEventListeners({sortChanged:u,columnRowGroupChanged:u})}initCol(e){let{sort:t,initialSort:s,sortIndex:n,initialSortIndex:u}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(s==="asc"||s==="desc")&&(e.sort=s),n!==void 0?n!==null&&(e.sortIndex=n):u!==null&&(e.sortIndex=u)}updateColSort(e,t,s){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,s):this.setColSort(e,void 0,s))}setColSort(e,t,s){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",s)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new Rr(e)}getSortIndicatorSelector(){return DS}},Pr={moduleName:"Sort",version:Pe,beans:[IS,ES],apiFunctions:{onSortChanged:AS},userComponents:{agSortIndicator:Rr},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},LS=class extends he{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:s}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),s.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Yt(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,vs(e.source))}}};function kS(e){e.valueCache?.expire()}function OS(e,t){let{colKey:s,rowNode:n,useFormatter:u}=t,m=e.colModel.getColDefCol(s)??e.colModel.getCol(s);if(He(m))return null;let w=e.valueSvc.getValueForDisplay(m,n);return u?e.valueSvc.formatValue(m,n,w)??Gt(w,!0):w}var Ii=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:s,children:n}=e;if(n)for(let u=0;u<n.length;++u)this.depthFirstSearchChangedPath(n[u],t);t(s)}depthFirstSearchEverything(e,t,s){let n=e.childrenAfterGroup;if(n)for(let u=0,m=n.length;u<m;++u){let w=n[u];w.childrenAfterGroup?this.depthFirstSearchEverything(w,t,s):s&&t(w)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,s=!1){this.active&&!s?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,s=0;for(;!this.mapToItems[t.id];){let n={rowNode:t,children:null};this.mapToItems[t.id]=n,s++,t=t.parent}return s}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let s=e;for(;s;)this.nodeIdsToColumns[s.id]||(this.nodeIdsToColumns[s.id]={}),t.forEach(n=>this.nodeIdsToColumns[s.id][n.getId()]=!0),s=s.parent}linkPathItems(e,t){let s=e;for(let n=0;n<t;n++){let u=this.mapToItems[s.id],m=this.mapToItems[s.parent.id];m.children||(m.children=[]),m.children.push(u),s=s.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let s=this.createPathItems(e);this.linkPathItems(e,s),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let s=this.nodeIdsToColumns[e.id];return t.filter(u=>s[u.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let s=this.nodeIdsToColumns[e.id];return t.filter(u=>!s[u.getId()])}},GS="paste",_S=class extends he{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;st(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:s}=this.beans;if(e.source===GS||t.get("suppressChangeDetection"))return;let n=e.node,u=[n],m=this.clientSideRowModel,w=m?.rootNode;if(w&&!n.isRowPinned()){let y=t.get("aggregateOnlyChangedColumns"),F=new Ii(y,w);F.addParentNode(n.parent,[e.column]),m.doAggregate(F),F.forEachChangedNodeDepthFirst(A=>{u.push(A),A.sibling&&u.push(A.sibling)})}s.refreshCells({rowNodes:u})}},BS=class extends he{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ge(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(s){return Ge(16,{expression:e,params:t,e:s}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let s=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",s);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},NS=class extends he{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){let e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,s){if(this.active){let n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=s}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},ud={moduleName:"ValueCache",version:Pe,beans:[NS],apiFunctions:{expireValueCache:kS}},VS={moduleName:"Expression",version:Pe,beans:[BS]},HS={moduleName:"ChangeDetection",version:Pe,beans:[_S]},hd={moduleName:"CellApi",version:Pe,apiFunctions:{getCellValue:OS}},zS=class extends he{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=cs(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){let s=e.getColDef().showRowGroup;if(s!=null){if(typeof s=="string"){let F=this.getDisplayedNode(t,e,!0);if(F)return this.getValue(e,F)}let y=this.getValue(e,t);if(y==null){let F=this.getDisplayedNode(t,e);if(F)return this.getValue(e,F)}return y}let n=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!n,m=this.gos.get("groupSuppressBlankHeader")||!t.sibling,w=u&&!m;return this.getValue(e,t,w)}getValue(e,t,s=!1){if(this.initialised||this.init(),!t)return;let n=e.getColDef(),u=n.field,m=e.getColId(),w=t.data,y,F=n.showRowGroup;if(typeof F=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(F)??-1)>t.level)return null;let A=t.groupData&&t.groupData[m]!==void 0,I=!s&&t.aggData&&t.aggData[m]!==void 0,L=this.isSsrm&&s&&!!e.getColDef().aggFunc,_=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&I?y=t.aggData[m]:this.isTreeData&&n.valueGetter?y=this.executeValueGetter(n.valueGetter,w,e,t):this.isTreeData&&u&&w?y=ri(w,u,e.isFieldContainsDots()):A?y=t.groupData[m]:I?y=t.aggData[m]:n.valueGetter?y=this.executeValueGetter(n.valueGetter,w,e,t):_?y=ri(w,t.field,e.isFieldContainsDots()):u&&w&&!L&&(y=ri(w,u,e.isFieldContainsDots())),this.cellExpressions&&typeof y=="string"&&y.indexOf("=")===0){let H=y.substring(1);y=this.executeValueGetter(H,w,e,t)}return y}parseValue(e,t,s,n){let u=e.getColDef(),m=u.valueParser;if(we(m)){let w=Ae(this.gos,{node:t,data:t?.data,oldValue:n,newValue:s,colDef:u,column:e});return typeof m=="function"?m(w):this.expressionSvc?.evaluate(m,w)}return s}getDeleteValue(e,t){return we(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,s,n,u=!0){let m=null,w,y=e.getColDef();if(n?w=n:u&&(w=y.valueFormatter),w){let F=Ae(this.gos,{value:s,node:t,data:t?t.data:null,colDef:y,column:e});typeof w=="function"?m=w(F):m=this.expressionSvc?this.expressionSvc.evaluate(w,F):null}else if(y.refData)return y.refData[s]||"";return m==null&&Array.isArray(s)&&(m=s.join(", ")),m}getDisplayedNode(e,t,s=!1){let n=this.gos,u=n.get("groupHideOpenParents"),m=n.get("showOpenedGroup")&&!s;if(!u&&!m)return;let w=t.colDef.showRowGroup;if(w===!0)return e.group?void 0:e.parent??void 0;let y=e;for(;y&&y.rowGroupColumn?.getId()!=w;){let F=y===y.parent?.childrenAfterSort?.[0];if(!m&&!F)return;y=y.parent}if(y!==e)return y??void 0}setValue(e,t,s,n){let u=this.colModel.getColDefCol(t);if(!e||!u)return!1;He(e.data)&&(e.data={});let{field:m,valueSetter:w}=u.getColDef();if(He(m)&&He(w))return Ce(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(u,s))return Ce(135),!1;let y=Ae(this.gos,{node:e,data:e.data,oldValue:this.getValue(u,e),newValue:s,colDef:u.getColDef(),column:u});y.newValue=s;let F;if(we(w)?typeof w=="function"?F=w(y):F=this.expressionSvc?.evaluate(w,y):F=this.setValueUsingField(e.data,m,s,u.isFieldContainsDots()),F===void 0&&(F=!0),!F)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let A=this.getValue(u,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:y.column,colDef:y.colDef,data:e.data,node:e,oldValue:y.oldValue,newValue:A,value:A,source:n}),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,s,n){if(!t)return!1;let u=!1;if(!n)u=e[t]===s,u||(e[t]=s);else{let m=t.split("."),w=e;for(;m.length>0&&w;){let y=m.shift();m.length===0?(u=w[y]===s,u||(w[y]=s)):w=w[y]}}return!u}executeValueGetterWithValueCache(e,t,s,n){let u=s.getColId(),m=this.valueCache.getValue(n,u);if(m!==void 0)return m;let w=this.executeValueGetterWithoutValueCache(e,t,s,n);return this.valueCache.setValue(n,u,w),w}executeValueGetterWithoutValueCache(e,t,s,n){let u=Ae(this.gos,{data:t,node:n,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,n)}),m;return typeof e=="function"?m=e(u):m=this.expressionSvc?.evaluate(e,u),m}getValueCallback(e,t){let s=this.colModel.getColDefCol(t);return s?this.getValue(s,e):null}getKeyForNode(e,t){let s=this.getValue(e,t),n=e.getColDef().keyCreator,u=s;if(n){let m=Ae(this.gos,{value:s,colDef:e.getColDef(),column:e,node:t,data:t.data});u=n(m)}return typeof u=="string"||u==null||(u=String(u),u==="[object Object]"&&Ce(121)),u}},WS={moduleName:"CommunityCore",version:Pe,beans:[Nw,fm,tv,lg,PS,vC,Lw,Ww,sg,cS,lS,FS,zS,_w,Iw,Bw,iv,LS,ZC,QC],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:mm,destroy:Cm,isDestroyed:vm,getGridOption:wm,setGridOption:Sm,updateGridOptions:fc},dependsOn:[$C,Pc,iC,Pr,Xw,Fc,Yw,RS,HS,Qw,cd,gS,fS,qw,ev,XC,VS]},Mr=class Ts{static applyGlobalGridOptions(t){if(!Ts.gridOptions)return{...t};let s={};return it(s,Ts.gridOptions,!0,!0),Ts.mergeStrategy==="deep"?it(s,t,!0,!0):s={...s,...t},Ts.gridOptions.context&&(s.context=Ts.gridOptions.context),t.context&&(Ts.mergeStrategy==="deep"&&s.context&&it(t.context,s.context,!0,!0),s.context=t.context),s}};Mr.gridOptions=void 0,Mr.mergeStrategy="shallow";var No=Mr;function US(e,t="shallow"){No.gridOptions=e,No.mergeStrategy=t}function jS(e){return No.gridOptions?.[e]}function KS(e,t,s){if(!t)return Ge(11),{};let n=s,u;if(!n?.setThemeOnGridDiv){let w=Ke({tag:"div"});w.style.height="100%",e.appendChild(w),e=w,u=()=>e.remove()}return new gd().create(e,t,w=>{let y=new gm(e);w.createBean(y)},void 0,s,u)}var $S=1,gd=class{create(e,t,s,n,u,m){let w=No.applyGlobalGridOptions(t),y=w.gridId??String($S++),F=w.rowModelType??"clientSide",A=this.getRegisteredModules(u,y,F),I=this.createBeansList(F,A,y),L=this.createProvidedBeans(e,w,u);if(!I)return;let _={providedBeanInstances:L,beanClasses:I,gridId:y,beanInitComparator:Qf,beanDestroyComparator:Jf,derivedBeans:[Yf],destroyCallback:m},H=new sp(_);return this.registerModuleFeatures(H,A),s(H),H.getBean("syncSvc").start(),n&&n(H),H.getBean("gridApi")}getRegisteredModules(e,t,s){return ui(WS,void 0),e?.modules?.forEach(n=>ui(n,t)),Yg(t,s)}registerModuleFeatures(e,t){let s=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(u=>{s.registerModule(u);let m=u.apiFunctions;m&&Object.keys(m).forEach(y=>{n?.addFunction(y,m[y])})})}createProvidedBeans(e,t,s){let n=s?s.frameworkOverrides:null;He(n)&&(n=new dc);let u={gridOptions:t,eGridDiv:e,globalListener:s?s.globalListener:null,globalSyncListener:s?s.globalSyncListener:null,frameworkOverrides:n};return s&&s.providedBeanInstances&&Object.assign(u,s.providedBeanInstances),u}createBeansList(e,t,s){let u={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!u){on(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!Xa(u,s,e)){on(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:u,gridScoped:yn(),gridId:s,rowModelType:e},`Missing module ${u}Module for rowModelType ${e}. 
If upgrading from before v33, see ${ls}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}let m=new Set;return t.forEach(w=>w.beans?.forEach(y=>m.add(y))),Array.from(m)}};function Et(e){let t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Vo(e){let t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Fr(e){let t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var pd=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],XS=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],fd=[...pd,...XS],md=class extends he{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){let e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,u,m)=>t({key:n,defaultValue:u,variableValues:m});let s=e.get("localeText");return(n,u,m)=>{let w=s&&s[n];if(w&&m&&m.length){let y=0;for(;!(y>=m.length||w.indexOf("${variable}")===-1);)w=w.replace("${variable}",m[y++])}return w??u}}},YS=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],ZS=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],QS=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Cd=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],JS=["theme","rowSelection"],vd=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],wd=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],qS=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],Sd=[...QS,...ZS,...YS,...Cd,...qS,...wd,...vd,...JS],ey=class{wrap(e,t,s,n){let u=this.createWrapper(e,n);return t?.forEach(m=>{this.createMethod(u,m,!0)}),s?.forEach(m=>{this.createMethod(u,m,!1)}),u}createMethod(e,t,s){e.addMethod(t,this.createMethodProxy(e,t,s))}createMethodProxy(e,t,s){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(s&&Ce(49,{methodName:t}),null)}}},ty={tag:"div",cls:"ag-tooltip"},sy=class extends Fs{constructor(){super(ty)}init(e){let{value:t}=e;this.getGui().textContent=Gt(t,!0)}};function xr(e){let{inputValue:t,allSuggestions:s,hideIrrelevant:n,filterByPercentageOfBestMatch:u}=e,m=s.map((F,A)=>({value:F,relevance:iy(t,F),idx:A}));if(m.sort((F,A)=>A.relevance-F.relevance),n&&(m=m.filter(F=>F.relevance!==0)),m.length>0&&u&&u>0){let A=m[0].relevance*u;m=m.filter(I=>A-I.relevance<0)}let w=[],y=[];for(let F of m)w.push(F.value),y.push(F.idx);return{values:w,indices:y}}function iy(e,t){if(e===t)return 1e3;let s=e.length,n=t.length;if(s===0||n===0)return 0;let u=e.toLocaleLowerCase(),m=t.toLocaleLowerCase(),w=m.indexOf(u);if(w!==-1)return 980-w*2;if([...u].filter(L=>m.includes(L)).length===0)return 0;let F=Array.from({length:n+1},(L,_)=>_);for(let L=0;L<s;L++){let _=[L+1];for(let H=0;H<n;H++){let z=F[H+1]+1,J=_[H]+1,te=F[H]+(e[L]!==t[H]?1:0);n>10&&H>n/2&&(te+=1),L>0&&H>0&&e[L-1]===t[H-1]&&(te-=4),_.push(Math.min(z,J,te))}F=_}let A=Math.round(F[n]),I=Math.max(1,1e3-A*30);return Math.max(1,I)}function yd(e,t){if(typeof e!="number")return"";let s=t(),n=s("thousandSeparator",","),u=s("decimalSeparator",".");return e.toString().replace(".",u).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var bd=class extends he{getFileName(e){let t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){let t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},Rd=class{constructor(e){this.groupColumns=[];let{colModel:t,rowGroupColsSvc:s,colNames:n,valueSvc:u,gos:m,processCellCallback:w,processHeaderCallback:y,processGroupHeaderCallback:F,processRowGroupCallback:A}=e;this.colModel=t,this.rowGroupColsSvc=s,this.colNames=n,this.valueSvc=u,this.gos=m,this.processCellCallback=w,this.processHeaderCallback=y,this.processGroupHeaderCallback=F,this.processRowGroupCallback=A}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,s,n,u){let w=(!this.gos.get("groupHideOpenParents")||u.footer)&&this.shouldRenderGroupSummaryCell(u,e,t)?this.createValueForGroupNode(e,u):this.valueSvc.getValueForDisplay(e,u);return this.processCell({accumulatedRowIndex:s,rowNode:u,column:e,value:w,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,s){if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(e.groupData?.[t.getId()]!==void 0||cs(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){let w=t.getColDef();return w==null||w.showRowGroup===!0||w.showRowGroup===this.rowGroupColsSvc?.columns[0].getId()}}let m=so(this.gos,this.colModel.isPivotMode());return s===0&&m}getHeaderName(e,t){return e?e(Ae(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(Ae(this.gos,{column:e,node:t}));let s=this.gos.get("treeData"),n=y=>{if(s)return y.key;let F=y.groupData?.[e.getId()];return!F||!y.rowGroupColumn||y.rowGroupColumn.getColDef().useValueFormatterForExport===!1?F:this.valueSvc.formatValue(y.rowGroupColumn,y,F)??F},u=t.footer,m=[n(t)];if(!ra(this.gos))for(;t.parent;)t=t.parent,m.push(n(t));let w=m.reverse().join(" -> ");return u?`Total ${w}`:w}processCell(e){let{accumulatedRowIndex:t,rowNode:s,column:n,value:u,processCellCallback:m,type:w}=e;return m?{value:m(Ae(this.gos,{accumulatedRowIndex:t,column:n,node:s,value:u,type:w,parseValue:y=>this.valueSvc.parseValue(n,s,y,this.valueSvc.getValue(n,s)),formatValue:y=>this.valueSvc.formatValue(n,s,y)??y}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:u??"",valueFormatted:this.valueSvc.formatValue(n,s,u)}:{value:u??""}}};function Pd(e,t){let s=document.defaultView||window;if(!s){Ce(52);return}let n=document.createElement("a"),u=s.URL.createObjectURL(t);n.setAttribute("href",u),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(n),s.setTimeout(()=>{s.URL.revokeObjectURL(u)},0)}var oy={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},ht="clientSide",lt="serverSide",js="infinite",ny={onGroupExpandedOrCollapsed:[ht],refreshClientSideRowModel:[ht],isRowDataEmpty:[ht],forEachLeafNode:[ht],forEachNodeAfterFilter:[ht],forEachNodeAfterFilterAndSort:[ht],resetRowHeights:[ht],applyTransaction:[ht],applyTransactionAsync:[ht],flushAsyncTransactions:[ht],getBestCostNodeSelection:[ht],getServerSideSelectionState:[lt],setServerSideSelectionState:[lt],applyServerSideTransaction:[lt],applyServerSideTransactionAsync:[lt],applyServerSideRowData:[lt],retryServerSideLoads:[lt],flushServerSideAsyncTransactions:[lt],refreshServerSide:[lt],getServerSideGroupLevelState:[lt],refreshInfiniteCache:[js],purgeInfiniteCache:[js],getInfiniteRowCount:[js],isLastRowIndexKnown:[js,lt],expandAll:[ht,lt],collapseAll:[ht,lt],onRowHeightChanged:[ht,lt],setRowCount:[js,lt],getCacheBlockState:[js,lt]},ry={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function ay(e,t,s){let n=ry[e];if(n){let{version:m,new:w,old:y,message:F}=n,A=y??e;return(...I)=>{let L=w?`Please use ${w} instead. `:"";return as(`Since ${m} api.${A} is deprecated. ${L}${F??""}`),t.apply(t,I)}}let u=ny[e];return u?(...m)=>{let w=s.rowModel.getType();if(!u.includes(w)){Os(`api.${e} can only be called when gridOptions.rowModelType is ${u.join(" or ")}`);return}return t.apply(t,m)}:t}var Md={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Er=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],ly={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Er,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Er,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Er,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},cy={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function dy(e,t){let s=[];return(Array.isArray(e)?e:[e]).forEach(n=>{let u=ly[n];u?u.forEach(m=>{let w=cy[m];(!w||w===t)&&s.push(m)}):s.push(n)}),s}var Ks={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},uy=e=>{let t=e.map(n=>`import { ${Li(n)} } from '${Md[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>Li(n,!0)).join(", ")} ]); 

For more info see: ${ls}/modules/`};function Li(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function hy(e,t){let s=t.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),n="";return!globalThis?.agCharts&&s.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(m=>Md[m])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}var Fd=({reasonOrId:e,moduleName:t,gridScoped:s,gridId:n,rowModelType:u,additionalText:m,isUmd:w})=>{let y=dy(t,u),F=typeof e=="string"?e:my[e];if(w)return hy(F,y);let A=y.filter(_=>_==="IntegratedCharts"||_==="Sparklines"),I=A.length>0?`${A.map(_=>Li(_)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${F} as ${y.length>1?"one of "+y.map(_=>Li(_)).join(", "):Li(y[0])} is not registered${s?" for gridId: "+n:""}. ${I} Check if you have registered the module:
`}
${uy(y)}`+(m?` 

${m}`:"")},xd=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,gy=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,py={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:s})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",s],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${gy(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:s,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${s?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:s,jsComps:n})=>{let u=[],m=[...Object.keys(s??[]).filter(y=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(y)),...Object.keys(n??[])],w=xr({inputValue:t,allSuggestions:m,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return u.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),w.length>0&&u.push(`         Did you mean: [${w.slice(0,3)}]?
`),u.push("If using a custom component check it has been registered correctly."),u},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${ls}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:s})=>["duplicate group keys for row data, keys should be unique",e,t,...s??[]],187:({rowId:e,firstData:t,secondData:s})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",s],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:Fd,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${ls}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>xd("IntegratedChartsModule"),258:()=>xd("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:s,gridId:n,rowModelType:u})=>Fd({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:Ks[t],gridId:n,gridScoped:s,rowModelType:u}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${ls}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`};function fy(e,t){let s=py[e];if(!s)return[`Missing error text for error id ${e}!`];let n=s(t),m=`
See ${ea(e,t)}`;return Array.isArray(n)?n.concat(m):[n,m]}var my={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Cy=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),vy=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){let s=Ks[e];if(s)return{module:s}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;let t=Ks[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>Ed(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){let t=Ks[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{let t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return Wt(262);if(e.smallLeft)return Wt(263);if(e.smallRight)return Wt(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{let t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(s=>t.includes(s))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{let t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){let s=t.filter(n=>!Di.includes(n));if(s.length>0)return`sortingOrder must be an array with elements from [${Di.map(qi).join()}], currently it includes [${s.map(qi).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{let t=e.type;return t instanceof Array?t.some(n=>typeof n!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:s,suppressRowTransform:n,enableCellSpan:u,rowDragEntireRow:m,enableCellTextSelection:w})=>typeof t=="object"&&t?.mode==="singleRow"&&t?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":s?"colDef.spanRows is not supported with cellSelection.":n?"colDef.spanRows is not supported with suppressRowTransform.":u?m?"colDef.spanRows is not supported with rowDragEntireRow.":w?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),wy={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},Sy=()=>Object.keys(wy),Ed=()=>({objectName:"colDef",allProperties:Sy(),docsUrl:"column-properties/",deprecations:Cy(),validations:vy()}),yy=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Vt(e,t,s,n=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=s&&t<=n?null:n===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${s}`:`${e}: value should be between ${s} and ${n}`:`${e}: value should be a number`}var by=()=>{let e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:s}){return Vt("autoSizePadding",s,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:s}){return Vt("cacheBlockSize",s,1)}},cacheOverflowSize:{validate({cacheOverflowSize:s}){return Vt("cacheOverflowSize",s,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:s=>{let n=s.domLayout,u=["autoHeight","normal","print"];return n&&!u.includes(n)?`domLayout must be one of [${u.join()}], currently it's ${n}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},findSearchValue:{module:"Find"},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:s})=>{if(s){if(s.smallDown)return Wt(262);if(s.smallLeft)return Wt(263);if(s.smallRight)return Wt(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:s}){return Vt("infiniteInitialRowCount",s,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:s}){return Vt("keepDetailRowsCount",s,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:s}){return Vt("paginationPageSize",s,1)}},paginationPageSizeSelector:{validate:s=>{let n=s.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:s}){return Vt("rowBuffer",s,0)}},rowClass:{validate:s=>typeof s.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:s}){return s&&typeof s=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':s&&typeof s!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":s&&s.mode!=="multiRow"&&s.mode!=="singleRow"?`Selection mode "${s.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:s=>{let n=s.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:s}){return Vt("serverSideInitialRowCount",s,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:s=>{let n=s.sortingOrder;if(Array.isArray(n)&&n.length>0){let u=n.filter(m=>!Di.includes(m));if(u.length>0)return`sortingOrder must be an array with elements from [${Di.map(qi).join()}], currently it includes [${u.map(qi).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:s=>s.tooltipHideDelay&&s.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:s=>s.tooltipShowDelay&&s.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:s=>{let n=s.rowModelType??"clientSide";switch(n){case"clientSide":{let{treeDataChildrenField:u,treeDataParentIdField:m,getDataPath:w,getRowId:y}=s;if(!u&&!m&&!w)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(u){if(w)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(m)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(m){if(!y)return"getRowId callback not provided, tree data with parent id cannot be built.";if(w)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{let u=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return s.isServerSideGroup&&s.getServerSideGroupKey?null:u}}return null}},treeDataChildrenField:{module:"SharedTreeData"},treeDataParentIdField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:s}){return Vt("viewportRowModelBufferSize",s,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:s}){return Vt("viewportRowModelPageSize",s,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"},autoGroupColumnDef:{validate({autoGroupColumnDef:s,showOpenedGroup:n}){return s?.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":s?.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return wd.forEach(s=>{t[s]={expectedType:"boolean"}}),Cd.forEach(s=>{t[s]={expectedType:"number"}}),it(t,e),t},Ry=()=>({objectName:"gridOptions",allProperties:[...Sd,...fd.map(e=>un(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:yy(),validations:by()}),Py={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},My={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},Fy=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),xy={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},Ey=class extends he{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,dh(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&oy[t]&&Ce(22,{key:t})}processGridOptions(e){this.processOptions(e,Ry())}validateApiFunction(e,t){return ay(e,t,this.beans)}missingUserComponent(e,t,s,n){let u=Ks[t];u?this.gos.assertModuleRegistered(u,`AG Grid '${e}' component: ${t}`):Ce(101,{propertyName:e,componentName:t,agGridDefaults:s,jsComps:n})}checkRowEvents(e){Ty.has(e)&&Ce(10,{eventType:e})}validateIcon(e){if(Fy.has(e)&&Ce(43,{iconName:e}),Py[e])return;let t=My[e];if(t){Ge(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:yn(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}Ce(134,{iconName:e})}validateMenuItem(e){let t=xy[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!Ks[e]}validateColDef(e,t,s){(s||!this.beans.dataTypeSvc?.isColPendingInference(t))&&this.processOptions(e,Ed())}processOptions(e,t){let{validations:s,deprecations:n,allProperties:u,propertyExceptions:m,objectName:w,docsUrl:y}=t;u&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...m??[],...Object.keys(n)],u,w,y);let F=new Set,A=L=>{let _=s[L];if(_)if(typeof _=="function"){let H=_(e,this.gridOptions,this.beans);if(!H)return;if("objectName"in H){let z=e[L];if(Array.isArray(z)){z.forEach(J=>{this.processOptions(J,H)});return}this.processOptions(e[L],H);return}return H}else return _;else return};Object.keys(e).forEach(L=>{let _=n[L];if(_){let{message:pe,version:Me}=_;F.add(`As of v${Me}, ${String(L)} is deprecated. ${pe??""}`)}let H=e[L];if(H==null||H===!1)return;let z=A(L);if(!z)return;let{module:J,dependencies:te,validate:ae,supportedRowModels:ce,expectedType:le}=z;if(le){let pe=typeof H;if(pe!==le){F.add(`${String(L)} should be of type '${le}' but received '${pe}' (${H}).`);return}}if(ce){let pe=this.gridOptions.rowModelType??"clientSide";if(!ce.includes(pe)){F.add(`${String(L)} is not supported with the '${pe}' row model. It is only valid with: ${ce.join(", ")}.`);return}}if(J){let pe=Array.isArray(J)?J:[J],Me=!0;if(pe.forEach(be=>{this.gos.assertModuleRegistered(be,String(L))||(Me=!1)}),!Me)return}if(te){let pe=this.checkForRequiredDependencies(L,te,e);if(pe){F.add(pe);return}}if(ae){let pe=ae(e,this.gridOptions,this.beans);if(pe){F.add(pe);return}}}),F.size>0&&F.forEach(L=>{as(L)})}checkForRequiredDependencies(e,t,s){let u=Object.entries(t).filter(([m,w])=>{let y=s[m];return!w.required.includes(y)});return u.length===0?null:u.map(([m,w])=>`'${String(e)}' requires '${m}' to be one of [${w.required.map(y=>y===null?"null":y===void 0?"undefined":y).join(", ")}]. ${w.reason??""}`).join(`
           `)}checkProperties(e,t,s,n,u){let m=["__ob__","__v_skip","__metadata__"],w=Ay(Object.getOwnPropertyNames(e),[...m,...t,...s],s),y=Object.keys(w);for(let F of y){let A=w[F],I=`invalid ${n} property '${F}' did you mean any of these: ${A.slice(0,8).join(", ")}.`;s.includes("context")&&(I+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),as(I)}if(y.length>0&&u){let F=this.beans.frameworkOverrides.getDocLink(u);as(`to see all the valid ${n} properties please check: ${F}`)}}getConsoleMessage(e,t){return fy(e,t)}};function Ay(e,t,s){let n={},u=e.filter(m=>!t.some(w=>w===m));return u.length>0&&u.forEach(m=>n[m]=xr({inputValue:m,allSuggestions:s}).values),n}var Ty=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Ad={moduleName:"Validation",version:Pe,beans:[Ey]};function Td(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Dy=class extends he{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){let{changedPath:t}=e;this.filter(t)}filter(e){let t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){let s=(n,u)=>{n.hasChildren()&&e&&!u?n.childrenAfterFilter=n.childrenAfterGroup.filter(m=>{let w=m.childrenAfterFilter&&m.childrenAfterFilter.length>0,y=m.data&&this.filterManager.doesRowPassFilter({rowNode:m});return w||y}):n.childrenAfterFilter=n.childrenAfterGroup,Td(n)};if(this.doingTreeDataFiltering()){let n=(m,w)=>{if(m.childrenAfterGroup)for(let y=0;y<m.childrenAfterGroup.length;y++){let F=m.childrenAfterGroup[y],A=w||this.filterManager.doesRowPassFilter({rowNode:F});F.childrenAfterGroup?n(m.childrenAfterGroup[y],A):s(F,A)}s(m,w)},u=m=>n(m,!1);t.executeFromRootNode(u)}else{let n=u=>s(u,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Iy=class extends jn{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,s,n,u){this.comp=e;let m=di(this,this.beans.context,u);this.eButtonShowMainFilter=s,this.eFloatingFilterBody=n,this.setGui(t,m),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(m),this.setupLeft(m),this.setupHover(m),this.setupFocus(m),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(m),this.setupUi(),m.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(m),m.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(m)}),m.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){let{column:e,beans:t}=this,s=e.colDef;return Ae(t.gos,{colDef:s,column:e,floatingFilter:!0})}setupActive(){let e=this.column.getColDef(),t=!!e.filter,s=!!e.floatingFilter;this.active=t&&s}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;let e=Ct("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ms(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){let e=this.getLocaleTextFunc();E(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){let{beans:t}=this;if(Ue(t)===this.eGui)return;let u=es(t,this.eGui,null,e.shiftKey);if(u){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),u.focus();return}let m=this.findNextColumnWithFloatingFilter(e.shiftKey);m&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:m},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){let t=this.beans.visibleCols,s=this.column;do if(s=e?t.getColBefore(s):t.getColAfter(s),!s)break;while(!s.getColDef().filter||!s.getColDef().floatingFilter);return s}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();switch(e.key){case de.UP:case de.DOWN:t||e.preventDefault();case de.LEFT:case de.RIGHT:if(t)return;e.stopPropagation();case de.ENTER:t&&qt(this.eGui)&&e.preventDefault();break;case de.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;let s=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Dt(e.relatedTarget,"ag-floating-filter");if(s&&n&&e.target===this.eGui){let u=this.lastFocusEvent,m=!!(u&&u.key===de.TAB);if(u&&m){let w=u.shiftKey;qt(this.eGui,w)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){let t=new Un(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!dt(this.gos)}setupUserComp(){if(!this.active)return;let e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){let e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;let{filterManager:t}=this.beans,s=n=>{if(n?.source==="filterDestroyed"&&!this.isAlive())return;let u=this.comp.getFloatingFilterComp();u&&u.then(m=>{if(m){let w=t?.getCurrentFloatingFilterParentModel(this.column),y=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;m.onParentModelChanged(w,y)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:s}),t?.isFilterActive(this.column)&&s(null)}setupWidth(e){let t=()=>{let s=`${this.column.getActualWidth()}px`;this.comp.setWidth(s)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){let e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){let t=this.active;this.setupActive();let s=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());let n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,u=this.comp.getFloatingFilterComp();!u||!n?this.updateCompDetails(e,n,s):u.then(m=>{!m||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,s):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,s){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),s&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;let t=e.params;this.comp.getFloatingFilterComp()?.then(s=>{s?.refresh&&typeof s.refresh=="function"&&s.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Ly(e,t){let s=e.colModel.getCol(t);if(!s){Ge(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:s,positionBy:"auto"})}function ky(e){e.menuSvc?.hidePopupMenu()}var Dd={moduleName:"SharedMenu",version:Pe,beans:[Sf],apiFunctions:{showColumnMenu:Ly,hidePopupMenu:ky}},Oy=0,Gy=200,_y=class extends he{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:s,column:n,node:u,event:m}=e,w=t.getBoundingClientRect(),y=this.getParentRect();this.setAlignedTo(t,s);let F=!1,A=()=>{let I=this.keepXYWithinBounds(s,w.top-y.top,0),L=s.clientWidth>0?s.clientWidth:200;F||(s.style.minWidth=`${L}px`,F=!0);let H=y.right-y.left-L,z;return this.gos.get("enableRtl")?(z=te(),z<0&&(z=J(),this.setAlignedStyles(s,"left")),z>H&&(z=0,this.setAlignedStyles(s,"right"))):(z=J(),z>H&&(z=te(),this.setAlignedStyles(s,"right")),z<0&&(z=0,this.setAlignedStyles(s,"left"))),{x:z,y:I};function J(){return w.right-y.left-2}function te(){return w.left-y.left-L}};this.positionPopup({ePopup:s,keepWithinBounds:!0,updatePosition:A,postProcessCallback:()=>this.callPostProcessPopup("subMenu",s,t,m instanceof MouseEvent?m:void 0,n,u)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:s,nudgeY:n,skipObserver:u}=e;this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:!0,skipObserver:u,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:u,eventSource:m,alignSide:w="left",position:y="over",column:F,rowNode:A,type:I}=e,L=m.getBoundingClientRect(),_=this.getParentRect();this.setAlignedTo(m,t);let H=()=>{let z=L.left-_.left;w==="right"&&(z-=t.offsetWidth-L.width);let J;return y==="over"?(J=L.top-_.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,L,_,e.nudgeY||0)==="under"?J=L.top-_.top+L.height:J=L.top-t.offsetHeight-(n||0)*2-_.top),{x:z,y:J}};this.positionPopup({ePopup:t,nudgeX:s,nudgeY:n,keepWithinBounds:u,updatePosition:H,postProcessCallback:()=>this.callPostProcessPopup(I,t,m,null,F,A)})}shouldRenderUnderOrAbove(e,t,s,n){let u=s.bottom-t.bottom,m=t.top-s.top,w=e.offsetHeight+n;return u>w?"under":m>w||m>u?"above":"under"}setAlignedStyles(e,t){let s=this.getPopupIndex(e);if(s===-1)return;let n=this.popupList[s],{alignedToElement:u}=n;!u||(["right","left","over","above","under"].forEach(w=>{u.classList.remove(`ag-has-popup-positioned-${w}`),e.classList.remove(`ag-popup-positioned-${w}`)}),!t)||(u.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let s=this.getPopupIndex(t);if(s!==-1){let n=this.popupList[s];n.alignedToElement=e}}callPostProcessPopup(e,t,s,n,u,m){let w=this.gos.getCallback("postProcessPopup");w&&w({column:u,rowNode:m,ePopup:t,type:e,eventSource:s,mouseEvent:n})}positionPopup(e){let{ePopup:t,keepWithinBounds:s,nudgeX:n,nudgeY:u,skipObserver:m,updatePosition:w}=e,y={width:0,height:0},F=(A=!1)=>{let{x:I,y:L}=w();A&&t.clientWidth===y.width&&t.clientHeight===y.height||(y.width=t.clientWidth,y.height=t.clientHeight,n&&(I+=n),u&&(L+=u),s&&(I=this.keepXYWithinBounds(t,I,1),L=this.keepXYWithinBounds(t,L,0)),t.style.left=`${I}px`,t.style.top=`${L}px`,e.postProcessCallback&&e.postProcessCallback())};if(F(),!m){let A=zt(this.beans,t,()=>F(!0));setTimeout(()=>A(),Gy)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=Xe(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Br(t)}keepXYWithinBounds(e,t,s){let n=s===0,u=n?"clientHeight":"clientWidth",m=n?"top":"left",w=n?"height":"width",y=n?"scrollTop":"scrollLeft",F=Xe(this.beans),A=F.documentElement,I=this.getPopupParent(),L=e.getBoundingClientRect(),_=I.getBoundingClientRect(),H=F.documentElement.getBoundingClientRect(),z=I===F.body,J=Math.ceil(L[w]),ae=z?(n?Qo:Js)(A)+A[y]:I[u];z&&(ae-=Math.abs(H[m]-_[m]));let ce=ae-J;return Math.min(Math.max(t,0),Math.abs(ce))}addPopup(e){let t=Xe(this.beans),{eChild:s,ariaLabel:n,alwaysOnTop:u,positionCallback:m,anchorToElement:w}=e;if(!t)return Ce(122),{hideFunc:()=>{}};let y=this.getPopupIndex(s);if(y!==-1)return{hideFunc:this.popupList[y].hideFunc};this.initialisePopupPosition(s);let F=this.createPopupWrapper(s,n,!!u),A=this.addEventListenersToPopup({...e,wrapperEl:F});return m&&m(),this.addPopupToPopupList(s,F,A,w),{hideFunc:A}}initialisePopupPosition(e){let s=this.getPopupParent().getBoundingClientRect();we(e.style.top)||(e.style.top=`${s.top*-1}px`),we(e.style.left)||(e.style.left=`${s.left*-1}px`)}createPopupWrapper(e,t,s){let n=this.getPopupParent(),{environment:u,gos:m}=this.beans,w=Ke({tag:"div"});return u.applyThemeClasses(w),w.classList.add("ag-popup"),e.classList.add(m.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||v(e,"dialog"),E(e,t),w.appendChild(e),n.appendChild(w),s?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),w}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let s of this.popupList)t.applyThemeClasses(s.wrapper)}}addEventListenersToPopup(e){let t=this.beans,s=Xe(t),n=this.getPopupParent(),{wrapperEl:u,eChild:m,closedCallback:w,afterGuiAttached:y,closeOnEsc:F,modal:A}=e,I=!1,L=J=>{if(!u.contains(Ue(t)))return;J.key===de.ESCAPE&&!Ot(J)&&z({keyboardEvent:J})},_=J=>z({mouseEvent:J}),H=J=>z({touchEvent:J}),z=(J={})=>{let{mouseEvent:te,touchEvent:ae,keyboardEvent:ce,forceHide:le}=J;!le&&(this.isEventFromCurrentPopup({mouseEvent:te,touchEvent:ae},m)||I)||(I=!0,n.removeChild(u),s.removeEventListener("keydown",L),s.removeEventListener("mousedown",_),s.removeEventListener("touchstart",H),s.removeEventListener("contextmenu",_),this.eventSvc.removeEventListener("dragStarted",_),w&&w(te||ae||ce),this.removePopupFromPopupList(m))};return y&&y({hidePopup:z}),window.setTimeout(()=>{F&&s.addEventListener("keydown",L),A&&(s.addEventListener("mousedown",_),this.eventSvc.addEventListener("dragStarted",_),s.addEventListener("touchstart",H),s.addEventListener("contextmenu",_))},0),z}addPopupToPopupList(e,t,s,n){this.popupList.push({element:e,wrapper:t,hideFunc:s,instanceId:Oy++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let s=this.getPopupIndex(e);if(s===-1)return;let n=this.popupList[s];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(m=>m&&m()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;let u=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=u,n.isAnchored=!0,u}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),s=t.getBoundingClientRect(),{element:n,ePopup:u}=e,m=n.getBoundingClientRect(),w=L=>parseInt(L.substring(0,L.length-1),10),y=(L,_)=>{let H=s[L]-m[L],z=w(u.style[L]);return{initialDiff:H,lastDiff:H,initial:z,last:z,direction:_}},F=y("top",0),A=y("left",1),I=this.beans.frameworkOverrides;return new nt(L=>{I.wrapIncoming(()=>{I.setInterval(()=>{let _=t.getBoundingClientRect(),H=n.getBoundingClientRect();if(H.top==0&&H.left==0&&H.height==0&&H.width==0){e.hidePopup();return}let J=(te,ae)=>{let ce=w(u.style[ae]);te.last!==ce&&(te.initial=ce,te.last=ce);let le=_[ae]-H[ae];if(le!=te.lastDiff){let pe=this.keepXYWithinBounds(u,te.initial+te.initialDiff-le,te.direction);u.style[ae]=`${pe}px`,te.last=pe}te.lastDiff=le};J(F,"top"),J(A,"left")},200).then(_=>{L(()=>{_!=null&&window.clearInterval(_)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:s,touchEvent:n}=e,u=s||n;if(!u)return!1;let m=this.getPopupIndex(t);if(m===-1)return!1;for(let w=m;w<this.popupList.length;w++){let y=this.popupList[w];if(va(y.element,u))return!0}return this.isElementWithinCustomPopup(u.target)}isElementWithinCustomPopup(e){let t=Xe(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let s=this.getWrapper(e);s&&(s.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(s))}bringPopupToFront(e){let t=this.getPopupParent(),s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=s.length,u=this.getWrapper(e);if(!u||n<=1||!t.contains(e))return;let m=[],w=[];for(let _ of s)_!==u&&(_.classList.contains("ag-always-on-top")?w.push(_):m.push(_));let y=[],F=w.length,L=u.classList.contains("ag-always-on-top")||!F?[...m,...w,u]:[...m,u,...w];for(let _=0;_<=n;_++){let H=L[_];if(s[_]===L[_]||H===u)continue;H.querySelectorAll("div").forEach(J=>{J.scrollTop!==0&&y.push([J,J.scrollTop])}),_===0?t.insertAdjacentElement("afterbegin",H):L[_-1].insertAdjacentElement("afterend",H)}for(;y.length;){let _=y.pop();_[0].scrollTop=_[1]}}},ki={moduleName:"Popup",version:Pe,beans:[_y]},By=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Ny(e){let t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function Vy(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function Hy(e,t){let s=e.colModel.getColDefCol(t);if(s)return e.filterManager?.destroyFilter(s,"api")}function zy(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function Wy(e){return e.filterManager?.getFilterModel()??{}}function Uy(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function jy(e,t,s){return e.filterManager?.setColumnFilterModel(t,s)??Promise.resolve()}function Ky(e,t){let s=e.colModel.getCol(t);if(!s){Ge(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:s,containerType:"columnFilter",positionBy:"auto"})}var Id={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Ld=["january","february","march","april","may","june","july","august","september","october","november","december"];function $y(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Xy=class extends he{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:e})=>{(e.rowDataUpdated||e.changedProps?.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e,t="api"){let{colModel:s,dataTypeSvc:n,filterManager:u}=this.beans;if(n?.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}let m=[],w=this.getFilterModel(!0);if(e){let y=new Set(Object.keys(e));this.allColumnFilters.forEach((F,A)=>{let I=e[A];m.push(Ho(F.filterPromise,I)),y.delete(A)}),y.forEach(F=>{let A=s.getColDefCol(F)||s.getCol(F);if(!A){Ce(62,{colId:F});return}if(!A.isFilterAllowed()){Ce(63,{colId:F});return}let I=this.getOrCreateFilterWrapper(A);if(!I){Ce(64,{colId:F});return}m.push(Ho(I.filterPromise,e[F]))})}else this.allColumnFilters.forEach(y=>{m.push(Ho(y.filterPromise,null))});nt.all(m).then(()=>{let y=this.getFilterModel(!0),F=[];this.allColumnFilters.forEach((A,I)=>{let L=w?w[I]:null,_=y?y[I]:null;ks(L,_)||F.push(A.column)}),F.length>0&&u?.onFilterChanged({columns:F,source:t})})}getFilterModel(e){let t={},{allColumnFilters:s,initialFilterModel:n,beans:{colModel:u}}=this;if(s.forEach((m,w)=>{let y=this.getModelFromFilterWrapper(m);we(y)&&(t[w]=y)}),!e)for(let m of Object.keys(n)){let w=n[m];we(w)&&!s.has(m)&&u.getCol(m)?.isFilterAllowed()&&(t[m]=w)}return t}getModelFromFilterWrapper(e){let{filter:t}=e;return t?typeof t.getModel!="function"?(Ce(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};let{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){let e=y=>y?y.isFilterActive?y.isFilterActive():(Ce(67),!1):!1,{colModel:t,gos:s}=this.beans,n=!!to(s),u=y=>{if(!y.isPrimary())return!0;let A=!t.isPivotActive();return!y.isValueActive()||!A?!1:t.isPivotMode()?!0:n},m=[],w=[];return this.forEachColumnFilter((y,F)=>{e(y)&&(u(F.column)?m.push(y):w.push(y))}).then(()=>{this.activeAggregateFilters=m,this.activeColumnFilters=w})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((s,n)=>this.setColFilterActive(n.column,s.isFilterActive(),e,t))}forEachColumnFilter(e){let t=[];return this.allColumnFilters.forEach(s=>{let n=s.filterPromise;n&&t.push(n.then(u=>e(u,s)))}),nt.all(t)}doColumnFiltersPass(e,t,s){let{data:n,aggData:u}=e,m=s?this.activeAggregateFilters:this.activeColumnFilters,w=s?u:n;for(let y=0;y<m.length;y++){let F=m[y];if(!(F==null||F===t)){if(typeof F.doesFilterPass!="function"){Ge(91);continue}if(!F.doesFilterPass({node:e,data:w}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){let{rowRenderer:t,filterManager:s}=this.beans,n=()=>{this.isAlive()&&s?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){let{filterInstance:t,additionalEventAttributes:s}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",s).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(u=>{u&&u!==t&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded?.()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){let{filterValueSvc:t,colModel:s}=this.beans;return(n,u)=>{let m=u?s.getCol(u):e;return m?t.getValue(m,n):void 0}}isFilterActive(e){let{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t,{gos:s,dataTypeSvc:n}=this.beans;if(dn(s))t="agSetColumnFilter";else{let u=n?.getBaseDataType(e);u==="number"?t="agNumberColumnFilter":u==="date"||u==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t,{gos:s,dataTypeSvc:n}=this.beans;if(dn(s))t="agSetColumnFloatingFilter";else{let u=n?.getBaseDataType(e);u==="number"?t="agNumberColumnFloatingFilter":u==="date"||u==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){let s=this.getDefaultFilter(e),n=e.getColDef(),u,m={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(u,e)(),filterChangedCallback:y=>this.filterChangedCallbackFactory(u,e)(y),doesRowPassOtherFilter:y=>this.beans.filterManager?.doesRowPassOtherFilters(u,y)??!0},w=Wa(this.beans.userCompFactory,n,m,s);return w?{filterPromise:()=>{let y=w.newAgStackInstance();return y.then(F=>{u=F,t&&(t.filter=F??void 0)}),y},compDetails:w}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return Ae(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){let t={column:e,filterPromise:null,compDetails:null},{filterPromise:s,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=s?.()??null,t.compDetails=n,t}onColumnsChanged(){let e=[],{colModel:t,filterManager:s}=this.beans;this.allColumnFilters.forEach((u,m)=>{let w;u.column.isPrimary()?w=t.getColDefCol(m):w=t.getCol(m),!(w&&w===u.column)&&(e.push(u.column),this.disposeFilterWrapper(u,"columnChanged"),this.disposeColumnListener(m))});let n=e.every(kd);e.length>0&&!n?s?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.beans.autoColSvc?.getColumns()?.forEach(e=>{kd(e)&&this.getOrCreateFilterWrapper(e)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;let{filter:s}=this.allColumnFilters.get(e.getColId())??{};return s&&typeof s?.isFilterAllowed=="function"?s.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){let s=I=>{let L=this.getOrCreateFilterWrapper(e)?.filterPromise;L?.then(_=>{I(Vs(_))})},n=e.getColDef(),u={...this.createFilterParams(e,n),filterChangedCallback:()=>s(I=>this.filterChangedCallbackFactory(I,e)())},{userCompFactory:m,frameworkOverrides:w}=this.beans,y=jg(m,n,u),F=yl(w,n,()=>this.getDefaultFloatingFilter(e));F==null&&(F="agReadOnlyFloatingFilter");let A=Ae(this.gos,{column:e,filterParams:y,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});return Ua(m,n,A,F)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){let s=e.getColId(),n=this.allColumnFilters.get(s);this.disposeColumnListener(s),delete this.initialFilterModel[s],n&&this.disposeFilterWrapper(n,t).then(u=>{u&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){let t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){return e.filterPromise?.then(s=>{let n=!!s?.isFilterActive();return this.destroyBean(s),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),n})??nt.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return s=>{let n=s?.source??"columnFilter",u={filter:e,additionalEventAttributes:s,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(u)}}checkDestroyFilter(e){let t=this.allColumnFilters.get(e);if(!t)return;let s=t.column,{compDetails:n}=s.isFilterAllowed()?this.createFilterInstance(s):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(s,"paramsUpdated");return}let u=s.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(s,"paramsUpdated");return}t.filterPromise.then(m=>{(m?.refresh?m.refresh({...this.createFilterParams(s,s.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(m,s),filterChangedCallback:this.filterChangedCallbackFactory(m,s),doesRowPassOtherFilter:y=>this.beans.filterManager?.doesRowPassOtherFilters(m,y)??!0,...u}):!0)===!1&&this.destroyFilter(s,"paramsUpdated")})}setColumnFilterWrapper(e,t){let s=e.getColId();this.allColumnFilters.set(s,t),this.allColumnListeners.set(s,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(s)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;let{componentClass:s}=e,{componentClass:n}=t;return!(s===n||s?.render&&n?.render&&s.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(s=>{t(Vs(s))})})}getFilterInstanceImpl(e){let t=this.beans.colModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??nt.resolve(null):nt.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:s})=>{this.setColumnFilterModel(e,t).then(()=>s())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){let t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){let{colModel:s,dataTypeSvc:n}=this.beans;if(n?.isPendingInference){let y=()=>{},F=new Promise(A=>{y=A});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:y}),F}let u=s.getColDefCol(e),m=u?this.getOrCreateFilterWrapper(u):null;return m?(y=>new Promise(F=>{y.then(A=>F(A))}))(Ho(m.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){let t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,s){let n=dn(this.gos),u=this.getLocaleTextFunc(),m=w=>{let{filterParams:y}=e;e.filterParams=typeof y=="object"?{...y,...w}:w};switch(t.baseDataType){case"number":{n&&m({comparator:$y});break}case"boolean":{m(n?{valueFormatter:w=>we(w.value)?u(String(w.value),w.value?"True":"False"):u("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(w,y)=>y,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(w,y)=>y===!1,numberOfInputs:0}]});break}case"date":{m(n?{valueFormatter:w=>{let y=s(w);return we(y)?y:u("blanks","(Blanks)")},treeList:!0,treeListFormatter:(w,y)=>{if(w==="NaN")return u("invalidDate","Invalid Date");if(y===1&&w!=null){let F=Ld[Number(w)-1];return u(F,Id[F])}return w??u("blanks","(Blanks)")}}:{isValidDate:Od});break}case"dateString":{let w=t.dateParser;m(n?{valueFormatter:y=>{let F=s(y);return we(F)?F:u("blanks","(Blanks)")},treeList:!0,treeListPathGetter:y=>{let F=w(y??void 0);return F?[String(F.getFullYear()),String(F.getMonth()+1),String(F.getDate())]:null},treeListFormatter:(y,F)=>{if(F===1&&y!=null){let A=Ld[Number(y)-1];return u(A,Id[A])}return y??u("blanks","(Blanks)")}}:{comparator:(y,F)=>{let A=w(F);return F==null||A<y?-1:A>y?1:0},isValidDate:y=>typeof y=="string"&&Od(w(y))});break}case"object":{n?m({valueFormatter:w=>{let y=s(w);return we(y)?y:u("blanks","(Blanks)")}}):e.filterValueGetter=w=>s({column:w.column,node:w.node,value:this.beans.valueSvc.getValue(w.column,w.node)});break}}}setColFilterActive(e,t,s,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",s)),e.dispatchColEvent("filterChanged",s,n)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Ho(e,t){return e?new nt(s=>{e.then(n=>{typeof n.setModel!="function"&&(Ce(65),s()),(n.setModel(t)||nt.resolve()).then(()=>s())})}):nt.resolve()}function kd(e){return e.getColDef().filter==="agGroupColumnFilter"}function Od(e){return e instanceof Date&&!isNaN(e.getTime())}function Yy(e){return!!e.filterManager?.isAnyFilterPresent()}function Zy(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Qy=class extends he{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){let e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});let{gos:s}=this;this.alwaysPassFilter=s.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=s.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){let e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){let t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}this.colFilter?.setFilterModel(e,t)}getFilterModel(){return this.colFilter?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.colFilter?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggregateFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){to(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){let{source:t,additionalEventAttributes:s,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):nt.resolve()).then(()=>{let u={source:t,type:"filterChanged",columns:n};s&&it(u,s),this.eventSvc.dispatchEvent(u),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!to(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){let{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){return!!this.colFilter?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.colFilter?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.colFilter?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.colFilter?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.colFilter?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.colFilter?.areFilterCompsDifferent(e,t)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){Ce(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.colFilter?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,s){this.colFilter?.setColDefPropertiesForDataType(e,t,s)}},Jy=class extends he{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,s,n){this.showPopup(e,u=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:s,mouseEvent:t,ePopup:u})},s,t.target,dt(this.gos),n)}showMenuAfterButtonClick(e,t,s,n){let u=-1,m="left",w=dt(this.gos);!w&&this.gos.get("enableRtl")&&(u=1,m="right");let y=w?void 0:4*u,F=w?void 0:4;this.showPopup(e,A=>{this.popupSvc?.positionPopupByComponent({type:s,eventSource:t,ePopup:A,nudgeX:y,nudgeY:F,alignSide:m,keepWithinBounds:!0,position:"under",column:e})},s,t,w,n)}showPopup(e,t,s,n,u,m){let w=e?this.createBean(new fl(e,"COLUMN_MENU")):void 0;if(this.activeMenu=w,!w?.hasFilter()||!e){Ge(57);return}let y=Ke({tag:"div",cls:`ag-menu${u?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(y,{keydown:J=>this.trapFocusWithin(J,y)}),y.appendChild(w?.getGui());let F,A=()=>w?.afterGuiDetached(),I=ga(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,L=J=>{$n(e,!1,"contextMenu");let te=J instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),te&&n&&yt(n)&&Pn(n)?.focus({preventScroll:!0}),A(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,s,e),m?.()},_=this.getLocaleTextFunc(),H=u&&s!=="columnFilter"?_("ariaLabelColumnMenu","Column Menu"):_("ariaLabelColumnFilter","Column Filter"),z=this.popupSvc?.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:L,positionCallback:()=>t(y),anchorToElement:I,ariaLabel:H});z&&(this.hidePopup=F=z.hideFunc),w.afterInit().then(()=>{t(y),w.afterGuiAttached({container:s,hidePopup:F})}),$n(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,s,e)}trapFocusWithin(e,t){e.key!==de.TAB||e.defaultPrevented||es(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),qt(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,s){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:s??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},qy=class extends he{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;let s=e.getColDef(),{filterValueGetter:n}=s;return n?this.executeFilterValueGetter(n,t.data,e,t,s):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,s,n,u){let{expressionSvc:m,valueSvc:w}=this.beans,y=Ae(this.gos,{data:t,node:n,column:s,colDef:u,getValue:w.getValueCallback.bind(w,n)});return typeof e=="function"?e(y):m?.evaluate(e,y)}},eb={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},tb=class extends Oe{constructor(){super(eb,[wi]),this.eFloatingFilterText=Se}init(e){this.params=e;let t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){let s=t.getModelAsString(e);this.eFloatingFilterText.setValue(s)}})}refresh(e){this.init(e)}},Gd=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){let{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;let s=[["displayKey"],["displayName"],["predicate","test"]],n=u=>u.some(m=>t[m]!=null)?!0:(Ce(72,{keys:u}),!1);if(!s.every(n)){this.filterOptions=e.filter(u=>u===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){let{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){let s=t[0];typeof s=="string"?this.defaultOption=s:s.displayKey?this.defaultOption=s.displayKey:Ce(73)}else Ce(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Oi(e,t,s){return s==null?e.splice(t):e.splice(t,s)}function zo(e){return e==null||typeof e=="string"&&e.trim().length===0}function sb(e){return e==="AND"||e==="OR"?e:"AND"}function ib(e,t,s){if(e==null)return;let{predicate:n}=e;if(n!=null&&!t.some(u=>u==null))return n(t,s)}function ob(e,t){let s=e.length;return s>t&&(e.splice(t),Ce(78),s=t),s}var _d=class extends Sl{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){let t=this.optionsFactory.getCustomOption(e);if(t){let{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,s)=>{let n=s===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){let e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){let{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;let s=!e.operator,n=!t.operator;if(!s&&n||s&&!n)return!1;let m;if(s){let w=e,y=t;m=this.areSimpleModelsEqual(w,y)}else{let w=e,y=t;m=w.operator===y.operator&&Jt(w.conditions,y.conditions,(F,A)=>this.areSimpleModelsEqual(F,A))}return m}shouldRefresh(e){let t=this.getModel(),s=t?t.conditions??[t]:null,n=e.filterOptions?.map(m=>typeof m=="string"?m:m.displayKey)??this.getDefaultFilterOptions();return!(!(!s||s.every(m=>n.find(w=>w===m.type)!==void 0))||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){let s=e,n=s.conditions;n==null&&(n=[],Ce(77));let u=ob(n,this.maxNumConditions),m=this.getNumConditions();if(u<m)this.removeConditionsAndOperators(u);else if(u>m)for(let y=m;y<u;y++)this.createJoinOperatorPanel(),this.createOption();let w=s.operator==="OR";this.eJoinOperatorsAnd.forEach(y=>y.setValue(!w,!0)),this.eJoinOperatorsOr.forEach(y=>y.setValue(w,!0)),n.forEach((y,F)=>{this.eTypes[F].setValue(y.type,!0),this.setConditionIntoUi(y,F)})}else{let s=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(s.type,!0),this.setConditionIntoUi(s,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),nt.resolve()}doesFilterPass(e){let t=this.getModel();if(t==null)return!0;let{operator:s}=t,n=[];if(s){let m=t;n.push(...m.conditions??[])}else n.push(t);return n[s&&s==="OR"?"some":"every"](m=>this.individualConditionPasses(e,m))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=sb(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Gd,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(Ce(79),t=1),this.maxNumConditions=t;let s=e.numAlwaysVisibleConditions??1;s<1&&(Ce(80),s=1),s>t&&(Ce(81),s=t),this.numAlwaysVisibleConditions=s}createOption(){let e=this.createManagedBean(new Ao);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());let t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);let s=this.getNumConditions()-1;this.forEachPositionInput(s,n=>this.resetInput(n)),this.addChangedListeners(e,s)}createJoinOperatorPanel(){let e=Ke({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);let t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),s=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);let n=this.eJoinOperatorPanels.length-1,u=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,u),this.resetJoinOperatorOr(s,n,u),this.isReadOnly()||(t.onValueChange(this.listener),s.onValueChange(this.listener))}createJoinOperator(e,t,s){let n=this.createManagedBean(new Zl);e.push(n);let u="ag-filter-condition-operator";return n.addCssClass(u),n.addCssClass(`${u}-${s}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){let{filterListOptions:t}=this;t.forEach(s=>{e.addOption(s)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){let{displayKey:t}=e,s=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:s?this.getLocaleTextFunc()(s.displayKey,s.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){let e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)?e=s:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{let s=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<s){this.removeConditionsAndOperators(s+1);let n=e+1,u=s-n;u>0&&this.removeConditionsAndOperators(n,u),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,u)=>{let m=this.isConditionDisabled(u,e);n.setDisabled(m||this.filterListOptions.length<=1),u===1&&(Tt(this.eJoinOperatorPanels[0],m),this.eJoinOperatorsAnd[0].setDisabled(m),this.eJoinOperatorsOr[0].setDisabled(m))}),this.eConditionBodies.forEach((n,u)=>{_e(n,this.isConditionBodyVisible(u))});let s=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!s,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(s,!0)}),this.forEachInput((n,u,m,w)=>{this.setElementDisplayed(n,u<w),this.setElementDisabled(n,this.isConditionDisabled(m,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;let{eTypes:s,eConditionBodies:n,eJoinOperatorPanels:u,eJoinOperatorsAnd:m,eJoinOperatorsOr:w}=this;this.removeComponents(s,e,t),this.removeElements(n,e,t),this.removeValueElements(e,t);let y=Math.max(e-1,0);this.removeElements(u,y,t),this.removeComponents(m,y,t),this.removeComponents(w,y,t)}removeElements(e,t,s){Oi(e,t,s).forEach(u=>ft(u))}removeComponents(e,t,s){Oi(e,t,s).forEach(u=>{ft(u.getGui()),this.destroyBean(u)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let{eFilterBody:t,eTypes:s}=this,n;if(!this.isReadOnly()){let u=this.getInputs(0)[0];u instanceof is&&this.isConditionBodyVisible(0)?n=u.getInputElement():n=s[0]?.getFocusableElement()}(n??t).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();let e=this.getModel();this.resetUiToActiveModel(e);let t=-1,s=-1,n=!1,u=this.getJoinOperator();for(let w=this.getNumConditions()-1;w>=0;w--)if(this.isConditionUiComplete(w))t===-1&&(t=w,s=w);else{let y=w>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(w-1),F=w<t;(y||F)&&(this.removeConditionsAndOperators(w,1),n=!0,F&&s--)}let m=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),m=!0),this.shouldAddNewConditionAtEnd(s===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),m=!0),m&&this.updateConditionStatusesAndValues(s,u),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=s}getPlaceholderText(e,t){let s=this.translate(e);if(typeof this.filterPlaceholder=="function"){let n=this.eTypes[t].getValue(),u=this.translate(n);s=this.filterPlaceholder({filterOptionKey:n,filterOption:u,placeholder:s})}else typeof this.filterPlaceholder=="string"&&(s=this.filterPlaceholder);return s}resetPlaceholder(){let e=this.getLocaleTextFunc();this.forEachInput((t,s,n,u)=>{if(!(t instanceof is))return;let m=s===0&&u>1?"inRangeStart":s===0?"filterOoo":"inRangeEnd",w=s===0&&u>1?e("ariaFilterFromValue","Filter from value"):s===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(m,n)),t.setInputAriaLabel(w)})}setElementValue(e,t,s){e instanceof is&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Oe&&_e(e.getGui(),t)}setElementDisabled(e,t){e instanceof Oe&&Tt(e.getGui(),t)}attachElementOnChange(e,t){e instanceof is&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,s)=>{this.forEachPositionTypeInput(s,t,e)})}forEachPositionInput(e,t){let s=this.getConditionType(e);this.forEachPositionTypeInput(e,s,t)}forEachPositionTypeInput(e,t,s){let n=this.getNumberOfInputs(t),u=this.getInputs(e);for(let m=0;m<u.length;m++){let w=u[m];w!=null&&s(w,m,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){let t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(s=>s==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){let e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,s)=>this.resetJoinOperatorAnd(t,s,this.joinOperatorId+s)),this.eJoinOperatorsOr.forEach((t,s)=>this.resetJoinOperatorOr(t,s,this.joinOperatorId+s)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),nt.resolve()}resetType(e){let s=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(s).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),s)}resetJoinOperatorOr(e,t,s){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),s)}resetJoinOperator(e,t,s,n,u){this.updateJoinOperatorDisabled(e.setValue(s,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${u}`).setLabel(n),t)}updateJoinOperatorsDisabled(){let e=(t,s)=>this.updateJoinOperatorDisabled(t,s);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){let s=this.mapValuesFromModel(e);this.forEachInput((n,u,m)=>{m===t&&this.setElementValue(n,s[u]!=null?s[u]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,s,n)=>{this.setElementValue(t,s===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,s=>{this.attachElementOnChange(s,this.listener)}))}individualConditionPasses(e,t){let s=this.getCellValue(e.node),n=this.mapValuesFromModel(t),u=this.optionsFactory.getCustomOption(t.type),m=ib(u,n,s);return m??(s==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,s,t,e))}hasInvalidInputs(){return!1}},Bd=class extends _d{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){let{includeBlanksInEquals:t,includeBlanksInNotEqual:s,includeBlanksInGreaterThan:n,includeBlanksInLessThan:u,includeBlanksInRange:m}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(s)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(u)return!0;break;case"inRange":if(m)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,s){let n=s.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";let u=this.comparator(),m=e[0]!=null?u(e[0],t):0;switch(n){case"equals":return m===0;case"notEqual":return m!==0;case"greaterThan":return m>0;case"greaterThanOrEqual":return m>=0;case"lessThan":return m<0;case"lessThanOrEqual":return m<=0;case"inRange":{let w=u(e[1],t);return this.scalarFilterParams.inRangeInclusive?m>=0&&w<=0:m>0&&w<0}case"blank":return zo(t);case"notBlank":return!zo(t);default:return Ce(76,{filterModelType:n}),!0}}},Nd=class{constructor(e,t,s,n,u,m){this.alive=!0,this.context=e,this.eParent=u;let w=Vg(t,s,n);w&&w.newAgStackInstance().then(y=>{if(!this.alive){e.destroyBean(y);return}if(this.dateComp=y,!y)return;u.appendChild(y.getGui()),y?.afterGuiAttached?.();let{tempValue:F,disabled:A}=this;F&&y.setDate(F),A!=null&&y.setDisabled?.(A),m?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){let t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){let t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){_e(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},Vd=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],Ar=class{constructor(e,t,s){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=s}getModelAsString(e){if(!e)return null;let t=e.operator!=null,s=this.getLocaleTextFunc();if(t){let n=e,m=(n.conditions??[]).map(y=>this.getModelAsString(y)),w=n.operator==="AND"?"andCondition":"orCondition";return m.join(` ${s(w,wl[w])} `)}else{if(e.type==="blank"||e.type==="notBlank")return s(e.type,e.type);{let n=e,u=this.optionsFactory.getCustomOption(n.type),{displayKey:m,displayName:w,numberOfInputs:y}=u||{};return m&&w&&y===0?(s(m,w),w):this.conditionToString(n,u)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){let t=this.valueFormatter;return t?t(e??null)??"":String(e)}},Hd=class extends Ar{constructor(e,t,s){super(t,s),this.dateFilterParams=e}conditionToString(e,t){let{type:s}=e,{numberOfInputs:n}=t||{},u=s=="inRange"||n===2,m=at(e.dateFrom),w=at(e.dateTo),y=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(u){let F=m!==null?yi(m,y):"null",A=w!==null?yi(w,y):"null";return`${F}-${A}`}return m!=null?yi(m,y):`${s}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},zd=1e3,Wd=1/0,nb=class extends Bd{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=zd,this.maxValidYear=Wd,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){let{dateFrom:t,dateTo:s,type:n}=e||{};return[t&&at(t)||null,s&&at(s)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator??rb}isValid(e){let t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);let t=(s,n)=>{if(e[s]!=null)if(isNaN(e[s]))Ce(82,{param:s});else return e[s]==null?n:Number(e[s]);return n};this.minValidYear=t("minValidYear",zd),this.maxValidYear=t("maxValidYear",Wd),this.minValidYear>this.maxValidYear&&Ce(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:at(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:at(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&Ce(84),this.filterModelFormatter=new Hd(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){let{beans:{userCompFactory:t,context:s,gos:n},dateFilterParams:u}=this,m=new Nd(s,t,u.colDef,Ae(n,{onDateChanged:()=>this.onUiChanged(),filterParams:u,location:"filter"}),e);return this.addDestroyFunc(()=>m.destroy()),m}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return Vd}createValueElement(){let t=Xe(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,s,n){let m=Xe(this.beans).createElement("div");m.classList.add(`ag-filter-${n}`),m.classList.add(`ag-filter-date-${n}`),t.push(m),e.appendChild(m),s.push(this.createDateCompWrapper(m))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Oi(this.eConditionPanelsFrom,e,t),Oi(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,s){Oi(e,t,s).forEach(u=>u.destroy())}isValidDateValue(e){if(e===null)return!1;let{minValidDate:t,maxValidDate:s,minValidYear:n,maxValidYear:u}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(s){if(e>s)return!1}else if(e.getUTCFullYear()>u)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((s,n,u,m)=>{u!==e||!t||n>=m||(t=t&&this.isValidDateValue(s.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){let t=this.getConditionType(e),s={},n=this.getValues(e);return n.length>0&&(s.dateFrom=vt(n[0])),n.length>1&&(s.dateTo=vt(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...s}}resetPlaceholder(){let e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),s=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(s)})}getInputs(e){let{dateConditionFromComps:t,dateConditionToComps:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){let t=[];return this.forEachPositionInput(e,(s,n,u,m)=>{n<m&&t.push(s.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function rb(e,t){let s=t;return s<e?-1:s>e?1:0}var Ud=class extends Oe{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}let t=e.operator,s;t?s=e.conditions[0]:s=e,this.lastType=s.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;let s=e;return this.isTypeEditable(s.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){let s=new Gd;this.optionsFactory=s,s.init(e.filterParams,this.getDefaultOptions());let n=s.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;let u=this.isTypeEditable(n);this.setEditable(u)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){let t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){let t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},ab={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},lb=class extends Ud{constructor(){super(ab,[wi]),this.eReadOnlyText=Se,this.eDateWrapper=Se}getDefaultOptions(){return Vd}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Hd(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);let t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){let t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){let s=e?at(e.dateFrom):null;this.dateComp.setDate(s),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){_e(this.eDateWrapper,e),_e(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){let e=this.dateComp.getDate(),t=vt(e);this.params.parentFilterInstance(s=>{if(s){let n=at(t);s.onFloatingFilterChanged(this.lastType||null,n)}})}getDateComponentParams(){let{filterParams:e,column:t}=this.params,s=An(e,this.defaultDebounceMs);return Ae(this.gos,{onDateChanged:qe(this,this.onDateChanged.bind(this),s),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){let{beans:{context:e,userCompFactory:t},eDateWrapper:s,params:n}=this;this.dateComp=new Nd(e,t,n.column.getColDef(),this.getDateComponentParams(),s,u=>{u.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},cb={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},db=class extends Oe{constructor(){super(cb,[wi]),this.eDateInput=Se,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);let t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){let t=this.eDateInput.getInputElement(),s=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=s&&Ve(),t.type=s?"date":"text";let{minValidYear:n,maxValidYear:u,minValidDate:m,maxValidDate:w,buttons:y}=e.filterParams||{};if(m&&n&&Ce(85),w&&u&&Ce(86),m&&w){let[F,A]=[m,w].map(I=>I instanceof Date?I:at(I));F&&A&&F.getTime()>A.getTime()&&Ce(87)}m?m instanceof Date?t.min=yi(m):t.min=m:n&&(t.min=`${n}-01-01`),w?w instanceof Date?t.max=yi(w):t.max=w:u&&(t.max=`${u}-12-31`),this.isApply=e.location==="floatingFilter"&&!!y?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return at(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(vt(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},jd=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Kd=class extends Ar{conditionToString(e,t){let{numberOfInputs:s}=t||{},{filter:n,filterTo:u,type:m}=e,w=m=="inRange"||s===2,y=this.formatValue.bind(this);return w?`${y(n)}-${y(u)}`:n!=null?y(n):`${m}`}};function Tr(e){let{allowedCharPattern:t}=e??{};return t??null}var ub=class extends Bd{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){let{filter:t,filterTo:s,type:n}=e||{};return[this.processValue(t),this.processValue(s)].slice(0,this.getNumberOfInputs(n))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Kd(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return jd}setElementValue(e,t,s){let{numberFormatter:n}=this.numberFilterParams,u=!s&&n?n(t??null):t;super.setElementValue(e,u)}createValueElement(){let e=Tr(this.numberFilterParams),t=Ke({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,s,n){let u=this.createManagedBean(n?new os({allowedCharPattern:n}):new xo);u.addCssClass(`ag-filter-${s}`),u.addCssClass("ag-filter-filter"),t.push(u),e.appendChild(u.getGui())}removeValueElements(e,t){let s=n=>this.removeComponents(n,e,t);s(this.eValuesFrom),s(this.eValuesTo)}getValues(e){let t=[];return this.forEachPositionInput(e,(s,n,u,m)=>{n<m&&t.push(this.processValue(this.stringToFloat(s.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Lt(e);t!=null&&t.trim()===""&&(t=null);let s=this.numberFilterParams.numberParser;return s?s(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){let t=this.getConditionType(e),s={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(s.filter=n[0]),n.length>1&&(s.filterTo=n[1]),s}getInputs(e){let{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},$d=class extends he{constructor(e){super(),this.params=e,this.eInput=Se,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new os(this.params?.config));let t=this.eInput.getGui();e.appendChild(t);let s=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:s,keydown:s})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){let{eInput:s}=this;s.setInputAriaLabel(e),t!==void 0&&s.setAutoComplete(t)}};function Xd(e){let t=e?.trim();return t===""?e:t}var hb={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},Yd=class extends Ud{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Se,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(hb)}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;let t=e.browserAutoComplete??!1,{inputSvc:s,defaultDebounceMs:n,readOnly:u}=this;if(s.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=vo(e.filterParams),!u){let m=An(e.filterParams,n),w=qe(this,this.syncUpWithParentFilter.bind(this),m);s.setValueChangedListener(w)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){let{inputSvc:t}=this,s=t.getValue();tt(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(s,!0)}syncUpWithParentFilter(e){let t=e.key===de.ENTER;if(this.applyActive&&!t)return;let{inputSvc:s,params:n}=this,u=s.getValue();n.filterParams.trimInput&&(u=Xd(u),s.setValue(u,!0)),n.parentFilterInstance(m=>{m?.onFloatingFilterChanged(this.lastType||null,u||null)})}setEditable(e){this.inputSvc.setEditable(e)}},gb=class extends he{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new xo),this.eTextInput=this.createManagedBean(new os),this.eTextInput.setDisabled(!0);let t=this.eNumberInput.getGui(),s=this.eTextInput.getGui();e.appendChild(t),e.appendChild(s),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(s,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},pb=class extends Yd{init(e){super.init(e),this.filterModelFormatter=new Kd(this.getLocaleTextFunc.bind(this),this.optionsFactory,e.filterParams?.numberFormatter)}refresh(e){Tr(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return jd}createFloatingFilterInputService(e){return this.allowedCharPattern=Tr(e.filterParams),this.allowedCharPattern?this.createManagedBean(new $d({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new gb)}},Zd=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Qd=class extends Ar{conditionToString(e,t){let{numberOfInputs:s}=t||{},{filter:n,filterTo:u,type:m}=e;return m=="inRange"||s===2?`${n}-${u}`:n!=null?`${n}`:`${m}`}},fb=class extends _d{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:s})=>{if(s==null)return!1;switch(e){case"contains":return t.indexOf(s)>=0;case"notContains":return t.indexOf(s)<0;case"equals":return t===s;case"notEqual":return t!=s;case"startsWith":return t.indexOf(s)===0;case"endsWith":{let n=t.lastIndexOf(s);return n>=0&&n===t.length-s.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new Qd(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){let t=this.getConditionType(e),s={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(s.filter=n[0]),n.length>1&&(s.filterTo=n[1]),s}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){let{eValuesFrom:t,eValuesTo:s}=this;return e>=t.length?[null,null]:[t[e],s[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){let s=[];return this.forEachPositionInput(e,(n,u,m,w)=>{if(u<w){let y=Lt(n.getValue());t&&this.textFilterParams.trimInput&&(y=Xd(y)??null,n.setValue(y,!0)),s.push(y)}}),s}getDefaultFilterOptions(){return Zd}createValueElement(){let e=Ke({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,s){let n=this.createManagedBean(new os);n.addCssClass(`ag-filter-${s}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){let s=n=>this.removeComponents(n,e,t);s(this.eValuesFrom),s(this.eValuesTo)}mapValuesFromModel(e){let{filter:t,filterTo:s,type:n}=e||{};return[t||null,s||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,s,n){let u=e.map(_=>this.formatter(_))||[],m=this.formatter(t),{api:w,colDef:y,column:F,context:A,textFormatter:I}=this.textFilterParams;if(s.type==="blank")return zo(t);if(s.type==="notBlank")return!zo(t);let L={api:w,colDef:y,column:F,context:A,node:n.node,data:n.data,filterOption:s.type,value:m,textFormatter:I};return u.some(_=>this.matcher({...L,filterText:_}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},mb=class extends Yd{init(e){super.init(e),this.filterModelFormatter=new Qd(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return Zd}createFloatingFilterInputService(){return this.createManagedBean(new $d)}};function Cb(e){return!!e.quickFilter?.isFilterPresent()}function vb(e){return e.quickFilter?.getText()}function wb(e){e.quickFilter?.resetCache()}var Sb=class extends he{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){let e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",s=>this.setFilter(s.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){let{autoColSvc:e,colModel:t,gos:s,pivotResultCols:n}=this.beans,u=t.isPivotMode(),m=e?.getColumns(),w=t.getColDefCols(),y=(u&&!s.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:w)??[];m&&(y=y.concat(m)),this.colsToUse=s.get("includeHiddenColumnsInQuickFilter")?y:y.filter(F=>F.isVisible()||F.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){let t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(s=>t?this.doesRowPassCache(e,s):this.doesRowPassNoCache(e,s))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){let{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return we(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){Ce(70,{newFilter:e});return}let t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){let e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),s=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,s&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(s=>{let n=this.getTextForColumn(s,e);return we(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let s;e?(this.checkGenerateAggText(t),s=t.quickFilterAggregateText):s=this.getAggText(t);let{quickFilterParts:n,matcher:u}=this;return u(n,s)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let s=this.beans.filterValueSvc.getValue(e,t),n=e.getColDef();if(n.getQuickFilterText){let u=Ae(this.gos,{value:s,node:t,data:t.data,column:e,colDef:n});s=n.getQuickFilterText(u)}return we(s)?s.toString().toUpperCase():null}getAggText(e){let t=[];return this.colsToUse.forEach(s=>{let n=this.getTextForColumn(s,e);we(n)&&t.push(n)}),t.join(`
`)}},yb={moduleName:"ClientSideRowModelFilter",version:Pe,rowModels:["clientSide"],beans:[Dy]},Wo={moduleName:"FilterCore",version:Pe,beans:[Qy],apiFunctions:{isAnyFilterPresent:Yy,onFilterChanged:Zy},css:[By],dependsOn:[yb]},Dr={moduleName:"FilterValue",version:Pe,beans:[qy]},Gi={moduleName:"ColumnFilter",version:Pe,beans:[Xy,Jy],dynamicBeans:{headerFilterCellCtrl:Iy},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Ny,getColumnFilterInstance:Vy,destroyFilter:Hy,setFilterModel:zy,getFilterModel:Wy,getColumnFilterModel:Uy,setColumnFilterModel:jy,showColumnFilter:Ky},dependsOn:[Wo,ki,Dr,Dd]},Jd={moduleName:"CustomFilter",version:Pe,userComponents:{agReadOnlyFloatingFilter:tb},dependsOn:[Gi]},qd={moduleName:"TextFilter",version:Pe,dependsOn:[Gi],userComponents:{agTextColumnFilter:fb,agTextColumnFloatingFilter:mb}},eu={moduleName:"NumberFilter",version:Pe,dependsOn:[Gi],userComponents:{agNumberColumnFilter:ub,agNumberColumnFloatingFilter:pb}},tu={moduleName:"DateFilter",version:Pe,dependsOn:[Gi],userComponents:{agDateColumnFilter:nb,agDateInput:db,agDateColumnFloatingFilter:lb}},bb={moduleName:"QuickFilterCore",version:Pe,rowModels:["clientSide"],beans:[Sb],dependsOn:[Wo,Dr]},su={moduleName:"QuickFilter",version:Pe,apiFunctions:{isQuickFilterPresent:Cb,getQuickFilter:vb,resetQuickFilter:wb},dependsOn:[bb]},iu={moduleName:"ExternalFilter",version:Pe,dependsOn:[Wo]},_i=class{constructor(e){this.cellValueChanges=e}},Ir=class extends _i{constructor(e,t,s,n){super(e),this.initialRange=t,this.finalRange=s,this.ranges=n}},Rb=10,ou=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Rb,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Pb=class extends he{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{let t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=this.activeCellEdit!==null&&Fn(this.activeCellEdit,t),n=this.activeRowEdit!==null&&ll(this.activeRowEdit,t);if(!(s||n||this.isPasting||this.isRangeInAction))return;let{rowPinned:m,rowIndex:w,column:y,oldValue:F,value:A}=e,I={rowPinned:m,rowIndex:w,columnId:y.getColId(),newValue:A,oldValue:F};this.cellValueChanges.push(I)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){let{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;let s=e.get("undoRedoCellEditingLimit");if(s<=0)return;this.undoStack=new ou(s),this.redoStack=new ou(s),this.addListeners();let n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:u=>{u.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,u=>{this.gridBodyCtrl=u.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){let{eventSvc:t,undoStack:s,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});let u=this.undoRedo(s,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:u})}redo(e){let{eventSvc:t,undoStack:s,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});let u=this.undoRedo(n,s,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:u})}undoRedo(e,t,s,n,u){if(!e)return!1;let m=e.pop();return!m||!m.cellValueChanges?!1:(this.processAction(m,w=>w[n],u),m instanceof Ir?this.processRange(m.ranges||[m[s]]):this.processCell(m.cellValueChanges),t.push(m),!0)}processAction(e,t,s){e.cellValueChanges.forEach(n=>{let{rowIndex:u,rowPinned:m,columnId:w}=n,y={rowIndex:u,rowPinned:m},F=pi(this.beans,y);F.displayed&&F.setDataValue(w,t(n),s)})}processRange(e){let t,s=this.beans.rangeSvc;s.removeAllCellRanges(!0),e.forEach((n,u)=>{if(!n)return;let m=n.startRow,w=n.endRow;u===e.length-1&&(t={rowPinned:m.rowPinned,rowIndex:m.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));let y={rowStartIndex:m.rowIndex,rowStartPinned:m.rowPinned,rowEndIndex:w.rowIndex,rowEndPinned:w.rowPinned,columnStart:n.startColumn,columns:n.columns};s.addCellRange(y)})}processCell(e){let t=e[0],{rowIndex:s,rowPinned:n}=t,u={rowIndex:s,rowPinned:n},m=pi(this.beans,u),w={rowPinned:t.rowPinned,rowIndex:m.rowIndex,columnId:t.columnId};this.setLastFocusedCell(w)}setLastFocusedCell(e){let{rowIndex:t,columnId:s,rowPinned:n}=e,{colModel:u,focusSvc:m,rangeSvc:w}=this.beans,y=u.getCol(s);if(!y)return;let{scrollFeature:F}=this.gridBodyCtrl;F.ensureIndexVisible(t),F.ensureColumnVisible(y);let A={rowIndex:t,column:y,rowPinned:n};m.setFocusedCell({...A,forceBrowserFocus:!0}),w?.setRangeToCell(A)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{let e=new _i(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){let s=new _i(this.cellValueChanges);this.pushActionsToUndoStack(s)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{let e=new _i(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{let t=new Ir(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e,{rangeSvc:t,gos:s}=this.beans;t&&kt(s)?e=new Ir(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new _i(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Mb=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",Fb={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},xb=class extends Fs{constructor(){super(Fb,[Fo]),this.eCheckbox=Se}init(e){this.params=e;let t=e.value??void 0,s=this.eCheckbox;s.setValue(t),s.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(s,{fieldValueChanged:u=>this.setAriaLabel(u.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){let t=this.getLocaleTextFunc(),s=Ie(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${s})`)}},Uo=class extends Fs{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=Se}init(e){this.params=e;let{cellStartedEdit:t,eventKey:s,suppressPreventDefault:n}=e,u=this.eInput;this.cellEditorInput.init(u,e);let m,w=!0;t?(this.focusAfterAttached=!0,s===de.BACKSPACE||s===de.DELETE?m="":s&&s.length===1?n?w=!1:m=s:(m=this.cellEditorInput.getStartValue(),s!==de.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,m=this.cellEditorInput.getStartValue()),w&&m!=null&&u.setStartValue(m),this.addManagedElementListeners(u.getGui(),{keydown:y=>{let{key:F}=y;(F===de.PAGE_UP||F===de.PAGE_DOWN)&&y.preventDefault()}})}afterGuiAttached(){let e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ve()||t.getFocusableElement().focus();let s=t.getInputElement();this.highlightAllOnFocus?s.select():this.cellEditorInput.setCaret?.()}focusIn(){let e=this.eInput,t=e.getFocusableElement(),s=e.getInputElement();t.focus(),s.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Eb={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Ab=class{getTemplate(){return Eb}getAgComponents(){return[tc]}init(e,t){this.eInput=e,this.params=t;let{min:s,max:n,step:u}=t;s!=null&&e.setMin(s),n!=null&&e.setMax(n),u!=null&&e.setStep(u)}getValue(){let{eInput:e,params:t}=this,s=e.getDate();return!we(s)&&!we(t.value)?t.value:s??null}getStartValue(){let{value:e}=this.params;if(e instanceof Date)return vt(e,!1)}},Tb=class extends Uo{constructor(){super(new Ab)}},Db={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Ib=class{constructor(e){this.getDataTypeService=e}getTemplate(){return Db}getAgComponents(){return[tc]}init(e,t){this.eInput=e,this.params=t;let{min:s,max:n,step:u}=t;s!=null&&e.setMin(s),n!=null&&e.setMax(n),u!=null&&e.setStep(u)}getValue(){let{params:e,eInput:t}=this,s=this.formatDate(t.getDate());return!we(s)&&!we(e.value)?e.value:e.parseValue(s??"")}getStartValue(){return vt(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){let t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):at(e)??void 0}formatDate(e){let t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):vt(e??null,!1)??void 0}},Lb=class extends Uo{constructor(){super(new Ib(()=>this.beans.dataTypeSvc))}},kb={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},Ob=class extends Fs{constructor(){super(kb,[Vf]),this.eTextArea=Se}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){let t=e.key;(t===de.LEFT||t===de.UP||t===de.RIGHT||t===de.DOWN||e.shiftKey&&t===de.ENTER)&&e.stopPropagation()}afterGuiAttached(){let e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){let e=this.eTextArea.getValue(),t=this.params;return!we(e)&&!we(t.value)?t.value:t.parseValue(e)}},Gb={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},_b=class{getTemplate(){return Gb}getAgComponents(){return[ql]}init(e,t){this.eInput=e,this.params=t;let{max:s,min:n,precision:u,step:m}=t;s!=null&&e.setMax(s),n!=null&&e.setMin(n),u!=null&&e.setPrecision(u),m!=null&&e.setStep(m);let w=e.getInputElement();t.preventStepping?e.addManagedElementListeners(w,{keydown:this.preventStepping}):t.showStepperButtons&&w.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===de.UP||e.key===de.DOWN)&&e.preventDefault()}getValue(){let{eInput:e,params:t}=this,s=e.getValue();if(!we(s)&&!we(t.value))return t.value;let n=t.parseValue(s);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){Ve()&&this.eInput.getInputElement().focus({preventScroll:!0})}},Bb=class extends Uo{constructor(){super(new _b)}},Nb={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},Vb=class extends Fs{constructor(){super(Nb,[rc]),this.eSelect=Se,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;let{eSelect:t,valueSvc:s,gos:n}=this,{values:u,value:m,eventKey:w}=e;if(He(u)){Ce(58);return}this.startedByEnter=w!=null?w===de.ENTER:!1;let y=!1;u.forEach(L=>{let _={value:L},H=s.formatValue(e.column,null,L),z=H!=null;_.text=z?H:L,t.addOption(_),y=y||m===L}),y?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);let{valueListGap:F,valueListMaxWidth:A,valueListMaxHeight:I}=e;F!=null&&t.setPickerGap(F),I!=null&&t.setPickerMaxHeight(I),A!=null&&t.setPickerMaxWidth(A),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Hb={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},zb=class{getTemplate(){return Hb}getAgComponents(){return[wi]}init(e,t){this.eInput=e,this.params=t;let s=t.maxLength;s!=null&&e.setMaxLength(s)}getValue(){let{eInput:e,params:t}=this,s=e.getValue();return!we(s)&&!we(t.value)?t.value:t.parseValue(s)}getStartValue(){let e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){let e=this.eInput,t=e.getValue(),s=we(t)&&t.length||0;s&&e.getInputElement().setSelectionRange(s,s)}},nu=class extends Uo{constructor(){super(new zb)}};function Wb(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Ub(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function ru(e,t,s="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,s),"ensureVisible")}function au(e,t,s){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,s),"ensureVisible")}function jb(e,t,s=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,s),"ensureVisible")}function Kb(e){e.undoRedo?.undo("api")}function $b(e){e.undoRedo?.redo("api")}function Xb(e,t={}){let s=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>{let u=n.comp?.getCellEditor();u&&s.push(Vs(u))}),s}function Yb(e){let t=[];return e.rowRenderer.getAllCellCtrls().forEach(s=>{if(s.editing){let{cellPosition:n}=s;t.push(n)}}),t}function Zb(e,t=!1){e.editSvc?.stopAllEditing(t)}function Qb(e,t){let s=e.colModel.getCol(t.colKey);if(!s){Ce(12,{colKey:t.colKey});return}let n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:s};t.rowPinned==null&&au(e,t.rowIndex),ru(e,t.colKey);let m=Rs(e,n);if(!m)return;let{focusSvc:w,gos:y,editSvc:F}=e,A=()=>{let L=Ue(e),_=m.eGui;return L!==_&&!!_?.contains(L)},I=y.get("stopEditingWhenCellsLoseFocus")&&A();(I||!w.isCellFocused(n))&&w.setFocusedCell({...n,forceBrowserFocus:I,preventScrollOnBrowserFocus:!0}),F?.startRowOrCellEdit(m,t.key)}function Jb(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function qb(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var e0={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},t0=class extends Fs{constructor(e){super(e0),this.params=e}postConstruct(){us(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){let e=this.getGui(),t=this.params,s=n=>{On(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:s})}},s0=class extends he{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,s=!1,n=null){if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,s,n)}),!0;let u=this.createCellEditorParams(e,t,s),m=e.column.getColDef(),w=za(this.beans.userCompFactory,m,u),y=w?.popupFromSelector!=null?w.popupFromSelector:!!m.cellEditorPopup,F=w?.popupPositionFromSelector!=null?w.popupPositionFromSelector:m.cellEditorPopupPosition;return lu(e,!0,w),e.comp.setEditDetails(w,y,F,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!w?.params?.suppressPreventDefault}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;let{comp:s,column:n,rowNode:u}=e,{newValue:m,newValueExists:w}=i0(t,s),y=this.beans.valueSvc.getValueForDisplay(n,u),F=!1;return w&&(F=o0(e,y,m,u,n)),lu(e,!1,void 0),s.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:y,newValue:m,valueChanged:F}),F}handleColDefChanged(e){let t=e.comp?.getCellEditor();if(t?.refresh){let{eventKey:s,cellStartedEdit:n}=e.editCompDetails.params,u=this.createCellEditorParams(e,s,n),m=e.column.getColDef(),w=za(this.beans.userCompFactory,m,u);t.refresh(w.params)}}setFocusOutOnEditor(e){if(!e.editing)return;let t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;let t=e.comp,s=t.getCellEditor();s?.focusIn?s.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>t.getCellEditor()?.focusIn?.()))}createPopupEditorWrapper(e){return new t0(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){if(e.stoppingRowEdit)return;let s=e.getAllCellCtrls(),n=e.editing;e.stoppingRowEdit=!0;let u=!1;for(let m of s){let w=m.stopEditing(t);n&&!t&&!u&&w&&(u=!0)}u&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.beans.rowEditSvc?.setEditing(e,!1),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;let t=s=>{let n=s.relatedTarget;if(Is(n)===null){this.stopAllEditing();return}let u=e.some(m=>m.contains(n))&&sl(this.gos,n);if(!u){let m=this.beans.popupSvc;u=!!m&&(m.getActivePopups().some(w=>w.contains(n))||m.isElementWithinCustomPopup(n))}u||this.stopAllEditing()};e.forEach(s=>this.addManagedElementListeners(s,{focusout:t}))}setInlineEditingCss(e){let t=e.editing||e.getAllCellCtrls().some(s=>s.editing);e.forEachGui(void 0,s=>{s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,s=null){return e.comp?this.gos.get("editType")==="fullRow"?this.beans.rowEditSvc?.startEditing(e.rowCtrl,t,e)??!1:this.startEditing(e,t,!0,s):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,s)}),!0)}stopRowOrCellEdit(e,t=!1,s=!1,n=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),s||this.navigateAfterEdit(n,e.cellPosition)}createCellEditorParams(e,t,s){let{column:n,rowNode:u,cellPosition:{rowIndex:m}}=e,{valueSvc:w,gos:y}=this.beans;return Ae(y,{value:w.getValueForDisplay(n,u),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:m,node:u,data:u.data,cellStartedEdit:s,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:F=>w.parseValue(n,u,F,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){let n=e?de.UP:de.DOWN;this.beans.navigation?.navigateToNextCell(null,n,t,!1)}}};function lu(e,t,s){e.editCompDetails=s,e.editing!==t&&(e.editing=t)}function i0(e,t){let s={newValueExists:!1};if(e)return s;let n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?s:{newValue:n.getValue(),newValueExists:!0}}function o0(e,t,s,n,u){if(s===t)return!1;e.suppressRefreshCell=!0;let m=n.setDataValue(u,s,"edit");return e.suppressRefreshCell=!1,m}var n0=class extends he{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,s=null,n=null){if(e.editing)return!1;let u=!0,m=!1,{editSvc:w}=this.beans;return e.getAllCellCtrls().forEach(y=>{let F=y===s;F?u=w?.startEditing(y,t,F,n)??!1:w?.startEditing(y,null,F,n),m||(m=y.editing)}),m&&this.setEditing(e,!0),u}setEditing(e,t){e.editing=t,e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));let s=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(s)}},$t={moduleName:"EditCore",version:Pe,beans:[s0,n0],apiFunctions:{getCellEditorInstances:Xb,getEditingCells:Yb,stopEditing:Zb,startEditingCell:Qb},dependsOn:[ki],css:[Mb]},cu={moduleName:"UndoRedoEdit",version:Pe,beans:[Pb],apiFunctions:{undoCellEditing:Kb,redoCellEditing:$b,getCurrentUndoSize:Jb,getCurrentRedoSize:qb},dependsOn:[$t]},du={moduleName:"TextEditor",version:Pe,userComponents:{agCellEditor:nu,agTextCellEditor:nu},dependsOn:[$t]},uu={moduleName:"NumberEditor",version:Pe,userComponents:{agNumberCellEditor:{classImp:Bb,params:{suppressPreventDefault:!0}}},dependsOn:[$t]},hu={moduleName:"DateEditor",version:Pe,userComponents:{agDateCellEditor:Tb,agDateStringCellEditor:Lb},dependsOn:[$t]},gu={moduleName:"CheckboxEditor",version:Pe,userComponents:{agCheckboxCellEditor:xb},dependsOn:[$t]},pu={moduleName:"SelectEditor",version:Pe,userComponents:{agSelectCellEditor:Vb},dependsOn:[$t]},fu={moduleName:"LargeTextEditor",version:Pe,userComponents:{agLargeTextCellEditor:Ob},dependsOn:[$t]},mu={moduleName:"CustomEditor",version:Pe,dependsOn:[$t]},r0=class extends he{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,vs(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){let t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),xa(e))}createColumns(e,t){let s=()=>{ci(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,m=(this.columns?.treeDepth??-1)==n,w=this.generateSelectionCols();if(Fa(w,this.columns?.list??[])&&m)return;s();let{colGroupSvc:F}=this.beans,A=F?.findDepth(e.tree)??0,I=F?.balanceTreeForAutoCols(w,A)??[];this.columns={list:w,tree:I,treeDepth:A,map:{}},t(_=>{if(!_)return null;let H=_.filter(z=>!_t(z));return[...w,...H]})}updateColumns(e){let t=vs(e.source),s=e.currentValue;this.columns?.list.forEach(n=>{let u=this.createSelectionColDef(s);n.setColDef(u,null,t),ut(this.beans,{state:[{colId:n.getColId(),...u}]},t)})}getColumn(e){return this.columns?.list.find(t=>mn(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){let{gos:e,beans:t}=this,s=e.get("rowSelection");if(typeof s!="object"||!Zt(e))return!1;let n=(t.autoColSvc?.getColumns()?.length??0)>0;if(s.checkboxLocation==="autoGroupColumn"&&n)return!1;let u=!!fs(s),m=si(s);return u||m}createSelectionColDef(e){let{gos:t}=this.beans,s=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:u,spanRows:m,...w}=s??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(y,F,A,I){let L=A.isSelected(),_=I.isSelected();return L===_?0:L?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...w,colId:pn}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];let e=this.createSelectionColDef(),t=e.colId;this.beans.validation?.validateColDef(e,t,!0);let s=new oo(e,null,t,!1);return this.createBean(s),[s]}onSelectionOptionsChanged(e,t,s){let n=t&&typeof t!="string"?fs(t):void 0,u=e&&typeof e!="string"?fs(e):void 0,m=n!==u,w=t&&typeof t!="string"?si(t):void 0,y=e&&typeof e!="string"?si(e):void 0,F=w!==y,A=ii(e),I=ii(t);(m||F||A!==I)&&this.beans.colModel.refreshAll(s)}destroy(){ci(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;let t=this.beans,s=t.visibleCols.getAllTrees()??[];if(s.length!==0){if(!s.some(Cu)){let n=Ns(t).find(u=>_t(u.colId));n&&ut(t,{state:[{colId:n.colId,hide:!n.hide}]},e)}if(s.length===1){let n=s[0],u=vu(n);if(!u)return;ut(t,{state:[{colId:u.getColId(),hide:!0}]},e)}}}},Cu=e=>e.isColumn?_t(e):e.getChildren()?.some(Cu)??!1;function vu(e){if(e.isColumn)return _t(e)?e:null;let t=e.getChildren()??[];for(let s of t){let n=vu(s);if(n)return n}return null}function a0(e,t){if(!t.nodes.every(w=>w.rowPinned?(Ce(59),!1):w.id===void 0?(Ce(60),!1):!0))return;let{nodes:n,source:u,newValue:m}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:u??"api",newValue:m})}function l0(e,t,s="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:s,selectAll:t})}function c0(e,t,s="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:s,selectAll:t})}function d0(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function u0(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function h0(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function g0(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function p0(e){return e.selectionSvc?.getSelectedNodes()??[]}function f0(e){return e.selectionSvc?.getSelectedRows()??[]}var m0=class extends Yl{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();let{gos:e}=this;this.mode=oi(e),this.groupSelectsDescendants=_s(e),this.groupSelectsFiltered=ni(e)==="filteredDescendants",this.masterSelectsDetail=ha(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{let t=_s(e),s=oi(e),n=ni(e)==="filteredDescendants";this.masterSelectsDetail=ha(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||s!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=s)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,s){if(this.isRowSelectionBlocked(t))return 0;let n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,s);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,s),this.selectRange(n.select,!0,s)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:s}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:s,nodes:n,event:u,source:m}){if(!Zt(this.gos)&&e)return Ce(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return Ce(130),0;let w=0;for(let y=0;y<n.length;y++){let F=n[y],A=jo(F),I=this.groupSelectsFiltered&&A.group;if(A.rowPinned){Ce(59);continue}if(A.id===void 0){Ce(60);continue}I||this.selectRowNode(A,e,u,m)&&(this.detailSelection.delete(A.id),w++),this.groupSelectsDescendants&&A.childrenAfterGroup?.length&&(w+=this.selectChildren(A,e,m))}return s||(e&&(t||!this.isMultiSelect())&&(w+=this.clearOtherNodes(jo(n[0]),m)),w>0&&(this.updateGroupsFromChildrenSelections(m),this.dispatchSelectionChanged(m))),w}selectRange(e,t,s){let n=0;return e.forEach(u=>{if(u.group&&this.groupSelectsDescendants)return;this.selectRowNode(u,t,void 0,s)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)),n}selectChildren(e,t,s){let n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:s,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){let e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){let t=new Map;this.selectedNodes.forEach((s,n)=>{e(s)&&t.set(n,s)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;let{gos:s,rowModel:n}=this.beans;if(!st(s,n))return!1;let u=n.rootNode;if(!u)return!1;t||(t=new Ii(!0,u),t.active=!1);let m=!1;return t.forEachChangedNodeDepthFirst(w=>{if(w!==u){let y=this.calculateSelectedFromChildren(w);m=this.selectRowNode(w,y===null?!1:y,void 0,e)||m}}),m}clearOtherNodes(e,t){let s=new Map,n=0;return this.selectedNodes.forEach(u=>{if(u&&u.id!==e.id){let m=this.selectedNodes.get(u.id);n+=this.setNodesSelected({nodes:[m],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&u.parent&&s.set(u.parent.id,u.parent)}}),s.forEach(u=>{let m=this.calculateSelectedFromChildren(u);this.selectRowNode(u,m===null?!1:m,void 0,t)}),n}onRowSelected(e){let t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;let t=new Ps(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){let t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){let{gos:e,rowModel:t}=this.beans;if(!st(e,t))return;let s=t.getTopLevelNodes();if(s===null)return;let n=[];function u(m){for(let w=0,y=m.length;w<y;w++){let F=m[w];F.isSelected()?n.push(F):F.group&&F.childrenAfterGroup&&u(F.childrenAfterGroup)}}return u(s),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){let s=st(this.gos),n=!1,u=m=>{let w=this.selectRowNode(jo(m),!1,void 0,e);n||(n=w)};if(t==="currentPage"||t==="filtered"){if(!s){Ge(102);return}this.getNodesToSelect(t).forEach(u)}else this.selectedNodes.forEach(u),this.reset(e);if(this.selectionCtx.selectAll=!1,s&&this.groupSelectsDescendants){let m=this.updateGroupsFromChildrenSelections(e);n||(n=m)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,s=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&s++)}),{selectedCount:t,notSelectedCount:s}}getSelectAllState(e){let{selectedCount:t,notSelectedCount:s}=this.getSelectedCounts(e);return wu(t,s)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];let t=[];if(e==="currentPage")return this.forEachNodeOnPage(n=>{if(!n.group){t.push(n);return}if(!n.expanded&&!n.footer){let u=m=>{t.push(m),m.childrenAfterFilter?.length&&m.childrenAfterFilter.forEach(u)};u(n);return}this.groupSelectsDescendants||t.push(n)}),t;let s=this.beans.rowModel;return e==="filtered"?(s.forEachNodeAfterFilter(n=>{t.push(n)}),t):(s.forEachNode(n=>{t.push(n)}),t)}forEachNodeOnPage(e){let{pageBounds:t,rowModel:s}=this.beans,n=t.getFirstRow(),u=t.getLastRow();for(let m=n;m<=u;m++){let w=s.getRow(m);w&&e(w)}}selectAllRowNodes(e){let{gos:t,selectionCtx:s}=this;if(!Zt(t)){Ce(132);return}if(ca(t)&&!Gs(t)){Ce(130);return}if(!this.canSelectAll())return;let{source:n,selectAll:u}=e,m=!1;if(this.getNodesToSelect(u).forEach(w=>{let y=this.selectRowNode(jo(w),!0,void 0,n);m||(m=y)}),s.selectAll=!0,st(t)&&this.groupSelectsDescendants){let w=this.updateGroupsFromChildrenSelections(n);m||(m=w)}m&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){Ge(103);return}let s=new Set(e),n=[];this.beans.rowModel.forEachNode(u=>{s.has(u.id)&&n.push(u)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}canSelectAll(){let{gos:e,rowModel:t}=this.beans;return st(e)?!0:(Ge(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){let{gos:t,rowModel:s}=this.beans;if(!Zt(t))return;let n="selectableChanged",u=e!==void 0,m=st(t)&&this.groupSelectsDescendants,w=[],y=F=>{if(u&&!F.group)return;if(m&&F.group){let I=F.childrenAfterGroup?.some(L=>L.selectable)??!1;this.setRowSelectable(F,I,!0);return}!this.updateRowSelectable(F,!0)&&F.isSelected()&&w.push(F)};if(m){if(e===void 0){let F=s.rootNode;e=F?new Ii(!1,F):void 0}e?.forEachChangedNodeDepthFirst(y,!u,!u)}else s.forEachNode(y);w.length&&this.setNodesSelected({nodes:w,newValue:!1,source:n}),!u&&m&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;let s=e.detailNode?.detailGridInfo?.api;if(!s)return;let n=C0(s);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){let m=this.detailSelection.get(e.id)??new Set;for(let w of s.getSelectedNodes())m.add(w.id);this.detailSelection.set(e.id,m)}}setDetailSelectionState(e,t,s){if(this.masterSelectsDetail){if(!Gs(t)){Ce(269);return}switch(e.isSelected()){case!0:{s.selectAll();break}case!1:{s.deselectAll();break}case void 0:{let n=this.detailSelection.get(e.id);if(n){let u=[];for(let m of n){let w=s.getRowNode(m);w&&u.push(w)}s.setNodesSelected({nodes:u,newValue:!0,source:"masterDetail"})}break}default:break}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function jo(e){return e.footer?e.sibling:e}function C0(e){let t=0,s=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&s++}),wu(t,s)}function wu(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var Su={moduleName:"SharedRowSelection",version:Pe,beans:[r0],apiFunctions:{setNodesSelected:a0,selectAll:l0,deselectAll:c0,selectAllFiltered:d0,deselectAllFiltered:u0,selectAllOnCurrentPage:h0,deselectAllOnCurrentPage:g0,getSelectedNodes:p0,getSelectedRows:f0}},yu={moduleName:"RowSelection",version:Pe,rowModels:["clientSide","infinite","viewport"],beans:[m0],dependsOn:[Su]};function v0(e){e.expansionSvc?.expandAll(!0)}function w0(e){e.expansionSvc?.expandAll(!1)}function S0(e){let t=Et(e),s=Fr(e);t?t.onRowHeightChanged():s&&s.onRowHeightChanged()}function y0(e,t,s){let n=Fr(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ge(238);return}n.setRowCount(t,s);return}Ge(28);return}let u=Vo(e);if(u){u.setRowCount(t,s);return}}function b0(e){return cs(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function R0(e){return e.rowModel.isLastRowIndexKnown()}var bu={moduleName:"CsrmSsrmSharedApi",version:Pe,apiFunctions:{expandAll:v0,collapseAll:w0,onRowHeightChanged:S0}},Ru={moduleName:"SsrmInfiniteSharedApi",version:Pe,apiFunctions:{setRowCount:y0,getCacheBlockState:b0,isLastRowIndexKnown:R0}},P0=class extends he{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[],t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){Ge(18),t||Ge(20);return}if(this.isGridApi(n))return n;let u=n;return"current"in u?u.current?.api:(u.api||Ge(19),u.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){let e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){let s=[];return e.columns?e.columns.forEach(n=>{s.push(t(n))}):e.column&&s.push(t(e.column)),s}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":Ce(21);break}})}processGroupOpenedEvent(e){let{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(s=>{let n=null;s&&(n=t.getProvidedColGroup(s.getGroupId())),!(s&&!n)&&t.setColumnGroupOpened(n,s.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){let t=e.column,s=null,n=this.beans,{colResize:u,ctrlsSvc:m,colModel:w}=n;if(t&&(s=w.getColDefCol(t.getColId())),t&&!s)return;let y=this.getMasterColumns(e);switch(e.type){case"columnMoved":{let L=e.api.getColumnState().map(_=>({colId:_.colId}));ut(n,{state:L,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{let L=e.api.getColumnState().map(_=>({colId:_.colId,hide:_.hide}));ut(n,{state:L},"alignedGridChanged")}break;case"columnPinned":{let L=e.api.getColumnState().map(_=>({colId:_.colId,pinned:_.pinned}));ut(n,{state:L},"alignedGridChanged")}break;case"columnResized":{let I=e,L={};y.forEach(_=>{L[_.getId()]={key:_.getColId(),newWidth:_.getActualWidth()}}),I.flexColumns?.forEach(_=>{L[_.getId()]&&delete L[_.getId()]}),u?.setColumnWidths(Object.values(L),!1,I.finished,"alignedGridChanged");break}}let A=m.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(I=>{I.setGridOption("alwaysShowVerticalScroll",A)})}},Pu={moduleName:"AlignedGrids",version:Pe,beans:[P0]},M0=class extends $l{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Lr=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function F0(e){if(He(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let s=0;s<t.length;s++){let n=t[s],u=s===0,m=s===e.childrenAfterSort.length-1;n.setFirstChild(u),n.lastChild!==m&&(n.lastChild=m,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==s&&(n.childIndex=s,n.dispatchRowEvent("childIndexChanged"))}}function Mu(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),F0(e)}var x0=class extends he{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,s=t.sortSvc.getSortOptions(),n=we(s)&&s.length>0,u=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),m=s.some(({column:w})=>Ft(t.gos)?w.isPrimary()&&w.isRowGroupActive():!!w.getColDef().showRowGroup);this.sort(t,s,n,u,e.changedRowNodes,e.changedPath,m)}sort(e,t,s,n,u,m,w){let{gos:y,colModel:F,rowGroupColsSvc:A,rowNodeSorter:I,rowRenderer:L,showRowGroupCols:_}=e,H=y.get("groupMaintainOrder"),z=F.getCols().some(le=>le.isRowGroupActive()),J=F.isPivotMode(),te=y.getCallback("postSortRows"),ae=!1,ce=le=>{let pe=J&&le.leafGroup,Me=H&&z&&!le.leafGroup&&!w,be;if(Me){let Le=A?.columns?.[le.level+1]?.getSort()===null,xe=le.childrenAfterAggFilter.slice(0);if(le.childrenAfterSort&&!Le){let We={};le.childrenAfterSort.forEach((Je,Pt)=>{We[Je.id]=Pt}),xe.sort((Je,Pt)=>(We[Je.id]??0)-(We[Pt.id]??0))}be=xe}else!s||pe?be=le.childrenAfterAggFilter.slice(0):n&&u?be=E0(I,le,u,m,t):be=I.doFullSort(le.childrenAfterAggFilter,t);if(ae||(ae=le.childrenAfterSort?.[0]!==be[0]),le.childrenAfterSort=be,Mu(le),te){let Ee={nodes:le.childrenAfterSort};te(Ee)}};if(m?.forEachChangedNodeDepthFirst(ce),ae&&this.gos.get("groupHideOpenParents")){let le=_?.getShowRowGroupCols();le?.length&&L.refreshCells({columns:le,force:!0})}}};function E0(e,t,s,n,u){let m=t.childrenAfterAggFilter,w=t.childrenAfterSort;if(!w)return e.doFullSort(m,u);let y=new Set,F=[],{updates:A,adds:I}=s;for(let _=0,H=m.length;_<H;++_){let z=m[_];A.has(z)||I.has(z)||n&&!n.canSkip(z)?F.push({currentPos:F.length,rowNode:z}):y.add(z.id)}let L=w.filter(_=>y.has(_.id)).map((_,H)=>({currentPos:H,rowNode:_}));return F.sort((_,H)=>e.compareRowNodes(u,_,H)),A0(e,u,F,L)}function A0(e,t,s,n){let u=[],m=0,w=0,y=s.length,F=n.length;for(;m<y&&w<F;){let A=s[m],I=n[w],L=e.compareRowNodes(t,A,I),_;L<0?(_=A,++m):(_=I,++w),u.push(_.rowNode)}for(;m<y;)u.push(s[m++].rowNode);for(;w<F;)u.push(n[w++].rowNode);return u}var T0=class extends he{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=qe(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Ps(this.beans);let s=this.getNewNodeManager();this.nodeManager=s,s.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this;switch(pa(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let s=t.changeSet?.properties;s&&this.onPropChange(s)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,s,n){let u,m=!1;do{u=!1;let w=this.getRowIndexAtPixel(e),y=this.getRowIndexAtPixel(t),F=Math.max(w,s),A=Math.min(y,n);for(let I=F;I<=A;I++){let L=this.getRow(I);if(L.rowHeightEstimated){let _=ds(this.beans,L);L.setRowHeight(_.height),u=!0,m=!0}}u&&this.setRowTopAndRowIndex()}while(u);return m}onPropChange(e){if(!this.rootNode)return;let t=this.gos,s=new Set(e),n={step:"nothing",changedProps:s},u=s.has("rowData"),m=this.nodeManager,w=this.getNewNodeManager(),y=m!==w||u&&s.has("treeData")&&t.get("treeData")||s.has("treeDataChildrenField")&&t.get("treeData"),F;if((y||u)&&(F=t.get("rowData"),F!=null&&!Array.isArray(F)&&(F=null,Ce(1))),y&&(u||(F=m?.extractRowData()??F),m!==w&&(m?.deactivate(),this.nodeManager=w),w.activate(this.rootNode)),F&&(!y&&!this.isEmpty()&&F.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new Lr,w.setImmutableRowData(n,F)):(n.rowDataUpdated=!0,n.newData=!0,this.beans.selectionSvc?.reset("rowDataChanged"),this.rowNodesCountReady=!0,w.setNewRowData(F))),n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(let{refreshProps:A,step:I}of this.orderedStages)if(e.some(L=>A.has(L))){n.step=I;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){let{beans:e}=this,t=e.environment.getDefaultRowHeight(),s=0,n=new Set,u=et(this.gos,"normal"),m=this.rowsToDisplay;for(let w=0,y=m.length;w<y;++w){let F=m[w];if(F.id!=null&&n.add(F.id),F.rowHeight==null){let A=ds(e,F,u,t);F.setRowHeight(A.height,A.estimated)}F.setRowTop(s),F.setRowIndex(w),s+=F.rowHeight}return n}clearRowTopAndRowIndex(e,t){let s=e.active,n=m=>{m&&m.id!=null&&!t.has(m.id)&&m.clearRowTopAndRowIndex()},u=m=>{if(m!==null&&(n(m),n(m.detailNode),n(m.sibling),m.hasChildren()&&m.childrenAfterGroup)){let w=m.level==-1;s&&!w&&!m.expanded||m.childrenAfterGroup.forEach(u)}};u(this.rootNode)}ensureRowsAtPixel(e,t,s=0){let n=this.getRowIndexAtPixel(t),u=this.getRow(n),m=!this.gos.get("suppressAnimationFrame");if(u===e[0])return!1;let w=this.rootNode?.allLeafChildren;return w?(e.forEach(y=>{mt(w,y)}),e.forEach((y,F)=>{w.splice(Math.max(n+s,0)+F,0,y)}),e.forEach((y,F)=>{y.sourceRowIndex=F}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:m,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){let s=t!=null?this.getRowIndexAtPixel(t):null,n=s!=null?this.getRow(s):null;if(!n||!e||t==null){this.clearHighlightedRow();return}let u=this.getHighlightPosition(t,n),m=this.isHighlightingCurrentPosition(e,n,u),w=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(m||w)&&(this.clearHighlightedRow(),m)||(this.setRowNodeHighlighted(n,u),this.lastHighlightedRow=n)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){let u=this.getRowIndexAtPixel(e);if(t=this.getRow(u||0),!t)return"Below"}let{rowTop:s,rowHeight:n}=t;return e-s<n/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,s){if(e===t)return!0;let n=s==="Above"?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let s=e.childrenAfterAggFilter,n=e.sibling?1:0;return(s?s.length:0)+n}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;let{childrenAfterSort:u}=t,m=y=>{let F=u[y];if(this.gos.get("groupHideOpenParents"))for(;F.expanded&&F.childrenAfterSort&&F.childrenAfterSort.length>0;)F=F.childrenAfterSort[0];return F.rowIndex},{footerSvc:w}=this.beans;return w?w.getTopDisplayIndex(s,e,u,m):m(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:s}=this;if(!t||!s.length||s[0]===t)return e;let u=this.getRow(e);for(u.footer&&(u=u.sibling);u.parent&&u.parent!==t;)u=u.parent;let m=t.childrenAfterSort?.findIndex(w=>w===u);return m===-1?e:m??e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=gs(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=gs(this.gos),n=e.columns.length===0||e.columns.some(u=>u.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=gs(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new Ii(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:s,rowDataUpdated:n}=e;return!(!t||s||!n||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(this.nodeManager.refreshModel?.(e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,s),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let s=!1,n=!1,u=[],m=_s(this.gos);return this.forEachNodeAfterFilterAndSort(w=>{if(n)return;if(s&&(w===t||w===e)&&(n=!0,w.group&&m)){u.push(...w.allLeafChildren);return}if(!s){if(w!==t&&w!==e)return;s=!0}if(!w.group||!m){u.push(w);return}}),u}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let s=0,n=t.length-1;if(e<=0)return 0;if(Be(t).rowTop<=e)return t.length-1;let m=-1,w=-1;for(;;){let y=Math.floor((s+n)/2),F=t[y];if(this.isRowInPixel(F,e)||(F.rowTop<e?s=y+1:F.rowTop>e&&(n=y-1),m===s&&w===n))return y;m=s,w=n}}isRowInPixel(e,t){let s=e.rowTop,n=e.rowTop+e.rowHeight;return s<=t&&n>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,s)=>e(t,s))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,s=>s.childrenAfterSort)}forEachPivotNode(e,t=!1,s=!1){let n=s?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,u=>u.leafGroup?null:u[n])}depthFirstSearchRowNodes(e,t=!1,s=m=>m.childrenAfterGroup,n=this.rootNode,u=0){let m=u;if(!n)return m;let w=n===this.rootNode;w||e(n,m++);let{footerSvc:y}=this.beans;if(n.hasChildren()&&!n.footer){let F=s(n);if(F){m=y?.addTotalRows(m,n,e,t,w,"top")??m;for(let A of F)m=this.depthFirstSearchRowNodes(e,t,s,A,m);return y?.addTotalRows(m,n,e,t,w,"bottom")??m}}return m}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(s=>{s.childrenAfterSort=s.childrenAfterAggFilter.slice(0),Mu(s)})}doRowGrouping(e,t,s,n){let u=this.rootNode;if(!this.groupStage?.execute({rowNode:u,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:s,afterColumnsChanged:n})&&!this.nodeManager.treeData){let w=u.sibling;u.childrenAfterGroup=u.allLeafChildren,w&&(w.childrenAfterGroup=u.childrenAfterGroup),u.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,Td(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(Co)==0){let s;return this.forEachNode(n=>{n.id===e&&(s=n)}),s}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let s=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],s=new Lr,n=!1;this.rowDataTransactionBatch?.forEach(u=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:m,rowsInserted:w}=this.nodeManager.updateRowData(u.rowDataTransaction,s);w&&(n=!0),t.push(m),u.callback&&e.push(u.callback.bind(null,m))}),this.commitTransactions(n,s),e.length>0&&window.setTimeout(()=>{e.forEach(u=>u())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new Lr,{rowNodeTransaction:s,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),s}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,s;if(e)s=e.execute({rowNode:t});else{s=t?.childrenAfterSort??[];for(let n of s)n.setUiLevel(0)}this.rowsToDisplay=s}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let s=t.detailNode;s&&s.setRowHeight(s.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=gn,this.rowsToDisplay=gn}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function D0(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function I0(e,t){let s=Et(e);s&&((!t||t==="everything")&&(t="group"),s.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function L0(e){return Et(e)?.isEmpty()??!0}function k0(e,t){Et(e)?.forEachLeafNode(t)}function O0(e,t){Et(e)?.forEachNodeAfterFilter(t)}function G0(e,t){Et(e)?.forEachNodeAfterFilterAndSort(t)}function _0(e){if(e.rowAutoHeight?.active){Ce(3);return}Et(e)?.resetRowHeights()}function B0(e,t){return e.frameworkOverrides.wrapIncoming(()=>Et(e)?.updateRowData(t))}function N0(e,t,s){e.frameworkOverrides.wrapIncoming(()=>Et(e)?.batchUpdateRowData(t,s))}function V0(e){e.frameworkOverrides.wrapIncoming(()=>Et(e)?.flushAsyncTransactions())}function H0(e){return e.selectionSvc?.getBestCostNodeSelection()}var Fu={moduleName:"ClientSideRowModel",version:Pe,rowModels:["clientSide"],beans:[M0,T0,x0],dependsOn:[Pr]},xu={moduleName:"ClientSideRowModelApi",version:Pe,apiFunctions:{onGroupExpandedOrCollapsed:D0,refreshClientSideRowModel:I0,isRowDataEmpty:L0,forEachLeafNode:k0,forEachNodeAfterFilter:O0,forEachNodeAfterFilterAndSort:G0,resetRowHeights:_0,applyTransaction:B0,applyTransactionAsync:N0,flushAsyncTransactions:V0,getBestCostNodeSelection:H0},dependsOn:[bu]},z0=class extends he{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){let{allColumns:s,columnKeys:n,skipRowGroups:u,exportRowNumbers:m}=t,w=this.getColumnsToExport({allColumns:s,skipRowGroups:u,columnKeys:n,exportRowNumbers:m});return[this.prepareSession(w),this.prependContent(t),this.exportColumnGroups(t,w),this.exportHeaders(t,w),this.processPinnedTopRows(t,w),this.processRows(t,w),this.processPinnedBottomRows(t,w),this.appendContent(t)].reduce((y,F)=>F(y),e).parse()}processRow(e,t,s,n){let u=t.shouldRowBeSkipped||(()=>!1),w=t.rowPositions!=null||!!t.onlySelected,y=this.gos.get("groupHideOpenParents")&&!w,F=this.colModel.isPivotMode()?n.leafGroup:!n.group,A=!!n.footer,I=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&aa(this.gos,n);if(!F&&!A&&(t.skipRowGroups||I||y)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!F&&!A||u(Ae(this.gos,{node:n})))return;let H=e.onNewBodyRow(n);if(s.forEach((z,J)=>{H.onColumn(z,J,n)}),t.getCustomContentBelowRow){let z=t.getCustomContentBelowRow(Ae(this.gos,{node:n}));z&&e.addCustomContent(z)}}appendContent(e){return t=>{let s=e.appendContent;return s&&t.addCustomContent(s),t}}prependContent(e){return t=>{let s=e.prependContent;return s&&t.addCustomContent(s),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return s=>{if(!e.skipColumnGroupHeaders){let n=new Cn,{colGroupSvc:u}=this.beans,m=u?u.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(m,s,e.processGroupHeaderCallback)}return s}}exportHeaders(e,t){return s=>{if(!e.skipColumnHeaders){let n=s.onNewHeaderRow();t.forEach((u,m)=>{n.onColumn(u,m,void 0)})}return s}}processPinnedTopRows(e,t){return s=>{let n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(u=>u.rowPinned==="top").sort((u,m)=>u.rowIndex-m.rowIndex).map(u=>this.pinnedRowModel?.getPinnedTopRow(u.rowIndex)).forEach(n):this.pinnedRowModel?.forEachPinnedRow("top",n),s}}processRows(e,t){return s=>{let n=this.rowModel,u=st(this.gos,n),m=cs(this.gos,n),w=!u&&e.onlySelected,y=this.processRow.bind(this,s,e,t),{exportedRows:F="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(A=>A.rowPinned==null).sort((A,I)=>A.rowIndex-I.rowIndex).map(A=>n.getRow(A.rowIndex)).forEach(y),s;if(this.colModel.isPivotMode())return u?n.forEachPivotNode(y,!0,F==="filteredAndSorted"):m?n.forEachNodeAfterFilterAndSort(y,!0):n.forEachNode(y),s;if(e.onlySelectedAllPages||w){let A=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(A),A.forEach(y)}else F==="all"?n.forEachNode(y):u||m?n.forEachNodeAfterFilterAndSort(y,!0):n.forEachNode(y);return s}}replicateSortedOrder(e){let{sortSvc:t,rowNodeSorter:s}=this.beans;if(!t||!s)return;let n=t.getSortOptions(),u=(m,w)=>m.rowIndex!=null&&w.rowIndex!=null?m.rowIndex-w.rowIndex:m.level===w.level?m.parent?.id===w.parent?.id?s.compareRowNodes(n,{rowNode:m,currentPos:m.rowIndex??-1},{rowNode:w,currentPos:w.rowIndex??-1}):u(m.parent,w.parent):m.level>w.level?u(m.parent,w):u(m,w.parent);e.sort(u)}processPinnedBottomRows(e,t){return s=>{let n=this.processRow.bind(this,s,e,t);return e.rowPositions?e.rowPositions.filter(u=>u.rowPinned==="bottom").sort((u,m)=>u.rowIndex-m.rowIndex).map(u=>this.pinnedRowModel?.getPinnedBottomRow(u.rowIndex)).forEach(n):this.pinnedRowModel?.forEachPinnedRow("bottom",n),s}}getColumnsToExport(e){let{allColumns:t=!1,skipRowGroups:s=!1,exportRowNumbers:n=!1,columnKeys:u}=e,{colModel:m,gos:w,visibleCols:y}=this,F=m.isPivotMode(),A=_=>_t(_)?!1:!Cs(_)||n;if(u&&u.length)return m.getColsForKeys(u).filter(A);let I=w.get("treeData"),L=[];return t&&!F?L=m.getCols():L=y.allCols,L=L.filter(_=>A(_)&&(s&&!I?!ro(_):!0)),L}recursivelyAddHeaderGroups(e,t,s){let n=[];e.forEach(u=>{let m=u;m.getChildren&&m.getChildren().forEach(w=>n.push(w))}),e.length>0&&je(e[0])&&this.doAddHeaderHeader(t,e,s),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,s)}doAddHeaderHeader(e,t,s){let n=e.onNewHeaderGroupingRow(),u=0;t.forEach(m=>{let w=m,y;s?y=s(Ae(this.gos,{columnGroup:w})):y=this.beans.colNames.getDisplayNameForColumnGroup(w,"header");let F=w.getLeafColumns().reduce((A,I,L,_)=>{let H=Be(A);return I.getColumnGroupShow()==="open"?(!H||H[1]!=null)&&(H=[L],A.push(H)):H&&H[1]==null&&(H[1]=L-1),L===_.length-1&&H&&H[1]==null&&(H[1]=L),A},[]);n.onColumn(w,y||"",u++,w.getLeafColumns().length-1,F)})}},Eu={moduleName:"SharedExport",version:Pe,beans:[z0]},Au=`\r
`,W0=class extends Rd{constructor(e){super(e),this.isFirstLine=!0,this.result="";let{suppressQuotes:t,columnSeparator:s}=e;this.suppressQuotes=t,this.columnSeparator=s}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Au),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((s,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(s.data.value||""),s.mergeAcross&&this.appendEmptyCells(s.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,s,n){s!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,s){t!=0&&(this.result+=this.columnSeparator);let n=this.extractRowCellValue(e,t,t,"csv",s);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(Ce(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Au),this.isFirstLine=!1}},U0=class extends bd{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){let t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){Ce(51);return}let t=this.getMergedParams(e),s=this.getData(t),n=new Blob(["\uFEFF",s],{type:"text/plain"}),u=typeof t.fileName=="function"?t.fileName(Ae(this.gos,{})):t.fileName;Pd(this.getFileName(u),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){let s=t?Object.assign({},e):this.getMergedParams(e);return this.getData(s)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){let{colModel:t,colNames:s,rowGroupColsSvc:n,valueSvc:u,gos:m}=this,{processCellCallback:w,processHeaderCallback:y,processGroupHeaderCallback:F,processRowGroupCallback:A,suppressQuotes:I,columnSeparator:L}=e;return new W0({colModel:t,colNames:s,valueSvc:u,gos:m,processCellCallback:w||void 0,processHeaderCallback:y||void 0,processGroupHeaderCallback:F||void 0,processRowGroupCallback:A||void 0,suppressQuotes:I||!1,columnSeparator:L||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function j0(e,t){return e.csvCreator?.getDataAsCsv(t)}function K0(e,t){e.csvCreator?.exportDataAsCsv(t)}var Tu={moduleName:"CsvExport",version:Pe,beans:[U0],apiFunctions:{getDataAsCsv:j0,exportDataAsCsv:K0},dependsOn:[Eu]},$0=class extends he{constructor(e,t,s){super(),this.id=e,this.parentCache=t,this.params=s,this.state="needsLoading",this.version=0,this.startRow=e*s.blockSize,this.endRow=this.startRow+s.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,s){this.successCommon(e,{rowData:t,rowCount:s})}isRequestMostRecentAndLive(e){let t=e===this.version,s=this.isAlive();return t&&s}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];let{params:{blockSize:e,rowHeight:t},startRow:s,beans:n,rowNodes:u}=this;for(let m=0;m<e;m++){let w=s+m,y=new Ps(n);y.setRowHeight(t),y.uiLevel=0,y.setRowIndex(w),y.setRowTop(t*w),u.push(y)}}getBlockStateJson(){let{id:e,startRow:t,endRow:s,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:s,pageStatus:n}}}setDataAndId(e,t,s){we(t)?e.setDataAndId(t,s.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){let e=this.createLoadParams();if(He(this.params.datasource.getRows)){Ce(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){let{startRow:e,endRow:t,version:s,params:{sortModel:n,filterModel:u},gos:m}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,s),failCallback:this.pageLoadFailed.bind(this,s),sortModel:n,filterModel:u,context:Ae(m,{}).context}}forEachNode(e,t,s){this.rowNodes.forEach((n,u)=>{this.startRow+u<s&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);let s=e-this.startRow;return this.rowNodes[s]}processServerResult(e){let{rowNodes:t,beans:s}=this;t.forEach((u,m)=>{let w=e.rowData?e.rowData[m]:void 0;!u.id&&u.alreadyRendered&&w&&(t[m]=new Ps(s),t[m].setRowIndex(u.rowIndex),t[m].setRowTop(u.rowTop),t[m].setRowHeight(u.rowHeight),u.clearRowTopAndRowIndex()),this.setDataAndId(t[m],w,this.startRow+m)});let n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},X0=2,Y0=class extends he{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){let s=Math.floor(e/this.params.blockSize),n=this.blocks[s];if(!n){if(t)return;n=this.createBlock(s)}return n.getRow(e)}createBlock(e){let t=this.params,s=this.createBean(new $0(e,this,t));return this.blocks[s.id]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),t.rowNodeBlockLoader.addBlock(s),s}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Yt(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){let t=this.getBlocksInOrder().filter(w=>w!=e),s=(w,y)=>y.lastAccessed-w.lastAccessed;t.sort(s);let n=this.params.maxBlocksInCache>0,u=n?this.params.maxBlocksInCache-1:null,m=X0-1;t.forEach((w,y)=>{let F=w.state==="needsLoading"&&y>=m,A=n?y>=u:!1;if(F||A){if(this.isBlockCurrentlyDisplayed(w)||this.isBlockFocused(w))return;this.removeBlockFromCache(w)}})}isBlockFocused(e){let t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;let{startRow:s,endRow:n}=e;return t.rowIndex>=s&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){let{startRow:t,endRow:s}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,s-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){let{blockSize:s,overflowSize:n}=this.params,m=(e.id+1)*s+n;this.rowCount<m&&(this.rowCount=m)}}setRowCount(e,t){this.rowCount=e,we(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){let t={value:0};this.getBlocksInOrder().forEach(s=>s.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){let e=(s,n)=>s.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){let e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){let s=[],n=-1,u=!1,m={value:0},w=!1;return this.getBlocksInOrder().forEach(F=>{if(!w){if(u&&n+1!==F.id){w=!0;return}n=F.id,F.forEachNode(A=>{let I=A===e||A===t;(u||I)&&s.push(A),I&&(u=!u)},m,this.rowCount)}}),w||u?[]:s}},Z0=class extends he{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Qt(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Qt(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!ks(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;ps(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();let e=this.beans,{filterManager:t,sortSvc:s,rowNodeBlockLoader:n,eventSvc:u,gos:m}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:s?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:m.get("infiniteInitialRowCount"),maxBlocksInCache:m.get("maxBlocksInCache"),rowHeight:Qt(e),overflowSize:m.get("cacheOverflowSize"),blockSize:m.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new Y0(this.cacheParams)),u.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){let t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(s=>{s.id===e&&(t=s)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){let t=Math.floor(e/this.rowHeight),s=this.getRowCount()-1;return t>s?s:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function Q0(e){Vo(e)?.refreshCache()}function J0(e){Vo(e)?.purgeCache()}function q0(e){return Vo(e)?.getRowCount()}var eR=class extends he{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=la(this.gos);let e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=qe(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){mt(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Yt(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}let e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(s=>s.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(s=>s.load()),this.printCacheStatus()}getBlockState(){let e={};return this.blocks.forEach(t=>{let{id:s,state:n}=t.getBlockStateJson();e[s]=n}),e}printCacheStatus(){Yt(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},tR={moduleName:"InfiniteRowModelCore",version:Pe,rowModels:["infinite"],beans:[Z0,eR]},Du={moduleName:"InfiniteRowModel",version:Pe,apiFunctions:{refreshInfiniteCache:Q0,purgeInfiniteCache:J0,getInfiniteRowCount:q0},dependsOn:[tR,Ru]},sR="\u2191",iR="\u2193",oR={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},nR=class extends Oe{constructor(){super(oR),this.eValue=Se,this.eDelta=Se,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){let s=Math.abs(t),n=e.formatValue(s),u=we(n)?n:s,m=t>=0,w=this.eDelta;m?w.textContent=sR+u:w.textContent=iR+u,w.classList.toggle("ag-value-change-delta-up",m),w.classList.toggle("ag-value-change-delta-down",!m)}setTimerToRemoveDelta(){this.refreshCount++;let e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),tt(this.eDelta)}refresh(e,t=!1){let{value:s,valueFormatted:n}=e,{eValue:u,lastValue:m,beans:w}=this;if(s===m||(we(n)?u.textContent=n:we(s)?u.textContent=s:tt(u),w.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof s=="number"&&typeof m=="number"){let y=s-m;this.showDelta(e,y)}return m&&u.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=s,!0}},rR=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",aR={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},lR=class extends Oe{constructor(){super(aR),this.eCurrent=Se,this.refreshCount=0,this.registerCSS(rR)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;let e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);let{beans:t,eCurrent:s}=this,n=Ke({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=s.textContent,this.getGui().insertBefore(n,s),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let s=e.value;if(He(s)&&(s=""),s===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=s;let n=this.eCurrent;return we(e.valueFormatted)?n.textContent=e.valueFormatted:we(e.value)?n.textContent=s:tt(n),!0}},cR=class extends he{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;let s=rl(e.cellPosition);t.cells[s]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}animateCell(e,t,s,n){let u=e.comp;if(!u)return;let{gos:m}=this;if(s||(s=m.get("cellFlashDuration")),s===0)return;we(n)||(n=m.get("cellFadeDuration"));let w=`ag-cell-${t}`,y=`ag-cell-${t}-animation`;u.addOrRemoveCssClass(w,!0),u.addOrRemoveCssClass(y,!1);let F=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(u.addOrRemoveCssClass(w,!1),u.addOrRemoveCssClass(y,!0),F.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{e.isAlive()&&(u.addOrRemoveCssClass(y,!1),F.style.transition="")},n))},s)})}};function dR(e,t={}){let{cellFlashSvc:s}=e;s&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>s.flashCell(n,t))})}var Iu={moduleName:"HighlightChanges",version:Pe,beans:[cR],userComponents:{agAnimateShowChangeCellRenderer:nR,agAnimateSlideCellRenderer:lR},apiFunctions:{flashCells:dR}};function uR(e){return e.stateSvc?.getState()??{}}function hR(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=gR(e)}return e}function gR(e){return e.cellSelection=pR(e,"rangeSelection"),e}function pR(e,t){if(e&&typeof e=="object")return e[t]}var fR=class extends he{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=qe(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=qe(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=qe(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=st(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Pe);let e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));let[t,s,n]=this.addManagedEventListeners({newColumnsLoaded:({source:u})=>{u==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{s?.(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{n?.(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return hR(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){let e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){let e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());let t=s=>()=>this.updateColumnState([s]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){let{filter:e,rowGroupExpansion:t,rowSelection:s,pagination:n}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),s&&this.setRowSelectionState(s),n&&this.setPaginationState(n);let u=this.updateCachedState.bind(this);u("filter",this.getFilterState()),u("rowGroupExpansion",this.getRowGroupExpansionState()),u("rowSelection",this.getRowSelectionState()),u("pagination",this.getPaginationState());let m=()=>{this.updateRowGroupExpansionStateTimer=0,u("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>u("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:m,columnRowGroupChanged:m,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(m)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:w=>{(w.newPage||w.newPageSize)&&u("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){let{scroll:e,cellSelection:t,focusedCell:s,columnOrder:n}=this.getInitialState();s&&this.setFocusedCellState(s),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds);let u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());let m=this.getRangeSelectionState();u("rangeSelection",m),u("cellSelection",m),u("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>u("focusedCell",this.getFocusedCellState()),cellSelectionChanged:w=>{if(w.finished){let y=this.getRangeSelectionState();u("rangeSelection",y),u("cellSelection",y)}},bodyScrollEnd:()=>u("scroll",this.getScrollState())})}getColumnState(){let e=this.beans,t=e.colModel.isPivotMode(),s=[],n=[],u=[],m=[],w=[],y=[],F=[],A=[],I=[],L=0,_=Ns(e);for(let H=0;H<_.length;H++){let{colId:z,sort:J,sortIndex:te,rowGroup:ae,rowGroupIndex:ce,aggFunc:le,pivot:pe,pivotIndex:Me,pinned:be,hide:Ee,width:Le,flex:xe}=_[H];I.push(z),J&&(s[te??L++]={colId:z,sort:J}),ae&&(n[ce??0]=z),typeof le=="string"&&u.push({colId:z,aggFunc:le}),pe&&(m[Me??0]=z),be&&(be==="right"?y:w).push(z),Ee&&F.push(z),(xe!=null||Le)&&A.push({colId:z,flex:xe??void 0,width:Le})}return{sort:s.length?{sortModel:s}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:u.length?{aggregationModel:u}:void 0,pivot:m.length||t?{pivotMode:t,pivotColIds:m}:void 0,columnPinning:w.length||y.length?{leftColIds:w,rightColIds:y}:void 0,columnVisibility:F.length?{hiddenColIds:F}:void 0,columnSizing:A.length?{columnSizingModel:A}:void 0,columnOrder:I.length?{orderedColIds:I}:void 0}}setColumnState(e){let{sort:t,rowGroup:s,aggregation:n,pivot:u,columnPinning:m,columnVisibility:w,columnSizing:y,columnOrder:F,partialColumnState:A}=e,I={},L=te=>{let ae=I[te];return ae||(ae={colId:te},I[te]=ae,ae)},_=A?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:te,sort:ae},ce)=>{let le=L(te);le.sort=ae,le.sortIndex=ce}),_.sort=null,_.sortIndex=null),s&&(s.groupColIds.forEach((te,ae)=>{let ce=L(te);ce.rowGroup=!0,ce.rowGroupIndex=ae}),_.rowGroup=null,_.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:te,aggFunc:ae})=>{L(te).aggFunc=ae}),_.aggFunc=null),u&&(u.pivotColIds.forEach((te,ae)=>{let ce=L(te);ce.pivot=!0,ce.pivotIndex=ae}),this.gos.updateGridOptions({options:{pivotMode:u.pivotMode},source:"gridInitializing"}),_.pivot=null,_.pivotIndex=null),m&&(m.leftColIds.forEach(te=>{L(te).pinned="left"}),m.rightColIds.forEach(te=>{L(te).pinned="right"}),_.pinned=null),w&&(w.hiddenColIds.forEach(te=>{L(te).hide=!0}),_.hide=null),y&&(y.columnSizingModel.forEach(({colId:te,flex:ae,width:ce})=>{let le=L(te);le.flex=ae??null,le.width=ce}),_.flex=null);let H=F?.orderedColIds,z=!!H?.length,J=z?H.map(te=>L(te)):Object.values(I);J.length&&(this.columnStates=J,ut(this.beans,{state:J,applyOrder:z,defaultState:_},"gridInitializing"))}setColumnPivotState(e){let t=this.columnStates;this.columnStates=void 0;let s=this.columnGroupStates;this.columnGroupStates=void 0;let n=this.beans,{pivotResultCols:u,colGroupSvc:m}=n;if(u?.isPivotResultColsPresent()){if(t){let w=[];for(let y of t)u.getPivotResultCol(y.colId)&&w.push(y);ut(n,{state:w,applyOrder:e},"gridInitializing")}s&&m?.setColumnGroupState(s,"gridInitializing")}}getColumnGroupState(){let e=this.beans.colGroupSvc;if(!e)return;let t=e.getColumnGroupState(),s=[];return t.forEach(({groupId:n,open:u})=>{u&&s.push(n)}),s.length?{openColumnGroupIds:s}:void 0}setColumnGroupState(e){let t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;let s=new Set(e.columnGroup?.openColumnGroupIds),u=t.getColumnGroupState().map(({groupId:m})=>{let w=s.has(m);return w&&s.delete(m),{groupId:m,open:w}});s.forEach(m=>{u.push({groupId:m,open:!0})}),u.length&&(this.columnGroupStates=u),t.setColumnGroupState(u,"gridInitializing")}getFilterState(){let e=this.beans.filterManager,t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);let s=e?.getAdvFilterModel()??void 0;return t||s?{filterModel:t,advancedFilterModel:s}:void 0}setFilterState(e){let t=this.beans.filterManager,{filterModel:s,advancedFilterModel:n}=e??{};s&&t?.setFilterModel(s,"columnFilter"),n&&t?.setAdvFilterModel(n,"advancedFilter")}getRangeSelectionState(){let e=this.beans.rangeSvc?.getCellRanges().map(t=>{let{id:s,type:n,startRow:u,endRow:m,columns:w,startColumn:y}=t;return{id:s,type:n,startRow:u,endRow:m,colIds:w.map(F=>F.getColId()),startColId:y.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){let{gos:t,rangeSvc:s,colModel:n,visibleCols:u}=this.beans;if(!kt(t)||!s)return;let m=[];e.cellRanges.forEach(w=>{let y=[];if(w.colIds.forEach(A=>{let I=n.getCol(A);I&&y.push(I)}),!y.length)return;let F=n.getCol(w.startColId);if(!F){let A=u.allCols,I=new Set(y);F=A.find(L=>I.has(L))}m.push({...w,columns:y,startColumn:F})}),s.setCellRanges(m)}getScrollState(){if(!this.isClientSideRowModel)return;let e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:s}=e?.getVScrollPosition()??{top:0};return s||t?{top:s,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;let{top:t,left:s}=e,{frameworkOverrides:n,rowRenderer:u,animationFrameSvc:m,ctrlsSvc:w}=this.beans;n.wrapIncoming(()=>{w.get("center").setCenterViewportScrollLeft(s),w.getScrollFeature()?.setVerticalScrollPosition(t),u.redraw({afterScroll:!0}),m?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;let e=this.beans.focusSvc.getFocusedCell();if(e){let{column:t,rowIndex:s,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:s,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;let{colId:t,rowIndex:s,rowPinned:n}=e,{focusSvc:u,colModel:m}=this.beans;u.setFocusedCell({column:m.getCol(t),rowIndex:s,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){let{pagination:e,gos:t}=this.beans;if(!e)return;let s=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!s&&!n))return{page:s,pageSize:n}}setPaginationState(e){let{pagination:t,gos:s}=this.beans;t&&(e.pageSize&&!s.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){let e=this.beans.selectionSvc;if(!e)return;let t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e){this.beans.selectionSvc?.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){let{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;let s=[];return t.forEachNode(({expanded:n,id:u})=>{n&&u&&s.push(u)}),s.length?{expandedRowGroupIds:s}:void 0}setRowGroupExpansionState(e){this.beans.expansionSvc?.expandRows(e.expandedRowGroupIds)}updateColumnState(e){let t=this.getColumnState(),s=!1,n=this.cachedState;for(let u of Object.keys(t)){let m=t[u];ks(m,n[u])||(s=!0)}this.cachedState={...n,...t},s&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){let s=this.cachedState[e];this.setCachedStateValue(e,t),ks(t,s)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){let e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){let e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;let t=this.beans.colAnimation;t?.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Lu={moduleName:"GridState",version:Pe,beans:[fR],apiFunctions:{getState:uR}};function mR(e){return e.rowModel.isLastRowIndexKnown()}function CR(e){return e.pagination?.getPageSize()??100}function vR(e){return e.pagination?.getCurrentPage()??0}function wR(e){return e.pagination?.getTotalPages()??1}function SR(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function yR(e){e.pagination?.goToNextPage()}function bR(e){e.pagination?.goToPreviousPage()}function RR(e){e.pagination?.goToFirstPage()}function PR(e){e.pagination?.goToLastPage()}function MR(e,t){e.pagination?.goToPage(t)}var FR=class extends he{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;let t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;let e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){let t=this.beans,s=()=>{let n=Math.max(Qt(t),1),u=Math.floor(e/n);t.pagination.setPageSize(u,"autoCalculated")};this.isBodyRendered?qe(this,s,50)():(s(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Bi="paginationPageSizeSelector",xR={tag:"span",cls:"ag-paging-page-size"},ER=class extends Oe{constructor(){super(xR),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;let e=this.selectPageSizeComp.getValue();if(!e)return;let t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Bi,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;let t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){tt(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Bi)!==!1}reloadPageSizesSelector(){let e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),s=!t||!e.includes(t);if(s){let u=this.gos.exists("paginationPageSize"),m=this.gos.get(Bi)!==!0;Ce(94,{pageSizeSet:u,pageSizesSet:m,pageSizeOptions:e,paginationPageSizeOption:t}),m||Ce(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Bi}),e.unshift("")}let n=String(s?"":t);this.selectPageSizeComp?(Jt(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=s}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){let s=this.getLocaleTextFunc(),n=s("pageSizeSelectorLabel","Page Size:"),u=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Ao).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(u).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){let e=[20,50,100],t=this.gos.get(Bi);return!Array.isArray(t)||!t?.length?e:[...t].sort((s,n)=>s-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},AR={selector:"AG-PAGE-SIZE-SELECTOR",component:ER},TR=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",DR=class extends Yn{constructor(){super(),this.btFirst=Se,this.btPrevious=Se,this.btNext=Se,this.btLast=Se,this.lbRecordCount=Se,this.lbFirstRowOnPage=Se,this.lbLastRowOnPage=Se,this.lbCurrent=Se,this.lbTotal=Se,this.pageSizeComp=Se,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(TR)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){let e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[AR]);let{btFirst:t,btPrevious:s,btNext:n,btLast:u}=this;this.activateTabIndex([t,s,n,u]),t.insertAdjacentElement("afterbegin",Ct(e?"last":"first",this.beans)),s.insertAdjacentElement("afterbegin",Ct(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",Ct(e?"previous":"next",this.beans)),u.insertAdjacentElement("afterbegin",Ct(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:m=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(m):qa(this.beans,m),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){let t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{let{el:t,fn:s}=e;this.addManagedListeners(t,{click:s,keydown:n=>{(n.key===de.ENTER||n.key===de.SPACE)&&(n.preventDefault(),s())}})}),Ja(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){let t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):yd(e,this.getLocaleTextFunc.bind(this))}getTemplate(){let e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){let e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),s=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);let n=this.isZeroPagesToDisplay(),u=e===s-1;this.nextButtonDisabled=u||n,this.lastButtonDisabled=!t||n||e===s-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){j(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){let e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),s=this.pagination.getMasterRowCount(),n=e?s:null,u=this.pagination.getCurrentPage(),m=this.pagination.getPageSize(),w,y;this.isZeroPagesToDisplay()?w=y=0:(w=m*u+1,y=w+m-1,e&&y>n&&(y=n));let F=w+m-1,A=!e&&s<F,I=this.formatNumber(w);this.lbFirstRowOnPage.textContent=I;let L,_=this.getLocaleTextFunc();A?L=_("pageLastRowUnknown","?"):L=this.formatNumber(y),this.lbLastRowOnPage.textContent=L;let z=t>0?u+1:0,J=this.formatNumber(z);this.lbCurrent.textContent=J;let te,ae;if(e)te=this.formatNumber(t),ae=this.formatNumber(n);else{let ce=_("more","more");te=ce,ae=ce}this.lbTotal.textContent=te,this.lbRecordCount.textContent=ae,this.announceAriaStatus(I,L,ae,J,te)}announceAriaStatus(e,t,s,n,u){let m=this.getLocaleTextFunc(),w=m("page","Page"),y=m("to","to"),F=m("of","of"),A=`${e} ${y} ${t} ${F} ${s}`,I=`${w} ${n} ${F} ${u}`;A!==this.ariaRowStatus&&(this.ariaRowStatus=A,this.ariaAnnounce?.announceValue(A,"paginationRow")),I!==this.ariaPageStatus&&(this.ariaPageStatus=I,this.ariaAnnounce?.announceValue(I,"paginationPage"))}setTotalLabelsToZero(){let e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},IR={selector:"AG-PAGINATION",component:DR},LR=class extends he{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){let e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return IR}isPaginateChildRows(){let e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){let t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){let e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return we(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:we(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:we(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:we(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;let e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){let s=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}s!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){let e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);let t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){let e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}let s=this.pageSize,n=t-1;this.totalPages=Math.floor(n/s)+1,this.adjustCurrentPageIfInvalid();let u=this.currentPage,m=s*u,w=s*(u+1)-1;if(w>n&&(w=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(m),w===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{let y=e.getTopLevelRowDisplayedIndex(w+1);this.bottomDisplayedRowIndex=y-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){let e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}let{pageSize:t,currentPage:s}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*s,this.bottomDisplayedRowIndex=t*(s+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){let{keepRenderedRows:t=!1,newPage:s=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:s,newPageSize:n,keepRenderedRows:t})}},ku={moduleName:"Pagination",version:Pe,beans:[LR,FR],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:mR,paginationGetPageSize:CR,paginationGetCurrentPage:vR,paginationGetTotalPages:wR,paginationGetRowCount:SR,paginationGoToNextPage:yR,paginationGoToPreviousPage:bR,paginationGoToFirstPage:RR,paginationGoToLastPage:PR,paginationGoToPage:MR},dependsOn:[ki]};function kR(e,t={}){let s=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(s))}function Ou(e,t,s,n,u){t&&(n&&t.parent&&t.parent.level!==-1&&Ou(e,t.parent,s,n,u),t.setExpanded(s,void 0,u))}function OR(e,t){return e.rowModel.getRowNode(t)}function GR(e,t,s,n){e.rowRenderer.addRenderedRowListener(t,s,n)}function _R(e){return e.rowRenderer.getRenderedNodes()}function BR(e,t,s){e.rowModel.forEachNode(t,s)}function NR(e){return e.rowRenderer.firstRenderedRow}function VR(e){return e.rowRenderer.lastRenderedRow}function HR(e,t){return e.rowModel.getRow(t)}function zR(e){return e.rowModel.getRowCount()}var Gu={moduleName:"RowApi",version:Pe,apiFunctions:{redrawRows:kR,setRowNodeExpanded:Ou,getRowNode:OR,addRenderedRowListener:GR,getRenderedNodes:_R,forEachNode:BR,getFirstDisplayedRowIndex:NR,getLastDisplayedRowIndex:VR,getDisplayedRowAtIndex:HR,getDisplayedRowCount:zR}},_u={moduleName:"ScrollApi",version:Pe,apiFunctions:{getVerticalPixelRange:Wb,getHorizontalPixelRange:Ub,ensureColumnVisible:ru,ensureIndexVisible:au,ensureNodeVisible:jb}};function WR(e,t,s){if(!t)return;let n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,u=`aria-${t}`;s===null?n.removeAttribute(u):n.setAttribute(u,s)}function UR(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function jR(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function KR(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function $R(e){e.animationFrameSvc?.flushAllFrames()}function XR(e){return{rowHeight:Qt(e),headerHeight:Ci(e)}}function YR(e,t={}){let s=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(m=>{let w=m.getCellRenderer();w!=null&&s.push(Vs(w))}),t.columns?.length)return s;let n=[],u=yr(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(m=>{if(u&&!br(m.rowNode,u)||!m.isFullWidth())return;let w=m.getFullWidthCellRenderers();for(let y=0;y<w.length;y++){let F=w[y];F!=null&&n.push(Vs(F))}}),[...n,...s]}var Bu={moduleName:"RenderApi",version:Pe,apiFunctions:{setGridAriaProperty:WR,refreshCells:UR,refreshHeader:jR,isAnimationFrameQueueEmpty:KR,flushAllAnimationFrames:$R,getSizesForCurrentTheme:XR,getCellRendererInstances:YR}};function ZR(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function QR(e,t,s){e.colAutosize?.autoSizeCols({colKeys:t,skipHeader:s,source:"api"})}function JR(e,t){e.colAutosize?.autoSizeAllColumns("api",t)}var qR=class extends he{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}let{colKeys:t,skipHeader:s,skipHeaderGroups:n,stopAtGroup:u,source:m="api"}=e,{animationFrameSvc:w,renderStatus:y,colModel:F,autoWidthCalc:A,visibleCols:I}=this.beans;if(w?.flushAllFrames(),this.timesDelayed<5&&y&&!y.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;let L=[],_=-1,H=s??this.gos.get("skipHeaderOnAutoSize"),z=n??H;for(;_!==0;){_=0;let J=[];t.forEach(te=>{if(!te)return;let ae=F.getCol(te);if(!ae||Cs(ae)||L.indexOf(ae)>=0)return;let ce=A.getPreferredWidthForColumn(ae,H);if(ce>0){let le=eP(ae,ce);ae.setActualWidth(le,m),L.push(ae),_++}J.push(ae)}),J.length&&I.refresh(m)}z||this.autoSizeColumnGroupsByColumns(t,m,u),Bs(this.eventSvc,L,!0,"autosizeColumns")}autoSizeColumn(e,t,s){e&&this.autoSizeCols({colKeys:[e],skipHeader:s,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,s){let{colModel:n,ctrlsSvc:u}=this.beans,m=new Set;n.getColsForKeys(e).forEach(A=>{let I=A.getParent();for(;I&&I!=s;)I.isPadding()||m.add(I),I=I.getParent()});let y,F=[];for(let A of m){for(let I of u.getHeaderRowContainerCtrls())if(y=I.getHeaderCtrlForColumn(A),y)break;y&&y.resizeLeafColumnsToFit(t)}return F}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}let s=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:s,skipHeader:t,source:e})}addColumnAutosize(e,t){let s=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",s)};e.addEventListener("dblclick",n);let u=new xs(e);return u.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),u.removeEventListener("doubleTap",n),u.destroy()}}addColumnGroupResize(e,t,s){let n=this.gos.get("skipHeaderOnAutoSize"),u=()=>{let m=[];t.getDisplayedLeafColumns().forEach(y=>{y.getColDef().suppressAutoSize||m.push(y.getColId())}),m.length>0&&this.autoSizeCols({colKeys:m,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),s()};return e.addEventListener("dblclick",u),()=>e.removeEventListener("dblclick",u)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;let{ctrlsSvc:s,scrollVisibleSvc:n}=this.beans,u=s.getGridBodyCtrl(),w=u.isVerticalScrollShowing()?n.getScrollbarWidth():0,F=Ls(u.eGridBody)-w;if(F>0){this.sizeColumnsToFit(F,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):Ce(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",s,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,s,n));return}let u={};n&&n?.columnLimits?.forEach(({key:H,...z})=>{u[typeof H=="string"?H:H.getColId()]=z});let m=this.beans.visibleCols.allCols;if(e<=0||!m.length||e===jt(m)&&m.every(z=>{if(z.colDef.suppressSizeToFit)return!0;let J=u?.[z.getId()],te=J?.minWidth??n?.defaultMinWidth,ae=J?.maxWidth??n?.defaultMaxWidth,ce=z.getActualWidth();return(te==null||ce>=te)&&(ae==null||ce<=ae)}))return;let y=[],F=[];m.forEach(H=>{H.getColDef().suppressSizeToFit===!0?F.push(H):y.push(H)});let A=y.slice(0),I=!1,L=H=>{mt(y,H),F.push(H)};for(y.forEach(H=>{H.resetActualWidth(t);let z=u?.[H.getId()],J=z?.minWidth??n?.defaultMinWidth,te=z?.maxWidth??n?.defaultMaxWidth,ae=H.getActualWidth();typeof J=="number"&&ae<J?H.setActualWidth(J,t,!0):typeof te=="number"&&ae>te&&H.setActualWidth(te,t,!0)});!I;){I=!0;let H=e-jt(F);if(H<=0)y.forEach(z=>{let J=u?.[z.getId()]?.minWidth??n?.defaultMinWidth;if(typeof J=="number"){z.setActualWidth(J,t,!0);return}z.setActualWidth(z.minWidth,t)});else{let z=H/jt(y),J=H;for(let te=y.length-1;te>=0;te--){let ae=y[te],ce=u?.[ae.getId()],le=ce?.minWidth??n?.defaultMinWidth,pe=ce?.maxWidth??n?.defaultMaxWidth,Me=ae.getMinWidth(),be=ae.getMaxWidth(),Ee=typeof le=="number"&&le>Me?le:Me,Le=typeof pe=="number"&&pe<be?pe:be,xe=Math.round(ae.getActualWidth()*z);xe<Ee?(xe=Ee,L(ae),I=!1):xe>Le?(xe=Le,L(ae),I=!1):te===0&&(xe=J),ae.setActualWidth(xe,t,!0),J-=xe}}}A.forEach(H=>{H.fireColumnWidthChangedEvent(t)});let _=this.beans.visibleCols;_.setLeftValues(t),_.updateBodyWidths(),!s&&Bs(this.eventSvc,A,!0,t)}applyAutosizeStrategy(){let e=this.gos.get("autoSizeStrategy");if(!e)return;let{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){let{columnLimits:s,defaultMinWidth:n,defaultMaxWidth:u}=e,m=s?.map(({colId:w,minWidth:y,maxWidth:F})=>({key:w,minWidth:y,maxWidth:F}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:u,columnLimits:m})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){let e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;let{colIds:t,skipHeader:s}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:s,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",s)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function eP(e,t){let s=e.getMinWidth();t<s&&(t=s);let n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}var Nu={moduleName:"ColumnAutoSize",version:Pe,beans:[qR],apiFunctions:{sizeColumnsToFit:ZR,autoSizeColumns:QR,autoSizeAllColumns:JR},dependsOn:[Mc]};function tP(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function sP(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function iP(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function oP(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}var nP=class extends he{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){let e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){let t=s=>{s.setRowHeight(s.rowHeight,!0)};Vi(this.pinnedBottomRows,t),Vi(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0,s=n=>{if(n.rowHeightEstimated){let u=ds(this.beans,n);n.setRowTop(t),n.setRowHeight(u.height),t+=u.height,e=!0}};return Vi(this.pinnedBottomRows,s),t=0,Vi(this.pinnedTopRows,s),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){let s=this.getCache(t);if(e===void 0){s.order.length=0,s.cache={};return}let n=ps(this.gos),u=t==="top"?hl:gl,m=new Set(s.order),w=[],y=new Set,F=0,A=-1;for(let I of e){let L=n?.({data:I,level:0,rowPinned:t})??u+this.nextId++;if(y.has(L)){Ce(96,{id:L,data:I});continue}A++,y.add(L),w.push(L);let _=Ni(s,L);if(_!==void 0)_.data!==I&&_.setData(I),F+=this.setRowTopAndRowIndex(_,F,A),m.delete(L);else{let H=new Ps(this.beans);H.id=L,H.data=I,H.rowPinned=t,F+=this.setRowTopAndRowIndex(H,F,A),s.cache[L]=H,s.order.push(L)}}m.forEach(I=>{Ni(s,I)?.clearRowTopAndRowIndex(),delete s.cache[I]}),s.order=w}setRowTopAndRowIndex(e,t,s){return e.setRowTop(t),e.setRowHeight(ds(this.beans,e).height),e.setRowIndex(s),e.rowHeight}getPinnedTopTotalHeight(){return Vu(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return Vu(this.pinnedBottomRows)}getPinnedTopRowCount(){return Or(this.pinnedTopRows)}getPinnedBottomRowCount(){return Or(this.pinnedBottomRows)}getPinnedTopRow(e){return kr(this.pinnedTopRows,e)}getPinnedBottomRow(e){return kr(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Ni(this.getCache(t),e)}forEachPinnedRow(e,t){return Vi(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function Vu(e){let t=Or(e);if(t===0)return 0;let s=kr(e,t-1);return s===void 0?0:s.rowTop+s.rowHeight}function Ni(e,t){return e.cache[t]}function kr(e,t){return Ni(e,e.order[t])}function Vi(e,t){e.order.forEach((s,n)=>{let u=Ni(e,s);u&&t(u,n)})}function Or(e){return e.order.length}var Hu={moduleName:"PinnedRow",version:Pe,beans:[nP],apiFunctions:{getPinnedTopRowCount:tP,getPinnedBottomRowCount:sP,getPinnedTopRow:iP,getPinnedBottomRow:oP}},rP=class extends hi{constructor(e,t,s){super(e.col,e.firstNode,s,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,s,n,u,m,w){this.eWrapper=s,super.setComp(e,t,s,n,u,m,w),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&oe(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){ge(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){let e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){let{beans:t}=this;if(po(t)){this.focusedCellPosition=void 0;return}let s=this.isCellFocused();s||(this.focusedCellPosition=void 0),e&&s&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},aP=class extends So{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new rP(t,this,this.beans)}shouldRecreateCellCtrl(e){let t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},lP=class extends he{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){let{rowSpanSvc:t}=this.beans,s=`${e}Ctrls`,n=this[s],u=n.size,m=this.getAllRelevantRowControls(e),w=new Map,y=!1;for(let A of m)A.isAlive()&&t?.forEachSpannedColumn(A.rowNode,(I,L)=>{if(w.has(L.firstNode))return;let _=n.get(L.firstNode);if(_){w.set(L.firstNode,_),n.delete(L.firstNode);return}y=!0;let H=new aP(L.firstNode,this.beans,!1,!1,!1);w.set(L.firstNode,H)});this[s]=w;let F=w.size===u;if(!(!y&&F)){for(let A of n.values())A.destroyFirstPass(!0),A.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){let{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){let{rowSpanSvc:t}=this.beans,s=t?.getCellSpanByPosition(e);if(!s)return;let n=`${zu(e.rowPinned)}Ctrls`,u=this[n].get(s.firstNode);if(u)return u.getAllCellCtrls().find(m=>m.column===e.column)}getCtrls(e){let t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){let t=`${e}Ctrls`;for(let s of this[t].values())s.destroyFirstPass(!0),s.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},zu=e=>e??"center",cP=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){let e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(s=>{s!==this.lastNode&&(t+=s.rowHeight)}),e-t}},dP=class extends he{constructor(e){super(),this.column=e}buildCache(e){let{column:t,beans:{gos:s,pinnedRowModel:n,rowModel:u,valueSvc:m,pagination:w}}=this,{colDef:y}=t,F=this[`${e}ValueNodeMap`],A=new Map,I=s.getCallback("isFullWidthRow"),L=y.equals,_=y.spanRows,H=typeof _=="function",z=null,J=null,te,ae=(le,pe)=>{z=le,J=null,te=pe},ce=le=>{let pe=!le.isExpandable()&&!le.group&&!le.detail&&(I?!I({rowNode:le}):!0);if(le.rowIndex==null||!pe){ae(null,null);return}if(z==null||le.level!==z.level||le.footer||J&&le.rowIndex-1!==J?.getLastNode().rowIndex){ae(le,m.getValue(t,le));return}let Me=m.getValue(t,le);if(H){let be=Ae(s,{valueA:te,nodeA:z,valueB:Me,nodeB:le,column:t,colDef:y});if(!_(be)){ae(le,Me);return}}else if(L?!L(te,Me):te!==Me){ae(le,Me);return}if(!J){let be=F?.get(z);be?.firstNode===z?(be.reset(),J=be):J=new cP(t,z),A.set(z,J)}J.addSpannedNode(le),A.set(le,J)};switch(e){case"center":u.forEachDisplayedNode?.(le=>{(!w||w.isRowInPage(le.rowIndex))&&ce(le)});break;case"top":n?.forEachPinnedRow("top",ce);break;case"bottom":n?.forEachPinnedRow("bottom",ce);break}this[`${e}ValueNodeMap`]=A}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${zu(e.rowPinned)}ValueNodeMap`].get(e)}},uP=class extends he{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=qe(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=qe(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){let e=this.onRowDataUpdated.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this),rowNodeDataChanged:e,cellValueChanged:e})}register(e){let{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;let s=this.createManagedBean(new dP(e));this.spanningColumns.set(e,s),s.buildCache("top"),s.buildCache("bottom"),s.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){let{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){let s=this.spanningColumns.get(e);return s?s.isCellSpanning(t):!1}getCellSpanByPosition(e){let{pinnedRowModel:t,rowModel:s}=this.beans,n=e.column,u=e.rowIndex,m=this.spanningColumns.get(n);if(!m)return;let w;switch(e.rowPinned){case"top":w=t?.getPinnedTopRow(u);break;case"bottom":w=t?.getPinnedBottomRow(u);break;default:w=s.getRow(u)}if(w)return m.getCellSpan(w)}getCellStart(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){let t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){let s=this.spanningColumns.get(e);if(s)return s.getCellSpan(t)}forEachSpannedColumn(e,t){for(let[s,n]of this.spanningColumns)if(n.isCellSpanning(e)){let u=n.getCellSpan(e);t(s,u)}}destroy(){super.destroy(),this.spanningColumns.clear()}},Wu={moduleName:"CellSpan",version:Pe,beans:[uP,lP]},hP=class extends he{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){let{column:e,cellComp:t}=this,s=e.colDef,n=s.cellClassRules,u=this.getCellClassParams(e,s);Ln(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,u,m=>t.addOrRemoveCssClass(m,!0),m=>t.addOrRemoveCssClass(m,!1)),this.cellClassRules=n}applyUserStyles(){let e=this.column,t=e.colDef,s=t.cellStyle;if(!s)return;let n;if(typeof s=="function"){let u=this.getCellClassParams(e,t);n=s(u)}else n=s;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){let{column:e,cellComp:t}=this,s=e.colDef,n=this.getCellClassParams(e,s);this.staticClasses.forEach(m=>t.addOrRemoveCssClass(m,!1));let u=this.beans.cellStyles.getStaticCellClasses(s,n);this.staticClasses=u,u.forEach(m=>t.addOrRemoveCssClass(m,!0))}getCellClassParams(e,t){let{value:s,rowNode:n}=this.cellCtrl;return Ae(this.beans.gos,{value:s,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},gP=class extends he{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,s,n){Ln(this.beans.expressionSvc,void 0,e.cellClassRules,t,s,n),this.processStaticCellClasses(e,t,s)}getStaticCellClasses(e,t){let{cellClass:s}=e;if(!s)return[];let n;return typeof s=="function"?n=s(t):n=s,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new hP(e,t)}processStaticCellClasses(e,t,s){this.getStaticCellClasses(e,t).forEach(u=>{s(u)})}},Uu={moduleName:"CellStyle",version:Pe,beans:[gP]},ju={moduleName:"RowStyle",version:Pe,beans:[kp]};function pP(e,t){return!!e.colHover?.isHovered(t)}var fP=class extends he{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=s=>{let{beans:n,gos:u,element:m,columns:w}=this,y=n.colHover;s??!!u.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(m,{mouseover:y.setMouseOver.bind(y,w),mouseout:y.clearMouseOver.bind(y)}):(this.destroyManagedListeners.forEach(A=>A()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},mP="ag-column-hover",CP=class extends he{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;let t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,s){let n=()=>{let u=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",u)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;let s=this.isHovered(e);t.addOrRemoveCssClass(mP,s)}addHeaderFilterColumnHoverListener(e,t,s,n){this.createHoverFeature(e,[s],n);let u=()=>{let m=this.isHovered(s);t.addOrRemoveCssClass("ag-column-hover",m)};e.addManagedEventListeners({columnHoverChanged:u}),u()}createHoverFeature(e,t,s){e.createManagedBean(new fP(t,s))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},Ku={moduleName:"ColumnHover",version:Pe,beans:[CP],apiFunctions:{isColumnHovered:pP}},vP=class extends he{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){let s=this.wrapSvc?.wrap(t)??t,n=!Ai.has(e),u=n?this.asyncListeners:this.syncListeners;u.has(e)||u.set(e,new Set),u.get(e).add(s),this.eventSvc.addEventListener(e,s,n)}removeEventListener(e,t){let s=this.wrapSvc?.unwrap(t)??t,u=!!this.asyncListeners.get(e)?.delete(s);u||this.syncListeners.get(e)?.delete(s),this.eventSvc.removeEventListener(e,s,u)}addGlobalListener(e){let t=this.wrapSvc?.wrapGlobal(e)??e,s=(m,w)=>{Ai.has(m)&&t(m,w)},n=(m,w)=>{Ai.has(m)||t(m,w)};this.globalListenerPairs.set(e,{syncListener:s,asyncListener:n});let u=this.eventSvc;u.addGlobalListener(s,!1),u.addGlobalListener(n,!0)}removeGlobalListener(e){let{eventSvc:t,wrapSvc:s,globalListenerPairs:n}=this,u=s?.unwrapGlobal(e)??e;if(n.has(u)){let{syncListener:w,asyncListener:y}=n.get(u);t.removeGlobalListener(w,!1),t.removeGlobalListener(y,!0),n.delete(e)}else this.syncGlobalListeners.delete(u),t.removeGlobalListener(u,!1)}destroyEventListeners(e,t){e.forEach((s,n)=>{s.forEach(u=>this.eventSvc.removeEventListener(n,u,t)),s.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(s=>this.eventSvc.removeGlobalListener(s,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);let{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:s,asyncListener:n})=>{t.removeGlobalListener(s,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function wP(e,t,s){e.apiEventSvc?.addEventListener(t,s)}function SP(e,t,s){e.apiEventSvc?.removeEventListener(t,s)}function yP(e,t){e.apiEventSvc?.addGlobalListener(t)}function bP(e,t){e.apiEventSvc?.removeGlobalListener(t)}var $u={moduleName:"EventApi",version:Pe,apiFunctions:{addEventListener:wP,addGlobalListener:yP,removeEventListener:SP,removeGlobalListener:bP},beans:[vP]},RP=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",PP=class extends he{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,s,n){e&&t.destroyBean(e);let u=bi(this.gos),{column:m,eGui:w}=t,y=m.getColDef();!n&&u&&!y.headerComponent&&(n=zs(()=>w.querySelector(".ag-header-cell-text")));let F={getColumn:()=>m,getColDef:()=>m.getColDef(),getGui:()=>w,getLocation:()=>"header",getTooltipValue:()=>s??m.getColDef().headerTooltip,shouldDisplayTooltip:n},A=this.createTooltipFeature(F);return A&&(A=t.createBean(A),t.setRefreshFunction("tooltip",()=>A.refreshTooltip())),A}setupHeaderGroupTooltip(e,t,s,n){e&&t.destroyBean(e);let u=bi(this.gos),{column:m,eGui:w}=t,y=m.getColGroupDef();!n&&u&&!y?.headerGroupComponent&&(n=zs(()=>w.querySelector(".ag-header-group-text")));let F={getColumn:()=>m,getGui:()=>w,getLocation:()=>"headerGroup",getTooltipValue:()=>s??(y&&y.headerTooltip),shouldDisplayTooltip:n};y&&(F.getColDef=()=>y);let A=this.createTooltipFeature(F);return A&&t.createBean(A)}enableCellTooltipFeature(e,t,s){let{column:n,rowNode:u}=e,m=()=>{let F=n.getColDef(),A=u.data;if(F.tooltipField&&we(A))return ri(A,F.tooltipField,n.isTooltipFieldContainsDots());let I=F.tooltipValueGetter;return I?I(Ae(this.gos,{location:"cell",colDef:n.getColDef(),column:n,rowIndex:e.cellPosition.rowIndex,node:u,data:u.data,value:e.value,valueFormatted:e.valueFormatted})):null},w=bi(this.gos);!s&&w&&!e.isCellRenderer()&&(s=zs(()=>{let F=e.eGui;return F.children.length===0?F:F.querySelector(".ag-cell-value")}));let y={getColumn:()=>n,getColDef:()=>n.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>u,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:m,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:s};return this.createTooltipFeature(y,this.beans)}refreshRowTooltip(e,t,s,n){let u={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>s,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},m=this.beans,w=m.context;e&&t.destroyBean(e,w);let y=this.createTooltipFeature(u,m);return t.createBean(y,w)}initCol(e){let{colDef:t}=e;e.tooltipEnabled=we(t.tooltipField)||we(t.tooltipValueGetter)||we(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Xu={moduleName:"Tooltip",version:Pe,beans:[PP],dynamicBeans:{tooltipFeature:oc},userComponents:{agTooltipComponent:sy},dependsOn:[ki],css:[RP]},Yu={moduleName:"Locale",version:Pe,beans:[md]},MP=class extends he{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=qe(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){let{visibleCols:e,rowModel:t,rowSpanSvc:s,pinnedRowModel:n}=this.beans,u=e.autoHeightCols,m=!1,w=y=>{let F=y.__autoHeights,A=ds(this.beans,y).height;for(let I of u){let L=F?.[I.getColId()],_=s?.getCellSpan(I,y);if(_){if(_.getLastNode()!==y)continue;if(L=s?.getCellSpan(I,y)?.getLastNodeAutoHeight(),!L)return}if(L==null){if(this.colSpanSkipCell(I,y))continue;return}A=Math.max(L,A)}A!==y.rowHeight&&(y.setRowHeight(A),m=!0)};n?.forEachPinnedRow?.("top",w),n?.forEachPinnedRow?.("bottom",w),t.forEachDisplayedNode?.(w),m&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,s){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[s.getId()];return}let n=e.__autoHeights[s.getId()];e.__autoHeights[s.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){let{colModel:s,colViewport:n,visibleCols:u}=this.beans;if(!s.colSpanActive)return!1;let m=[];switch(e.getPinned()){case"left":m=u.getLeftColsForRow(t);break;case"right":m=u.getRightColsForRow(t);break;case null:m=n.getColsWithinViewport(t);break}return!m.includes(e)}setupCellAutoHeight(e,t,s){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;let n=t.parentElement,{rowNode:u,column:m}=e,w=this.beans,y=I=>{if(e.editing||!e.isAlive()||!s.isAlive())return;let{paddingTop:L,paddingBottom:_,borderBottomWidth:H,borderTopWidth:z}=rs(n),J=L+_+H+z,ae=t.offsetHeight+J;if(I<5){let ce=Xe(w),le=!ce||!ce.contains(t),pe=ae==0;if(le||pe){window.setTimeout(()=>y(I+1),0);return}}this.setRowAutoHeight(u,ae,m)},F=()=>y(0);F();let A=zt(w,t,F);return s.addDestroyFunc(()=>{A(),this.setRowAutoHeight(u,void 0,m)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},Zu={moduleName:"RowAutoHeight",version:Pe,beans:[MP]},FP={moduleName:"AllCommunity",version:Pe,dependsOn:[Fu,Tu,Du,Ad,du,uu,hu,gu,pu,fu,mu,cu,qd,eu,tu,Jd,su,iu,Lu,Pu,ku,Tc,Gu,_u,Bu,Nu,vc,Hu,yu,ud,Uu,Ku,ju,$u,hd,Iu,Xu,Yu,Zu,Cc,xu,Wu]}},5608:function(B,h,S){"use strict";S.r(h),S.d(h,{__addDisposableResource:function(){return re},__assign:function(){return P},__asyncDelegator:function(){return N},__asyncGenerator:function(){return O},__asyncValues:function(){return V},__await:function(){return k},__awaiter:function(){return p},__classPrivateFieldGet:function(){return W},__classPrivateFieldIn:function(){return ee},__classPrivateFieldSet:function(){return Z},__createBinding:function(){return v},__decorate:function(){return c},__disposeResources:function(){return ge},__esDecorate:function(){return i},__exportStar:function(){return b},__extends:function(){return M},__generator:function(){return C},__importDefault:function(){return se},__importStar:function(){return $},__makeTemplateObject:function(){return j},__metadata:function(){return d},__param:function(){return r},__propKey:function(){return a},__read:function(){return x},__rest:function(){return f},__rewriteRelativeImportExtension:function(){return ue},__runInitializers:function(){return o},__setFunctionName:function(){return l},__spread:function(){return E},__spreadArray:function(){return D},__spreadArrays:function(){return T},__values:function(){return R}});var g=function(X,G){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,K){U.__proto__=K}||function(U,K){for(var q in K)Object.prototype.hasOwnProperty.call(K,q)&&(U[q]=K[q])},g(X,G)};function M(X,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");g(X,G);function U(){this.constructor=X}X.prototype=G===null?Object.create(G):(U.prototype=G.prototype,new U)}var P=function(){return P=Object.assign||function(G){for(var U,K=1,q=arguments.length;K<q;K++){U=arguments[K];for(var ie in U)Object.prototype.hasOwnProperty.call(U,ie)&&(G[ie]=U[ie])}return G},P.apply(this,arguments)};function f(X,G){var U={};for(var K in X)Object.prototype.hasOwnProperty.call(X,K)&&G.indexOf(K)<0&&(U[K]=X[K]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,K=Object.getOwnPropertySymbols(X);q<K.length;q++)G.indexOf(K[q])<0&&Object.prototype.propertyIsEnumerable.call(X,K[q])&&(U[K[q]]=X[K[q]]);return U}function c(X,G,U,K){var q=arguments.length,ie=q<3?G:K===null?K=Object.getOwnPropertyDescriptor(G,U):K,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(X,G,U,K);else for(var Fe=X.length-1;Fe>=0;Fe--)(fe=X[Fe])&&(ie=(q<3?fe(ie):q>3?fe(G,U,ie):fe(G,U))||ie);return q>3&&ie&&Object.defineProperty(G,U,ie),ie}function r(X,G){return function(U,K){G(U,K,X)}}function i(X,G,U,K,q,ie){function fe(Ve){if(Ve!==void 0&&typeof Ve!="function")throw new TypeError("Function expected");return Ve}for(var Fe=K.kind,Ie=Fe==="getter"?"get":Fe==="setter"?"set":"value",ne=!G&&X?K.static?X:X.prototype:null,ve=G||(ne?Object.getOwnPropertyDescriptor(ne,K.name):{}),me,ye=!1,Re=U.length-1;Re>=0;Re--){var Te={};for(var ke in K)Te[ke]=ke==="access"?{}:K[ke];for(var ke in K.access)Te.access[ke]=K.access[ke];Te.addInitializer=function(Ve){if(ye)throw new TypeError("Cannot add initializers after decoration has completed");ie.push(fe(Ve||null))};var ze=(0,U[Re])(Fe==="accessor"?{get:ve.get,set:ve.set}:ve[Ie],Te);if(Fe==="accessor"){if(ze===void 0)continue;if(ze===null||typeof ze!="object")throw new TypeError("Object expected");(me=fe(ze.get))&&(ve.get=me),(me=fe(ze.set))&&(ve.set=me),(me=fe(ze.init))&&q.unshift(me)}else(me=fe(ze))&&(Fe==="field"?q.unshift(me):ve[Ie]=me)}ne&&Object.defineProperty(ne,K.name,ve),ye=!0}function o(X,G,U){for(var K=arguments.length>2,q=0;q<G.length;q++)U=K?G[q].call(X,U):G[q].call(X);return K?U:void 0}function a(X){return typeof X=="symbol"?X:"".concat(X)}function l(X,G,U){return typeof G=="symbol"&&(G=G.description?"[".concat(G.description,"]"):""),Object.defineProperty(X,"name",{configurable:!0,value:U?"".concat(U," ",G):G})}function d(X,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(X,G)}function p(X,G,U,K){function q(ie){return ie instanceof U?ie:new U(function(fe){fe(ie)})}return new(U||(U=Promise))(function(ie,fe){function Fe(ve){try{ne(K.next(ve))}catch(me){fe(me)}}function Ie(ve){try{ne(K.throw(ve))}catch(me){fe(me)}}function ne(ve){ve.done?ie(ve.value):q(ve.value).then(Fe,Ie)}ne((K=K.apply(X,G||[])).next())})}function C(X,G){var U={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},K,q,ie,fe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return fe.next=Fe(0),fe.throw=Fe(1),fe.return=Fe(2),typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function Fe(ne){return function(ve){return Ie([ne,ve])}}function Ie(ne){if(K)throw new TypeError("Generator is already executing.");for(;fe&&(fe=0,ne[0]&&(U=0)),U;)try{if(K=1,q&&(ie=ne[0]&2?q.return:ne[0]?q.throw||((ie=q.return)&&ie.call(q),0):q.next)&&!(ie=ie.call(q,ne[1])).done)return ie;switch(q=0,ie&&(ne=[ne[0]&2,ie.value]),ne[0]){case 0:case 1:ie=ne;break;case 4:return U.label++,{value:ne[1],done:!1};case 5:U.label++,q=ne[1],ne=[0];continue;case 7:ne=U.ops.pop(),U.trys.pop();continue;default:if(ie=U.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(ne[0]===6||ne[0]===2)){U=0;continue}if(ne[0]===3&&(!ie||ne[1]>ie[0]&&ne[1]<ie[3])){U.label=ne[1];break}if(ne[0]===6&&U.label<ie[1]){U.label=ie[1],ie=ne;break}if(ie&&U.label<ie[2]){U.label=ie[2],U.ops.push(ne);break}ie[2]&&U.ops.pop(),U.trys.pop();continue}ne=G.call(X,U)}catch(ve){ne=[6,ve],q=0}finally{K=ie=0}if(ne[0]&5)throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}}var v=Object.create?function(X,G,U,K){K===void 0&&(K=U);var q=Object.getOwnPropertyDescriptor(G,U);(!q||("get"in q?!G.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return G[U]}}),Object.defineProperty(X,K,q)}:function(X,G,U,K){K===void 0&&(K=U),X[K]=G[U]};function b(X,G){for(var U in X)U!=="default"&&!Object.prototype.hasOwnProperty.call(G,U)&&v(G,X,U)}function R(X){var G=typeof Symbol=="function"&&Symbol.iterator,U=G&&X[G],K=0;if(U)return U.call(X);if(X&&typeof X.length=="number")return{next:function(){return X&&K>=X.length&&(X=void 0),{value:X&&X[K++],done:!X}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(X,G){var U=typeof Symbol=="function"&&X[Symbol.iterator];if(!U)return X;var K=U.call(X),q,ie=[],fe;try{for(;(G===void 0||G-- >0)&&!(q=K.next()).done;)ie.push(q.value)}catch(Fe){fe={error:Fe}}finally{try{q&&!q.done&&(U=K.return)&&U.call(K)}finally{if(fe)throw fe.error}}return ie}function E(){for(var X=[],G=0;G<arguments.length;G++)X=X.concat(x(arguments[G]));return X}function T(){for(var X=0,G=0,U=arguments.length;G<U;G++)X+=arguments[G].length;for(var K=Array(X),q=0,G=0;G<U;G++)for(var ie=arguments[G],fe=0,Fe=ie.length;fe<Fe;fe++,q++)K[q]=ie[fe];return K}function D(X,G,U){if(U||arguments.length===2)for(var K=0,q=G.length,ie;K<q;K++)(ie||!(K in G))&&(ie||(ie=Array.prototype.slice.call(G,0,K)),ie[K]=G[K]);return X.concat(ie||Array.prototype.slice.call(G))}function k(X){return this instanceof k?(this.v=X,this):new k(X)}function O(X,G,U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K=U.apply(X,G||[]),q,ie=[];return q=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),Fe("next"),Fe("throw"),Fe("return",fe),q[Symbol.asyncIterator]=function(){return this},q;function fe(Re){return function(Te){return Promise.resolve(Te).then(Re,me)}}function Fe(Re,Te){K[Re]&&(q[Re]=function(ke){return new Promise(function(ze,Ve){ie.push([Re,ke,ze,Ve])>1||Ie(Re,ke)})},Te&&(q[Re]=Te(q[Re])))}function Ie(Re,Te){try{ne(K[Re](Te))}catch(ke){ye(ie[0][3],ke)}}function ne(Re){Re.value instanceof k?Promise.resolve(Re.value.v).then(ve,me):ye(ie[0][2],Re)}function ve(Re){Ie("next",Re)}function me(Re){Ie("throw",Re)}function ye(Re,Te){Re(Te),ie.shift(),ie.length&&Ie(ie[0][0],ie[0][1])}}function N(X){var G,U;return G={},K("next"),K("throw",function(q){throw q}),K("return"),G[Symbol.iterator]=function(){return this},G;function K(q,ie){G[q]=X[q]?function(fe){return(U=!U)?{value:k(X[q](fe)),done:!1}:ie?ie(fe):fe}:ie}}function V(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=X[Symbol.asyncIterator],U;return G?G.call(X):(X=typeof R=="function"?R(X):X[Symbol.iterator](),U={},K("next"),K("throw"),K("return"),U[Symbol.asyncIterator]=function(){return this},U);function K(ie){U[ie]=X[ie]&&function(fe){return new Promise(function(Fe,Ie){fe=X[ie](fe),q(Fe,Ie,fe.done,fe.value)})}}function q(ie,fe,Fe,Ie){Promise.resolve(Ie).then(function(ne){ie({value:ne,done:Fe})},fe)}}function j(X,G){return Object.defineProperty?Object.defineProperty(X,"raw",{value:G}):X.raw=G,X}var Q=Object.create?function(X,G){Object.defineProperty(X,"default",{enumerable:!0,value:G})}:function(X,G){X.default=G},Y=function(X){return Y=Object.getOwnPropertyNames||function(G){var U=[];for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(U[U.length]=K);return U},Y(X)};function $(X){if(X&&X.__esModule)return X;var G={};if(X!=null)for(var U=Y(X),K=0;K<U.length;K++)U[K]!=="default"&&v(G,X,U[K]);return Q(G,X),G}function se(X){return X&&X.__esModule?X:{default:X}}function W(X,G,U,K){if(U==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?X!==G||!K:!G.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return U==="m"?K:U==="a"?K.call(X):K?K.value:G.get(X)}function Z(X,G,U,K,q){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!q)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?X!==G||!q:!G.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?q.call(X,U):q?q.value=U:G.set(X,U),U}function ee(X,G){if(G===null||typeof G!="object"&&typeof G!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof X=="function"?G===X:X.has(G)}function re(X,G,U){if(G!=null){if(typeof G!="object"&&typeof G!="function")throw new TypeError("Object expected.");var K,q;if(U){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");K=G[Symbol.asyncDispose]}if(K===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");K=G[Symbol.dispose],U&&(q=K)}if(typeof K!="function")throw new TypeError("Object not disposable.");q&&(K=function(){try{q.call(this)}catch(ie){return Promise.reject(ie)}}),X.stack.push({value:G,dispose:K,async:U})}else U&&X.stack.push({async:!0});return G}var oe=typeof SuppressedError=="function"?SuppressedError:function(X,G,U){var K=new Error(U);return K.name="SuppressedError",K.error=X,K.suppressed=G,K};function ge(X){function G(ie){X.error=X.hasError?new oe(ie,X.error,"An error was suppressed during disposal."):ie,X.hasError=!0}var U,K=0;function q(){for(;U=X.stack.pop();)try{if(!U.async&&K===1)return K=0,X.stack.push(U),Promise.resolve().then(q);if(U.dispose){var ie=U.dispose.call(U.value);if(U.async)return K|=2,Promise.resolve(ie).then(q,function(fe){return G(fe),q()})}else K|=1}catch(fe){G(fe)}if(K===1)return X.hasError?Promise.reject(X.error):Promise.resolve();if(X.hasError)throw X.error}return q()}function ue(X,G){return typeof X=="string"&&/^\.\.?\//.test(X)?X.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(U,K,q,ie,fe){return K?G?".jsx":".js":q&&(!ie||!fe)?U:q+ie+"."+fe.toLowerCase()+"js"}):X}h.default={__extends:M,__assign:P,__rest:f,__decorate:c,__param:r,__esDecorate:i,__runInitializers:o,__propKey:a,__setFunctionName:l,__metadata:d,__awaiter:p,__generator:C,__createBinding:v,__exportStar:b,__values:R,__read:x,__spread:E,__spreadArrays:T,__spreadArray:D,__await:k,__asyncGenerator:O,__asyncDelegator:N,__asyncValues:V,__makeTemplateObject:j,__importStar:$,__importDefault:se,__classPrivateFieldGet:W,__classPrivateFieldSet:Z,__classPrivateFieldIn:ee,__addDisposableResource:re,__disposeResources:ge,__rewriteRelativeImportExtension:ue}}},Wi={};function St(B){var h=Wi[B];if(h!==void 0)return h.exports;var S=Wi[B]={exports:{}};return _r[B](S,S.exports,St),S.exports}(function(){St.d=function(B,h){for(var S in h)St.o(h,S)&&!St.o(B,S)&&Object.defineProperty(B,S,{enumerable:!0,get:h[S]})}})(),function(){St.o=function(B,h){return Object.prototype.hasOwnProperty.call(B,h)}}(),function(){St.r=function(B){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})}}();var th=St(4769);return th}()});
